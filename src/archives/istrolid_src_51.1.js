


//from lib/fingerprint2.min.js
window.Fingerprint2 = function() {
    "use strict";
    // This will only be polyfilled for IE8 and older
    // Taken from Mozilla MDC
    if (!Array.prototype.indexOf) {
      Array.prototype.indexOf = function(searchElement, fromIndex) {
        var k;
        if (this == null) {
          throw new TypeError("'this' is null or undefined");
        }
        var O = Object(this);
        var len = O.length >>> 0;
        if (len === 0) {
          return -1;
        }
        var n = +fromIndex || 0;
        if (Math.abs(n) === Infinity) {
          n = 0;
        }
        if (n >= len) {
          return -1;
        }
        k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);
        while (k < len) {
          if (k in O && O[k] === searchElement) {
            return k;
          }
          k++;
        }
        return -1;
      };
    }
    var Fingerprint2 = function(options) {
  
      if (!(this instanceof Fingerprint2)) {
        return new Fingerprint2(options);
      }
  
      var defaultOptions = {
        swfContainerId: "fingerprintjs2",
        swfPath: "flash/compiled/FontList.swf",
        detectScreenOrientation: true,
        sortPluginsFor: [/palemoon/i],
        userDefinedFonts: []
      };
      this.options = this.extend(options, defaultOptions);
      this.nativeForEach = Array.prototype.forEach;
      this.nativeMap = Array.prototype.map;
    };
    Fingerprint2.prototype = {
      extend: function(source, target) {
        if (source == null) { return target; }
        for (var k in source) {
          if(source[k] != null && target[k] !== source[k]) {
            target[k] = source[k];
          }
        }
        return target;
      },
      log: function(msg){
        if(window.console){
          console.log(msg);
        }
      },
      get: function(done){
        var keys = [];
        keys = this.userAgentKey(keys);
        keys = this.languageKey(keys);
        keys = this.colorDepthKey(keys);
        keys = this.pixelRatioKey(keys);
        keys = this.screenResolutionKey(keys);
        keys = this.availableScreenResolutionKey(keys);
        keys = this.timezoneOffsetKey(keys);
        keys = this.sessionStorageKey(keys);
        keys = this.localStorageKey(keys);
        keys = this.indexedDbKey(keys);
        keys = this.addBehaviorKey(keys);
        keys = this.openDatabaseKey(keys);
        keys = this.cpuClassKey(keys);
        keys = this.platformKey(keys);
        keys = this.doNotTrackKey(keys);
        keys = this.pluginsKey(keys);
        keys = this.canvasKey(keys);
        keys = this.webglKey(keys);
        keys = this.adBlockKey(keys);
        keys = this.hasLiedLanguagesKey(keys);
        keys = this.hasLiedResolutionKey(keys);
        keys = this.hasLiedOsKey(keys);
        keys = this.hasLiedBrowserKey(keys);
        keys = this.touchSupportKey(keys);
        var that = this;
        this.fontsKey(keys, function(newKeys){
          var values = [];
          that.each(newKeys, function(pair) {
            var value = pair.value;
            if (typeof pair.value.join !== "undefined") {
              value = pair.value.join(";");
            }
            values.push(value);
          });
          var murmur = that.x64hash128(values.join("~~~"), 31);
          return done(murmur, newKeys);
        });
      },
      userAgentKey: function(keys) {
        if(!this.options.excludeUserAgent) {
          keys.push({key: "user_agent", value: this.getUserAgent()});
        }
        return keys;
      },
      // for tests
      getUserAgent: function(){
        return navigator.userAgent;
      },
      languageKey: function(keys) {
        if(!this.options.excludeLanguage) {
          // IE 9,10 on Windows 10 does not have the `navigator.language` property any longer
          keys.push({ key: "language", value: navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || "" });
        }
        return keys;
      },
      colorDepthKey: function(keys) {
        if(!this.options.excludeColorDepth) {
          keys.push({key: "color_depth", value: screen.colorDepth || -1});
        }
        return keys;
      },
      pixelRatioKey: function(keys) {
        if(!this.options.excludePixelRatio) {
          keys.push({key: "pixel_ratio", value: this.getPixelRatio()});
        }
        return keys;
      },
      getPixelRatio: function() {
        return window.devicePixelRatio || "";
      },
      screenResolutionKey: function(keys) {
        if(!this.options.excludeScreenResolution) {
          return this.getScreenResolution(keys);
        }
        return keys;
      },
      getScreenResolution: function(keys) {
        var resolution;
        if(this.options.detectScreenOrientation) {
          resolution = (screen.height > screen.width) ? [screen.height, screen.width] : [screen.width, screen.height];
        } else {
          resolution = [screen.width, screen.height];
        }
        if(typeof resolution !== "undefined") { // headless browsers
          keys.push({key: "resolution", value: resolution});
        }
        return keys;
      },
      availableScreenResolutionKey: function(keys) {
        if (!this.options.excludeAvailableScreenResolution) {
          return this.getAvailableScreenResolution(keys);
        }
        return keys;
      },
      getAvailableScreenResolution: function(keys) {
        var available;
        if(screen.availWidth && screen.availHeight) {
          if(this.options.detectScreenOrientation) {
            available = (screen.availHeight > screen.availWidth) ? [screen.availHeight, screen.availWidth] : [screen.availWidth, screen.availHeight];
          } else {
            available = [screen.availHeight, screen.availWidth];
          }
        }
        if(typeof available !== "undefined") { // headless browsers
          keys.push({key: "available_resolution", value: available});
        }
        return keys;
      },
      timezoneOffsetKey: function(keys) {
        if(!this.options.excludeTimezoneOffset) {
          keys.push({key: "timezone_offset", value: new Date().getTimezoneOffset()});
        }
        return keys;
      },
      sessionStorageKey: function(keys) {
        if(!this.options.excludeSessionStorage && this.hasSessionStorage()) {
          keys.push({key: "session_storage", value: 1});
        }
        return keys;
      },
      localStorageKey: function(keys) {
        if(!this.options.excludeSessionStorage && this.hasLocalStorage()) {
          keys.push({key: "local_storage", value: 1});
        }
        return keys;
      },
      indexedDbKey: function(keys) {
        if(!this.options.excludeIndexedDB && this.hasIndexedDB()) {
          keys.push({key: "indexed_db", value: 1});
        }
        return keys;
      },
      addBehaviorKey: function(keys) {
        //body might not be defined at this point or removed programmatically
        if(document.body && !this.options.excludeAddBehavior && document.body.addBehavior) {
          keys.push({key: "add_behavior", value: 1});
        }
        return keys;
      },
      openDatabaseKey: function(keys) {
        if(!this.options.excludeOpenDatabase && window.openDatabase) {
          keys.push({key: "open_database", value: 1});
        }
        return keys;
      },
      cpuClassKey: function(keys) {
        if(!this.options.excludeCpuClass) {
          keys.push({key: "cpu_class", value: this.getNavigatorCpuClass()});
        }
        return keys;
      },
      platformKey: function(keys) {
        if(!this.options.excludePlatform) {
          keys.push({key: "navigator_platform", value: this.getNavigatorPlatform()});
        }
        return keys;
      },
      doNotTrackKey: function(keys) {
        if(!this.options.excludeDoNotTrack) {
          keys.push({key: "do_not_track", value: this.getDoNotTrack()});
        }
        return keys;
      },
      canvasKey: function(keys) {
        if(!this.options.excludeCanvas && this.isCanvasSupported()) {
          keys.push({key: "canvas", value: this.getCanvasFp()});
        }
        return keys;
      },
      webglKey: function(keys) {
        if(this.options.excludeWebGL) {
          if(typeof NODEBUG === "undefined"){
            this.log("Skipping WebGL fingerprinting per excludeWebGL configuration option");
          }
          return keys;
        }
        if(!this.isWebGlSupported()) {
          if(typeof NODEBUG === "undefined"){
            this.log("Skipping WebGL fingerprinting because it is not supported in this browser");
          }
          return keys;
        }
        keys.push({key: "webgl", value: this.getWebglFp()});
        return keys;
      },
      adBlockKey: function(keys){
        if(!this.options.excludeAdBlock) {
          keys.push({key: "adblock", value: this.getAdBlock()});
        }
        return keys;
      },
      hasLiedLanguagesKey: function(keys){
        if(!this.options.excludeHasLiedLanguages){
          keys.push({key: "has_lied_languages", value: this.getHasLiedLanguages()});
        }
        return keys;
      },
      hasLiedResolutionKey: function(keys){
        if(!this.options.excludeHasLiedResolution){
          keys.push({key: "has_lied_resolution", value: this.getHasLiedResolution()});
        }
        return keys;
      },
      hasLiedOsKey: function(keys){
        if(!this.options.excludeHasLiedOs){
          keys.push({key: "has_lied_os", value: this.getHasLiedOs()});
        }
        return keys;
      },
      hasLiedBrowserKey: function(keys){
        if(!this.options.excludeHasLiedBrowser){
          keys.push({key: "has_lied_browser", value: this.getHasLiedBrowser()});
        }
        return keys;
      },
      fontsKey: function(keys, done) {
        if (this.options.excludeJsFonts) {
          return this.flashFontsKey(keys, done);
        }
        return this.jsFontsKey(keys, done);
      },
      // flash fonts (will increase fingerprinting time 20X to ~ 130-150ms)
      flashFontsKey: function(keys, done) {
        if(this.options.excludeFlashFonts) {
          if(typeof NODEBUG === "undefined"){
            this.log("Skipping flash fonts detection per excludeFlashFonts configuration option");
          }
          return done(keys);
        }
        // we do flash if swfobject is loaded
        if(!this.hasSwfObjectLoaded()){
          if(typeof NODEBUG === "undefined"){
            this.log("Swfobject is not detected, Flash fonts enumeration is skipped");
          }
          return done(keys);
        }
        if(!this.hasMinFlashInstalled()){
          if(typeof NODEBUG === "undefined"){
            this.log("Flash is not installed, skipping Flash fonts enumeration");
          }
          return done(keys);
        }
        if(typeof this.options.swfPath === "undefined"){
          if(typeof NODEBUG === "undefined"){
            this.log("To use Flash fonts detection, you must pass a valid swfPath option, skipping Flash fonts enumeration");
          }
          return done(keys);
        }
        this.loadSwfAndDetectFonts(function(fonts){
          keys.push({key: "swf_fonts", value: fonts.join(";")});
          done(keys);
        });
      },
      // kudos to http://www.lalit.org/lab/javascript-css-font-detect/
      jsFontsKey: function(keys, done) {
        var that = this;
        // doing js fonts detection in a pseudo-async fashion
        return setTimeout(function(){
  
          // a font will be compared against all the three default fonts.
          // and if it doesn't match all 3 then that font is not available.
          var baseFonts = ["monospace", "sans-serif", "serif"];
  
          var fontList = [
                          "Andale Mono", "Arial", "Arial Black", "Arial Hebrew", "Arial MT", "Arial Narrow", "Arial Rounded MT Bold", "Arial Unicode MS",
                          "Bitstream Vera Sans Mono", "Book Antiqua", "Bookman Old Style",
                          "Calibri", "Cambria", "Cambria Math", "Century", "Century Gothic", "Century Schoolbook", "Comic Sans", "Comic Sans MS", "Consolas", "Courier", "Courier New",
                          "Garamond", "Geneva", "Georgia",
                          "Helvetica", "Helvetica Neue",
                          "Impact",
                          "Lucida Bright", "Lucida Calligraphy", "Lucida Console", "Lucida Fax", "LUCIDA GRANDE", "Lucida Handwriting", "Lucida Sans", "Lucida Sans Typewriter", "Lucida Sans Unicode",
                          "Microsoft Sans Serif", "Monaco", "Monotype Corsiva", "MS Gothic", "MS Outlook", "MS PGothic", "MS Reference Sans Serif", "MS Sans Serif", "MS Serif", "MYRIAD", "MYRIAD PRO",
                          "Palatino", "Palatino Linotype",
                          "Segoe Print", "Segoe Script", "Segoe UI", "Segoe UI Light", "Segoe UI Semibold", "Segoe UI Symbol",
                          "Tahoma", "Times", "Times New Roman", "Times New Roman PS", "Trebuchet MS",
                          "Verdana", "Wingdings", "Wingdings 2", "Wingdings 3"
                        ];
          var extendedFontList = [
                          "Abadi MT Condensed Light", "Academy Engraved LET", "ADOBE CASLON PRO", "Adobe Garamond", "ADOBE GARAMOND PRO", "Agency FB", "Aharoni", "Albertus Extra Bold", "Albertus Medium", "Algerian", "Amazone BT", "American Typewriter",
                          "American Typewriter Condensed", "AmerType Md BT", "Andalus", "Angsana New", "AngsanaUPC", "Antique Olive", "Aparajita", "Apple Chancery", "Apple Color Emoji", "Apple SD Gothic Neo", "Arabic Typesetting", "ARCHER",
                           "ARNO PRO", "Arrus BT", "Aurora Cn BT", "AvantGarde Bk BT", "AvantGarde Md BT", "AVENIR", "Ayuthaya", "Bandy", "Bangla Sangam MN", "Bank Gothic", "BankGothic Md BT", "Baskerville",
                          "Baskerville Old Face", "Batang", "BatangChe", "Bauer Bodoni", "Bauhaus 93", "Bazooka", "Bell MT", "Bembo", "Benguiat Bk BT", "Berlin Sans FB", "Berlin Sans FB Demi", "Bernard MT Condensed", "BernhardFashion BT", "BernhardMod BT", "Big Caslon", "BinnerD",
                          "Blackadder ITC", "BlairMdITC TT", "Bodoni 72", "Bodoni 72 Oldstyle", "Bodoni 72 Smallcaps", "Bodoni MT", "Bodoni MT Black", "Bodoni MT Condensed", "Bodoni MT Poster Compressed",
                          "Bookshelf Symbol 7", "Boulder", "Bradley Hand", "Bradley Hand ITC", "Bremen Bd BT", "Britannic Bold", "Broadway", "Browallia New", "BrowalliaUPC", "Brush Script MT", "Californian FB", "Calisto MT", "Calligrapher", "Candara",
                          "CaslonOpnface BT", "Castellar", "Centaur", "Cezanne", "CG Omega", "CG Times", "Chalkboard", "Chalkboard SE", "Chalkduster", "Charlesworth", "Charter Bd BT", "Charter BT", "Chaucer",
                          "ChelthmITC Bk BT", "Chiller", "Clarendon", "Clarendon Condensed", "CloisterBlack BT", "Cochin", "Colonna MT", "Constantia", "Cooper Black", "Copperplate", "Copperplate Gothic", "Copperplate Gothic Bold",
                          "Copperplate Gothic Light", "CopperplGoth Bd BT", "Corbel", "Cordia New", "CordiaUPC", "Cornerstone", "Coronet", "Cuckoo", "Curlz MT", "DaunPenh", "Dauphin", "David", "DB LCD Temp", "DELICIOUS", "Denmark",
                          "DFKai-SB", "Didot", "DilleniaUPC", "DIN", "DokChampa", "Dotum", "DotumChe", "Ebrima", "Edwardian Script ITC", "Elephant", "English 111 Vivace BT", "Engravers MT", "EngraversGothic BT", "Eras Bold ITC", "Eras Demi ITC", "Eras Light ITC", "Eras Medium ITC",
                          "EucrosiaUPC", "Euphemia", "Euphemia UCAS", "EUROSTILE", "Exotc350 Bd BT", "FangSong", "Felix Titling", "Fixedsys", "FONTIN", "Footlight MT Light", "Forte",
                          "FrankRuehl", "Fransiscan", "Freefrm721 Blk BT", "FreesiaUPC", "Freestyle Script", "French Script MT", "FrnkGothITC Bk BT", "Fruitger", "FRUTIGER",
                          "Futura", "Futura Bk BT", "Futura Lt BT", "Futura Md BT", "Futura ZBlk BT", "FuturaBlack BT", "Gabriola", "Galliard BT", "Gautami", "Geeza Pro", "Geometr231 BT", "Geometr231 Hv BT", "Geometr231 Lt BT", "GeoSlab 703 Lt BT",
                          "GeoSlab 703 XBd BT", "Gigi", "Gill Sans", "Gill Sans MT", "Gill Sans MT Condensed", "Gill Sans MT Ext Condensed Bold", "Gill Sans Ultra Bold", "Gill Sans Ultra Bold Condensed", "Gisha", "Gloucester MT Extra Condensed", "GOTHAM", "GOTHAM BOLD",
                          "Goudy Old Style", "Goudy Stout", "GoudyHandtooled BT", "GoudyOLSt BT", "Gujarati Sangam MN", "Gulim", "GulimChe", "Gungsuh", "GungsuhChe", "Gurmukhi MN", "Haettenschweiler", "Harlow Solid Italic", "Harrington", "Heather", "Heiti SC", "Heiti TC", "HELV",
                          "Herald", "High Tower Text", "Hiragino Kaku Gothic ProN", "Hiragino Mincho ProN", "Hoefler Text", "Humanst 521 Cn BT", "Humanst521 BT", "Humanst521 Lt BT", "Imprint MT Shadow", "Incised901 Bd BT", "Incised901 BT",
                          "Incised901 Lt BT", "INCONSOLATA", "Informal Roman", "Informal011 BT", "INTERSTATE", "IrisUPC", "Iskoola Pota", "JasmineUPC", "Jazz LET", "Jenson", "Jester", "Jokerman", "Juice ITC", "Kabel Bk BT", "Kabel Ult BT", "Kailasa", "KaiTi", "Kalinga", "Kannada Sangam MN",
                          "Kartika", "Kaufmann Bd BT", "Kaufmann BT", "Khmer UI", "KodchiangUPC", "Kokila", "Korinna BT", "Kristen ITC", "Krungthep", "Kunstler Script", "Lao UI", "Latha", "Leelawadee", "Letter Gothic", "Levenim MT", "LilyUPC", "Lithograph", "Lithograph Light", "Long Island",
                          "Lydian BT", "Magneto", "Maiandra GD", "Malayalam Sangam MN", "Malgun Gothic",
                          "Mangal", "Marigold", "Marion", "Marker Felt", "Market", "Marlett", "Matisse ITC", "Matura MT Script Capitals", "Meiryo", "Meiryo UI", "Microsoft Himalaya", "Microsoft JhengHei", "Microsoft New Tai Lue", "Microsoft PhagsPa", "Microsoft Tai Le",
                          "Microsoft Uighur", "Microsoft YaHei", "Microsoft Yi Baiti", "MingLiU", "MingLiU_HKSCS", "MingLiU_HKSCS-ExtB", "MingLiU-ExtB", "Minion", "Minion Pro", "Miriam", "Miriam Fixed", "Mistral", "Modern", "Modern No. 20", "Mona Lisa Solid ITC TT", "Mongolian Baiti",
                          "MONO", "MoolBoran", "Mrs Eaves", "MS LineDraw", "MS Mincho", "MS PMincho", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MUSEO", "MV Boli",
                          "Nadeem", "Narkisim", "NEVIS", "News Gothic", "News GothicMT", "NewsGoth BT", "Niagara Engraved", "Niagara Solid", "Noteworthy", "NSimSun", "Nyala", "OCR A Extended", "Old Century", "Old English Text MT", "Onyx", "Onyx BT", "OPTIMA", "Oriya Sangam MN",
                          "OSAKA", "OzHandicraft BT", "Palace Script MT", "Papyrus", "Parchment", "Party LET", "Pegasus", "Perpetua", "Perpetua Titling MT", "PetitaBold", "Pickwick", "Plantagenet Cherokee", "Playbill", "PMingLiU", "PMingLiU-ExtB",
                          "Poor Richard", "Poster", "PosterBodoni BT", "PRINCETOWN LET", "Pristina", "PTBarnum BT", "Pythagoras", "Raavi", "Rage Italic", "Ravie", "Ribbon131 Bd BT", "Rockwell", "Rockwell Condensed", "Rockwell Extra Bold", "Rod", "Roman", "Sakkal Majalla",
                          "Santa Fe LET", "Savoye LET", "Sceptre", "Script", "Script MT Bold", "SCRIPTINA", "Serifa", "Serifa BT", "Serifa Th BT", "ShelleyVolante BT", "Sherwood",
                          "Shonar Bangla", "Showcard Gothic", "Shruti", "Signboard", "SILKSCREEN", "SimHei", "Simplified Arabic", "Simplified Arabic Fixed", "SimSun", "SimSun-ExtB", "Sinhala Sangam MN", "Sketch Rockwell", "Skia", "Small Fonts", "Snap ITC", "Snell Roundhand", "Socket",
                          "Souvenir Lt BT", "Staccato222 BT", "Steamer", "Stencil", "Storybook", "Styllo", "Subway", "Swis721 BlkEx BT", "Swiss911 XCm BT", "Sylfaen", "Synchro LET", "System", "Tamil Sangam MN", "Technical", "Teletype", "Telugu Sangam MN", "Tempus Sans ITC",
                          "Terminal", "Thonburi", "Traditional Arabic", "Trajan", "TRAJAN PRO", "Tristan", "Tubular", "Tunga", "Tw Cen MT", "Tw Cen MT Condensed", "Tw Cen MT Condensed Extra Bold",
                          "TypoUpright BT", "Unicorn", "Univers", "Univers CE 55 Medium", "Univers Condensed", "Utsaah", "Vagabond", "Vani", "Vijaya", "Viner Hand ITC", "VisualUI", "Vivaldi", "Vladimir Script", "Vrinda", "Westminster", "WHITNEY", "Wide Latin",
                          "ZapfEllipt BT", "ZapfHumnst BT", "ZapfHumnst Dm BT", "Zapfino", "Zurich BlkEx BT", "Zurich Ex BT", "ZWAdobeF"];
  
          if(that.options.extendedJsFonts) {
              fontList = fontList.concat(extendedFontList);
          }
  
          fontList = fontList.concat(that.options.userDefinedFonts);
  
          //we use m or w because these two characters take up the maximum width.
          // And we use a LLi so that the same matching fonts can get separated
          var testString = "mmmmmmmmmmlli";
  
          //we test using 72px font size, we may use any size. I guess larger the better.
          var testSize = "72px";
  
          var h = document.getElementsByTagName("body")[0];
  
          // div to load spans for the base fonts
          var baseFontsDiv = document.createElement("div");
  
          // div to load spans for the fonts to detect
          var fontsDiv = document.createElement("div");
  
          var defaultWidth = {};
          var defaultHeight = {};
  
          // creates a span where the fonts will be loaded
          var createSpan = function() {
              var s = document.createElement("span");
              /*
               * We need this css as in some weird browser this
               * span elements shows up for a microSec which creates a
               * bad user experience
               */
              s.style.position = "absolute";
              s.style.left = "-9999px";
              s.style.fontSize = testSize;
              s.style.lineHeight = "normal";
              s.innerHTML = testString;
              return s;
          };
  
          // creates a span and load the font to detect and a base font for fallback
          var createSpanWithFonts = function(fontToDetect, baseFont) {
              var s = createSpan();
              s.style.fontFamily = "'" + fontToDetect + "'," + baseFont;
              return s;
          };
  
          // creates spans for the base fonts and adds them to baseFontsDiv
          var initializeBaseFontsSpans = function() {
              var spans = [];
              for (var index = 0, length = baseFonts.length; index < length; index++) {
                  var s = createSpan();
                  s.style.fontFamily = baseFonts[index];
                  baseFontsDiv.appendChild(s);
                  spans.push(s);
              }
              return spans;
          };
  
          // creates spans for the fonts to detect and adds them to fontsDiv
          var initializeFontsSpans = function() {
              var spans = {};
              for(var i = 0, l = fontList.length; i < l; i++) {
                  var fontSpans = [];
                  for(var j = 0, numDefaultFonts = baseFonts.length; j < numDefaultFonts; j++) {
                      var s = createSpanWithFonts(fontList[i], baseFonts[j]);
                      fontsDiv.appendChild(s);
                      fontSpans.push(s);
                  }
                  spans[fontList[i]] = fontSpans; // Stores {fontName : [spans for that font]}
              }
              return spans;
          };
  
          // checks if a font is available
          var isFontAvailable = function(fontSpans) {
              var detected = false;
              for(var i = 0; i < baseFonts.length; i++) {
                  detected = (fontSpans[i].offsetWidth !== defaultWidth[baseFonts[i]] || fontSpans[i].offsetHeight !== defaultHeight[baseFonts[i]]);
                  if(detected) {
                      return detected;
                  }
              }
              return detected;
          };
  
          // create spans for base fonts
          var baseFontsSpans = initializeBaseFontsSpans();
  
          // add the spans to the DOM
          h.appendChild(baseFontsDiv);
  
          // get the default width for the three base fonts
          for (var index = 0, length = baseFonts.length; index < length; index++) {
              defaultWidth[baseFonts[index]] = baseFontsSpans[index].offsetWidth; // width for the default font
              defaultHeight[baseFonts[index]] = baseFontsSpans[index].offsetHeight; // height for the default font
          }
  
          // create spans for fonts to detect
          var fontsSpans = initializeFontsSpans();
  
          // add all the spans to the DOM
          h.appendChild(fontsDiv);
  
          // check available fonts
          var available = [];
          for(var i = 0, l = fontList.length; i < l; i++) {
              if(isFontAvailable(fontsSpans[fontList[i]])) {
                  available.push(fontList[i]);
              }
          }
  
          // remove spans from DOM
          h.removeChild(fontsDiv);
          h.removeChild(baseFontsDiv);
  
          keys.push({key: "js_fonts", value: available});
          done(keys);
        }, 1);
      },
      pluginsKey: function(keys) {
        if(!this.options.excludePlugins){
          if(this.isIE()){
            if(!this.options.excludeIEPlugins) {
              keys.push({key: "ie_plugins", value: this.getIEPlugins()});
            }
          } else {
            keys.push({key: "regular_plugins", value: this.getRegularPlugins()});
          }
        }
        return keys;
      },
      getRegularPlugins: function () {
        var plugins = [];
        for(var i = 0, l = navigator.plugins.length; i < l; i++) {
          plugins.push(navigator.plugins[i]);
        }
        // sorting plugins only for those user agents, that we know randomize the plugins
        // every time we try to enumerate them
        if(this.pluginsShouldBeSorted()) {
          plugins = plugins.sort(function(a, b) {
            if(a.name > b.name){ return 1; }
            if(a.name < b.name){ return -1; }
            return 0;
          });
        }
        return this.map(plugins, function (p) {
          var mimeTypes = this.map(p, function(mt){
            return [mt.type, mt.suffixes].join("~");
          }).join(",");
          return [p.name, p.description, mimeTypes].join("::");
        }, this);
      },
      getIEPlugins: function () {
        var result = [];
        if((Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject")) || ("ActiveXObject" in window)) {
          var names = [
            "AcroPDF.PDF", // Adobe PDF reader 7+
            "Adodb.Stream",
            "AgControl.AgControl", // Silverlight
            "DevalVRXCtrl.DevalVRXCtrl.1",
            "MacromediaFlashPaper.MacromediaFlashPaper",
            "Msxml2.DOMDocument",
            "Msxml2.XMLHTTP",
            "PDF.PdfCtrl", // Adobe PDF reader 6 and earlier, brrr
            "QuickTime.QuickTime", // QuickTime
            "QuickTimeCheckObject.QuickTimeCheck.1",
            "RealPlayer",
            "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)",
            "RealVideo.RealVideo(tm) ActiveX Control (32-bit)",
            "Scripting.Dictionary",
            "SWCtl.SWCtl", // ShockWave player
            "Shell.UIHelper",
            "ShockwaveFlash.ShockwaveFlash", //flash plugin
            "Skype.Detection",
            "TDCCtl.TDCCtl",
            "WMPlayer.OCX", // Windows media player
            "rmocx.RealPlayer G2 Control",
            "rmocx.RealPlayer G2 Control.1"
          ];
          // starting to detect plugins in IE
          result = this.map(names, function(name) {
            try {
              new ActiveXObject(name); // eslint-disable-no-new
              return name;
            } catch(e) {
              return null;
            }
          });
        }
        if(navigator.plugins) {
          result = result.concat(this.getRegularPlugins());
        }
        return result;
      },
      pluginsShouldBeSorted: function () {
        var should = false;
        for(var i = 0, l = this.options.sortPluginsFor.length; i < l; i++) {
          var re = this.options.sortPluginsFor[i];
          if(navigator.userAgent.match(re)) {
            should = true;
            break;
          }
        }
        return should;
      },
      touchSupportKey: function (keys) {
        if(!this.options.excludeTouchSupport){
          keys.push({key: "touch_support", value: this.getTouchSupport()});
        }
        return keys;
      },
      hasSessionStorage: function () {
        try {
          return !!window.sessionStorage;
        } catch(e) {
          return true; // SecurityError when referencing it means it exists
        }
      },
      // https://bugzilla.mozilla.org/show_bug.cgi?id=781447
      hasLocalStorage: function () {
        try {
          return !!window.localStorage;
        } catch(e) {
          return true; // SecurityError when referencing it means it exists
        }
      },
      hasIndexedDB: function (){
        return !!window.indexedDB;
      },
      getNavigatorCpuClass: function () {
        if(navigator.cpuClass){
          return navigator.cpuClass;
        } else {
          return "unknown";
        }
      },
      getNavigatorPlatform: function () {
        if(navigator.platform) {
          return navigator.platform;
        } else {
          return "unknown";
        }
      },
      getDoNotTrack: function () {
        if(navigator.doNotTrack) {
          return navigator.doNotTrack;
        } else if (navigator.msDoNotTrack) {
          return navigator.msDoNotTrack;
        } else if (window.doNotTrack) {
          return window.doNotTrack;
        } else {
          return "unknown";
        }
      },
      // This is a crude and primitive touch screen detection.
      // It's not possible to currently reliably detect the  availability of a touch screen
      // with a JS, without actually subscribing to a touch event.
      // http://www.stucox.com/blog/you-cant-detect-a-touchscreen/
      // https://github.com/Modernizr/Modernizr/issues/548
      // method returns an array of 3 values:
      // maxTouchPoints, the success or failure of creating a TouchEvent,
      // and the availability of the 'ontouchstart' property
      getTouchSupport: function () {
        var maxTouchPoints = 0;
        var touchEvent = false;
        if(typeof navigator.maxTouchPoints !== "undefined") {
          maxTouchPoints = navigator.maxTouchPoints;
        } else if (typeof navigator.msMaxTouchPoints !== "undefined") {
          maxTouchPoints = navigator.msMaxTouchPoints;
        }
        try {
          document.createEvent("TouchEvent");
          touchEvent = true;
        } catch(_) { /* squelch */ }
        var touchStart = "ontouchstart" in window;
        return [maxTouchPoints, touchEvent, touchStart];
      },
      // https://www.browserleaks.com/canvas#how-does-it-work
      getCanvasFp: function() {
        var result = [];
        // Very simple now, need to make it more complex (geo shapes etc)
        var canvas = document.createElement("canvas");
        canvas.width = 2000;
        canvas.height = 200;
        canvas.style.display = "inline";
        var ctx = canvas.getContext("2d");
        // detect browser support of canvas winding
        // http://blogs.adobe.com/webplatform/2013/01/30/winding-rules-in-canvas/
        // https://github.com/Modernizr/Modernizr/blob/master/feature-detects/canvas/winding.js
        ctx.rect(0, 0, 10, 10);
        ctx.rect(2, 2, 6, 6);
        result.push("canvas winding:" + ((ctx.isPointInPath(5, 5, "evenodd") === false) ? "yes" : "no"));
  
        ctx.textBaseline = "alphabetic";
        ctx.fillStyle = "#f60";
        ctx.fillRect(125, 1, 62, 20);
        ctx.fillStyle = "#069";
        // https://github.com/Valve/fingerprintjs2/issues/66
        if(this.options.dontUseFakeFontInCanvas) {
          ctx.font = "11pt Arial";
        } else {
          ctx.font = "11pt no-real-font-123";
        }
        ctx.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03", 2, 15);
        ctx.fillStyle = "rgba(102, 204, 0, 0.2)";
        ctx.font = "18pt Arial";
        ctx.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03", 4, 45);
  
        // canvas blending
        // http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/
        // http://jsfiddle.net/NDYV8/16/
        ctx.globalCompositeOperation = "multiply";
        ctx.fillStyle = "rgb(255,0,255)";
        ctx.beginPath();
        ctx.arc(50, 50, 50, 0, Math.PI * 2, true);
        ctx.closePath();
        ctx.fill();
        ctx.fillStyle = "rgb(0,255,255)";
        ctx.beginPath();
        ctx.arc(100, 50, 50, 0, Math.PI * 2, true);
        ctx.closePath();
        ctx.fill();
        ctx.fillStyle = "rgb(255,255,0)";
        ctx.beginPath();
        ctx.arc(75, 100, 50, 0, Math.PI * 2, true);
        ctx.closePath();
        ctx.fill();
        ctx.fillStyle = "rgb(255,0,255)";
        // canvas winding
        // http://blogs.adobe.com/webplatform/2013/01/30/winding-rules-in-canvas/
        // http://jsfiddle.net/NDYV8/19/
        ctx.arc(75, 75, 75, 0, Math.PI * 2, true);
        ctx.arc(75, 75, 25, 0, Math.PI * 2, true);
        ctx.fill("evenodd");
  
        result.push("canvas fp:" + canvas.toDataURL());
        return result.join("~");
      },
  
      getWebglFp: function() {
        var gl;
        var fa2s = function(fa) {
          gl.clearColor(0.0, 0.0, 0.0, 1.0);
          gl.enable(gl.DEPTH_TEST);
          gl.depthFunc(gl.LEQUAL);
          gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
          return "[" + fa[0] + ", " + fa[1] + "]";
        };
        var maxAnisotropy = function(gl) {
          var anisotropy, ext = gl.getExtension("EXT_texture_filter_anisotropic") || gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || gl.getExtension("MOZ_EXT_texture_filter_anisotropic");
          return ext ? (anisotropy = gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT), 0 === anisotropy && (anisotropy = 2), anisotropy) : null;
        };
        gl = this.getWebglCanvas();
        if(!gl) { return null; }
        // WebGL fingerprinting is a combination of techniques, found in MaxMind antifraud script & Augur fingerprinting.
        // First it draws a gradient object with shaders and convers the image to the Base64 string.
        // Then it enumerates all WebGL extensions & capabilities and appends them to the Base64 string, resulting in a huge WebGL string, potentially very unique on each device
        // Since iOS supports webgl starting from version 8.1 and 8.1 runs on several graphics chips, the results may be different across ios devices, but we need to verify it.
        var result = [];
        var vShaderTemplate = "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}";
        var fShaderTemplate = "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}";
        var vertexPosBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, vertexPosBuffer);
        var vertices = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
        gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
        vertexPosBuffer.itemSize = 3;
        vertexPosBuffer.numItems = 3;
        var program = gl.createProgram(), vshader = gl.createShader(gl.VERTEX_SHADER);
        gl.shaderSource(vshader, vShaderTemplate);
        gl.compileShader(vshader);
        var fshader = gl.createShader(gl.FRAGMENT_SHADER);
        gl.shaderSource(fshader, fShaderTemplate);
        gl.compileShader(fshader);
        gl.attachShader(program, vshader);
        gl.attachShader(program, fshader);
        gl.linkProgram(program);
        gl.useProgram(program);
        program.vertexPosAttrib = gl.getAttribLocation(program, "attrVertex");
        program.offsetUniform = gl.getUniformLocation(program, "uniformOffset");
        gl.enableVertexAttribArray(program.vertexPosArray);
        gl.vertexAttribPointer(program.vertexPosAttrib, vertexPosBuffer.itemSize, gl.FLOAT, !1, 0, 0);
        gl.uniform2f(program.offsetUniform, 1, 1);
        gl.drawArrays(gl.TRIANGLE_STRIP, 0, vertexPosBuffer.numItems);
        if (gl.canvas != null) { result.push(gl.canvas.toDataURL()); }
        result.push("extensions:" + gl.getSupportedExtensions().join(";"));
        result.push("webgl aliased line width range:" + fa2s(gl.getParameter(gl.ALIASED_LINE_WIDTH_RANGE)));
        result.push("webgl aliased point size range:" + fa2s(gl.getParameter(gl.ALIASED_POINT_SIZE_RANGE)));
        result.push("webgl alpha bits:" + gl.getParameter(gl.ALPHA_BITS));
        result.push("webgl antialiasing:" + (gl.getContextAttributes().antialias ? "yes" : "no"));
        result.push("webgl blue bits:" + gl.getParameter(gl.BLUE_BITS));
        result.push("webgl depth bits:" + gl.getParameter(gl.DEPTH_BITS));
        result.push("webgl green bits:" + gl.getParameter(gl.GREEN_BITS));
        result.push("webgl max anisotropy:" + maxAnisotropy(gl));
        result.push("webgl max combined texture image units:" + gl.getParameter(gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS));
        result.push("webgl max cube map texture size:" + gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE));
        result.push("webgl max fragment uniform vectors:" + gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS));
        result.push("webgl max render buffer size:" + gl.getParameter(gl.MAX_RENDERBUFFER_SIZE));
        result.push("webgl max texture image units:" + gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS));
        result.push("webgl max texture size:" + gl.getParameter(gl.MAX_TEXTURE_SIZE));
        result.push("webgl max varying vectors:" + gl.getParameter(gl.MAX_VARYING_VECTORS));
        result.push("webgl max vertex attribs:" + gl.getParameter(gl.MAX_VERTEX_ATTRIBS));
        result.push("webgl max vertex texture image units:" + gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS));
        result.push("webgl max vertex uniform vectors:" + gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS));
        result.push("webgl max viewport dims:" + fa2s(gl.getParameter(gl.MAX_VIEWPORT_DIMS)));
        result.push("webgl red bits:" + gl.getParameter(gl.RED_BITS));
        result.push("webgl renderer:" + gl.getParameter(gl.RENDERER));
        result.push("webgl shading language version:" + gl.getParameter(gl.SHADING_LANGUAGE_VERSION));
        result.push("webgl stencil bits:" + gl.getParameter(gl.STENCIL_BITS));
        result.push("webgl vendor:" + gl.getParameter(gl.VENDOR));
        result.push("webgl version:" + gl.getParameter(gl.VERSION));
  
        if (!gl.getShaderPrecisionFormat) {
          if (typeof NODEBUG === "undefined") {
            this.log("WebGL fingerprinting is incomplete, because your browser does not support getShaderPrecisionFormat");
          }
          return result.join("~");
        }
  
        result.push("webgl vertex shader high float precision:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision);
        result.push("webgl vertex shader high float precision rangeMin:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT ).rangeMin);
        result.push("webgl vertex shader high float precision rangeMax:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT ).rangeMax);
        result.push("webgl vertex shader medium float precision:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision);
        result.push("webgl vertex shader medium float precision rangeMin:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).rangeMin);
        result.push("webgl vertex shader medium float precision rangeMax:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).rangeMax);
        result.push("webgl vertex shader low float precision:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_FLOAT ).precision);
        result.push("webgl vertex shader low float precision rangeMin:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_FLOAT ).rangeMin);
        result.push("webgl vertex shader low float precision rangeMax:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_FLOAT ).rangeMax);
        result.push("webgl fragment shader high float precision:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision);
        result.push("webgl fragment shader high float precision rangeMin:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).rangeMin);
        result.push("webgl fragment shader high float precision rangeMax:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).rangeMax);
        result.push("webgl fragment shader medium float precision:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision);
        result.push("webgl fragment shader medium float precision rangeMin:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).rangeMin);
        result.push("webgl fragment shader medium float precision rangeMax:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).rangeMax);
        result.push("webgl fragment shader low float precision:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT ).precision);
        result.push("webgl fragment shader low float precision rangeMin:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT ).rangeMin);
        result.push("webgl fragment shader low float precision rangeMax:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_FLOAT ).rangeMax);
        result.push("webgl vertex shader high int precision:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_INT ).precision);
        result.push("webgl vertex shader high int precision rangeMin:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_INT ).rangeMin);
        result.push("webgl vertex shader high int precision rangeMax:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_INT ).rangeMax);
        result.push("webgl vertex shader medium int precision:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_INT ).precision);
        result.push("webgl vertex shader medium int precision rangeMin:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_INT ).rangeMin);
        result.push("webgl vertex shader medium int precision rangeMax:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.MEDIUM_INT ).rangeMax);
        result.push("webgl vertex shader low int precision:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_INT ).precision);
        result.push("webgl vertex shader low int precision rangeMin:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_INT ).rangeMin);
        result.push("webgl vertex shader low int precision rangeMax:" + gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.LOW_INT ).rangeMax);
        result.push("webgl fragment shader high int precision:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT ).precision);
        result.push("webgl fragment shader high int precision rangeMin:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT ).rangeMin);
        result.push("webgl fragment shader high int precision rangeMax:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_INT ).rangeMax);
        result.push("webgl fragment shader medium int precision:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT ).precision);
        result.push("webgl fragment shader medium int precision rangeMin:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT ).rangeMin);
        result.push("webgl fragment shader medium int precision rangeMax:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.MEDIUM_INT ).rangeMax);
        result.push("webgl fragment shader low int precision:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT ).precision);
        result.push("webgl fragment shader low int precision rangeMin:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT ).rangeMin);
        result.push("webgl fragment shader low int precision rangeMax:" + gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.LOW_INT ).rangeMax);
        return result.join("~");
      },
      getAdBlock: function(){
        var ads = document.createElement("div");
        ads.innerHTML = "&nbsp;";
        ads.className = "adsbox";
        var result = false;
        try {
          // body may not exist, that's why we need try/catch
          document.body.appendChild(ads);
          result = document.getElementsByClassName("adsbox")[0].offsetHeight === 0;
          document.body.removeChild(ads);
        } catch (e) {
          result = false;
        }
        return result;
      },
      getHasLiedLanguages: function(){
        //We check if navigator.language is equal to the first language of navigator.languages
        if(typeof navigator.languages !== "undefined"){
          try {
            var firstLanguages = navigator.languages[0].substr(0, 2);
            if(firstLanguages !== navigator.language.substr(0, 2)){
              return true;
            }
          } catch(err) {
            return true;
          }
        }
        return false;
      },
      getHasLiedResolution: function(){
        if(screen.width < screen.availWidth){
          return true;
        }
        if(screen.height < screen.availHeight){
          return true;
        }
        return false;
      },
      getHasLiedOs: function(){
        var userAgent = navigator.userAgent.toLowerCase();
        var oscpu = navigator.oscpu;
        var platform = navigator.platform.toLowerCase();
        var os;
        //We extract the OS from the user agent (respect the order of the if else if statement)
        if(userAgent.indexOf("windows phone") >= 0){
          os = "Windows Phone";
        } else if(userAgent.indexOf("win") >= 0){
          os = "Windows";
        } else if(userAgent.indexOf("android") >= 0){
          os = "Android";
        } else if(userAgent.indexOf("linux") >= 0){
          os = "Linux";
        } else if(userAgent.indexOf("iphone") >= 0 || userAgent.indexOf("ipad") >= 0 ){
          os = "iOS";
        } else if(userAgent.indexOf("mac") >= 0){
          os = "Mac";
        } else{
          os = "Other";
        }
        // We detect if the person uses a mobile device
        var mobileDevice;
        if (("ontouchstart" in window) ||
             (navigator.maxTouchPoints > 0) ||
             (navigator.msMaxTouchPoints > 0)) {
              mobileDevice = true;
        } else{
          mobileDevice = false;
        }
  
        if(mobileDevice && os !== "Windows Phone" && os !== "Android" && os !== "iOS" && os !== "Other"){
          return true;
        }
  
        // We compare oscpu with the OS extracted from the UA
        if(typeof oscpu !== "undefined"){
          oscpu = oscpu.toLowerCase();
          if(oscpu.indexOf("win") >= 0 && os !== "Windows" && os !== "Windows Phone"){
            return true;
          } else if(oscpu.indexOf("linux") >= 0 && os !== "Linux" && os !== "Android"){
            return true;
          } else if(oscpu.indexOf("mac") >= 0 && os !== "Mac" && os !== "iOS"){
            return true;
          } else if(oscpu.indexOf("win") === 0 && oscpu.indexOf("linux") === 0 && oscpu.indexOf("mac") >= 0 && os !== "other"){
            return true;
          }
        }
  
        //We compare platform with the OS extracted from the UA
        if(platform.indexOf("win") >= 0 && os !== "Windows" && os !== "Windows Phone"){
          return true;
        } else if((platform.indexOf("linux") >= 0 || platform.indexOf("android") >= 0 || platform.indexOf("pike") >= 0) && os !== "Linux" && os !== "Android"){
          return true;
        } else if((platform.indexOf("mac") >= 0 || platform.indexOf("ipad") >= 0 || platform.indexOf("ipod") >= 0 || platform.indexOf("iphone") >= 0) && os !== "Mac" && os !== "iOS"){
          return true;
        } else if(platform.indexOf("win") === 0 && platform.indexOf("linux") === 0 && platform.indexOf("mac") >= 0 && os !== "other"){
          return true;
        }
  
        if(typeof navigator.plugins === "undefined" && os !== "Windows" && os !== "Windows Phone"){
          //We are are in the case where the person uses ie, therefore we can infer that it's windows
          return true;
        }
  
        return false;
      },
      getHasLiedBrowser: function () {
        var userAgent = navigator.userAgent.toLowerCase();
        var productSub = navigator.productSub;
  
        //we extract the browser from the user agent (respect the order of the tests)
        var browser;
        if(userAgent.indexOf("firefox") >= 0){
          browser = "Firefox";
        } else if(userAgent.indexOf("opera") >= 0 || userAgent.indexOf("opr") >= 0){
          browser = "Opera";
        } else if(userAgent.indexOf("chrome") >= 0){
          browser = "Chrome";
        } else if(userAgent.indexOf("safari") >= 0){
          browser = "Safari";
        } else if(userAgent.indexOf("trident") >= 0){
          browser = "Internet Explorer";
        } else{
          browser = "Other";
        }
  
        if((browser === "Chrome" || browser === "Safari" || browser === "Opera") && productSub !== "20030107"){
          return true;
        }
  
        var tempRes = eval.toString().length;
        if(tempRes === 37 && browser !== "Safari" && browser !== "Firefox" && browser !== "Other"){
          return true;
        } else if(tempRes === 39 && browser !== "Internet Explorer" && browser !== "Other"){
          return true;
        } else if(tempRes === 33 && browser !== "Chrome" && browser !== "Opera" && browser !== "Other"){
          return true;
        }
  
        //We create an error to see how it is handled
        var errFirefox;
        try {
          throw "a";
        } catch(err){
          try{
            err.toSource();
            errFirefox = true;
          } catch(errOfErr){
            errFirefox = false;
          }
        }
        if(errFirefox && browser !== "Firefox" && browser !== "Other"){
          return true;
        }
        return false;
      },
      isCanvasSupported: function () {
        var elem = document.createElement("canvas");
        return !!(elem.getContext && elem.getContext("2d"));
      },
      isWebGlSupported: function() {
        // code taken from Modernizr
        if (!this.isCanvasSupported()) {
          return false;
        }
  
        var canvas = document.createElement("canvas"),
            glContext;
  
        try {
          glContext = canvas.getContext && (canvas.getContext("webgl") || canvas.getContext("experimental-webgl"));
        } catch(e) {
          glContext = false;
        }
  
        return !!window.WebGLRenderingContext && !!glContext;
      },
      isIE: function () {
        if(navigator.appName === "Microsoft Internet Explorer") {
          return true;
        } else if(navigator.appName === "Netscape" && /Trident/.test(navigator.userAgent)) { // IE 11
          return true;
        }
        return false;
      },
      hasSwfObjectLoaded: function(){
        return typeof window.swfobject !== "undefined";
      },
      hasMinFlashInstalled: function () {
        return swfobject.hasFlashPlayerVersion("9.0.0");
      },
      addFlashDivNode: function() {
        var node = document.createElement("div");
        node.setAttribute("id", this.options.swfContainerId);
        document.body.appendChild(node);
      },
      loadSwfAndDetectFonts: function(done) {
        var hiddenCallback = "___fp_swf_loaded";
        window[hiddenCallback] = function(fonts) {
          done(fonts);
        };
        var id = this.options.swfContainerId;
        this.addFlashDivNode();
        var flashvars = { onReady: hiddenCallback};
        var flashparams = { allowScriptAccess: "always", menu: "false" };
        swfobject.embedSWF(this.options.swfPath, id, "1", "1", "9.0.0", false, flashvars, flashparams, {});
      },
      getWebglCanvas: function() {
        var canvas = document.createElement("canvas");
        var gl = null;
        try {
          gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
        } catch(e) { /* squelch */ }
        if (!gl) { gl = null; }
        return gl;
      },
      each: function (obj, iterator, context) {
        if (obj === null) {
          return;
        }
        if (this.nativeForEach && obj.forEach === this.nativeForEach) {
          obj.forEach(iterator, context);
        } else if (obj.length === +obj.length) {
          for (var i = 0, l = obj.length; i < l; i++) {
            if (iterator.call(context, obj[i], i, obj) === {}) { return; }
          }
        } else {
          for (var key in obj) {
            if (obj.hasOwnProperty(key)) {
              if (iterator.call(context, obj[key], key, obj) === {}) { return; }
            }
          }
        }
      },
  
      map: function(obj, iterator, context) {
        var results = [];
        // Not using strict equality so that this acts as a
        // shortcut to checking for `null` and `undefined`.
        if (obj == null) { return results; }
        if (this.nativeMap && obj.map === this.nativeMap) { return obj.map(iterator, context); }
        this.each(obj, function(value, index, list) {
          results[results.length] = iterator.call(context, value, index, list);
        });
        return results;
      },
  
      /// MurmurHash3 related functions
  
      //
      // Given two 64bit ints (as an array of two 32bit ints) returns the two
      // added together as a 64bit int (as an array of two 32bit ints).
      //
      x64Add: function(m, n) {
        m = [m[0] >>> 16, m[0] & 0xffff, m[1] >>> 16, m[1] & 0xffff];
        n = [n[0] >>> 16, n[0] & 0xffff, n[1] >>> 16, n[1] & 0xffff];
        var o = [0, 0, 0, 0];
        o[3] += m[3] + n[3];
        o[2] += o[3] >>> 16;
        o[3] &= 0xffff;
        o[2] += m[2] + n[2];
        o[1] += o[2] >>> 16;
        o[2] &= 0xffff;
        o[1] += m[1] + n[1];
        o[0] += o[1] >>> 16;
        o[1] &= 0xffff;
        o[0] += m[0] + n[0];
        o[0] &= 0xffff;
        return [(o[0] << 16) | o[1], (o[2] << 16) | o[3]];
      },
  
      //
      // Given two 64bit ints (as an array of two 32bit ints) returns the two
      // multiplied together as a 64bit int (as an array of two 32bit ints).
      //
      x64Multiply: function(m, n) {
        m = [m[0] >>> 16, m[0] & 0xffff, m[1] >>> 16, m[1] & 0xffff];
        n = [n[0] >>> 16, n[0] & 0xffff, n[1] >>> 16, n[1] & 0xffff];
        var o = [0, 0, 0, 0];
        o[3] += m[3] * n[3];
        o[2] += o[3] >>> 16;
        o[3] &= 0xffff;
        o[2] += m[2] * n[3];
        o[1] += o[2] >>> 16;
        o[2] &= 0xffff;
        o[2] += m[3] * n[2];
        o[1] += o[2] >>> 16;
        o[2] &= 0xffff;
        o[1] += m[1] * n[3];
        o[0] += o[1] >>> 16;
        o[1] &= 0xffff;
        o[1] += m[2] * n[2];
        o[0] += o[1] >>> 16;
        o[1] &= 0xffff;
        o[1] += m[3] * n[1];
        o[0] += o[1] >>> 16;
        o[1] &= 0xffff;
        o[0] += (m[0] * n[3]) + (m[1] * n[2]) + (m[2] * n[1]) + (m[3] * n[0]);
        o[0] &= 0xffff;
        return [(o[0] << 16) | o[1], (o[2] << 16) | o[3]];
      },
      //
      // Given a 64bit int (as an array of two 32bit ints) and an int
      // representing a number of bit positions, returns the 64bit int (as an
      // array of two 32bit ints) rotated left by that number of positions.
      //
      x64Rotl: function(m, n) {
        n %= 64;
        if (n === 32) {
          return [m[1], m[0]];
        }
        else if (n < 32) {
          return [(m[0] << n) | (m[1] >>> (32 - n)), (m[1] << n) | (m[0] >>> (32 - n))];
        }
        else {
          n -= 32;
          return [(m[1] << n) | (m[0] >>> (32 - n)), (m[0] << n) | (m[1] >>> (32 - n))];
        }
      },
      //
      // Given a 64bit int (as an array of two 32bit ints) and an int
      // representing a number of bit positions, returns the 64bit int (as an
      // array of two 32bit ints) shifted left by that number of positions.
      //
      x64LeftShift: function(m, n) {
        n %= 64;
        if (n === 0) {
          return m;
        }
        else if (n < 32) {
          return [(m[0] << n) | (m[1] >>> (32 - n)), m[1] << n];
        }
        else {
          return [m[1] << (n - 32), 0];
        }
      },
      //
      // Given two 64bit ints (as an array of two 32bit ints) returns the two
      // xored together as a 64bit int (as an array of two 32bit ints).
      //
      x64Xor: function(m, n) {
        return [m[0] ^ n[0], m[1] ^ n[1]];
      },
      //
      // Given a block, returns murmurHash3's final x64 mix of that block.
      // (`[0, h[0] >>> 1]` is a 33 bit unsigned right shift. This is the
      // only place where we need to right shift 64bit ints.)
      //
      x64Fmix: function(h) {
        h = this.x64Xor(h, [0, h[0] >>> 1]);
        h = this.x64Multiply(h, [0xff51afd7, 0xed558ccd]);
        h = this.x64Xor(h, [0, h[0] >>> 1]);
        h = this.x64Multiply(h, [0xc4ceb9fe, 0x1a85ec53]);
        h = this.x64Xor(h, [0, h[0] >>> 1]);
        return h;
      },
  
      //
      // Given a string and an optional seed as an int, returns a 128 bit
      // hash using the x64 flavor of MurmurHash3, as an unsigned hex.
      //
      x64hash128: function (key, seed) {
        key = key || "";
        seed = seed || 0;
        var remainder = key.length % 16;
        var bytes = key.length - remainder;
        var h1 = [0, seed];
        var h2 = [0, seed];
        var k1 = [0, 0];
        var k2 = [0, 0];
        var c1 = [0x87c37b91, 0x114253d5];
        var c2 = [0x4cf5ad43, 0x2745937f];
        for (var i = 0; i < bytes; i = i + 16) {
          k1 = [((key.charCodeAt(i + 4) & 0xff)) | ((key.charCodeAt(i + 5) & 0xff) << 8) | ((key.charCodeAt(i + 6) & 0xff) << 16) | ((key.charCodeAt(i + 7) & 0xff) << 24), ((key.charCodeAt(i) & 0xff)) | ((key.charCodeAt(i + 1) & 0xff) << 8) | ((key.charCodeAt(i + 2) & 0xff) << 16) | ((key.charCodeAt(i + 3) & 0xff) << 24)];
          k2 = [((key.charCodeAt(i + 12) & 0xff)) | ((key.charCodeAt(i + 13) & 0xff) << 8) | ((key.charCodeAt(i + 14) & 0xff) << 16) | ((key.charCodeAt(i + 15) & 0xff) << 24), ((key.charCodeAt(i + 8) & 0xff)) | ((key.charCodeAt(i + 9) & 0xff) << 8) | ((key.charCodeAt(i + 10) & 0xff) << 16) | ((key.charCodeAt(i + 11) & 0xff) << 24)];
          k1 = this.x64Multiply(k1, c1);
          k1 = this.x64Rotl(k1, 31);
          k1 = this.x64Multiply(k1, c2);
          h1 = this.x64Xor(h1, k1);
          h1 = this.x64Rotl(h1, 27);
          h1 = this.x64Add(h1, h2);
          h1 = this.x64Add(this.x64Multiply(h1, [0, 5]), [0, 0x52dce729]);
          k2 = this.x64Multiply(k2, c2);
          k2 = this.x64Rotl(k2, 33);
          k2 = this.x64Multiply(k2, c1);
          h2 = this.x64Xor(h2, k2);
          h2 = this.x64Rotl(h2, 31);
          h2 = this.x64Add(h2, h1);
          h2 = this.x64Add(this.x64Multiply(h2, [0, 5]), [0, 0x38495ab5]);
        }
        k1 = [0, 0];
        k2 = [0, 0];
        switch(remainder) {
          case 15:
            k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 14)], 48));
          case 14:
            k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 13)], 40));
          case 13:
            k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 12)], 32));
          case 12:
            k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 11)], 24));
          case 11:
            k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 10)], 16));
          case 10:
            k2 = this.x64Xor(k2, this.x64LeftShift([0, key.charCodeAt(i + 9)], 8));
          case 9:
            k2 = this.x64Xor(k2, [0, key.charCodeAt(i + 8)]);
            k2 = this.x64Multiply(k2, c2);
            k2 = this.x64Rotl(k2, 33);
            k2 = this.x64Multiply(k2, c1);
            h2 = this.x64Xor(h2, k2);
          case 8:
            k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 7)], 56));
          case 7:
            k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 6)], 48));
          case 6:
            k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 5)], 40));
          case 5:
            k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 4)], 32));
          case 4:
            k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 3)], 24));
          case 3:
            k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 2)], 16));
          case 2:
            k1 = this.x64Xor(k1, this.x64LeftShift([0, key.charCodeAt(i + 1)], 8));
          case 1:
            k1 = this.x64Xor(k1, [0, key.charCodeAt(i)]);
            k1 = this.x64Multiply(k1, c1);
            k1 = this.x64Rotl(k1, 31);
            k1 = this.x64Multiply(k1, c2);
            h1 = this.x64Xor(h1, k1);
        }
        h1 = this.x64Xor(h1, [0, key.length]);
        h2 = this.x64Xor(h2, [0, key.length]);
        h1 = this.x64Add(h1, h2);
        h2 = this.x64Add(h2, h1);
        h1 = this.x64Fmix(h1);
        h2 = this.x64Fmix(h2);
        h1 = this.x64Add(h1, h2);
        h2 = this.x64Add(h2, h1);
        return ("00000000" + (h1[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (h1[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (h2[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (h2[1] >>> 0).toString(16)).slice(-8);
      }
    };
    Fingerprint2.VERSION = "1.4.2";
    return Fingerprint2;
  }();
  ;
  
  
  //from lib/lz-string.min.js
  var LZString={_f:String.fromCharCode,_keyStrBase64:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_keyStrUriSafe:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",_getBaseValue:function(r,e){if(LZString._baseReverseDic||(LZString._baseReverseDic={}),!LZString._baseReverseDic[r]){LZString._baseReverseDic[r]={};for(var n=0;n<r.length;n++)LZString._baseReverseDic[r][r[n]]=n}return LZString._baseReverseDic[r][e]},compressToBase64:function(r){if(null==r)return"";var e=LZString._compress(r,6,function(r){return LZString._keyStrBase64.charAt(r)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(r){return null==r?"":""==r?null:LZString._decompress(r.length,32,function(e){return LZString._getBaseValue(LZString._keyStrBase64,r.charAt(e))})},compressToUTF16:function(r){return null==r?"":LZString._compress(r,15,function(r){return String.fromCharCode(r+32)})+" "},decompressFromUTF16:function(r){return null==r?"":""==r?null:LZString._decompress(r.length,16384,function(e){return r.charCodeAt(e)-32})},compressToUint8Array:function(r){for(var e=LZString.compress(r),n=new Uint8Array(2*e.length),o=0,t=e.length;t>o;o++){var i=e.charCodeAt(o);n[2*o]=i>>>8,n[2*o+1]=i%256}return n},decompressFromUint8Array:function(r){if(null===r||void 0===r)return LZString.decompress(r);for(var e=new Array(r.length/2),n=0,o=e.length;o>n;n++)e[n]=256*r[2*n]+r[2*n+1];var t=[];return e.forEach(function(r){t.push(String.fromCharCode(r))}),LZString.decompress(t.join(""))},compressToEncodedURIComponent:function(r){return null==r?"":LZString._compress(r,6,function(r){return LZString._keyStrUriSafe.charAt(r)})},decompressFromEncodedURIComponent:function(r){return null==r?"":""==r?null:(r=r.replace(/ /g,"+"),LZString._decompress(r.length,32,function(e){return LZString._getBaseValue(LZString._keyStrUriSafe,r.charAt(e))}))},compress:function(r){return LZString._compress(r,16,function(r){return String.fromCharCode(r)})},_compress:function(r,e,n){if(null==r)return"";{var o,t,i,s={},a={},p="",u="",c="",l=2,f=3,h=2,g=[],d=0,S=0;LZString._f}for(i=0;i<r.length;i+=1)if(p=r[i],Object.prototype.hasOwnProperty.call(s,p)||(s[p]=f++,a[p]=!0),u=c+p,Object.prototype.hasOwnProperty.call(s,u))c=u;else{if(Object.prototype.hasOwnProperty.call(a,c)){if(c.charCodeAt(0)<256){for(o=0;h>o;o++)d<<=1,S==e-1?(S=0,g.push(n(d)),d=0):S++;for(t=c.charCodeAt(0),o=0;8>o;o++)d=d<<1|1&t,S==e-1?(S=0,g.push(n(d)),d=0):S++,t>>=1}else{for(t=1,o=0;h>o;o++)d=d<<1|t,S==e-1?(S=0,g.push(n(d)),d=0):S++,t=0;for(t=c.charCodeAt(0),o=0;16>o;o++)d=d<<1|1&t,S==e-1?(S=0,g.push(n(d)),d=0):S++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete a[c]}else for(t=s[c],o=0;h>o;o++)d=d<<1|1&t,S==e-1?(S=0,g.push(n(d)),d=0):S++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++),s[u]=f++,c=String(p)}if(""!==c){if(Object.prototype.hasOwnProperty.call(a,c)){if(c.charCodeAt(0)<256){for(o=0;h>o;o++)d<<=1,S==e-1?(S=0,g.push(n(d)),d=0):S++;for(t=c.charCodeAt(0),o=0;8>o;o++)d=d<<1|1&t,S==e-1?(S=0,g.push(n(d)),d=0):S++,t>>=1}else{for(t=1,o=0;h>o;o++)d=d<<1|t,S==e-1?(S=0,g.push(n(d)),d=0):S++,t=0;for(t=c.charCodeAt(0),o=0;16>o;o++)d=d<<1|1&t,S==e-1?(S=0,g.push(n(d)),d=0):S++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete a[c]}else for(t=s[c],o=0;h>o;o++)d=d<<1|1&t,S==e-1?(S=0,g.push(n(d)),d=0):S++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++)}for(t=2,o=0;h>o;o++)d=d<<1|1&t,S==e-1?(S=0,g.push(n(d)),d=0):S++,t>>=1;for(;;){if(d<<=1,S==e-1){g.push(n(d));break}S++}return g.join("")},decompress:function(r){return null==r?"":""==r?null:LZString._decompress(r.length,32768,function(e){return r.charCodeAt(e)})},_decompress:function(r,e,n){var o,t,i,s,a,p,u,c,l=[],f=4,h=4,g=3,d="",S=[],m=LZString._f,v={val:n(0),position:e,index:1};for(t=0;3>t;t+=1)l[t]=t;for(s=0,p=Math.pow(2,2),u=1;u!=p;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=n(v.index++)),s|=(a>0?1:0)*u,u<<=1;switch(o=s){case 0:for(s=0,p=Math.pow(2,8),u=1;u!=p;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=n(v.index++)),s|=(a>0?1:0)*u,u<<=1;c=m(s);break;case 1:for(s=0,p=Math.pow(2,16),u=1;u!=p;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=n(v.index++)),s|=(a>0?1:0)*u,u<<=1;c=m(s);break;case 2:return""}for(l[3]=c,i=c,S.push(c);;){if(v.index>r)return"";for(s=0,p=Math.pow(2,g),u=1;u!=p;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=n(v.index++)),s|=(a>0?1:0)*u,u<<=1;switch(c=s){case 0:for(s=0,p=Math.pow(2,8),u=1;u!=p;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=n(v.index++)),s|=(a>0?1:0)*u,u<<=1;l[h++]=m(s),c=h-1,f--;break;case 1:for(s=0,p=Math.pow(2,16),u=1;u!=p;)a=v.val&v.position,v.position>>=1,0==v.position&&(v.position=e,v.val=n(v.index++)),s|=(a>0?1:0)*u,u<<=1;l[h++]=m(s),c=h-1,f--;break;case 2:return S.join("")}if(0==f&&(f=Math.pow(2,g),g++),l[c])d=l[c];else{if(c!==h)return null;d=i+i[0]}S.push(d),l[h++]=i+d[0],f--,i=d,0==f&&(f=Math.pow(2,g),g++)}}};"undefined"!=typeof module&&null!=module&&(module.exports=LZString);
  ;
  
  
  //from lib/detect.min.js
  (function(e){Array.prototype.map||(Array.prototype.map=function(e,r){var a,o,i;if(null==this)throw new TypeError(" this is null or not defined");var n=Object(this),t=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(r&&(a=r),o=Array(t),i=0;t>i;){var l,c;i in n&&(l=n[i],c=e.call(a,l,i,n),o[i]=c),i++}return o});var r=e.detect=function(){var e=function(){},r={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0},{regex:"Trident(.*)rv.(\\d+)\\.(\\d+)",family_replacement:"IE"},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android) Donut",os_v2_replacement:"2",os_v1_replacement:"1"},{regex:"(Android) Eclair",os_v2_replacement:"1",os_v1_replacement:"2"},{regex:"(Android) Froyo",os_v2_replacement:"2",os_v1_replacement:"2"},{regex:"(Android) Gingerbread",os_v2_replacement:"3",os_v1_replacement:"2"},{regex:"(Android) Honeycomb",os_v1_replacement:"3"},{regex:"(Silk-Accelerated=[a-z]{4,5})",os_replacement:"Android"},{regex:"(Windows Phone 6\\.5)"},{regex:"(Windows (?:NT 5\\.2|NT 5\\.1))",os_replacement:"Windows XP"},{regex:"(XBLWP7)",os_replacement:"Windows Phone OS"},{regex:"(Windows NT 6\\.1)",os_replacement:"Windows 7"},{regex:"(Windows NT 6\\.0)",os_replacement:"Windows Vista"},{regex:"(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)"},{regex:"(Windows NT 6\\.2)",os_replacement:"Windows 8"},{regex:"(Windows Phone 8)",os_replacement:"Windows Phone 8"},{regex:"(Windows NT 5\\.0)",os_replacement:"Windows 2000"},{regex:"(Windows Phone OS) (\\d+)\\.(\\d+)"},{regex:"(Windows ?Mobile)",os_replacement:"Windows Mobile"},{regex:"(WinNT4.0)",os_replacement:"Windows NT 4.0"},{regex:"(Win98)",os_replacement:"Windows 98"},{regex:"(Tizen)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?",manufacturer:"Apple"},{regex:"(?:PPC|Intel) (Mac OS X)",manufacturer:"Apple"},{regex:"(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod); Opera",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPad); Opera",tablet:!0,manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"Chrome OS"},{regex:"(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Linux Mint)(?:/(\\d+))?",other:!0},{regex:"(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)",os_replacement:"Symbian OS"},{regex:"(Symbian/3).+NokiaBrowser/7\\.3",os_replacement:"Symbian^3 Anna"},{regex:"(Symbian/3).+NokiaBrowser/7\\.4",os_replacement:"Symbian^3 Belle"},{regex:"(Symbian/3)",os_replacement:"Symbian^3"},{regex:"(Series 60|SymbOS|S60)",os_replacement:"Symbian OS"},{regex:"(MeeGo)",other:!0},{regex:"Symbian [Oo][Ss]",os_replacement:"Symbian OS"},{regex:"(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Play[Bb]ook)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry)",os_replacement:"Blackberry OS",manufacturer:"RIM"},{regex:"(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"webOS"},{regex:"(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)"},{regex:"(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)"},{regex:"(Linux|BSD)",other:!0}],mobile_os_families:["Windows Phone 6.5","Windows CE","Symbian OS"],device_parsers:[{regex:"HTC ([A-Z][a-z0-9]+) Build",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_Touch_([A-Za-z0-9]+)",device_replacement:"HTC Touch ($1)",manufacturer:"HTC"},{regex:"USCCHTC(\\d+)",device_replacement:"HTC $1 (US Cellular)",manufacturer:"HTC"},{regex:"Sprint APA(9292)",device_replacement:"HTC $1 (Sprint)",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+ [A-Z])",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC-([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(ADR[A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(HTC)",manufacturer:"HTC"},{regex:"SonyEricsson([A-Za-z0-9]+)/",device_replacement:"Ericsson $1",other:!0,manufacturer:"Sony"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build"},{regex:"NokiaN([0-9]+)",device_replacement:"Nokia N$1",manufacturer:"Nokia"},{regex:"Nokia([A-Za-z0-9\\v-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"NOKIA ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Nokia ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Lumia ([A-Za-z0-9\\-]+)",device_replacement:"Lumia $1",manufacturer:"Nokia"},{regex:"Symbian",device_replacement:"Nokia",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS",device_replacement:"Blackberry Playbook",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry [0-9]+);",manufacturer:"RIM"},{regex:"Black[Bb]erry([0-9]+)",device_replacement:"BlackBerry $1",manufacturer:"RIM"},{regex:"(Pre)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Pixi)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pixi",manufacturer:"Palm"},{regex:"(Touchpad)/(\\d+)\\.(\\d+)",device_replacement:"HP Touchpad",manufacturer:"HP"},{regex:"HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)",device_replacement:"HP iPAQ $1",manufacturer:"HP"},{regex:"Palm([A-Za-z0-9]+)",device_replacement:"Palm $1",manufacturer:"Palm"},{regex:"Treo([A-Za-z0-9]+)",device_replacement:"Palm Treo $1",manufacturer:"Palm"},{regex:"webOS.*(P160UNA)/(\\d+).(\\d+)",device_replacement:"HP Veer",manufacturer:"HP"},{regex:"(Kindle Fire)",manufacturer:"Amazon"},{regex:"(Kindle)",manufacturer:"Amazon"},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",device_replacement:"Kindle Fire",tablet:!0,manufacturer:"Amazon"},{regex:"(iPad) Simulator;",manufacturer:"Apple"},{regex:"(iPad);",manufacturer:"Apple"},{regex:"(iPod);",manufacturer:"Apple"},{regex:"(iPhone) Simulator;",manufacturer:"Apple"},{regex:"(iPhone);",manufacturer:"Apple"},{regex:"Nexus\\ ([A-Za-z0-9\\-]+)",device_replacement:"Nexus $1"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"Amoi\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"AMOI\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"Asus\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"ASUS\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"BIRD\\-([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD\\.([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD ([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"Dell ([A-Za-z0-9]+)",device_replacement:"Dell $1",manufacturer:"Dell"},{regex:"DoCoMo/2\\.0 ([A-Za-z0-9]+)",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\_W\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"vodafone([A-Za-z0-9]+)",device_replacement:"Huawei Vodafone $1",other:!0},{regex:"i\\-mate ([A-Za-z0-9]+)",device_replacement:"i-mate $1",other:!0},{regex:"Kyocera\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"KWC\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"Lenovo\\-([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Lenovo"},{regex:"Lenovo\\_([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Levovo"},{regex:"LG/([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE VX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG ([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE LG\\-AX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"(KIN)\\.One (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(KIN)\\.Two (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(Motorola)\\-([A-Za-z0-9]+)",manufacturer:"Motorola"},{regex:"MOTO\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"MOT\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"Philips([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"Philips ([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"SAMSUNG-([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"SAMSUNG\\; ([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"Softbank/1\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"Softbank/2\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)",device_replacement:"Generic Smartphone"},{regex:"^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)",device_replacement:"Generic Feature Phone"},{regex:"^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)",device_replacement:"Generic Feature Phone"},{regex:"^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)",device_replacement:"Generic Feature Phone"},{regex:"^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)",device_replacement:"Generic Feature Phone"},{regex:"(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)",device_replacement:"Spider"}],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]};e.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"],e.types=["browser","os","device"],e.regexes=r||function(){var r={};return e.parsers.map(function(e){r[e]=[]}),r}(),e.families=function(){var r={};return e.types.map(function(e){r[e]=[]}),r}();var a=Array.prototype,o=(Object.prototype,Function.prototype,a.forEach);a.indexOf;var i=function(e,r){for(var a={},o=0;r.length>o&&!(a=r[o](e));o++);return a},n=function(e,r){t(e,function(e){t(r,function(r){delete e[r]})})},t=forEach=function(e,r,a){if(null!=e)if(o&&e.forEach===o)e.forEach(r,a);else if(e.length===+e.length)for(var i=0,n=e.length;n>i;i++)r.call(a,e[i],i,e);else for(var t in e)_.has(e,t)&&r.call(a,e[t],t,e)},l=function(e){return!(!e||e===undefined||null==e)},c=function(e){var r="";return e=e||{},l(e)&&l(e.major)&&(r+=e.major,l(e.minor)&&(r+="."+e.minor,l(e.patch)&&(r+="."+e.patch))),r},d=function(e){e=e||{};var r=c(e);return r&&(r=" "+r),e&&l(e.family)?e.family+r:""};return e.parse=function(r){var a=function(r){return e.regexes[r+"_parsers"].map(function(e){function a(r){var a=r.match(o);if(!a)return null;var t={};return t.family=(i?i.replace("$1",a[1]):a[1])||"other",t.major=parseInt(n?n:a[2])||null,t.minor=a[3]?parseInt(a[3]):null,t.patch=a[4]?parseInt(a[4]):null,t.tablet=e.tablet,t.man=e.manufacturer||null,t}var o=RegExp(e.regex),i=e[("browser"===r?"family":r)+"_replacement"],n=e.major_version_replacement;return a})},o=function(){},t=a("browser"),m=a("os"),p=a("device"),s=new o;s.source=r,s.browser=i(r,t),l(s.browser)?(s.browser.name=d(s.browser),s.browser.version=c(s.browser)):s.browser={},s.os=i(r,m),l(s.os)?(s.os.name=d(s.os),s.os.version=c(s.os)):s.os={},s.device=i(r,p),l(s.device)?(s.device.name=d(s.device),s.device.version=c(s.device)):s.device={tablet:!1,family:"Other"};var g={};return e.regexes.mobile_browser_families.map(function(e){g[e]=!0}),e.regexes.mobile_os_families.map(function(e){g[e]=!0}),s.device.type="Spider"===s.browser.family?"Spider":s.browser.tablet||s.os.tablet||s.device.tablet?"Tablet":g.hasOwnProperty(s.browser.family)?"Mobile":"Desktop",s.device.manufacturer=s.browser.man||s.os.man||s.device.man||null,n([s.browser,s.os,s.device],["tablet","man"]),s},e}();"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=r),exports.detect=r):e.detect=r,"function"==typeof define&&define.amd&&define(function(){return r})})(window);;
  
  
  //from lib/moment.min.js
  //! moment.js
  //! version : 2.11.1
  //! authors : Tim Wood, Iskren Chernev, Moment.js contributors
  //! license : MIT
  //! momentjs.com
  !function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Uc.apply(null,arguments)}function b(a){Uc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Da(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a){return void 0===a}function n(a,b){var c,d,e;if(m(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),m(b._i)||(a._i=b._i),m(b._f)||(a._f=b._f),m(b._l)||(a._l=b._l),m(b._strict)||(a._strict=b._strict),m(b._tzm)||(a._tzm=b._tzm),m(b._isUTC)||(a._isUTC=b._isUTC),m(b._offset)||(a._offset=b._offset),m(b._pf)||(a._pf=j(b)),m(b._locale)||(a._locale=b._locale),Wc.length>0)for(c in Wc)d=Wc[c],e=b[d],m(e)||(a[d]=e);return a}function o(b){n(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Xc===!1&&(Xc=!0,a.updateOffset(this),Xc=!1)}function p(a){return a instanceof o||null!=a&&null!=a._isAMomentObject}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=q(b)),c}function s(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&r(a[d])!==r(b[d]))&&g++;return g+f}function t(){}function u(a){return a?a.toLowerCase().replace("_","-"):a}function v(a){for(var b,c,d,e,f=0;f<a.length;){for(e=u(a[f]).split("-"),b=e.length,c=u(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=w(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&s(e,c,!0)>=b-1)break;b--}f++}return null}function w(a){var b=null;if(!Yc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Vc._abbr,require("./locale/"+a),x(b)}catch(c){}return Yc[a]}function x(a,b){var c;return a&&(c=m(b)?z(a):y(a,b),c&&(Vc=c)),Vc._abbr}function y(a,b){return null!==b?(b.abbr=a,Yc[a]=Yc[a]||new t,Yc[a].set(b),x(a),Yc[a]):(delete Yc[a],null)}function z(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Vc;if(!c(a)){if(b=w(a))return b;a=[a]}return v(a)}function A(a,b){var c=a.toLowerCase();Zc[c]=Zc[c+"s"]=Zc[b]=a}function B(a){return"string"==typeof a?Zc[a]||Zc[a.toLowerCase()]:void 0}function C(a){var b,c,d={};for(c in a)f(a,c)&&(b=B(c),b&&(d[b]=a[c]));return d}function D(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function E(b,c){return function(d){return null!=d?(G(this,b,d),a.updateOffset(this,c),this):F(this,b)}}function F(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function G(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function H(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=B(a),D(this[a]))return this[a](b);return this}function I(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function J(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(bd[a]=e),b&&(bd[b[0]]=function(){return I(e.apply(this,arguments),b[1],b[2])}),c&&(bd[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function K(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function L(a){var b,c,d=a.match($c);for(b=0,c=d.length;c>b;b++)bd[d[b]]?d[b]=bd[d[b]]:d[b]=K(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function M(a,b){return a.isValid()?(b=N(b,a.localeData()),ad[b]=ad[b]||L(b),ad[b](a)):a.localeData().invalidDate()}function N(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(_c.lastIndex=0;d>=0&&_c.test(a);)a=a.replace(_c,c),_c.lastIndex=0,d-=1;return a}function O(a,b,c){td[a]=D(b)?b:function(a,d){return a&&c?c:b}}function P(a,b){return f(td,a)?td[a](b._strict,b._locale):new RegExp(Q(a))}function Q(a){return R(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function R(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function S(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=r(a)}),c=0;c<a.length;c++)ud[a[c]]=d}function T(a,b){S(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function U(a,b,c){null!=b&&f(ud,a)&&ud[a](b,c._a,c,a)}function V(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function W(a,b){return c(this._months)?this._months[a.month()]:this._months[Ed.test(b)?"format":"standalone"][a.month()]}function X(a,b){return c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[Ed.test(b)?"format":"standalone"][a.month()]}function Y(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function Z(a,b){var c;return a.isValid()?"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),V(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a):a}function $(b){return null!=b?(Z(this,b),a.updateOffset(this,!0),this):F(this,"Month")}function _(){return V(this.year(),this.month())}function aa(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex}function ba(a){return this._monthsParseExact?(f(this,"_monthsRegex")||ca.call(this),a?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex}function ca(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;12>b;b++)c=h([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;12>b;b++)d[b]=R(d[b]),e[b]=R(e[b]),f[b]=R(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")$","i")}function da(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[wd]<0||c[wd]>11?wd:c[xd]<1||c[xd]>V(c[vd],c[wd])?xd:c[yd]<0||c[yd]>24||24===c[yd]&&(0!==c[zd]||0!==c[Ad]||0!==c[Bd])?yd:c[zd]<0||c[zd]>59?zd:c[Ad]<0||c[Ad]>59?Ad:c[Bd]<0||c[Bd]>999?Bd:-1,j(a)._overflowDayOfYear&&(vd>b||b>xd)&&(b=xd),j(a)._overflowWeeks&&-1===b&&(b=Cd),j(a)._overflowWeekday&&-1===b&&(b=Dd),j(a).overflow=b),a}function ea(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function fa(a,b){var c=!0;return g(function(){return c&&(ea(a+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ga(a,b){Jd[a]||(ea(b),Jd[a]=!0)}function ha(a){var b,c,d,e,f,g,h=a._i,i=Kd.exec(h)||Ld.exec(h);if(i){for(j(a).iso=!0,b=0,c=Nd.length;c>b;b++)if(Nd[b][1].exec(i[1])){e=Nd[b][0],d=Nd[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Od.length;c>b;b++)if(Od[b][1].exec(i[3])){f=(i[2]||" ")+Od[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Md.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),wa(a)}else a._isValid=!1}function ia(b){var c=Pd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ha(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ja(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 100>a&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ka(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function la(a){return ma(a)?366:365}function ma(a){return a%4===0&&a%100!==0||a%400===0}function na(){return ma(this.year())}function oa(a,b,c){var d=7+b-c,e=(7+ka(a,0,d).getUTCDay()-b)%7;return-e+d-1}function pa(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=oa(a,d,e),j=1+7*(b-1)+h+i;return 0>=j?(f=a-1,g=la(f)+j):j>la(a)?(f=a+1,g=j-la(a)):(f=a,g=j),{year:f,dayOfYear:g}}function qa(a,b,c){var d,e,f=oa(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return 1>g?(e=a.year()-1,d=g+ra(e,b,c)):g>ra(a.year(),b,c)?(d=g-ra(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function ra(a,b,c){var d=oa(a,b,c),e=oa(a+1,b,c);return(la(a)-d+e)/7}function sa(a,b,c){return null!=a?a:null!=b?b:c}function ta(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ua(a){var b,c,d,e,f=[];if(!a._d){for(d=ta(a),a._w&&null==a._a[xd]&&null==a._a[wd]&&va(a),a._dayOfYear&&(e=sa(a._a[vd],d[vd]),a._dayOfYear>la(e)&&(j(a)._overflowDayOfYear=!0),c=ka(e,0,a._dayOfYear),a._a[wd]=c.getUTCMonth(),a._a[xd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[yd]&&0===a._a[zd]&&0===a._a[Ad]&&0===a._a[Bd]&&(a._nextDay=!0,a._a[yd]=0),a._d=(a._useUTC?ka:ja).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[yd]=24)}}function va(a){var b,c,d,e,f,g,h,i;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=sa(b.GG,a._a[vd],qa(Ea(),1,4).year),d=sa(b.W,1),e=sa(b.E,1),(1>e||e>7)&&(i=!0)):(f=a._locale._week.dow,g=a._locale._week.doy,c=sa(b.gg,a._a[vd],qa(Ea(),f,g).year),d=sa(b.w,1),null!=b.d?(e=b.d,(0>e||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f),1>d||d>ra(c,f,g)?j(a)._overflowWeeks=!0:null!=i?j(a)._overflowWeekday=!0:(h=pa(c,d,e,f,g),a._a[vd]=h.year,a._dayOfYear=h.dayOfYear)}function wa(b){if(b._f===a.ISO_8601)return void ha(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=N(b._f,b._locale).match($c)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(P(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),bd[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),U(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[yd]<=12&&b._a[yd]>0&&(j(b).bigHour=void 0),b._a[yd]=xa(b._locale,b._a[yd],b._meridiem),ua(b),da(b)}function xa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function ya(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=n({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],wa(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function za(a){if(!a._d){var b=C(a._i);a._a=e([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ua(a)}}function Aa(a){var b=new o(da(Ba(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Ba(a){var b=a._i,e=a._f;return a._locale=a._locale||z(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),p(b)?new o(da(b)):(c(e)?ya(a):e?wa(a):d(b)?a._d=b:Ca(a),k(a)||(a._d=null),a))}function Ca(b){var f=b._i;void 0===f?b._d=new Date(a.now()):d(f)?b._d=new Date(+f):"string"==typeof f?ia(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ua(b)):"object"==typeof f?za(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Da(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,Aa(f)}function Ea(a,b,c,d){return Da(a,b,c,d,!1)}function Fa(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Ea();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Ga(){var a=[].slice.call(arguments,0);return Fa("isBefore",a)}function Ha(){var a=[].slice.call(arguments,0);return Fa("isAfter",a)}function Ia(a){var b=C(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=z(),this._bubble()}function Ja(a){return a instanceof Ia}function Ka(a,b){J(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+I(~~(a/60),2)+b+I(~~a%60,2)})}function La(a,b){var c=(b||"").match(a)||[],d=c[c.length-1]||[],e=(d+"").match(Ud)||["-",0,0],f=+(60*e[1])+r(e[2]);return"+"===e[0]?f:-f}function Ma(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(p(b)||d(b)?+b:+Ea(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Ea(b).local()}function Na(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Oa(b,c){var d,e=this._offset||0;return this.isValid()?null!=b?("string"==typeof b?b=La(qd,b):Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Na(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?cb(this,Za(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Na(this):null!=b?this:NaN}function Pa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Qa(a){return this.utcOffset(0,a)}function Ra(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Na(this),"m")),this}function Sa(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(La(pd,this._i)),this}function Ta(a){return this.isValid()?(a=a?Ea(a).utcOffset():0,(this.utcOffset()-a)%60===0):!1}function Ua(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Va(){if(!m(this._isDSTShifted))return this._isDSTShifted;var a={};if(n(a,this),a=Ba(a),a._a){var b=a._isUTC?h(a._a):Ea(a._a);this._isDSTShifted=this.isValid()&&s(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wa(){return this.isValid()?!this._isUTC:!1}function Xa(){return this.isValid()?this._isUTC:!1}function Ya(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Za(a,b){var c,d,e,g=a,h=null;return Ja(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=Vd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:r(h[xd])*c,h:r(h[yd])*c,m:r(h[zd])*c,s:r(h[Ad])*c,ms:r(h[Bd])*c}):(h=Wd.exec(a))?(c="-"===h[1]?-1:1,g={y:$a(h[2],c),M:$a(h[3],c),d:$a(h[4],c),h:$a(h[5],c),m:$a(h[6],c),s:$a(h[7],c),w:$a(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=ab(Ea(g.from),Ea(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ia(g),Ja(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function $a(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function _a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function ab(a,b){var c;return a.isValid()&&b.isValid()?(b=Ma(b,a),a.isBefore(b)?c=_a(a,b):(c=_a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function bb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ga(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Za(c,d),cb(this,e,a),this}}function cb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;b.isValid()&&(e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&G(b,"Date",F(b,"Date")+g*d),h&&Z(b,F(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function db(a,b){var c=a||Ea(),d=Ma(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse",g=b&&(D(b[f])?b[f]():b[f]);return this.format(g||this.localeData().calendar(f,this,Ea(c)))}function eb(){return new o(this)}function fb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?"millisecond":b),"millisecond"===b?+this>+c:+c<+this.clone().startOf(b)):!1}function gb(a,b){var c=p(a)?a:Ea(a);return this.isValid()&&c.isValid()?(b=B(m(b)?"millisecond":b),"millisecond"===b?+c>+this:+this.clone().endOf(b)<+c):!1}function hb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function ib(a,b){var c,d=p(a)?a:Ea(a);return this.isValid()&&d.isValid()?(b=B(b||"millisecond"),"millisecond"===b?+this===+d:(c=+d,+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))):!1}function jb(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function kb(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function lb(a,b,c){var d,e,f,g;return this.isValid()?(d=Ma(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=B(b),"year"===b||"month"===b||"quarter"===b?(g=mb(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:q(g)):NaN):NaN}function mb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function nb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ob(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():M(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):M(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pb(b){var c=M(this,b||a.defaultFormat);return this.localeData().postformat(c)}function qb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function rb(a){return this.from(Ea(),a)}function sb(a,b){return this.isValid()&&(p(a)&&a.isValid()||Ea(a).isValid())?Za({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function tb(a){return this.to(Ea(),a)}function ub(a){var b;return void 0===a?this._locale._abbr:(b=z(a),null!=b&&(this._locale=b),this)}function vb(){return this._locale}function wb(a){switch(a=B(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function xb(a){return a=B(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function yb(){return+this._d-6e4*(this._offset||0)}function zb(){return Math.floor(+this/1e3)}function Ab(){return this._offset?new Date(+this):this._d}function Bb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function Cb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Db(){return this.isValid()?this.toISOString():"null"}function Eb(){return k(this)}function Fb(){return g({},j(this))}function Gb(){return j(this).overflow}function Hb(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ib(a,b){J(0,[a,a.length],0,b)}function Jb(a){return Nb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Kb(a){return Nb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Lb(){return ra(this.year(),1,4)}function Mb(){var a=this.localeData()._week;return ra(this.year(),a.dow,a.doy)}function Nb(a,b,c,d,e){var f;return null==a?qa(this,d,e).year:(f=ra(a,d,e),b>f&&(b=f),Ob.call(this,a,b,c,d,e))}function Ob(a,b,c,d,e){var f=pa(a,b,c,d,e),g=ka(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Pb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Qb(a){return qa(a,this._week.dow,this._week.doy).week}function Rb(){return this._week.dow}function Sb(){return this._week.doy}function Tb(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ub(a){var b=qa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Vb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Wb(a,b){return c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]}function Xb(a){return this._weekdaysShort[a.day()]}function Yb(a){return this._weekdaysMin[a.day()]}function Zb(a,b,c){var d,e,f;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;7>d;d++){if(e=Ea([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function $b(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Vb(a,this.localeData()),this.add(a-b,"d")):b}function _b(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function ac(a){return this.isValid()?null==a?this.day()||7:this.day(this.day()%7?a:a-7):null!=a?this:NaN}function bc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function cc(){return this.hours()%12||12}function dc(a,b){J(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function ec(a,b){return b._meridiemParse}function fc(a){return"p"===(a+"").toLowerCase().charAt(0)}function gc(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function hc(a,b){b[Bd]=r(1e3*("0."+a))}function ic(){return this._isUTC?"UTC":""}function jc(){return this._isUTC?"Coordinated Universal Time":""}function kc(a){return Ea(1e3*a)}function lc(){return Ea.apply(null,arguments).parseZone()}function mc(a,b,c){var d=this._calendar[a];return D(d)?d.call(b,c):d}function nc(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function oc(){return this._invalidDate}function pc(a){return this._ordinal.replace("%d",a)}function qc(a){return a}function rc(a,b,c,d){var e=this._relativeTime[c];return D(e)?e(a,b,c,d):e.replace(/%d/i,a)}function sc(a,b){var c=this._relativeTime[a>0?"future":"past"];return D(c)?c(b):c.replace(/%s/i,b)}function tc(a){var b,c;for(c in a)b=a[c],D(b)?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function uc(a,b,c,d){var e=z(),f=h().set(d,b);return e[c](f,a)}function vc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return uc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=uc(a,f,c,e);return g}function wc(a,b){return vc(a,b,"months",12,"month")}function xc(a,b){return vc(a,b,"monthsShort",12,"month")}function yc(a,b){return vc(a,b,"weekdays",7,"day")}function zc(a,b){return vc(a,b,"weekdaysShort",7,"day")}function Ac(a,b){return vc(a,b,"weekdaysMin",7,"day")}function Bc(){var a=this._data;return this._milliseconds=se(this._milliseconds),this._days=se(this._days),this._months=se(this._months),a.milliseconds=se(a.milliseconds),a.seconds=se(a.seconds),a.minutes=se(a.minutes),a.hours=se(a.hours),a.months=se(a.months),a.years=se(a.years),this}function Cc(a,b,c,d){var e=Za(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Dc(a,b){return Cc(this,a,b,1)}function Ec(a,b){return Cc(this,a,b,-1)}function Fc(a){return 0>a?Math.floor(a):Math.ceil(a)}function Gc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*Fc(Ic(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=q(f/1e3),i.seconds=a%60,b=q(a/60),i.minutes=b%60,c=q(b/60),i.hours=c%24,g+=q(c/24),e=q(Hc(g)),h+=e,g-=Fc(Ic(e)),d=q(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function Hc(a){return 4800*a/146097}function Ic(a){return 146097*a/4800}function Jc(a){var b,c,d=this._milliseconds;if(a=B(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+Hc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(Ic(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function Kc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*r(this._months/12)}function Lc(a){return function(){return this.as(a)}}function Mc(a){return a=B(a),this[a+"s"]()}function Nc(a){return function(){return this._data[a]}}function Oc(){return q(this.days()/7)}function Pc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Qc(a,b,c){var d=Za(a).abs(),e=Ie(d.as("s")),f=Ie(d.as("m")),g=Ie(d.as("h")),h=Ie(d.as("d")),i=Ie(d.as("M")),j=Ie(d.as("y")),k=e<Je.s&&["s",e]||1>=f&&["m"]||f<Je.m&&["mm",f]||1>=g&&["h"]||g<Je.h&&["hh",g]||1>=h&&["d"]||h<Je.d&&["dd",h]||1>=i&&["M"]||i<Je.M&&["MM",i]||1>=j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Pc.apply(null,k)}function Rc(a,b){return void 0===Je[a]?!1:void 0===b?Je[a]:(Je[a]=b,!0)}function Sc(a){var b=this.localeData(),c=Qc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Tc(){var a,b,c,d=Ke(this._milliseconds)/1e3,e=Ke(this._days),f=Ke(this._months);a=q(d/60),b=q(a/60),d%=60,a%=60,c=q(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Uc,Vc,Wc=a.momentProperties=[],Xc=!1,Yc={},Zc={},$c=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,_c=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ad={},bd={},cd=/\d/,dd=/\d\d/,ed=/\d{3}/,fd=/\d{4}/,gd=/[+-]?\d{6}/,hd=/\d\d?/,id=/\d\d\d\d?/,jd=/\d\d\d\d\d\d?/,kd=/\d{1,3}/,ld=/\d{1,4}/,md=/[+-]?\d{1,6}/,nd=/\d+/,od=/[+-]?\d+/,pd=/Z|[+-]\d\d:?\d\d/gi,qd=/Z|[+-]\d\d(?::?\d\d)?/gi,rd=/[+-]?\d+(\.\d{1,3})?/,sd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,td={},ud={},vd=0,wd=1,xd=2,yd=3,zd=4,Ad=5,Bd=6,Cd=7,Dd=8;J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),J("MMMM",0,0,function(a){return this.localeData().months(this,a)}),A("month","M"),O("M",hd),O("MM",hd,dd),O("MMM",function(a,b){return b.monthsShortRegex(a)}),O("MMMM",function(a,b){return b.monthsRegex(a)}),S(["M","MM"],function(a,b){b[wd]=r(a)-1}),S(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[wd]=e:j(c).invalidMonth=a});var Ed=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Fd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Gd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Hd=sd,Id=sd,Jd={};a.suppressDeprecationWarnings=!1;var Kd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ld=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Md=/Z|[+-]\d\d(?::?\d\d)?/,Nd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Od=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=fa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),J("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),A("year","y"),O("Y",od),O("YY",hd,dd),O("YYYY",ld,fd),O("YYYYY",md,gd),O("YYYYYY",md,gd),S(["YYYYY","YYYYYY"],vd),S("YYYY",function(b,c){c[vd]=2===b.length?a.parseTwoDigitYear(b):r(b)}),S("YY",function(b,c){c[vd]=a.parseTwoDigitYear(b)}),S("Y",function(a,b){b[vd]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return r(a)+(r(a)>68?1900:2e3)};var Qd=E("FullYear",!1);a.ISO_8601=function(){};var Rd=fa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?this>a?this:a:l()}),Sd=fa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Ea.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:l()}),Td=function(){return Date.now?Date.now():+new Date};Ka("Z",":"),Ka("ZZ",""),O("Z",qd),O("ZZ",qd),S(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=La(qd,a)});var Ud=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Vd=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Wd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
  Za.fn=Ia.prototype;var Xd=bb(1,"add"),Yd=bb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Zd=fa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ib("gggg","weekYear"),Ib("ggggg","weekYear"),Ib("GGGG","isoWeekYear"),Ib("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),O("G",od),O("g",od),O("GG",hd,dd),O("gg",hd,dd),O("GGGG",ld,fd),O("gggg",ld,fd),O("GGGGG",md,gd),O("ggggg",md,gd),T(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=r(a)}),T(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),J("Q",0,"Qo","quarter"),A("quarter","Q"),O("Q",cd),S("Q",function(a,b){b[wd]=3*(r(a)-1)}),J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),O("w",hd),O("ww",hd,dd),O("W",hd),O("WW",hd,dd),T(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=r(a)});var $d={dow:0,doy:6};J("D",["DD",2],"Do","date"),A("date","D"),O("D",hd),O("DD",hd,dd),O("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),S(["D","DD"],xd),S("Do",function(a,b){b[xd]=r(a.match(hd)[0],10)});var _d=E("Date",!0);J("d",0,"do","day"),J("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),J("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),J("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),O("d",hd),O("e",hd),O("E",hd),O("dd",sd),O("ddd",sd),O("dddd",sd),T(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:j(c).invalidWeekday=a}),T(["d","e","E"],function(a,b,c,d){b[d]=r(a)});var ae="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ce="Su_Mo_Tu_We_Th_Fr_Sa".split("_");J("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),O("DDD",kd),O("DDDD",ed),S(["DDD","DDDD"],function(a,b,c){c._dayOfYear=r(a)}),J("H",["HH",2],0,"hour"),J("h",["hh",2],0,cc),J("hmm",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)}),J("hmmss",0,0,function(){return""+cc.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),J("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),J("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),dc("a",!0),dc("A",!1),A("hour","h"),O("a",ec),O("A",ec),O("H",hd),O("h",hd),O("HH",hd,dd),O("hh",hd,dd),O("hmm",id),O("hmmss",jd),O("Hmm",id),O("Hmmss",jd),S(["H","HH"],yd),S(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),S(["h","hh"],function(a,b,c){b[yd]=r(a),j(c).bigHour=!0}),S("hmm",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d)),j(c).bigHour=!0}),S("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e)),j(c).bigHour=!0}),S("Hmm",function(a,b,c){var d=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d))}),S("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[yd]=r(a.substr(0,d)),b[zd]=r(a.substr(d,2)),b[Ad]=r(a.substr(e))});var de=/[ap]\.?m?\.?/i,ee=E("Hours",!0);J("m",["mm",2],0,"minute"),A("minute","m"),O("m",hd),O("mm",hd,dd),S(["m","mm"],zd);var fe=E("Minutes",!1);J("s",["ss",2],0,"second"),A("second","s"),O("s",hd),O("ss",hd,dd),S(["s","ss"],Ad);var ge=E("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return 10*this.millisecond()}),J(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),J(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),J(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),J(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),J(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),O("S",kd,cd),O("SS",kd,dd),O("SSS",kd,ed);var he;for(he="SSSS";he.length<=9;he+="S")O(he,nd);for(he="S";he.length<=9;he+="S")S(he,hc);var ie=E("Milliseconds",!1);J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");var je=o.prototype;je.add=Xd,je.calendar=db,je.clone=eb,je.diff=lb,je.endOf=xb,je.format=pb,je.from=qb,je.fromNow=rb,je.to=sb,je.toNow=tb,je.get=H,je.invalidAt=Gb,je.isAfter=fb,je.isBefore=gb,je.isBetween=hb,je.isSame=ib,je.isSameOrAfter=jb,je.isSameOrBefore=kb,je.isValid=Eb,je.lang=Zd,je.locale=ub,je.localeData=vb,je.max=Sd,je.min=Rd,je.parsingFlags=Fb,je.set=H,je.startOf=wb,je.subtract=Yd,je.toArray=Bb,je.toObject=Cb,je.toDate=Ab,je.toISOString=ob,je.toJSON=Db,je.toString=nb,je.unix=zb,je.valueOf=yb,je.creationData=Hb,je.year=Qd,je.isLeapYear=na,je.weekYear=Jb,je.isoWeekYear=Kb,je.quarter=je.quarters=Pb,je.month=$,je.daysInMonth=_,je.week=je.weeks=Tb,je.isoWeek=je.isoWeeks=Ub,je.weeksInYear=Mb,je.isoWeeksInYear=Lb,je.date=_d,je.day=je.days=$b,je.weekday=_b,je.isoWeekday=ac,je.dayOfYear=bc,je.hour=je.hours=ee,je.minute=je.minutes=fe,je.second=je.seconds=ge,je.millisecond=je.milliseconds=ie,je.utcOffset=Oa,je.utc=Qa,je.local=Ra,je.parseZone=Sa,je.hasAlignedHourOffset=Ta,je.isDST=Ua,je.isDSTShifted=Va,je.isLocal=Wa,je.isUtcOffset=Xa,je.isUtc=Ya,je.isUTC=Ya,je.zoneAbbr=ic,je.zoneName=jc,je.dates=fa("dates accessor is deprecated. Use date instead.",_d),je.months=fa("months accessor is deprecated. Use month instead",$),je.years=fa("years accessor is deprecated. Use year instead",Qd),je.zone=fa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Pa);var ke=je,le={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},me={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ne="Invalid date",oe="%d",pe=/\d{1,2}/,qe={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},re=t.prototype;re._calendar=le,re.calendar=mc,re._longDateFormat=me,re.longDateFormat=nc,re._invalidDate=ne,re.invalidDate=oc,re._ordinal=oe,re.ordinal=pc,re._ordinalParse=pe,re.preparse=qc,re.postformat=qc,re._relativeTime=qe,re.relativeTime=rc,re.pastFuture=sc,re.set=tc,re.months=W,re._months=Fd,re.monthsShort=X,re._monthsShort=Gd,re.monthsParse=Y,re._monthsRegex=Id,re.monthsRegex=ba,re._monthsShortRegex=Hd,re.monthsShortRegex=aa,re.week=Qb,re._week=$d,re.firstDayOfYear=Sb,re.firstDayOfWeek=Rb,re.weekdays=Wb,re._weekdays=ae,re.weekdaysMin=Yb,re._weekdaysMin=ce,re.weekdaysShort=Xb,re._weekdaysShort=be,re.weekdaysParse=Zb,re.isPM=fc,re._meridiemParse=de,re.meridiem=gc,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===r(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=fa("moment.lang is deprecated. Use moment.locale instead.",x),a.langData=fa("moment.langData is deprecated. Use moment.localeData instead.",z);var se=Math.abs,te=Lc("ms"),ue=Lc("s"),ve=Lc("m"),we=Lc("h"),xe=Lc("d"),ye=Lc("w"),ze=Lc("M"),Ae=Lc("y"),Be=Nc("milliseconds"),Ce=Nc("seconds"),De=Nc("minutes"),Ee=Nc("hours"),Fe=Nc("days"),Ge=Nc("months"),He=Nc("years"),Ie=Math.round,Je={s:45,m:45,h:22,d:26,M:11},Ke=Math.abs,Le=Ia.prototype;Le.abs=Bc,Le.add=Dc,Le.subtract=Ec,Le.as=Jc,Le.asMilliseconds=te,Le.asSeconds=ue,Le.asMinutes=ve,Le.asHours=we,Le.asDays=xe,Le.asWeeks=ye,Le.asMonths=ze,Le.asYears=Ae,Le.valueOf=Kc,Le._bubble=Gc,Le.get=Mc,Le.milliseconds=Be,Le.seconds=Ce,Le.minutes=De,Le.hours=Ee,Le.days=Fe,Le.weeks=Oc,Le.months=Ge,Le.years=He,Le.humanize=Sc,Le.toISOString=Tc,Le.toString=Tc,Le.toJSON=Tc,Le.locale=ub,Le.localeData=vb,Le.toIsoString=fa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tc),Le.lang=Zd,J("X",0,0,"unix"),J("x",0,0,"valueOf"),O("x",od),O("X",rd),S("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),S("x",function(a,b,c){c._d=new Date(r(a))}),a.version="2.11.1",b(Ea),a.fn=ke,a.min=Ga,a.max=Ha,a.now=Td,a.utc=h,a.unix=kc,a.months=wc,a.isDate=d,a.locale=x,a.invalid=l,a.duration=Za,a.isMoment=p,a.weekdays=yc,a.parseZone=lc,a.localeData=z,a.isDuration=Ja,a.monthsShort=xc,a.weekdaysMin=Ac,a.defineLocale=y,a.weekdaysShort=zc,a.normalizeUnits=B,a.relativeTimeThreshold=Rc,a.prototype=ke;var Me=a;return Me});;
  
  
  //from lib/mtwist.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
  
    window.MTwist = (function() {
      function MTwist(seed) {
        var k, mti, uint32mul;
        if (seed == null) {
          seed = Math.random() * 4294967295;
        }
        this.randomIntBetween = bind(this.randomIntBetween, this);
        this.randomIntBelow = bind(this.randomIntBelow, this);
        this.random = bind(this.random, this);
        this.randomUint32 = bind(this.randomUint32, this);
        uint32mul = function(n1, n2) {
          var n1High16, n1Low16, n2High16, n2Low16;
          n1Low16 = n1 & 0x0000ffff;
          n1High16 = n1 >>> 16;
          n2Low16 = n2 & 0x0000ffff;
          n2High16 = n2 >>> 16;
          return ((((n1 & 0xffff0000) * n2) >>> 0) + (((n1 & 0x0000ffff) * n2) >>> 0)) >>> 0;
        };
        this.mt = new Array(624);
        this.mt[0] = seed >>> 0;
        for (mti = k = 1; k < 624; mti = ++k) {
          this.mt[mti] = (uint32mul(1812433253, this.mt[mti - 1] ^ (this.mt[mti - 1] >>> 30)) + mti) >>> 0;
        }
        this.mti = mti;
      }
  
      MTwist.prototype.randomUint32 = function() {
        var i, k, l, y;
        if (this.mti >= 624) {
          for (i = k = 0; k < 227; i = ++k) {
            y = ((this.mt[i] & 0x80000000) | (this.mt[i + 1] & 0x7fffffff)) >>> 0;
            this.mt[i] = (this.mt[i + 397] ^ (y >>> 1) ^ (y & 1 ? 0x9908b0df : 0)) >>> 0;
          }
          for (i = l = 227; l < 623; i = ++l) {
            y = ((this.mt[i] & 0x80000000) | (this.mt[i + 1] & 0x7fffffff)) >>> 0;
            this.mt[i] = (this.mt[i - 227] ^ (y >>> 1) ^ (y & 1 ? 0x9908b0df : 0)) >>> 0;
          }
          y = ((this.mt[623] & 0x80000000) | (this.mt[0] & 0x7fffffff)) >>> 0;
          this.mt[623] = (this.mt[396] ^ (y >>> 1) ^ (y & 1 ? 0x9908b0df : 0)) >>> 0;
          this.mti = 0;
        }
        y = this.mt[this.mti++];
        y = (y ^ (y >>> 11)) >>> 0;
        y = (y ^ ((y << 7) & 0x9d2c5680)) >>> 0;
        y = (y ^ ((y << 15) & 0xefc60000)) >>> 0;
        y = (y ^ (y >>> 18)) >>> 0;
        return y;
      };
  
      MTwist.prototype.random = function() {
        return this.randomUint32() / 4294967296;
      };
  
      MTwist.prototype.randomIntBelow = function(maxPlusOne) {
        var bitMask, bitsNeeded, int;
        if (maxPlusOne < 1) {
          throw "Upper bound must be greater than or equal to 1";
        }
        if (maxPlusOne === 1) {
          return 0;
        }
        bitsNeeded = (maxPlusOne - 1).toString(2).length;
        bitMask = (1 << bitsNeeded) - 1;
        while (true) {
          int = this.randomUint32() & bitMask;
          if (int < maxPlusOne) {
            return int;
          }
        }
      };
  
      MTwist.prototype.randomIntBetween = function(inclusiveMin, inclusiveMax) {
        return inclusiveMin + this.randomIntBelow(inclusiveMax - inclusiveMin + 1);
      };
  
      MTwist.test = function() {
        var i, iterationFactor, iterations, j, k, l, mtwist, ref, seed;
        seed = 1234567890;
        iterationFactor = 10000;
        for (i = k = 0; k < 1000; i = ++k) {
          mtwist = new MTwist(seed);
          iterations = Math.floor(mtwist.randomUint32() / iterationFactor);
          for (j = l = 0, ref = iterations; 0 <= ref ? l < ref : l > ref; j = 0 <= ref ? ++l : --l) {
            mtwist.randomUint32();
          }
          seed = mtwist.randomUint32();
        }
        return seed === 1240212512;
      };
  
      return MTwist;
  
    })();
  
  }).call(this);
  ;
  
  
  //from src/maths.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var f, m3, m4, q4, v2, v3, v4;
  
    f = function(n) {
      return Math.round(n * 10000) / 10000;
    };
  
    window.RAD = Math.PI / 180;
  
    window.nums = Float64Array;
  
    window.X = [1, 0, 0];
  
    window.Y = [0, 1, 0];
  
    window.Z = [0, 0, 1];
  
    window.v2 = v2 = {};
  
    v2.created = 0;
  
    v2.create = function(a) {
      var d;
      v2.created += 1;
      d = new nums(2);
      if (a != null) {
        d[0] = a[0];
        d[1] = a[1];
      }
      return d;
    };
  
    v2.zero = function(d) {
      d[0] = 0;
      d[1] = 0;
      return d;
    };
  
    v2.set = function(a, d) {
      d[0] = a[0];
      d[1] = a[1];
      return d;
    };
  
    v2.add = function(a, b, d) {
      if (d == null) {
        d = a;
      }
      d[0] = a[0] + b[0];
      d[1] = a[1] + b[1];
      return d;
    };
  
    v2.sub = function(a, b, d) {
      if (d == null) {
        d = a;
      }
      d[0] = a[0] - b[0];
      d[1] = a[1] - b[1];
      return d;
    };
  
    v2.neg = function(a, d) {
      if (d == null) {
        d = a;
      }
      d[0] = -a[0];
      d[1] = -a[1];
      return d;
    };
  
    v2.scale = function(v, n, d) {
      if (d == null) {
        d = v;
      }
      d[0] = v[0] * n;
      d[1] = v[1] * n;
      return d;
    };
  
    v2.norm = function(a, d) {
      var len, x, y;
      if (d == null) {
        d = a;
      }
      x = a[0];
      y = a[1];
      len = Math.sqrt(x * x + y * y);
      if (len === 0) {
        d[0] = 0;
        d[1] = 0;
        return d;
      } else if (len === 1) {
        d[0] = x;
        d[1] = y;
        return d;
      }
      d[0] = x / len;
      d[1] = y / len;
      return d;
    };
  
    v2.angle = function(a) {
      a = Math.atan2(a[1], a[0]) + Math.PI / 2;
      while (a > Math.PI) {
        a -= Math.PI * 2;
      }
      while (a < -Math.PI) {
        a += Math.PI * 2;
      }
      return a;
    };
  
    v2.angleBetween = function(a, b) {
      return Math.atan2(a[1] - b[1], a[0] - b[1]);
    };
  
    v2.mag = function(v) {
      var x, y;
      x = v[0];
      y = v[1];
      return Math.sqrt(x * x + y * y);
    };
  
    v2.dot = function(a, b) {
      return a[0] * b[0] + a[1] * b[1];
    };
  
    v2.direction = function(from, to, d) {
      if (d == null) {
        d = from;
      }
      v2.sub(from, to, d);
      v2.norm(d);
      return d;
    };
  
    v2.distance = function(from, to) {
      var x, y;
      x = to[0] - from[0];
      y = to[1] - from[1];
      return Math.sqrt(x * x + y * y);
    };
  
    v2.distanceSq = function(from, to) {
      var x, y;
      x = to[0] - from[0];
      y = to[1] - from[1];
      return x * x + y * y;
    };
  
    v2.lerp = function(a, b, lerp, d) {
      if (d == null) {
        d = a;
      }
      d[0] = a[0] + lerp * (b[0] - a[0]);
      d[1] = a[1] + lerp * (b[1] - a[1]);
      return d;
    };
  
    v2.random = function(v) {
      v[0] = Math.random() - .5;
      v[1] = Math.random() - .5;
      return v2.norm(v);
    };
  
    v2.rotate = function(v, th, d) {
      var cos, sin, v0, v1;
      if (d == null) {
        d = v;
      }
      sin = Math.sin(th);
      cos = Math.cos(th);
      v0 = v[0];
      v1 = v[1];
      d[0] = v0 * cos - v1 * sin;
      d[1] = v0 * sin + v1 * cos;
      return d;
    };
  
    v2.pointTo = function(d, th) {
      d[0] = Math.cos(th - Math.PI / 2);
      d[1] = Math.sin(th - Math.PI / 2);
      return d;
    };
  
    v2.str = function(v) {
      return "(" + (f(v[0])) + "," + (f(v[1])) + ")";
    };
  
    window.v3 = v3 = {};
  
    v3.create = function(a) {
      var d;
      d = new nums(3);
      if (a != null) {
        d[0] = a[0];
        d[1] = a[1];
        d[2] = a[2];
      }
      return d;
    };
  
    v3.zero = function(d) {
      d[0] = 0;
      d[1] = 0;
      d[2] = 0;
      return d;
    };
  
    v3.set = function(a, d) {
      d[0] = a[0];
      d[1] = a[1];
      d[2] = a[2];
      return d;
    };
  
    v3.add = function(a, b, d) {
      if (d == null) {
        d = a;
      }
      d[0] = a[0] + b[0];
      d[1] = a[1] + b[1];
      d[2] = a[2] + b[2];
      return d;
    };
  
    v3.sub = function(a, b, d) {
      if (d == null) {
        d = a;
      }
      d[0] = a[0] - b[0];
      d[1] = a[1] - b[1];
      d[2] = a[2] - b[2];
      return d;
    };
  
    v3.neg = function(a, d) {
      if (d == null) {
        d = a;
      }
      d[0] = -a[0];
      d[1] = -a[1];
      d[2] = -a[2];
      return d;
    };
  
    v3.scale = function(v, n, d) {
      if (d == null) {
        d = v;
      }
      d[0] = v[0] * n;
      d[1] = v[1] * n;
      d[2] = v[2] * n;
      return d;
    };
  
    v3.norm = function(a, d) {
      var len, x, y, z;
      if (d == null) {
        d = a;
      }
      x = a[0];
      y = a[1];
      z = a[2];
      len = Math.sqrt(x * x + y * y + z * z);
      if (len === 0) {
        d[0] = 0;
        d[1] = 0;
        d[2] = 0;
        return d;
      } else if (len === 1) {
        d[0] = x;
        d[1] = y;
        d[2] = z;
        return d;
      }
      d[0] = x / len;
      d[1] = y / len;
      d[2] = z / len;
      return d;
    };
  
    v3.cross = function(a, b, d) {
      var x, y, z;
      if (d == null) {
        d = a;
      }
      x = a[0];
      y = a[1];
      z = a[2];
      d[0] = y * b[2] - z * b[1];
      d[1] = z * b[0] - x * b[2];
      d[2] = x * b[1] - y * b[0];
      return d;
    };
  
    v3.angle = function(a, b) {
      var cosa, cross, mg, sina, th;
      mg = v3.mag(a) * v3.mag(b);
      cross = v3.cross(a, b, v3.create());
      sina = v3.mag(cross);
      sina /= mg;
      cosa = v3.dot(a, b);
      cosa /= mg;
      th = Math.atan(sina, cosa);
      return th;
    };
  
    v3.mag = function(v) {
      var x, y, z;
      x = v[0];
      y = v[1];
      z = v[2];
      return Math.sqrt(x * x + y * y + z * z);
    };
  
    v3.dot = function(a, b) {
      return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];
    };
  
    v3.direction = function(from, to, d) {
      if (d == null) {
        d = from;
      }
      v3.sub(from, to, d);
      v3.norm(d);
      return d;
    };
  
    v3.distance = function(from, to) {
      var x, y, z;
      x = to[0] - from[0];
      y = to[1] - from[1];
      z = to[2] - from[2];
      return Math.sqrt(x * x + y * y + z * z);
    };
  
    v3.lerp = function(a, b, lerp, d) {
      if (d == null) {
        d = a;
      }
      d[0] = a[0] + lerp * (b[0] - a[0]);
      d[1] = a[1] + lerp * (b[1] - a[1]);
      d[2] = a[2] + lerp * (b[2] - a[2]);
      return d;
    };
  
    v3.random = function(v) {
      v[0] = Math.random() - .5;
      v[1] = Math.random() - .5;
      v[2] = Math.random() - .5;
      return v3.norm(v);
    };
  
    v3.str = function(v) {
      return "(" + (f(v[0])) + "," + (f(v[1])) + "," + (f(v[2])) + ")";
    };
  
    window.v4 = v4 = {};
  
    v4.create = function(a) {
      var d;
      d = new nums(4);
      if (a != null) {
        d[0] = a[0];
        d[1] = a[1];
        d[2] = a[2];
        d[3] = a[3];
      }
      return d;
    };
  
    v4.str = function(v) {
      return "(" + (f(v[0])) + "," + (f(v[1])) + "," + (f(v[2])) + "," + (f(v[3])) + ")";
    };
  
    window.m3 = m3 = {};
  
    m3.create = function(m) {
      var d;
      d = new nums(9);
      if (m) {
        d[0] = m[0];
        d[1] = m[1];
        d[2] = m[2];
        d[3] = m[3];
        d[4] = m[4];
        d[5] = m[5];
        d[6] = m[6];
        d[7] = m[7];
        d[8] = m[8];
      }
      return d;
    };
  
    m3.set = function(m, d) {
      d[0] = m[0];
      d[1] = m[1];
      d[2] = m[2];
      d[3] = m[3];
      d[4] = m[4];
      d[5] = m[5];
      d[6] = m[6];
      d[7] = m[7];
      d[8] = m[8];
      return d;
    };
  
    m3.identity = function(d) {
      d[0] = 1;
      d[1] = 0;
      d[2] = 0;
      d[3] = 0;
      d[4] = 1;
      d[5] = 0;
      d[6] = 0;
      d[7] = 0;
      d[8] = 1;
      return d;
    };
  
    m3.transpose = function(m, d) {
      var a01, a02, a12;
      if ((d == null) || m === d) {
        a01 = m[1];
        a02 = m[2];
        a12 = m[5];
        m[1] = m[3];
        m[2] = m[6];
        m[3] = a01;
        m[5] = m[7];
        m[6] = a02;
        m[7] = a12;
        return m;
      }
      d[0] = m[0];
      d[1] = m[3];
      d[2] = m[6];
      d[3] = m[1];
      d[4] = m[4];
      d[5] = m[7];
      d[6] = m[2];
      d[7] = m[5];
      d[8] = m[8];
      return d;
    };
  
    m3.to_m4 = function(m, d) {
      if (d == null) {
        d = m4.create();
      }
      d[0] = m[0];
      d[1] = m[1];
      d[2] = m[2];
      d[3] = 0;
      d[4] = m[3];
      d[5] = m[4];
      d[6] = m[5];
      d[7] = 0;
      d[8] = m[6];
      d[9] = m[7];
      d[10] = m[8];
      d[11] = 0;
      d[12] = 0;
      d[13] = 0;
      d[14] = 0;
      d[15] = 1;
      return d;
    };
  
    m3.str = function(m) {
      return '[#{m[0]},#{m[1]},#{m[2]},#{m[3]},#{m[4]},#{m[5]},#{m[6]},#{m[7]},#{m[8]}]';
    };
  
    window.m4 = m4 = {};
  
    m4.create = function(m) {
      var d;
      d = new nums(16);
      if (m) {
        d[0] = m[0];
        d[1] = m[1];
        d[2] = m[2];
        d[3] = m[3];
        d[4] = m[4];
        d[5] = m[5];
        d[6] = m[6];
        d[7] = m[7];
        d[8] = m[8];
        d[9] = m[9];
        d[10] = m[10];
        d[11] = m[11];
        d[12] = m[12];
        d[13] = m[13];
        d[14] = m[14];
        d[15] = m[15];
      }
      return d;
    };
  
    m4.set = function(m, d) {
      d[0] = m[0];
      d[1] = m[1];
      d[2] = m[2];
      d[3] = m[3];
      d[4] = m[4];
      d[5] = m[5];
      d[6] = m[6];
      d[7] = m[7];
      d[8] = m[8];
      d[9] = m[9];
      d[10] = m[10];
      d[11] = m[11];
      d[12] = m[12];
      d[13] = m[13];
      d[14] = m[14];
      d[15] = m[15];
      return d;
    };
  
    m4.identity = function(d) {
      d[0] = 1;
      d[1] = 0;
      d[2] = 0;
      d[3] = 0;
      d[4] = 0;
      d[5] = 1;
      d[6] = 0;
      d[7] = 0;
      d[8] = 0;
      d[9] = 0;
      d[10] = 1;
      d[11] = 0;
      d[12] = 0;
      d[13] = 0;
      d[14] = 0;
      d[15] = 1;
      return d;
    };
  
    m4.transpose = function(m, d) {
      var a01, a02, a03, a12, a13, a23;
      if (!d || m === d) {
        a01 = m[1];
        a02 = m[2];
        a03 = m[3];
        a12 = m[6];
        a13 = m[7];
        a23 = m[11];
        m[1] = m[4];
        m[2] = m[8];
        m[3] = m[12];
        m[4] = a01;
        m[6] = m[9];
        m[7] = m[13];
        m[8] = a02;
        m[9] = a12;
        m[11] = m[14];
        m[12] = a03;
        m[13] = a13;
        m[14] = a23;
        return m;
      }
      d[0] = m[0];
      d[1] = m[4];
      d[2] = m[8];
      d[3] = m[12];
      d[4] = m[1];
      d[5] = m[5];
      d[6] = m[9];
      d[7] = m[13];
      d[8] = m[2];
      d[9] = m[6];
      d[10] = m[10];
      d[11] = m[14];
      d[12] = m[3];
      d[13] = m[7];
      d[14] = m[11];
      d[15] = m[15];
      return d;
    };
  
    m4.determinant = function(m) {
      var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33;
      a00 = m[0];
      a01 = m[1];
      a02 = m[2];
      a03 = m[3];
      a10 = m[4];
      a11 = m[5];
      a12 = m[6];
      a13 = m[7];
      a20 = m[8];
      a21 = m[9];
      a22 = m[10];
      a23 = m[11];
      a30 = m[12];
      a31 = m[13];
      a32 = m[14];
      a33 = m[15];
      return a30 * a21 * a12 * a03 - a20 * a31 * a12 * a03 - a30 * a11 * a22 * a03 + a10 * a31 * a22 * a03 + a20 * a11 * a32 * a03 - a10 * a21 * a32 * a03 - a30 * a21 * a02 * a13 + a20 * a31 * a02 * a13 + a30 * a01 * a22 * a13 - a00 * a31 * a22 * a13 - a20 * a01 * a32 * a13 + a00 * a21 * a32 * a13 + a30 * a11 * a02 * a23 - a10 * a31 * a02 * a23 - a30 * a01 * a12 * a23 + a00 * a31 * a12 * a23 + a10 * a01 * a32 * a23 - a00 * a11 * a32 * a23 - a20 * a11 * a02 * a33 + a10 * a21 * a02 * a33 + a20 * a01 * a12 * a33 - a00 * a21 * a12 * a33 - a10 * a01 * a22 * a33 + a00 * a11 * a22 * a33;
    };
  
    m4.inverse = function(m, d) {
      var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33, b00, b01, b02, b03, b04, b05, b06, b07, b08, b09, b10, b11, invDet;
      if (d == null) {
        d = m;
      }
      a00 = m[0];
      a01 = m[1];
      a02 = m[2];
      a03 = m[3];
      a10 = m[4];
      a11 = m[5];
      a12 = m[6];
      a13 = m[7];
      a20 = m[8];
      a21 = m[9];
      a22 = m[10];
      a23 = m[11];
      a30 = m[12];
      a31 = m[13];
      a32 = m[14];
      a33 = m[15];
      b00 = a00 * a11 - a01 * a10;
      b01 = a00 * a12 - a02 * a10;
      b02 = a00 * a13 - a03 * a10;
      b03 = a01 * a12 - a02 * a11;
      b04 = a01 * a13 - a03 * a11;
      b05 = a02 * a13 - a03 * a12;
      b06 = a20 * a31 - a21 * a30;
      b07 = a20 * a32 - a22 * a30;
      b08 = a20 * a33 - a23 * a30;
      b09 = a21 * a32 - a22 * a31;
      b10 = a21 * a33 - a23 * a31;
      b11 = a22 * a33 - a23 * a32;
      invDet = 1 / (b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06);
      d[0] = (a11 * b11 - a12 * b10 + a13 * b09) * invDet;
      d[1] = (-a01 * b11 + a02 * b10 - a03 * b09) * invDet;
      d[2] = (a31 * b05 - a32 * b04 + a33 * b03) * invDet;
      d[3] = (-a21 * b05 + a22 * b04 - a23 * b03) * invDet;
      d[4] = (-a10 * b11 + a12 * b08 - a13 * b07) * invDet;
      d[5] = (a00 * b11 - a02 * b08 + a03 * b07) * invDet;
      d[6] = (-a30 * b05 + a32 * b02 - a33 * b01) * invDet;
      d[7] = (a20 * b05 - a22 * b02 + a23 * b01) * invDet;
      d[8] = (a10 * b10 - a11 * b08 + a13 * b06) * invDet;
      d[9] = (-a00 * b10 + a01 * b08 - a03 * b06) * invDet;
      d[10] = (a30 * b04 - a31 * b02 + a33 * b00) * invDet;
      d[11] = (-a20 * b04 + a21 * b02 - a23 * b00) * invDet;
      d[12] = (-a10 * b09 + a11 * b07 - a12 * b06) * invDet;
      d[13] = (a00 * b09 - a01 * b07 + a02 * b06) * invDet;
      d[14] = (-a30 * b03 + a31 * b01 - a32 * b00) * invDet;
      d[15] = (a20 * b03 - a21 * b01 + a22 * b00) * invDet;
      return d;
    };
  
    m4.only_rot = function(m, d) {
      if (d == null) {
        d = m4.create();
      }
      d[0] = m[0];
      d[1] = m[1];
      d[2] = m[2];
      d[3] = m[3];
      d[4] = m[4];
      d[5] = m[5];
      d[6] = m[6];
      d[7] = m[7];
      d[8] = m[8];
      d[9] = m[9];
      d[10] = m[10];
      d[11] = m[11];
      d[12] = 0;
      d[13] = 0;
      d[14] = 0;
      d[15] = 1;
      return d;
    };
  
    m4.to_m3 = function(m, d) {
      if (d == null) {
        d = m3.create();
      }
      d[0] = m[0];
      d[1] = m[1];
      d[2] = m[2];
      d[3] = m[4];
      d[4] = m[5];
      d[5] = m[6];
      d[6] = m[8];
      d[7] = m[9];
      d[8] = m[10];
      return d;
    };
  
    m4.to_inv_m3 = function(m, d) {
      var a00, a01, a02, a10, a11, a12, a20, a21, a22, b01, b11, b21, det, id;
      a00 = m[0];
      a01 = m[1];
      a02 = m[2];
      a10 = m[4];
      a11 = m[5];
      a12 = m[6];
      a20 = m[8];
      a21 = m[9];
      a22 = m[10];
      b01 = a22 * a11 - a12 * a21;
      b11 = -a22 * a10 + a12 * a20;
      b21 = a21 * a10 - a11 * a20;
      det = a00 * b01 + a01 * b11 + a02 * b21;
      if (det === 0) {
        return null;
      }
      id = 1 / det;
      if (d == null) {
        d = m3.create();
      }
      d[0] = b01 * id;
      d[1] = (-a22 * a01 + a02 * a21) * id;
      d[2] = (a12 * a01 - a02 * a11) * id;
      d[3] = b11 * id;
      d[4] = (a22 * a00 - a02 * a20) * id;
      d[5] = (-a12 * a00 + a02 * a10) * id;
      d[6] = b21 * id;
      d[7] = (-a21 * a00 + a01 * a20) * id;
      d[8] = (a11 * a00 - a01 * a10) * id;
      return d;
    };
  
    m4.mul = function(m, m2, d) {
      var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, a30, a31, a32, a33, b00, b01, b02, b03, b10, b11, b12, b13, b20, b21, b22, b23, b30, b31, b32, b33;
      if (d == null) {
        d = m;
      }
      a00 = m[0];
      a01 = m[1];
      a02 = m[2];
      a03 = m[3];
      a10 = m[4];
      a11 = m[5];
      a12 = m[6];
      a13 = m[7];
      a20 = m[8];
      a21 = m[9];
      a22 = m[10];
      a23 = m[11];
      a30 = m[12];
      a31 = m[13];
      a32 = m[14];
      a33 = m[15];
      b00 = m2[0];
      b01 = m2[1];
      b02 = m2[2];
      b03 = m2[3];
      b10 = m2[4];
      b11 = m2[5];
      b12 = m2[6];
      b13 = m2[7];
      b20 = m2[8];
      b21 = m2[9];
      b22 = m2[10];
      b23 = m2[11];
      b30 = m2[12];
      b31 = m2[13];
      b32 = m2[14];
      b33 = m2[15];
      d[0] = b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30;
      d[1] = b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31;
      d[2] = b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32;
      d[3] = b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33;
      d[4] = b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30;
      d[5] = b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31;
      d[6] = b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32;
      d[7] = b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33;
      d[8] = b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30;
      d[9] = b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31;
      d[10] = b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32;
      d[11] = b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33;
      d[12] = b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30;
      d[13] = b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31;
      d[14] = b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32;
      d[15] = b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33;
      return d;
    };
  
    m4.mul_v3 = function(m, v, d) {
      var x, y, z;
      if (d == null) {
        d = v;
      }
      x = v[0];
      y = v[1];
      z = v[2];
      d[0] = m[0] * x + m[4] * y + m[8] * z + m[12];
      d[1] = m[1] * x + m[5] * y + m[9] * z + m[13];
      d[2] = m[2] * x + m[6] * y + m[10] * z + m[14];
      return d;
    };
  
    m4.pos = function(m, v) {
      if (v == null) {
        v = v3.create();
      }
      v[0] = m[12];
      v[1] = m[13];
      v[2] = m[14];
      return v;
    };
  
    m4.set_pos = function(m, v) {
      m[12] = v[0];
      m[13] = v[1];
      m[14] = v[2];
      return v;
    };
  
    m4.forward = function(m, v) {
      if (v == null) {
        v = v3.create();
      }
      v[0] = -m[8];
      v[1] = -m[9];
      v[2] = -m[10];
      return v;
    };
  
    m4.distance = function(a, b) {
      var x, y, z;
      x = a[12] - b[12];
      y = a[13] - b[13];
      z = a[14] - b[14];
      return Math.sqrt(x * x + y * y + z * z);
    };
  
    m4.translate = function(m, v, d) {
      var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, x, y, z;
      x = v[0];
      y = v[1];
      z = v[2];
      if ((d == null) || m === d) {
        m[12] = m[0] * x + m[4] * y + m[8] * z + m[12];
        m[13] = m[1] * x + m[5] * y + m[9] * z + m[13];
        m[14] = m[2] * x + m[6] * y + m[10] * z + m[14];
        m[15] = m[3] * x + m[7] * y + m[11] * z + m[15];
        return m;
      }
      a00 = m[0];
      a01 = m[1];
      a02 = m[2];
      a03 = m[3];
      a10 = m[4];
      a11 = m[5];
      a12 = m[6];
      a13 = m[7];
      a20 = m[8];
      a21 = m[9];
      a22 = m[10];
      a23 = m[11];
      d[0] = a00;
      d[1] = a01;
      d[2] = a02;
      d[3] = a03;
      d[4] = a10;
      d[5] = a11;
      d[6] = a12;
      d[7] = a13;
      d[8] = a20;
      d[9] = a21;
      d[10] = a22;
      d[11] = a23;
      d[12] = a00 * x + a10 * y + a20 * z + m[12];
      d[13] = a01 * x + a11 * y + a21 * z + m[13];
      d[14] = a02 * x + a12 * y + a22 * z + m[14];
      d[15] = a03 * x + a13 * y + a23 * z + m[15];
      return d;
    };
  
    m4.scale = function(mat, vec, dest) {
      var x, y, z;
      x = vec[0];
      y = vec[1];
      z = vec[2];
      if ((dest == null) || mat === dest) {
        mat[0] *= x;
        mat[1] *= x;
        mat[2] *= x;
        mat[3] *= x;
        mat[4] *= y;
        mat[5] *= y;
        mat[6] *= y;
        mat[7] *= y;
        mat[8] *= z;
        mat[9] *= z;
        mat[10] *= z;
        mat[11] *= z;
        return mat;
      }
      dest[0] = mat[0] * x;
      dest[1] = mat[1] * x;
      dest[2] = mat[2] * x;
      dest[3] = mat[3] * x;
      dest[4] = mat[4] * y;
      dest[5] = mat[5] * y;
      dest[6] = mat[6] * y;
      dest[7] = mat[7] * y;
      dest[8] = mat[8] * z;
      dest[9] = mat[9] * z;
      dest[10] = mat[10] * z;
      dest[11] = mat[11] * z;
      dest[12] = mat[12];
      dest[13] = mat[13];
      dest[14] = mat[14];
      dest[15] = mat[15];
      return dest;
    };
  
    m4.create_rot = function(d, angle, axis) {
      var W, X, Y, Z, cosa, sina, xw, xx, xy, xz, yw, yy, yz, zw, zz;
      sina = Math.sin(angle / 2);
      cosa = Math.cos(angle / 2);
      X = axis[0] * sina;
      Y = axis[1] * sina;
      Z = axis[2] * sina;
      W = cosa;
      xx = X * X;
      xy = X * Y;
      xz = X * Z;
      xw = X * W;
      yy = Y * Y;
      yz = Y * Z;
      yw = Y * W;
      zz = Z * Z;
      zw = Z * W;
      d[0] = 1 - 2 * (yy + zz);
      d[1] = 2 * (xy - zw);
      d[2] = 2 * (xz + yw);
      d[4] = 2 * (xy + zw);
      d[5] = 1 - 2 * (xx + zz);
      d[6] = 2 * (yz - xw);
      d[8] = 2 * (xz - yw);
      d[9] = 2 * (yz + xw);
      d[10] = 1 - 2 * (xx + yy);
      d[3] = d[7] = d[11] = d[12] = d[13] = d[14] = 0;
      d[15] = 1;
      return d;
    };
  
    m4.set_rot_only = function(d, angle, axis) {
      var W, X, Y, Z, cosa, sina, xw, xx, xy, xz, yw, yy, yz, zw, zz;
      sina = Math.sin(angle / 2);
      cosa = Math.cos(angle / 2);
      X = axis[0] * sina;
      Y = axis[1] * sina;
      Z = axis[2] * sina;
      W = cosa;
      xx = X * X;
      xy = X * Y;
      xz = X * Z;
      xw = X * W;
      yy = Y * Y;
      yz = Y * Z;
      yw = Y * W;
      zz = Z * Z;
      zw = Z * W;
      d[0] = 1 - 2 * (yy + zz);
      d[1] = 2 * (xy - zw);
      d[2] = 2 * (xz + yw);
      d[4] = 2 * (xy + zw);
      d[5] = 1 - 2 * (xx + zz);
      d[6] = 2 * (yz - xw);
      d[8] = 2 * (xz - yw);
      d[9] = 2 * (yz + xw);
      d[10] = 1 - 2 * (xx + yy);
      d[3] = d[7] = d[11] = 0;
      d[15] = 1;
      return d;
    };
  
    m4.rotate = function(mat, angle, axis, dest) {
      var a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23, b00, b01, b02, b10, b11, b12, b20, b21, b22, c, len, s, t, x, y, z;
      x = axis[0];
      y = axis[1];
      z = axis[2];
      len = Math.sqrt(x * x + y * y + z * z);
      if (len === 0) {
        return null;
      }
      if (len !== 1) {
        x /= len;
        y /= len;
        z /= len;
      }
      s = Math.sin(angle);
      c = Math.cos(angle);
      t = 1 - c;
      a00 = mat[0];
      a01 = mat[1];
      a02 = mat[2];
      a03 = mat[3];
      a10 = mat[4];
      a11 = mat[5];
      a12 = mat[6];
      a13 = mat[7];
      a20 = mat[8];
      a21 = mat[9];
      a22 = mat[10];
      a23 = mat[11];
      b00 = x * x * t + c;
      b01 = y * x * t + z * s;
      b02 = z * x * t - y * s;
      b10 = x * y * t - z * s;
      b11 = y * y * t + c;
      b12 = z * y * t + x * s;
      b20 = x * z * t + y * s;
      b21 = y * z * t - x * s;
      b22 = z * z * t + c;
      if (dest == null) {
        dest = mat;
      } else if (mat !== dest) {
        dest[12] = mat[12];
        dest[13] = mat[13];
        dest[14] = mat[14];
        dest[15] = mat[15];
      }
      print;
      dest[0] = a00 * b00 + a10 * b01 + a20 * b02;
      dest[1] = a01 * b00 + a11 * b01 + a21 * b02;
      dest[2] = a02 * b00 + a12 * b01 + a22 * b02;
      dest[3] = a03 * b00 + a13 * b01 + a23 * b02;
      dest[4] = a00 * b10 + a10 * b11 + a20 * b12;
      dest[5] = a01 * b10 + a11 * b11 + a21 * b12;
      dest[6] = a02 * b10 + a12 * b11 + a22 * b12;
      dest[7] = a03 * b10 + a13 * b11 + a23 * b12;
      dest[8] = a00 * b20 + a10 * b21 + a20 * b22;
      dest[9] = a01 * b20 + a11 * b21 + a21 * b22;
      dest[10] = a02 * b20 + a12 * b21 + a22 * b22;
      dest[11] = a03 * b20 + a13 * b21 + a23 * b22;
      return dest;
    };
  
    m4.rotateX = function(mat, angle, dest) {
      var a10, a11, a12, a13, a20, a21, a22, a23, c, s;
      s = Math.sin(angle);
      c = Math.cos(angle);
      a10 = mat[4];
      a11 = mat[5];
      a12 = mat[6];
      a13 = mat[7];
      a20 = mat[8];
      a21 = mat[9];
      a22 = mat[10];
      a23 = mat[11];
      if (dest == null) {
        dest = mat;
      } else if (mat !== dest) {
        dest[0] = mat[0];
        dest[1] = mat[1];
        dest[2] = mat[2];
        dest[3] = mat[3];
        dest[12] = mat[12];
        dest[13] = mat[13];
        dest[14] = mat[14];
        dest[15] = mat[15];
      }
      dest[4] = a10 * c + a20 * s;
      dest[5] = a11 * c + a21 * s;
      dest[6] = a12 * c + a22 * s;
      dest[7] = a13 * c + a23 * s;
      dest[8] = a10 * -s + a20 * c;
      dest[9] = a11 * -s + a21 * c;
      dest[10] = a12 * -s + a22 * c;
      dest[11] = a13 * -s + a23 * c;
      return dest;
    };
  
    m4.rotateY = function(mat, angle, dest) {
      var a00, a01, a02, a03, a20, a21, a22, a23, c, s;
      s = Math.sin(angle);
      c = Math.cos(angle);
      a00 = mat[0];
      a01 = mat[1];
      a02 = mat[2];
      a03 = mat[3];
      a20 = mat[8];
      a21 = mat[9];
      a22 = mat[10];
      a23 = mat[11];
      if (dest == null) {
        dest = mat;
      } else if (mat !== dest) {
        dest[4] = mat[4];
        dest[5] = mat[5];
        dest[6] = mat[6];
        dest[7] = mat[7];
        dest[12] = mat[12];
        dest[13] = mat[13];
        dest[14] = mat[14];
        dest[15] = mat[15];
      }
      dest[0] = a00 * c + a20 * -s;
      dest[1] = a01 * c + a21 * -s;
      dest[2] = a02 * c + a22 * -s;
      dest[3] = a03 * c + a23 * -s;
      dest[8] = a00 * s + a20 * c;
      dest[9] = a01 * s + a21 * c;
      dest[10] = a02 * s + a22 * c;
      dest[11] = a03 * s + a23 * c;
      return dest;
    };
  
    m4.rotateZ = function(mat, angle, dest) {
      var a00, a01, a02, a03, a10, a11, a12, a13, c, s;
      s = Math.sin(angle);
      c = Math.cos(angle);
      a00 = mat[0];
      a01 = mat[1];
      a02 = mat[2];
      a03 = mat[3];
      a10 = mat[4];
      a11 = mat[5];
      a12 = mat[6];
      a13 = mat[7];
      if (!dest) {
        dest = mat;
      } else if (mat !== dest) {
        dest[8] = mat[8];
        dest[9] = mat[9];
        dest[10] = mat[10];
        dest[11] = mat[11];
        dest[12] = mat[12];
        dest[13] = mat[13];
        dest[14] = mat[14];
        dest[15] = mat[15];
      }
      dest[0] = a00 * c + a10 * s;
      dest[1] = a01 * c + a11 * s;
      dest[2] = a02 * c + a12 * s;
      dest[3] = a03 * c + a13 * s;
      dest[4] = a00 * -s + a10 * c;
      dest[5] = a01 * -s + a11 * c;
      dest[6] = a02 * -s + a12 * c;
      dest[7] = a03 * -s + a13 * c;
      return dest;
    };
  
    m4.get_hpr = function(m, v) {
      var heading, pitch, roll;
      if (v == null) {
        v = v3.create();
      }
      if (m[1] > 0.998) {
        heading = Math.atan2(m[2], m[10]);
        pitch = Math.PI / 2;
        roll = 0;
      } else if (m[1] < -0.998) {
        heading = Math.atan2(m[2], m[10]);
        pitch = -Math.PI / 2;
        roll = 0;
      } else {
        heading = Math.atan2(-m[8], m[0]);
        pitch = Math.atan2(-m[6], m[5]);
        roll = Math.asin(m[4]);
      }
      v[0] = heading;
      v[1] = pitch;
      v[2] = roll;
      return v;
    };
  
    m4.set_quat = function(dest, w, x, y, z) {
      var xw, xx, xy, xz, yw, yy, yz, zw, zz;
      xx = x * x;
      xy = x * y;
      xz = x * z;
      xw = x * w;
      yy = y * y;
      yz = y * z;
      yw = y * w;
      zz = z * z;
      zw = z * w;
      dest[0] = 1 - 2 * (yy + zz);
      dest[4] = 2 * (xy - zw);
      dest[8] = 2 * (xz + yw);
      dest[1] = 2 * (xy + zw);
      dest[5] = 1 - 2 * (xx + zz);
      dest[9] = 2 * (yz - xw);
      dest[2] = 2 * (xz - yw);
      dest[6] = 2 * (yz + xw);
      dest[10] = 1 - 2 * (xx + yy);
      return dest;
    };
  
    m4.frustum = function(left, right, bottom, top, near, far, dest) {
      var fn, rl, tb;
      if (dest == null) {
        dest = m4.create();
      }
      rl = right - left;
      tb = top - bottom;
      fn = far - near;
      dest[0] = (near * 2) / rl;
      dest[1] = 0;
      dest[2] = 0;
      dest[3] = 0;
      dest[4] = 0;
      dest[5] = (near * 2) / tb;
      dest[6] = 0;
      dest[7] = 0;
      dest[8] = (right + left) / rl;
      dest[9] = (top + bottom) / tb;
      dest[10] = -(far + near) / fn;
      dest[11] = -1;
      dest[12] = 0;
      dest[13] = 0;
      dest[14] = -(far * near * 2) / fn;
      dest[15] = 0;
      return dest;
    };
  
    m4.perspective = function(fovy, aspect, near, far, dest) {
      var right, top;
      top = near * Math.tan(fovy * Math.PI / 360.0);
      right = top * aspect;
      return m4.frustum(-right, right, -top, top, near, far, dest);
    };
  
    m4.ortho = function(left, right, bottom, top, near, far, dest) {
      var fn, rl, tb;
      if (dest == null) {
        dest = m4.create();
      }
      rl = right - left;
      tb = top - bottom;
      fn = far - near;
      dest[0] = 2 / rl;
      dest[1] = 0;
      dest[2] = 0;
      dest[3] = 0;
      dest[4] = 0;
      dest[5] = 2 / tb;
      dest[6] = 0;
      dest[7] = 0;
      dest[8] = 0;
      dest[9] = 0;
      dest[10] = -2 / fn;
      dest[11] = 0;
      dest[12] = -(left + right) / rl;
      dest[13] = -(top + bottom) / tb;
      dest[14] = -(far + near) / fn;
      dest[15] = 1;
      return dest;
    };
  
    m4.lookAt = function(eye, center, up, dest) {
      var centerx, centery, centerz, eyex, eyey, eyez, len, upx, upy, upz, x0, x1, x2, y0, y1, y2, z0, z1, z2;
      if (!dest) {
        dest = m4.create();
      }
      eyex = eye[0];
      eyey = eye[1];
      eyez = eye[2];
      upx = up[0];
      upy = up[1];
      upz = up[2];
      centerx = center[0];
      centery = center[1];
      centerz = center[2];
      if (eyex === centerx && eyey === centery && eyez === centerz) {
        return m4.identity(dest);
      }
      z0 = eyex - center[0];
      z1 = eyey - center[1];
      z2 = eyez - center[2];
      len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);
      z0 *= len;
      z1 *= len;
      z2 *= len;
      x0 = upy * z2 - upz * z1;
      x1 = upz * z0 - upx * z2;
      x2 = upx * z1 - upy * z0;
      len = Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);
      if (!len) {
        x0 = 0;
        x1 = 0;
        x2 = 0;
      } else {
        len = 1 / len;
        x0 *= len;
        x1 *= len;
        x2 *= len;
      }
      y0 = z1 * x2 - z2 * x1;
      y1 = z2 * x0 - z0 * x2;
      y2 = z0 * x1 - z1 * x0;
      len = Math.sqrt(y0 * y0 + y1 * y1 + y2 * y2);
      if (!len) {
        y0 = 0;
        y1 = 0;
        y2 = 0;
      } else {
        len = 1 / len;
        y0 *= len;
        y1 *= len;
        y2 *= len;
      }
      dest[0] = x0;
      dest[1] = y0;
      dest[2] = z0;
      dest[3] = 0;
      dest[4] = x1;
      dest[5] = y1;
      dest[6] = z1;
      dest[7] = 0;
      dest[8] = x2;
      dest[9] = y2;
      dest[10] = z2;
      dest[11] = 0;
      dest[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);
      dest[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);
      dest[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);
      dest[15] = 1;
      return dest;
    };
  
    m4.to_array = function(mat) {
      return [mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]];
    };
  
    m4.str = function(mat) {
      return [f(mat[0]), f(mat[1]), f(mat[2]), f(mat[3]), "|", f(mat[4]), f(mat[5]), f(mat[6]), f(mat[7]), "|", f(mat[8]), f(mat[9]), f(mat[10]), f(mat[11]), "|", f(mat[12]), f(mat[13]), f(mat[14]), f(mat[15])].join(" ");
    };
  
    q4 = {};
  
  }).call(this);
  ;
  
  
  //from src/hspace.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var PRIME, clamp, overlapRectCircle;
  
    PRIME = 677;
  
    clamp = function(value, min, max) {
      if (value < min) {
        return min;
      }
      if (value > max) {
        return max;
      }
      return value;
    };
  
    overlapRectCircle = function(point, radius, x, y, w, h) {
      var dx, dy;
      dx = point[0] - clamp(point[0], x, x + w);
      dy = point[1] - clamp(point[1], y, y + h);
      return (dx * dx + dy * dy) <= (radius * radius);
    };
  
    window.HSpace = (function() {
      function HSpace(resolution) {
        this.resolution = resolution;
        this.hash = new Map();
      }
  
      HSpace.prototype.key = function(pos) {
        return Math.floor(pos[0] / this.resolution) + Math.floor(pos[1] / this.resolution) * PRIME;
      };
  
      HSpace.prototype.insert = function(thing) {
        var posKey, things;
        posKey = this.key(thing.pos);
        things = this.hash.get(posKey);
        if (things == null) {
          return this.hash.set(posKey, [thing]);
        } else {
          return things.push(thing);
        }
      };
  
      HSpace.prototype.findInRange = function(point, range, cb) {
        var d, i, j, k, len, posKey, px, py, ref, ref1, ref2, ref3, rx, ry, thing, things, x, y;
        sim.timeStart("findInRange");
        d = Math.floor(range / this.resolution) + 1;
        px = Math.floor(point[0] / this.resolution);
        py = Math.floor(point[1] / this.resolution);
        for (x = i = ref = -d, ref1 = d + 1; ref <= ref1 ? i < ref1 : i > ref1; x = ref <= ref1 ? ++i : --i) {
          for (y = j = ref2 = -d, ref3 = d + 1; ref2 <= ref3 ? j < ref3 : j > ref3; y = ref2 <= ref3 ? ++j : --j) {
            rx = px + x;
            ry = py + y;
            if (overlapRectCircle(point, range, rx * this.resolution, ry * this.resolution, this.resolution, this.resolution)) {
              posKey = rx + ry * PRIME;
              things = this.hash.get(posKey);
              if (things) {
                for (k = 0, len = things.length; k < len; k++) {
                  thing = things[k];
                  if (cb(thing)) {
                    sim.timeEnd("findInRange");
                    return;
                  }
                }
              }
            }
          }
        }
        sim.timeEnd("findInRange");
      };
  
      return HSpace;
  
    })();
  
  }).call(this);
  ;
  
  
  //from src/linky.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var cache, contains, endsWith, examine, pairs, tlds;
  
    window.linky = {};
  
    tlds = 'abbott abogado ac academy accountants active actor ad adult ae aero af ag agency ai airforce al allfinanz alsace am amsterdam an android ao apartments aq aquarelle ar archi army arpa as asia associates at attorney au auction audio autos aw ax axa az ba band bank bar barclaycard barclays bargains bayern bb bd be beer berlin best bf bg bh bi bid bike bingo bio biz bj black blackfriday bloomberg blue bm bmw bn bnpparibas bo boats boo boutique br brussels bs bt budapest build builders business buzz bv bw by bz bzh ca cab cal camera camp cancerresearch canon capetown capital caravan cards care career careers cartier casa cash casino cat catering cbn cc cd center ceo cern cf cg ch channel chat cheap chloe christmas chrome church ci citic city ck cl claims cleaning click clinic clothing club cm cn co coach codes coffee college cologne com community company computer condos construction consulting contractors cooking cool coop country courses cr credit creditcard cricket crs cruises cu cuisinella cv cw cx cy cymru cz dabur dad dance dating datsun day dclk de deals degree delivery democrat dental dentist desi design dev diamonds diet digital direct directory discount dj dk dm dnp do docs domains doosan durban dvag dz eat ec edu education ee eg email emerck energy engineer engineering enterprises epson equipment er erni es esq estate et eu eurovision eus events everbank exchange expert exposed fail fans farm fashion feedback fi finance financial firmdale fish fishing fit fitness fj fk flights florist flowers flsmidth fly fm fo foo football forex forsale foundation fr frl frogans fund furniture futbol ga gal gallery garden gb gbiz gd gdn ge gent gf gg ggee gh gi gift gifts gives gl glass gle global globo gm gmail gmo gmx gn goldpoint goo goog google gop gov gp gq gr graphics gratis green gripe gs gt gu guide guitars guru gw gy hamburg hangout haus healthcare help here hermes hiphop hiv hk hm hn holdings holiday homes horse host hosting house how hr ht hu ibm id ie ifm il im immo immobilien in industries infiniti info ing ink institute insure int international investments io iq ir irish is it iwc java jcb je jetzt jm jo jobs joburg jp juegos kaufen kddi ke kg kh ki kim kitchen kiwi km kn koeln kp kr krd kred kw ky kyoto kz la lacaixa land lat latrobe lawyer lb lc lds lease leclerc legal lgbt li lidl life lighting limited limo link lk loans london lotte lotto lr ls lt ltda lu luxe luxury lv ly ma madrid maif maison management mango market marketing markets marriott mc md me media meet melbourne meme memorial menu mg mh miami mil mini mk ml mm mn mo mobi moda moe monash money mormon mortgage moscow motorcycles mov mp mq mr ms mt mtpc mu museum mv mw mx my mz na nagoya name navy nc ne net network neustar new nexus nf ng ngo nhk ni nico ninja nissan nl no np nr nra nrw ntt nu nyc nz okinawa om one ong onl ooo oracle org organic osaka otsuka ovh pa paris partners parts party pe pf pg ph pharmacy photo photography photos physio pics pictet pictures pink pizza pk pl place plumbing pm pn pohl poker porn post pr praxi press pro prod productions prof properties property ps pt pub pw py qa qpon quebec re realtor recipes red rehab reise reisen reit ren rentals repair report republican rest restaurant reviews rich rio rip ro rocks rodeo rs rsvp ru ruhr rw ryukyu sa saarland sale samsung sarl saxo sb sc sca scb schmidt school schule schwarz science scot sd se services sew sexy sg sh shiksha shoes shriram si singles sj sk sky sl sm sn so social software sohu solar solutions soy space spiegel sr st study style su sucks supplies supply support surf surgery suzuki sv sx sy sydney systems sz taipei tatar tattoo tax tc td technology tel temasek tennis tf tg th tienda tips tires tirol tj tk tl tm tn to today tokyo tools top toshiba town toys tr trade training travel trust tt tui tv tw tz ua ug uk university uno uol us uy uz va vacations vc ve vegas ventures versicherung vet vg vi viajes video villas vision vlaanderen vn vodka vote voting voto voyage vu wales wang watch webcam website wed wedding wf whoswho wien wiki williamhill wme work works world ws wtc wtf xin xxx xyz yachts yandex ye yodobashi yoga yokohama youtube yt za zip zm zone zuerich zw'.split(" ");
  
    pairs = [["(", ")"], ["[", "]"], ["{", "}"], ["'", "'"], ['"', '"']];
  
    endsWith = function(text, str) {
      return text.slice(text.length - str.length) === str;
    };
  
    contains = function(text, str) {
      return text.indexOf(str) !== -1;
    };
  
    cache = {};
  
    linky.linkfy = function(text) {
      var j, len, output, parts, t;
      if (cache[text] != null) {
        return cache[text];
      }
      parts = linky.analyze(text);
      output = "";
      for (j = 0, len = parts.length; j < len; j++) {
        t = parts[j];
        if (t[0] === "url") {
          output += "<a href='" + t[1] + "' target='_blank'>" + t[2] + "</a>";
        } else {
          output += t;
        }
      }
      cache[text] = output;
      return output;
    };
  
    linky.isLink = function(text) {
      var parts;
      parts = linky.analyze(text);
      if (parts.length === 1 && parts[0][0] === "url") {
        return parts[0][1];
      } else {
        return false;
      }
    };
  
    linky.analyze = function(text) {
      var i, j, k, l, len, len1, len2, len3, m, output, outputAdd, r, ref, result, t, tld, token, tokens, v;
      ref = [["&", "&amp;"], ["<", "&lt;"], [">", "&gt;"], ["\"", "&quot;"], ["'", "&apos;"]];
      for (j = 0, len = ref.length; j < len; j++) {
        v = ref[j];
        text = text.replace(new RegExp(v[0], "gm"), v[1]);
      }
      tokens = text.split(/(\s+)/);
      output = [];
      outputAdd = function(r) {
        var ref1;
        if (r) {
          if ((typeof output[output.length - 1] === (ref1 = typeof r) && ref1 === "string")) {
            return output[output.length - 1] += r;
          } else {
            return output.push(r);
          }
        }
      };
      for (i = k = 0, len1 = tokens.length; k < len1; i = ++k) {
        token = tokens[i];
        r = token;
        t = token.toLowerCase();
        for (l = 0, len2 = tlds.length; l < len2; l++) {
          tld = tlds[l];
          if (contains(t, "." + tld)) {
            result = examine(token, tld);
            if (result) {
              for (m = 0, len3 = result.length; m < len3; m++) {
                r = result[m];
                outputAdd(r);
              }
              r = "";
              break;
            }
          }
        }
        outputAdd(r);
      }
      return output;
    };
  
    examine = function(t, tld) {
      var a, b, j, len, post, pre, ref, url;
      pre = "";
      post = "";
      if (t[t.length - 1] === ".") {
        post = "." + post;
        t = t.slice(0, t.length - 1);
      }
      for (j = 0, len = pairs.length; j < len; j++) {
        ref = pairs[j], a = ref[0], b = ref[1];
        if (t[0] === a && t[t.length - 1] === b) {
          pre = pre + a;
          post = b + post;
          t = t.slice(1, t.length - 1);
        }
      }
      if (!(endsWith(t, "." + tld) || contains(t, "." + tld + "/") || contains(t, "." + tld + ":"))) {
        return false;
      }
      if (t[0] === ".") {
        return false;
      }
      if (t.slice(0, 4) !== "http") {
        url = "http://" + t;
      } else {
        url = t;
      }
      return [pre, ["url", url, t], post];
    };
  
  }).call(this);
  ;
  
  
  //from src/zjson.js
  // Generated by CoffeeScript 1.10.0
  
  /*
  zjson - binary json sirelizer with some strange features
  
  * It does hte basic json to bin and bin to json
  * You can Diffs and send thouse instead
  * You can add a Strings table
      list wich both ends need to agree on
      usuly used for keys that are present in every msg
   */
  
  (function() {
    var COLLECT_STATS, MAX16, MAX32, MAX8, toHex;
  
    Number.prototype.isInt = function(n) {
      return n !== "" && !isNaN(n) && Math.round(n) === n;
    };
  
    Number.prototype.isFloat = function(n) {
      return n !== "" && !isNaN(n) && Math.round(n) !== n;
    };
  
    MAX8 = 256;
  
    MAX16 = 256 * 256;
  
    MAX32 = 256 * 256 * 256 * 256;
  
    COLLECT_STATS = true;
  
    window.commonZJsonStrings = {};
  
    window.commonZJsonStringsGet = function() {
      var k, list;
      list = [];
      for (k in commonZJsonStrings) {
        if (commonZJsonStrings[k] > 2) {
          list.push(k);
        }
      }
      return console.log(list.sort().join("\n"));
    };
  
    window.commonZJsonBytePattrns = {};
  
    window.commonZJsonBytePattrnsGet = function() {
      var e, j, k, len, list, ref, results, v;
      list = [];
      for (k in commonZJsonBytePattrns) {
        v = commonZJsonBytePattrns[k];
        list.push([k, v]);
      }
      list = list.sort(function(a, b) {
        return b[1] - a[1];
      });
      ref = list.slice(0, 256);
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        e = ref[j];
        results.push(console.log(e[0], e[1]));
      }
      return results;
    };
  
    window.ZJson = (function() {
      ZJson.prototype.JSON_MARK = 90;
  
      ZJson.prototype.JSON_DIFF_MARK = 91;
  
      ZJson.prototype.OBJECT_MARK8 = 0x10;
  
      ZJson.prototype.OBJECT_MARK16 = 0x11;
  
      ZJson.prototype.ARRAY_MARK8 = 0x20;
  
      ZJson.prototype.ARRAY_MARK16 = 0x21;
  
      ZJson.prototype.ARRAY0_MARK = 0x22;
  
      ZJson.prototype.ARRAY1_MARK = 0x23;
  
      ZJson.prototype.ARRAY2_MARK = 0x24;
  
      ZJson.prototype.ARRAY3_MARK = 0x25;
  
      ZJson.prototype.ARRAY4_MARK = 0x26;
  
      ZJson.prototype.STRING_MARK8 = 0x30;
  
      ZJson.prototype.STRING_MARK16 = 0x31;
  
      ZJson.prototype.STRING_TABLE_MARK = 0x32;
  
      ZJson.prototype.NUMBER_MARK8 = 0x40;
  
      ZJson.prototype.NUMBER_MARK16 = 0x41;
  
      ZJson.prototype.NUMBER_MARK32 = 0x42;
  
      ZJson.prototype.NUMBER_MARK32F = 0x43;
  
      ZJson.prototype.BOOL_TRUE_MARK = 0x50;
  
      ZJson.prototype.BOOL_FALSE_MARK = 0x51;
  
      ZJson.prototype.NULL_MARK = 0x52;
  
      ZJson.prototype.UNDEFINED_MARK = 0x53;
  
      function ZJson(strTable) {
        var i, j, len, str;
        if (strTable == null) {
          strTable = null;
        }
        this.buffSize = 1024 * 1024;
        this.buffer = new ArrayBuffer(this.buffSize);
        this.dv = new DataView(this.buffer);
        this.str2num = new Map();
        this.num2str = new Map();
        if (strTable) {
          for (i = j = 0, len = strTable.length; j < len; i = ++j) {
            str = strTable[i];
            this.str2num.set(str, i);
            this.num2str.set(i, str);
          }
          if (i > MAX16) {
            throw "Too many strings in the string table";
          }
        }
      }
  
      ZJson.prototype.dumpDv = function(json) {
        var buf, dv, end, i, j, ref;
        this.i = 0;
        this.dumpNode(json);
        end = "END";
        this.dv.setUint8(this.i, end.charCodeAt(0));
        this.i += 1;
        this.dv.setUint8(this.i, end.charCodeAt(1));
        this.i += 1;
        this.dv.setUint8(this.i, end.charCodeAt(2));
        this.i += 1;
        buf = new ArrayBuffer(this.i);
        dv = new DataView(buf);
        for (i = j = 0, ref = this.i; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
          dv.setUint8(i, this.dv.getUint8(i));
        }
        return dv;
      };
  
      ZJson.prototype.dumpNode = function(json) {
        var e, i, j, k, l, len, length, num, ref, results, results1, results2, v;
        if (json === null) {
          this.dv.setUint8(this.i, this.NULL_MARK);
          this.i += 1;
          return;
        }
        if (json === void 0) {
          this.dv.setUint8(this.i, this.UNDEFINED_MARK);
          this.i += 1;
          return;
        }
        switch (typeof json) {
          case "object":
            if (json.length != null) {
              length = json.length;
              if (length === 0) {
                this.dv.setUint8(this.i, this.ARRAY0_MARK);
                this.i += 1;
              } else if (length === 1) {
                this.dv.setUint8(this.i, this.ARRAY1_MARK);
                this.i += 1;
              } else if (length === 2) {
                this.dv.setUint8(this.i, this.ARRAY2_MARK);
                this.i += 1;
              } else if (length === 3) {
                this.dv.setUint8(this.i, this.ARRAY3_MARK);
                this.i += 1;
              } else if (length === 4) {
                this.dv.setUint8(this.i, this.ARRAY4_MARK);
                this.i += 1;
              } else if (length < MAX8) {
                this.dv.setUint8(this.i, this.ARRAY_MARK8);
                this.i += 1;
                this.dv.setUint8(this.i, length);
                this.i += 1;
              } else if (length < MAX16) {
                this.dv.setUint8(this.i, this.ARRAY_MARK16);
                this.i += 1;
                this.dv.setUint16(this.i, length);
                this.i += 2;
              } else {
                throw "Array size of " + length + " not supproted";
              }
              results = [];
              for (j = 0, len = json.length; j < len; j++) {
                e = json[j];
                results.push(this.dumpNode(e));
              }
              return results;
            } else {
              length = 0;
              for (k in json) {
                v = json[k];
                length += 1;
              }
              if (length < MAX8) {
                this.dv.setUint8(this.i, this.OBJECT_MARK8);
                this.i += 1;
                this.dv.setUint8(this.i, length);
                this.i += 1;
              } else if (length < MAX16) {
                this.dv.setUint8(this.i, this.OBJECT_MARK16);
                this.i += 1;
                this.dv.setUint16(this.i, length);
                this.i += 2;
              } else {
                throw "Object size of " + length + " not supproted";
              }
              results1 = [];
              for (k in json) {
                v = json[k];
                this.dumpNode(k);
                results1.push(this.dumpNode(v));
              }
              return results1;
            }
            break;
          case "number":
            if (Math.round(json) === json && json > 0 && json < 256 * 256 * 256 * 256) {
              if (json < MAX8) {
                this.dv.setUint8(this.i, this.NUMBER_MARK8);
                this.i += 1;
                this.dv.setUint8(this.i, json);
                return this.i += 1;
              } else if (json < MAX16) {
                this.dv.setUint8(this.i, this.NUMBER_MARK16);
                this.i += 1;
                this.dv.setUint16(this.i, json);
                return this.i += 2;
              } else if (json < MAX32) {
                this.dv.setUint8(this.i, this.NUMBER_MARK32);
                this.i += 1;
                this.dv.setUint32(this.i, json);
                return this.i += 4;
              } else {
                throw "Invalid number integer " + json + " not supported";
              }
            } else {
              this.dv.setUint8(this.i, this.NUMBER_MARK32F);
              this.i += 1;
              this.dv.setFloat32(this.i, json);
              return this.i += 4;
            }
            break;
          case "string":
            num = this.str2num.get(json);
            if (num != null) {
              this.dv.setUint8(this.i, this.STRING_TABLE_MARK);
              this.i += 1;
              this.dv.setUint16(this.i, num);
              return this.i += 2;
            } else {
              if (COLLECT_STATS) {
                commonZJsonStrings[json] = (commonZJsonStrings[json] || 0) + 1;
              }
              length = json.length;
              if (length < MAX8) {
                this.dv.setUint8(this.i, this.STRING_MARK8);
                this.i += 1;
                this.dv.setUint8(this.i, json.length);
                this.i += 1;
              } else if (length < MAX16) {
                this.dv.setUint8(this.i, this.STRING_MARK16);
                this.i += 1;
                this.dv.setUint16(this.i, json.length);
                this.i += 2;
              } else {
                throw "String size of " + length + " not supproted";
              }
              results2 = [];
              for (i = l = 0, ref = length; 0 <= ref ? l < ref : l > ref; i = 0 <= ref ? ++l : --l) {
                this.dv.setUint8(this.i, json.charCodeAt(i));
                results2.push(this.i += 1);
              }
              return results2;
            }
            break;
          case "boolean":
            if (json === true) {
              this.dv.setUint8(this.i, this.BOOL_TRUE_MARK);
              return this.i += 1;
            } else {
              this.dv.setUint8(this.i, this.BOOL_FALSE_MARK);
              return this.i += 1;
            }
            break;
          default:
            throw "Type " + (typeof json) + " not supported";
        }
      };
  
      ZJson.prototype.loadDv = function(dv) {
        var json;
        this.i = 0;
        json = this.loadNode(dv);
  
        /*
        if COLLECT_STATS
             * look at common byte patterns
            bp = commonZJsonBytePattrns
            for i in [0...dv.byteLength]
                for pattern in [1...4]
                    if i + pattern < dv.byteLength
                        arr = []
                        for n in [0...pattern]
                            arr.push(dv.getUint8(i + n))
                        key = arr.join(",")
                        bp[key] = (bp[key] or 0) + 1
         */
        return json;
      };
  
      ZJson.prototype.loadNode = function(dv) {
        var count, e, i, j, json, k, l, length, m, mark, num, ref, ref1, ref2, v;
        mark = dv.getUint8(this.i);
        this.i += 1;
        switch (mark) {
          case 0:
            throw "Zero mark error";
            break;
          case this.ARRAY_MARK8:
          case this.ARRAY_MARK16:
          case this.ARRAY0_MARK:
          case this.ARRAY1_MARK:
          case this.ARRAY2_MARK:
          case this.ARRAY3_MARK:
          case this.ARRAY4_MARK:
            if (mark === this.ARRAY0_MARK) {
              length = 0;
            } else if (mark === this.ARRAY1_MARK) {
              length = 1;
            } else if (mark === this.ARRAY2_MARK) {
              length = 2;
            } else if (mark === this.ARRAY3_MARK) {
              length = 3;
            } else if (mark === this.ARRAY4_MARK) {
              length = 4;
            } else if (mark === this.ARRAY_MARK8) {
              length = dv.getUint8(this.i);
              this.i += 1;
            } else if (mark === this.ARRAY_MARK16) {
              length = dv.getUint16(this.i);
              this.i += 2;
            } else {
              throw "Arrays mark error" + mark;
            }
            json = [];
            for (count = j = 0, ref = length; 0 <= ref ? j < ref : j > ref; count = 0 <= ref ? ++j : --j) {
              e = this.loadNode(dv);
              json.push(e);
            }
            return json;
          case this.OBJECT_MARK8:
          case this.OBJECT_MARK16:
            if (mark === this.OBJECT_MARK8) {
              length = dv.getUint8(this.i);
              this.i += 1;
            } else if (mark === this.OBJECT_MARK16) {
              length = dv.getUint16(this.i);
              this.i += 2;
            } else {
              throw "Objext mark error";
            }
            json = {};
            for (count = l = 0, ref1 = length; 0 <= ref1 ? l < ref1 : l > ref1; count = 0 <= ref1 ? ++l : --l) {
              k = this.loadNode(dv);
              v = this.loadNode(dv);
              json[k] = v;
            }
            return json;
          case this.STRING_TABLE_MARK:
            num = dv.getUint16(this.i);
            this.i += 2;
            return this.num2str.get(num);
          case this.STRING_MARK8:
          case this.STRING_MARK16:
            if (mark === this.STRING_MARK8) {
              length = dv.getUint8(this.i);
              this.i += 1;
            } else if (mark === this.STRING_MARK16) {
              length = dv.getUint16(this.i);
              this.i += 2;
            } else {
              throw "String mark error";
            }
            json = "";
            for (i = m = 0, ref2 = length; 0 <= ref2 ? m < ref2 : m > ref2; i = 0 <= ref2 ? ++m : --m) {
              json += String.fromCharCode(dv.getUint8(this.i));
              this.i += 1;
            }
            return json;
          case this.NUMBER_MARK8:
            json = dv.getUint8(this.i);
            this.i += 1;
            return json;
          case this.NUMBER_MARK16:
            json = dv.getUint16(this.i);
            this.i += 2;
            return json;
          case this.NUMBER_MARK32:
            json = dv.getUint32(this.i);
            this.i += 4;
            return json;
          case this.NUMBER_MARK32F:
            json = dv.getFloat32(this.i);
            this.i += 4;
            return json;
          case this.BOOL_TRUE_MARK:
            return true;
          case this.BOOL_FALSE_MARK:
            return false;
          case this.NULL_MARK:
            return null;
          case this.UNDEFINED_MARK:
            return void 0;
          default:
            throw "Mark " + mark + " unkown";
        }
      };
  
      return ZJson;
  
    })();
  
    toHex = function(number, n) {
      var hex;
      if (n == null) {
        n = 4;
      }
      hex = number.toString(16);
      while (hex.length < n) {
        hex = "0" + hex;
      }
      return hex;
    };
  
    window.hexDisplay = function(dv) {
      var address, ascii, byte, bytes, i, j, r, results;
      i = 0;
      results = [];
      while (i < dv.byteLength) {
        address = toHex(i, 4);
        bytes = [];
        ascii = [];
        for (r = j = 0; j < 16; r = ++j) {
          if (i >= dv.byteLength) {
            bytes.push("  ");
            ascii.push(" ");
          } else {
            byte = dv.getUint8(i);
            bytes.push(toHex(byte, 2));
            if ((20 < byte && byte < 128)) {
              ascii.push(String.fromCharCode(byte));
            } else {
              ascii.push(".");
            }
          }
          i += 1;
        }
        results.push(console.log(address + "   " + bytes.join(" ") + "   " + ascii.join("")));
      }
      return results;
    };
  
  }).call(this);
  ;
  
  
  //from src/protocol.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    window.prot = {};
  
    prot.commonWords = "1v1\n1v1r\n2v2\n3v3\n@attackTypes enemy @unitTypes within #m\n@attackTypes enemy that is @absoluteTypes then # within #m\n@attackTypes enemy that is @relativeTypes and @relativeTypes within #m\n@attackTypes enemy within #m\n@capTypes Command Points within #m\naction\naddAi\nai\nAi1\nAi3\nAi4\naiRules\nalpha\nAOEWarhead\napm\nArtilleryTurret\nAttack\nAutoTurret\nAvoid #dps danger areas\nAvoid everything\nAvoid over #damage shots\nBackstab\nBattery1x1\nBattery1x2\nBattery2x1\nBattery2x2\nBattleship\nbeta\nBomb\nBomber\nBomber\nBombGun\nbuildQ\nbuildRq\nBulletSpeedMod\nburn\ncapping\ncapps\nCapture\nCarrier\nCarrier\nCircle\ncloak\nCloak Counter Need\nCloaked\nCloakGenerator\ncolor\nCommandPoint\nconnected\nCruiser\nDamageMod\ndead\nDestroyer\nDestroyer\ndir\nDroneBody\nEMPGun\nEMPGun2\nEmpty\nEnemy Army Middle\nEnemy Spawn\nenergy\nEnergyTransfer\nEngine01\nEngine02\nEngine03\nEngine04\nEngine05\nEngine06\nEngine07\nFaction1\nFaction2\nFaction3\nFaction4\nFaction5\nFaction6\nFaction7\nFaster\nField # at priority #\nField # at start\nField # for # of @needTypes at priority #\nField # for # of enemy @unitTypes at priority #\nField # for # of ship in slot # at priority #\nField # when money over # at priority #\nFighter\nfillColor\nFind recharger\nFind units that are out of energy\nFlackTurret\nFlameTurret\nFlee\nFlee enemies\nFollow\nFriendly Army Middle\nFriendly Spawn\nFriendly Spawn\nfullUpdate\nghostCopy\ngoto\nGoto @locationTypes\nGuard\nHAarmor1x2Curved\nHArmor1x1\nHArmor1x1Angle\nHArmor1x1AngleBack\nHArmor1x2\nHArmor1x2Back1\nHArmor1x2Back2\nHArmor1x2Curved2\nHArmor1x2Font1\nHArmor1x2Front2\nHArmor2x1\nHArmor2x1Curved2\nHArmor2x2\nHArmor2x2Angle\nHArmor2x2AngleBack\nHArmor2x2Back1\nHArmor2x2Back2\nHArmor2x2Curved\nHArmor2x2Front1\nHArmor2x2Front2\nHeavyBeamTurret\nHeavyPDTurret\nHold Position\nholdPosition\nhost\nhp\nimage\nimg/debree/acloud01.png\nimg/debree/acloud02.png\nimg/debree/acloud03.png\nimg/debree/acloud04.png\nimg/debree/bigdebree01.png\nimg/debree/bigdebree02.png\nimg/debree/bigdebree03.png\nimg/debree/bigdebree04.png\nimg/debree/bigdebree05.png\nimg/debree/bigdebree06.png\nimg/debree/bigdebree07.png\nimg/debree/bigdebree08.png\nimg/debree/bigdebree09.png\nimg/debree/bigdebree10.png\nimg/debree/bigdebree11.png\nimg/debree/bigdebree12.png\nimg/debree/civ01.png\nimg/debree/civ02.png\nimg/debree/civ03.png\nimg/debree/civ04.png\nimg/debree/civ05.png\nimg/debree/debree01.png\nimg/debree/debree02.png\nimg/debree/debree03.png\nimg/debree/debree04.png\nimg/debree/debree05.png\nimg/debree/debree06.png\nimg/debree/debree07.png\nimg/debree/debree08.png\nimg/debree/debree09.png\nimg/debree/debree10.png\nimg/debree/debree11.png\nimg/debree/debree12.png\nimg/debree/debree13.png\nimg/debree/debree14.png\nimg/debree/debree15.png\nimg/debree/debree16.png\nimg/debree/debree17.png\nimg/debree/debree18.png\nimg/debree/debree19.png\nimg/debree/debree20.png\nimg/debree/debree21.png\nimg/debree/debree22.png\nimg/debree/debree23.png\nimg/debree/debree24.png\nimg/debree/debree25.png\nimg/debree/gcloud01.png\nimg/debree/gcloud02.png\nimg/debree/gcloud03.png\nimg/debree/gcloud04.png\nimg/debree/scloud01.png\nimg/debree/scloud02.png\nimg/debree/scloud03.png\nimg/debree/scloud04.png\nimg/debree/vcloud01.png\nimg/debree/vcloud02.png\nimg/debree/vcloud03.png\nimg/debree/vcloud04.png\nimg/dodads/bigdodad01.png\nimg/dodads/bigdodad02.png\nimg/dodads/bigdodad03.png\nimg/dodads/bigdodad04.png\nimg/dodads/bigdodad05.png\nimg/dodads/meddodad01.png\nimg/dodads/meddodad02.png\nimg/dodads/meddodad03.png\nimg/dodads/meddodad04.png\nimg/point02.png\nimg/rocks/lrock01.png\nimg/rocks/lrock02.png\nimg/rocks/lrock03.png\nimg/rocks/lrock04.png\nimg/rocks/lrock05.png\nimg/rocks/mrock01.png\nimg/rocks/mrock02.png\nimg/rocks/mrock03.png\nimg/rocks/mrock04.png\nimg/rocks/mrock05.png\nimg/rocks/mrock06.png\nimg/rocks/srock01.png\nimg/rocks/srock02.png\nimg/rocks/srock03.png\nimg/rocks/srock04.png\nimg/rocks/srock05.png\nimg/rocks/srock06.png\nimg/rocks/srock07.png\nimg/rocks/srock08.png\nInterceptor\nJumpEngine\nkickPlayer\nkills\nKite\nLess Brawling Value\nLess DPS\nLess expensive\nLess HP\nLess Range\nLetter0\nLetter1\nLetter2\nLetter3\nLetter4\nLetter5\nLetter6\nLetter7\nLetter8\nLetter9\nLetterA\nLetterB\nLetterC\nLetterD\nLetterDot\nLetterE\nLetterF\nLetterG\nLetterH\nLetterI\nLetterJ\nLetterK\nLetterL\nLetterM\nLetterN\nLetterO\nLetterP\nLetterPound\nLetterQ\nLetterR\nLetterS\nLetterT\nLetterU\nLetterV\nLetterW\nLetterX\nLetterY\nLetterZ\nLightBeamTurret\nmessage\nMineTurret\nMissileTurret\nmoney\nmoneyEarned\nMore Arc\nMore Brawling Value\nMore DPS\nMore expensive\nMore HP\nMore Range\nMore Range\nMount10Range\nMount180\nMount270\nMount30\nMount360\nMount360Micro\nMount90\nmouse\nmouseMove\nMove\nmoveOrder\nname\nNo PD\nNot Cloaked\nnumbers\nOverKillAi\nowner\nPad2x2\npartId\nparts\npartTargetId\npartWorking\nPDTurret\nperf\nPlasmaTurret\nplayerJoin\nplayerNumber\nplayers\nplayerSelected\npos\nProtect\nradius\nrallyPoint\nRam\nReactor1x1\nReactor1x2\nReactor2x1\nReactor2x2\nReloaderMod\nRest\nRest\nRingTurret\nRock\nrockColor\nrot\nrunning\nScout\nSelf Destruct\nsend other\nsend players\nsend things\nsend things fields\nsend things parts\nsend things roots\nsend zJson\nserverType\nShadowNArmor1x1\nShadowNArmor1x2\nShadowNArmor2x1\nShadowNArmor2x2\nShadowNArmor2x2Angle\nShapedWarhead\nshield\nShieldGen1x1\nShieldGen2x1\nShieldGen2x2\nside\nsim\nsize\nSlower\nSniperGun\nSolar1x1\nSolar2x2\nSolar3x3\nspacesRebuild\nSpawnPoint\nspec\nsplayers\nspotColor\nSpread to\nstartGame\nStasisField\nstate\nStay at range\nStay in #m range of friendly units\nStay in #m range of slot # units\nStayaway in #m range from slot # units\nstep\nsthings\nStop\nstopOrder\nStripe1x1\nStripe1x1Corner\nStripe1x2\nStripe2x1\nStripe2x2\nStripe2x2Corner\nStripe2x2Round\nStripeDouble2x1\nStripeDouble2x2\nStronger\nSwarmer\nSymbolDecal1\nSymbolDecal10\nSymbolDecal11\nSymbolDecal12\nSymbolDecal13\nSymbolDecal14\nSymbolDecal15\nSymbolDecal16\nSymbolDecal17\nSymbolDecal18\nSymbolDecal19\nSymbolDecal2\nSymbolDecal20\nSymbolDecal21\nSymbolDecal22\nSymbolDecal23\nSymbolDecal24\nSymbolDecal3\nSymbolDecal4\nSymbolDecal5\nSymbolDecal6\nSymbolDecal7\nSymbolDecal8\nSymbolDecal9\nTargetingMod\nTeslaTurret\ntheme\nthingId\nthings\ntimeings\nTorpTurret\ntreeform\nTry to field # every # seconds\ntype\nUArmor1x1\nUArmor1x1Angle\nUArmor1x1AngleBack\nUArmor1x1Notch1\nUArmor1x1Notch2\nUArmor1x1Spike\nUArmor1x2\nUArmor1x2Notch1\nUArmor1x2Notch2\nUArmor2x1\nUArmor2x2\nUnit\nunitsBuilt\nunitsCollide\nvalidBar\nVArmor1x1\nVArmor1x1Angle\nVArmor1x1Corner1\nVArmor1x1Corner2\nVArmor1x1Corner3\nVArmor1x1CornerBack\nVArmor1x1Curve\nVArmor1x1Hook\nVArmor1x2\nVArmor1x2Corner4\nVArmor1x2Curved\nVArmor1x2End\nVArmor1x2IBeam\nVArmor1x2SideBar\nVArmor1x2SideBarFilled\nVArmor2x1Curved\nVArmor2x2\nVArmor2x2Angle\nVArmor2x2Curve\nVArmor2x2Curved\nvel\nwarpIn\nWavePullTurret\nWavePushTurret\nWeaker\nWhen #% of energy, @chargeTypes\nWing1x1Angle\nWing1x1Notch\nWing1x1Round\nWing1x2\nWing2x1\nWing2x2\nwinningSide\nz".split("\n");
  
  
    /*
    afk
    waiting
     */
  
  }).call(this);
  ;
  
  
  //from src/utils.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var stats,
      slice = [].slice,
      hasProp = {}.hasOwnProperty;
  
    window.print = function() {
      var args;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      return console.log.apply(console, args);
    };
  
    window.choose = function(list) {
      return list[Math.floor(Math.random() * list.length)];
    };
  
    window.chooseInt = function(a, b) {
      return Math.floor(a + Math.random() * (b - a));
    };
  
    window.json = {
      dumps: JSON.stringify,
      loads: JSON.parse
    };
  
    window.deepCopy = function(src) {
      var i, j, key, len, ret, thing;
      if (Array.isArray(src)) {
        ret = [];
        for (i = j = 0, len = src.length; j < len; i = ++j) {
          thing = src[i];
          ret[i] = deepCopy(thing);
        }
        return ret;
      }
      if (typeof src === 'object') {
        ret = {};
        for (key in src) {
          if (!hasProp.call(src, key)) continue;
          ret[key] = deepCopy(src[key]);
        }
        return ret;
      }
      return src;
    };
  
    window.deepEq = function(a, b) {
      return JSON.stringify(a) === JSON.stringify(b);
    };
  
    window.formatTime = function(t) {
      var minutes, seconds;
      t = Math.floor(t);
      seconds = t % 60;
      minutes = Math.floor(t / 60);
      if (seconds < 10) {
        seconds = "0" + seconds;
      }
      return minutes + ":" + seconds;
    };
  
    window.track = function(name, kargs) {
      var xhr;
      if (!kargs) {
        kargs = {};
      }
      console.log("track:", name, JSON.stringify(kargs));
      if (window.location && window.location.href.indexOf("gamedev.html") !== -1) {
        return;
      }
      xhr = new XMLHttpRequest();
      xhr.open("POST", "https://andrelytics.com/track");
      kargs.name = "game_" + name;
      kargs.api_key = "pub_H4TvK8mxcRPextxxIHOhtstH7YRCAHM2";
      kargs.user_iden = typeof commander !== "undefined" && commander !== null ? commander.id : void 0;
      kargs.user_name = typeof commander !== "undefined" && commander !== null ? commander.name : void 0;
      kargs.version = window.VERSION + "." + MINOR_VERSION;
      return xhr.send(JSON.stringify(kargs));
    };
  
    window.after = function(ms, fn) {
      return setTimeout(fn, ms);
    };
  
    window.doAfter = function(ms, fn) {
      return setTimeout(fn, ms);
    };
  
    window.now = function() {
      var n, ref, s;
      if (typeof process !== "undefined" && process !== null) {
        ref = process.hrtime(), s = ref[0], n = ref[1];
        return (s * 1000000 + n / 1000) / 1000;
      } else {
        return performance.now();
      }
    };
  
    window.ab2str = function(buf) {
      var bufView, i, j, ref, str;
      str = "";
      bufView = new Uint8Array(buf);
      for (i = j = 0, ref = bufView.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        str += String.fromCharCode(bufView[i]);
      }
      return str;
    };
  
    window.str2ab = function(str) {
      var buf, bufView, i, j, ref;
      buf = new ArrayBuffer(str.length);
      bufView = new Uint8Array(buf);
      for (i = j = 0, ref = str.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        bufView[i] = str.charCodeAt(i);
      }
      return buf;
    };
  
    window.dv2str = function(dv) {
      var i, j, ref, str;
      str = "";
      for (i = j = 0, ref = dv.byteLength; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        str += String.fromCharCode(dv.getUint8(i));
      }
      return str;
    };
  
    window.str2dv = function(str) {
      return new DataView(str2ab(str));
    };
  
    window.strBuff = function(buf) {
      var j, len, n, str, u8;
      str = "";
      u8 = new Uint8Array(buf);
      for (j = 0, len = u8.length; j < len; j++) {
        n = u8[j];
        str += n + " ";
      }
      return str;
    };
  
    window.randColor = function(a) {
      return [Math.floor(a + (255 - a) * Math.random()), Math.floor(a + (255 - a) * Math.random()), Math.floor(a + (255 - a) * Math.random()), 255];
    };
  
    window.stats = stats = {
      fps: {},
      net: {},
      sim: {}
    };
  
    stats.fpsAdd = function(n) {
      if (n == null) {
        n = 1;
      }
      return stats.add(stats.fps, n);
    };
  
    stats.netAdd = function(n) {
      if (n == null) {
        n = 1;
      }
      return stats.add(stats.net, n);
    };
  
    stats.simAdd = function(n) {
      if (n == null) {
        n = 1;
      }
      return stats.add(stats.sim, n);
    };
  
    stats.add = function(frames, n) {
      var sec;
      sec = Math.floor(Date.now() / 1000);
      if (frames[sec] != null) {
        return frames[sec] += n;
      } else {
        return frames[sec] = n;
      }
    };
  
    stats.draw = function() {
      if (!control.perf) {
        return;
      }
      stats.drawFrames(stats.fps, 10, 60, 160);
      stats.drawFrames(stats.sim, 1, 16, 320);
      return stats.drawFrames(stats.net, 1024 * 10, 1024, 720);
    };
  
    stats.drawFrames = function(frames, div, max, yadj) {
      var color, j, nFrames, results, sec, sx, sy, x, y;
      sec = Math.floor(Date.now() / 1000);
      results = [];
      for (x = j = 0; j < 31; x = ++j) {
        sx = -x * 16 + window.innerWidth - 20;
        sy = window.innerHeight - yadj;
        nFrames = frames[sec - 30 + x] || 0;
        color = [255, 255, 255, 100];
        results.push((function() {
          var k, ref, results1;
          results1 = [];
          for (y = k = 0, ref = Math.ceil(nFrames / div); 0 <= ref ? k < ref : k > ref; y = 0 <= ref ? ++k : --k) {
            results1.push(baseAtlas.drawSprite("parts/sel1x1.png", [sx, sy - y * 16], [.5, .5], 0, color));
          }
          return results1;
        })());
      }
      return results;
    };
  
    window.sha1 = function(msg)
  {
    fcc = String.fromCharCode;
    function rotl(n,s) { return n<<s|n>>>32-s; };
    function tohex(i) { for(var h="", s=28;;s-=4) { h+=(i>>>s&0xf).toString(16); if(!s) return h; } };
    var H0=0x67452301, H1=0xEFCDAB89, H2=0x98BADCFE, H3=0x10325476, H4=0xC3D2E1F0, M=0x0ffffffff;
    var i, t, W=new Array(80), ml=msg.length, wa=new Array();
    msg += fcc(0x80);
    while(msg.length%4) msg+=fcc(0);
    for(i=0;i<msg.length;i+=4) wa.push(msg.charCodeAt(i)<<24|msg.charCodeAt(i+1)<<16|msg.charCodeAt(i+2)<<8|msg.charCodeAt(i+3));
    while(wa.length%16!=14) wa.push(0);
    wa.push(ml>>>29),wa.push((ml<<3)&M);
    for( var bo=0;bo<wa.length;bo+=16 ) {
      for(i=0;i<16;i++) W[i]=wa[bo+i];
      for(i=16;i<=79;i++) W[i]=rotl(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);
      var A=H0, B=H1, C=H2, D=H3, E=H4;
      for(i=0 ;i<=19;i++) t=(rotl(A,5)+(B&C|~B&D)+E+W[i]+0x5A827999)&M, E=D, D=C, C=rotl(B,30), B=A, A=t;
      for(i=20;i<=39;i++) t=(rotl(A,5)+(B^C^D)+E+W[i]+0x6ED9EBA1)&M, E=D, D=C, C=rotl(B,30), B=A, A=t;
      for(i=40;i<=59;i++) t=(rotl(A,5)+(B&C|B&D|C&D)+E+W[i]+0x8F1BBCDC)&M, E=D, D=C, C=rotl(B,30), B=A, A=t;
      for(i=60;i<=79;i++) t=(rotl(A,5)+(B^C^D)+E+W[i]+0xCA62C1D6)&M, E=D, D=C, C=rotl(B,30), B=A, A=t;
      H0=H0+A&M;H1=H1+B&M;H2=H2+C&M;H3=H3+D&M;H4=H4+E&M;
    }
    return tohex(H0)+tohex(H1)+tohex(H2)+tohex(H3)+tohex(H4);
  };
  
    Array.prototype.last = function() {
      return this[this.length - 1];
    };
  
  }).call(this);
  ;
  
  
  //from src/db.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    window.db = {};
  
    db.save = function(key, value) {
      var data;
      data = JSON.stringify(value);
      return localStorage[key] = data;
    };
  
    db.load = function(key) {
      var data;
      if (!localStorage[key]) {
        return void 0;
      }
      try {
        data = JSON.parse(localStorage[key]);
      } catch (undefined) {}
      return data;
    };
  
  }).call(this);
  ;
  
  
  //from src/onecup.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var CSS_PROPS, HTML_TAGS, IE, JS_EVENT, check_selectors, css, css_chain, css_def, css_rule_chain, current_rule, current_tag, dom_build, dom_scan, dont_refresh_flag, dont_refresh_this_time, fn1, full_refresh, i, inserted, j, js_event, l, len, len1, len2, levels, m, make_css, make_event, make_selectors, make_tag, needs_refresh_flag, o, old_oml, parse_selectors, parse_url, redraw, render, requestAnimationFrame, setup_new_window, tag, tag_add, tag_build, tag_chain, tag_remove, tag_replace, tag_scan, tags, visibilitychange,
      slice = [].slice;
  
    window.onecup = {};
  
    HTML_TAGS = "a\naudio\nb\nblockquote\nbr\nbutton\ncanvas\ncode\ndiv\nem\nembed\nform\nh1\nh2\nh3\nh4\nh5\nh6\nheader\nhr\ni\niframe\nimg\ninput\nlabel\nli\nobject\nol\noption\np\npre\nscript\nselect\nsmall\nsource\nspan\nstrong\nsub\nsup\ntable\ntbody\ntd\ntextarea\ntfoot\nth\nthead\ntime\ntr\nu\nul\nvideo".split(/\s/);
  
    CSS_PROPS = "align_items\nanimation\nanimation_direction\nbackground\nbackground_attachment\nbackground_color\nbackground_image\nbackground_size\nbackground_position\nbackground_position_x\nbackground_position_y\nbackground_repeat\nborder\nborder_bottom\nborder_bottom_color\nborder_bottom_style\nborder_bottom_width\nborder_collapse\nborder_color\nborder_image\nborder_left\nborder_left_color\nborder_left_style\nborder_left_width\nborder_radius\nborder_right\nborder_right_color\nborder_right_style\nborder_right_width\nborder_spacing\nborder_style\nborder_top\nborder_top_color\nborder_top_style\nborder_top_width\nborder_width\nbottom\nbox_shadow\nclear\nclip\ncolor\ncursor\ndirection\ndisplay\nfilter\nflex\nflex_direction\nflex_wrap\nfloat\nfont\nfont_family\nfont_size\nfont_size_adjust\nfont_stretch\nfont_style\nfont_variant\nfont_weight\nheight\njustify_content\nleft\nline_break\nline_height\nlist_style\nlist_style_image\nlist_style_position\nlist_style_type\nmargin\nmargin_bottom\nmargin_left\nmargin_right\nmargin_top\nmarker_offset\nmax_height\nmax_width\nmin_height\nmin_width\nopacity\noutline\noverflow\noverflow_x\noverflow_y\npadding\npadding_bottom\npadding_left\npadding_right\npadding_top\npointer_events\nposition\nresize\nright\ntable_layout\ntext_align\ntext_align_last\ntext_decoration\ntext_indent\ntext_justify\ntext_overflow\ntext_shadow\ntext_transform\ntext_autospace\ntext_kashida_space\ntext_underline_position\ntop\ntransform\ntransition\nuser_select\nvertical_align\nvisibility\nwhite_space\nwidth\nword_break\nword_spacing\nword_wrap\nz_index\nzoom".split(/\s/);
  
    JS_EVENT = "onblur\nonchange\noncontextmenu\nonfocus\noninput\nonselect\nonsubmit\nonkeydown\nonkeypress\nonkeyup\nonclick\nondblclick\nondrag\nondragend\nondragenter\nondragleave\nondragover\nondragstart\nondrop\nonmouseenter\nonmousedown\nonmousemove\nonmouseout\nonmouseover\nonmouseup\nonload\nonscroll\nonwheel".split(/\s/);
  
    IE = navigator.msMaxTouchPoints;
  
    if (Array.isArray == null) {
      Array.isArray = function(obj) {
        return Object.prototype.toString.call(obj) === '[object Array]';
      };
    }
  
    onecup.new_page = function() {};
  
    current_tag = null;
  
    tag_chain = [];
  
    css_chain = "";
  
    css_rule_chain = [];
  
    current_rule = null;
  
    levels = [];
  
    tags = [];
  
    old_oml = null;
  
    full_refresh = true;
  
    dont_refresh_flag = false;
  
    render = function() {
      var finished_tags;
      finished_tags = tags;
      tags = [];
      return finished_tags;
    };
  
    check_selectors = function(args) {
      var first_arg;
      first_arg = args[0];
      if (typeof first_arg === 'string') {
        if ("#" === first_arg[0] || "." === first_arg[0]) {
          return parse_selectors(args.shift());
        }
      }
      return {};
    };
  
    parse_selectors = function(arg) {
      var attributes, classes, i, j, len, ref;
      attributes = {};
      classes = [];
      ref = arg.split('.');
      for (j = 0, len = ref.length; j < len; j++) {
        i = ref[j];
        if (i.length === 0) {
          continue;
        } else if ("#" === i[0]) {
          if (attributes.id) {
            throw Error("mulitple ids " + arg);
          }
          attributes.id = i.slice(1);
        } else {
          classes.push(i);
        }
      }
      if (classes.length > 0) {
        attributes["class"] = classes.join(" ");
      }
      return attributes;
    };
  
    make_selectors = function(attrs) {
      var selector;
      selector = "";
      if (attrs.id) {
        selector += "#" + attrs.id;
      }
      if (attrs["class"]) {
        selector += "." + attrs["class"].split(" ").join(".");
      }
      return selector;
    };
  
    css_def = function(css) {
      var k, lines, v;
      if (typeof css !== 'object') {
        return css;
      }
      lines = [];
      for (k in css) {
        v = css[k];
        if (typeof v === 'number') {
          v = v + "px";
        }
        lines.push(k + ":" + v);
      }
      return lines.join(";");
    };
  
    make_tag = function(tag_name) {
      return function() {
        var arg, args, attributes, css_chain_prev, inner_fn, inner_tags, j, k, len, newv, this_tag, v;
        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
        attributes = check_selectors(args);
        if (typeof args[args.length - 1] === 'function') {
          inner_fn = args.pop();
        }
        for (j = 0, len = args.length; j < len; j++) {
          arg = args[j];
          if (typeof arg === 'object') {
            for (k in arg) {
              v = arg[k];
              if (typeof v === 'function') {
                newv = onecup.event_fn(v);
              } else if (typeof v === 'undefined') {
                continue;
              } else if (k === "style") {
                newv = v;
              } else {
                newv = v;
              }
              attributes[k] = newv;
            }
          } else {
            throw Error("invalid tag argument " + (JSON.stringify(arg)) + " of type " + (typeof arg) + " for <" + tag_name + ">");
          }
        }
        this_tag = {
          tag: tag_name,
          attrs: attributes,
          listeners: {},
          children: null
        };
        levels.push(tags);
        tags = inner_tags = [];
        current_tag = this_tag;
        tag_chain.push(current_tag);
        css_chain_prev = css_chain;
        css_chain = css_chain + make_selectors(current_tag.attrs);
        if (typeof inner_fn === "function") {
          inner_fn();
        }
        tags = levels.pop(tags);
        this_tag.children = inner_tags;
        if (this_tag.attrs.style != null) {
          this_tag.attrs.style = css_def(this_tag.attrs.style);
        }
        tag_chain.pop();
        css_chain = css_chain_prev;
        current_tag = tag_chain[tag_chain.length - 1];
        return tags.push(this_tag);
      };
    };
  
    make_css = function(css_name) {
      var css_real_name;
      css_real_name = css_name.replace("_", "-").replace("_", "-");
      return function() {
        var args;
        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
        if (current_rule) {
          current_rule[css_real_name] = args[0];
          return;
        }
        if (current_tag.attrs.style == null) {
          current_tag.attrs.style = {};
        }
        return current_tag.attrs.style[css_real_name] = args[0];
      };
    };
  
    window._handler = {};
  
    onecup.listeners = [];
  
    fn1 = function(i) {
      return onecup.listeners[i] = function() {
        onecup.track_error.apply(onecup, [window._handler[i]].concat(slice.call(arguments)));
        return onecup.refresh();
      };
    };
    for (i = j = 0; j < 5000; i = ++j) {
      fn1(i);
    }
  
    onecup.fn_count = 0;
  
    onecup.event_fn = function(fn) {
      var count;
      window._handler[onecup.fn_count] = fn;
      count = onecup.fn_count;
      onecup.fn_count += 1;
      return count;
    };
  
    make_event = function(js_name) {
      return function() {
        var args;
        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
        return current_tag.listeners[js_name.slice(2)] = onecup.event_fn(args[0]);
      };
    };
  
    for (l = 0, len = HTML_TAGS.length; l < len; l++) {
      tag = HTML_TAGS[l];
      onecup[tag] = make_tag(tag);
    }
  
    for (m = 0, len1 = CSS_PROPS.length; m < len1; m++) {
      css = CSS_PROPS[m];
      onecup[css] = make_css(css);
    }
  
    for (o = 0, len2 = JS_EVENT.length; o < len2; o++) {
      js_event = JS_EVENT[o];
      onecup[js_event] = make_event(js_event);
    }
  
    onecup.text = function() {
      var args;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      return tags.push({
        special: "text",
        text: args.join("")
      });
    };
  
    onecup.raw = function() {
      var args;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      return tags.push({
        special: "raw",
        text: args.join("")
      });
    };
  
    onecup.nbsp = function(n) {
      var p, ref, results;
      if (n == null) {
        n = 1;
      }
      results = [];
      for (i = p = 0, ref = n; 0 <= ref ? p < ref : p > ref; i = 0 <= ref ? ++p : --p) {
        results.push(onecup.raw("&nbsp;"));
      }
      return results;
    };
  
    onecup.raw_img = onecup.img;
  
    onecup.img = function() {
      var a, args, kargs, len3, p, src;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      for (p = 0, len3 = args.length; p < len3; p++) {
        a = args[p];
        if (a.src != null) {
          kargs = a;
          break;
        }
      }
      if (!kargs) {
        console.error("Image without source", args);
        return;
      }
      src = kargs.src;
      if (window.devicePixelRatio !== 1 && src.indexOf(".png") !== -1 && src.slice(0, 4) !== "http") {
        kargs.src = src.replace(".png", "@2x.png");
      }
      if (window.devicePixelRatio !== 1 && src.indexOf(".jpg") !== -1 && src.slice(0, 4) !== "http") {
        kargs.src = src.replace(".jpg", "@2x.jpg");
      }
      return onecup.raw_img.apply(onecup, args);
    };
  
    inserted = {};
  
    onecup.css = function() {
      var args, css_chain_prev, fn, rule_body, rule_css, rule_selector;
      args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
      if (args.length === 2) {
        rule_selector = args[0], fn = args[1];
      } else {
        rule_selector = "";
        fn = args[0];
      }
      css_chain_prev = css_chain;
      if (rule_selector[0] === ":") {
        css_chain = css_chain + rule_selector;
      } else if (rule_selector[0] === "&") {
        css_chain = css_chain + rule_selector.slice(1);
      } else {
        css_chain = css_chain + " " + rule_selector;
      }
      css_rule_chain.push(current_rule);
      current_rule = {};
      fn();
      rule_body = css_def(current_rule);
      current_rule = null;
      if (rule_body) {
        rule_css = css_chain + " {" + rule_body + "}";
        if (inserted[rule_css] !== true) {
          inserted[rule_css] = true;
          document.styleSheets[0].insertRule(rule_css, 0);
        }
      }
      css_chain = css_chain_prev;
      return current_rule = css_rule_chain.pop();
    };
  
    onecup["import"] = function() {
      var all, k;
      all = [];
      for (k in onecup) {
        if (k !== "import") {
          all.push(k + " = onecup." + k);
        }
      }
      return "var " + all.join(", ") + ";";
    };
  
    onecup.importCoffee = function(scope) {
      var all, k;
      all = (function() {
        var results;
        results = [];
        for (k in onecup) {
          if (k !== "import" && k !== "importCoffee") {
            results.push(k);
          }
        }
        return results;
      })();
      return "{" + all.join(", ") + "} = onecup";
    };
  
    onecup.genHTML = function(render) {
      var dom, elm, html, len3, len4, p, q, ref, ref1, ref2, tags2;
      ref = [[], tags], tags = ref[0], tags2 = ref[1];
      render();
      ref1 = [tags, tags2], tags2 = ref1[0], tags = ref1[1];
      html = "";
      for (p = 0, len3 = tags2.length; p < len3; p++) {
        elm = tags2[p];
        tag_build(elm);
        if (elm.dom != null) {
          html += elm.dom.innerHTML;
        }
        if (elm.doms != null) {
          ref2 = elm.doms;
          for (q = 0, len4 = ref2.length; q < len4; q++) {
            dom = ref2[q];
            html += dom.innerHTML;
          }
        }
      }
      return html;
    };
  
    redraw = function(time) {
      var e, error, error1, fn, len3, new_oml, p, ref, results;
      onecup.fn_count = 0;
      onecup.params = parse_url();
      onecup.post_render_fns = [];
      if (!onecup.body) {
        try {
          onecup.body = document.getElementById('onecup');
          if (!onecup.body && document.body) {
            onecup.body = document.body.innerHTML += "<div id='onecup'></div>";
          } else {
            onecup.after(0, onecup.refresh);
            return;
          }
        } catch (error) {
          e = error;
          onecup.after(0, onecup.refresh);
        }
      }
      if (window.error_body != null) {
        try {
          if (typeof window.body === "function") {
            window.body();
          }
        } catch (error1) {
          e = error1;
          tags = [];
          if (typeof window.error_body === "function") {
            window.error_body(e);
          }
        }
      } else {
        if (typeof window.body === "function") {
          window.body();
        }
      }
      new_oml = render();
      if (!full_refresh && old_oml) {
        dom_scan(onecup.body, new_oml, old_oml);
      } else {
        onecup.body.innerHTML = '';
        dom_build(onecup.body, new_oml);
        full_refresh = false;
      }
      old_oml = new_oml;
      ref = onecup.post_render_fns;
      results = [];
      for (p = 0, len3 = ref.length; p < len3; p++) {
        fn = ref[p];
        results.push(fn());
      }
      return results;
    };
  
    onecup.post_render = function(fn) {
      return onecup.post_render_fns.push(fn);
    };
  
    dom_build = function(parent, oml) {
      var elm, len3, p;
      for (p = 0, len3 = oml.length; p < len3; p++) {
        elm = oml[p];
        tag_build(elm);
        tag_add(parent, elm);
      }
    };
  
    tag_add = function(parent, elm) {
      var dom, len3, p, ref, results;
      if (!(parent != null ? parent.appendChild : void 0)) {
        return;
      }
      elm.parentNode = parent;
      if (elm.dom != null) {
        parent.appendChild(elm.dom);
      }
      if (elm.doms != null) {
        ref = elm.doms;
        results = [];
        for (p = 0, len3 = ref.length; p < len3; p++) {
          dom = ref[p];
          results.push(parent.appendChild(dom));
        }
        return results;
      }
    };
  
    tag_build = function(elm) {
      var child, dom, k, len3, p, ref, ref1, ref2, v;
      if (elm.special === "raw") {
        dom = document.createElement("span");
        dom.innerHTML = elm.text;
        elm.doms = [];
        ref = dom.childNodes;
        for (p = 0, len3 = ref.length; p < len3; p++) {
          child = ref[p];
          elm.doms.push(child);
        }
        if (elm.doms.length === 0) {
          elm.doms.push(document.createTextNode(""));
        }
      } else if (elm.special === "text") {
        dom = document.createTextNode(elm.text);
        elm.dom = dom;
      } else {
        dom = document.createElement(elm.tag);
        elm.dom = dom;
        ref1 = elm.attrs;
        for (k in ref1) {
          v = ref1[k];
          if (Array.isArray(v)) {
            v = v.join(" ");
          }
          if (k === "selected") {
            if (v === true) {
              dom.setAttribute(k, v);
            }
          } else {
            dom.setAttribute(k, v);
          }
        }
        ref2 = elm.listeners;
        for (k in ref2) {
          v = ref2[k];
          dom.addEventListener(k, onecup.listeners[v]);
        }
        if (elm.children) {
          dom_build(dom, elm.children);
        }
      }
    };
  
    dom_scan = function(parent, as, bs) {
      var elm, p, q, r, ref, ref1, ref2, ref3, ref4, scan_length;
      if ((as == null) && (bs == null)) {
        return;
      } else if (as == null) {
        parent.innerHTML = '';
      } else if (bs == null) {
        dom_build(parent, as);
      } else {
        if (as.length < bs.length) {
          for (i = p = ref = as.length, ref1 = bs.length; ref <= ref1 ? p < ref1 : p > ref1; i = ref <= ref1 ? ++p : --p) {
            tag_remove(bs[i]);
          }
          scan_length = as.length;
        } else {
          scan_length = bs.length;
        }
        for (i = q = 0, ref2 = scan_length; 0 <= ref2 ? q < ref2 : q > ref2; i = 0 <= ref2 ? ++q : --q) {
          tag_scan(as[i], bs[i]);
        }
        if (as.length > bs.length) {
          for (i = r = ref3 = bs.length, ref4 = as.length; ref3 <= ref4 ? r < ref4 : r > ref4; i = ref3 <= ref4 ? ++r : --r) {
            elm = as[i];
            tag_build(elm);
            tag_add(parent, elm);
          }
        }
      }
    };
  
    tag_scan = function(a, b) {
      var dom, k, ref, ref1, ref2, ref3, v;
      if (b == null) {
        throw "no tag b";
      } else if ((a.special != null) || (b.special != null)) {
        if (a.special !== b.special || a.text !== b.text) {
          tag_build(a);
          tag_replace(a, b);
        } else {
          if (b.dom != null) {
            a.dom = b.dom;
          } else if (b.doms != null) {
            a.doms = b.doms;
          } else {
            throw "b has no doms";
          }
        }
      } else if (a.tag !== b.tag) {
        tag_build(a);
        tag_replace(a, b);
      } else if (a.attrs.id !== b.attrs.id) {
        tag_build(a);
        tag_replace(a, b);
      } else {
        dom = a.dom = b.dom;
        ref = a.attrs;
        for (k in ref) {
          v = ref[k];
          if (v !== b.attrs[k]) {
            if (k === 'value' && document.activeElement !== dom) {
              dom.value = v;
            } else if (k === 'style' && IE) {
              dom.removeAttribute(k);
              dom.setAttribute(k, v);
            } else if (k === 'src') {
              dom.src = "data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";
              dom.src = v;
            } else {
              dom.setAttribute(k, v);
            }
          }
        }
        ref1 = b.attrs;
        for (k in ref1) {
          v = ref1[k];
          if (a.attrs[k] == null) {
            dom.removeAttribute(k);
          }
        }
        ref2 = a.listeners;
        for (k in ref2) {
          v = ref2[k];
          if (b.listeners[k] == null) {
            dom.addEventListener(k, onecup.listeners[v]);
          } else if (v !== b.listeners[k]) {
            dom.removeEventListener(k, onecup.listeners[b.listeners[k]]);
            dom.addEventListener(k, onecup.listeners[v]);
          }
        }
        ref3 = b.listeners;
        for (k in ref3) {
          v = ref3[k];
          if (a.listeners[k] == null) {
            dom.removeEventListener(k, onecup.listeners[v]);
          }
        }
        dom_scan(dom, a.children, b.children);
      }
    };
  
    tag_replace = function(a, b) {
      var b_dom, dom, len3, p, parent, ref;
      if (b.dom != null) {
        b_dom = b.dom;
      } else if (b.doms != null) {
        b_dom = b.doms[0];
      } else {
        throw "element b not created";
      }
      parent = b_dom.parentNode;
      if (parent == null) {
        parent = b.parentNode;
        tag_add(parent, a);
        return;
      }
      if (a.dom != null) {
        parent.insertBefore(a.dom, b_dom);
        a.parentNode = parent;
      } else if (a.doms != null) {
        ref = a.doms;
        for (p = 0, len3 = ref.length; p < len3; p++) {
          dom = ref[p];
          parent.insertBefore(dom, b_dom);
        }
        a.parentNode = parent;
      } else {
        throw "element a not created yet";
      }
      return tag_remove(b);
    };
  
    tag_remove = function(b) {
      var dom, len3, p, parent, ref;
      if (b.dom != null) {
        parent = b.dom.parentNode;
        if (parent) {
          parent.removeChild(b.dom);
        }
      } else if (b.doms != null) {
        parent = b.doms[0].parentNode;
        ref = b.doms;
        for (p = 0, len3 = ref.length; p < len3; p++) {
          dom = ref[p];
          parent.removeChild(dom);
        }
      }
    };
  
    parse_url = function() {
      var params;
      if (window.location == null) {
        return {};
      }
      params = window.location.search.slice(1);
      return onecup.parse_query_string(params);
    };
  
    onecup.parse_query_string = function(params) {
      var args, k, len3, p, pair, ref, ref1, v;
      args = {};
      ref = params.split("&");
      for (p = 0, len3 = ref.length; p < len3; p++) {
        pair = ref[p];
        if (!pair) {
          continue;
        }
        ref1 = pair.split("="), k = ref1[0], v = ref1[1];
        if (v) {
          args[k] = unescape(decodeURI(v.replace(/\+/g, " ")));
        }
      }
      return args;
    };
  
    onecup.mk_url = function(base, params) {
      var key, part, parts, url, value;
      url = base;
      parts = (function() {
        var results;
        results = [];
        for (key in params) {
          value = params[key];
          part = "";
          part += key;
          part += "=";
          part += encodeURIComponent(value);
          results.push(part);
        }
        return results;
      })();
      if (parts.length > 0 && url[url.length - 1] !== "?") {
        url += "?";
      }
      return url + parts.join("&");
    };
  
    onecup.lookup = function(selector) {
      var selectorType;
      selectorType = 'querySelectorAll';
      if (selector.indexOf('#') === 0) {
        selectorType = 'getElementById';
        selector = selector.substr(1, selector.length);
      }
      return document[selectorType](selector);
    };
  
    setup_new_window = function() {
      onecup.new_page();
      return onecup.refresh();
    };
  
    onecup.newTab = function(url) {
      if ((typeof electron !== "undefined" && electron !== null) && url.substr(0, 4) === "http") {
        electron.shell.openExternal(url);
        return;
      }
      return window.open(url);
    };
  
    onecup.goto = window.goto = function(url) {
      var ref;
      if ((typeof electron !== "undefined" && electron !== null) && url.substr(0, 4) === "http") {
        electron.shell.openExternal(url);
        return;
      }
      if (typeof track === "function") {
        track("goto", {
          url: url
        });
      }
      if (url.substr(0, 4) === "http" || url.substr(0, 7) === "mailto:") {
        window.location = url;
        return;
      }
      if (window.self !== window.top) {
        window.open(url);
        return;
      }
      if (((ref = window.history) != null ? ref.pushState : void 0) != null) {
        window.history.pushState("", url, url);
      } else {
        if (window.location.pathname === "/" && url.slice(0, 2) === "/#") {
          window.location.hash = url.slice(2);
        } else {
          window.location = url;
        }
      }
      return setup_new_window();
    };
  
    window.onpopstate = function(event) {
      onecup.scroll_top();
      return setup_new_window();
    };
  
    onecup.scroll_top = function() {
      var error;
      try {
        return window.scrollTo(0, 0);
      } catch (error) {
        return typeof track === "function" ? track("scroll_error") : void 0;
      }
    };
  
    window.current_view = null;
  
    window.last_view_params = null;
  
    window.with_view = function(view_name, params) {
      var ref;
      if (view_name !== window.current_view) {
        if ((ref = window.last_view_params) != null) {
          if (typeof ref.exit === "function") {
            ref.exit();
          }
        }
        if (params != null) {
          if (typeof params.enter === "function") {
            params.enter();
          }
        }
        window.current_view = view_name;
        onecup.refresh();
      }
      return window.last_view_params = params;
    };
  
    onecup.on_click = function(event) {
      var href, target;
      if (event.ctrlKey || event.metaKey || event.altKey || event.button === 1) {
        return;
      }
      target = event.target;
      href = typeof target.getAttribute === "function" ? target.getAttribute("href") : void 0;
      while (!href) {
        target = target.parentNode;
        if (!target || !target.getAttribute) {
          return;
        }
        href = typeof target.getAttribute === "function" ? target.getAttribute("href") : void 0;
      }
      if (typeof target.onclick === "function") {
        target.onclick();
      }
      if ((typeof electron !== "undefined" && electron !== null) && href.substr(0, 4) === "http") {
        electron.shell.openExternal(href);
        event.preventDefault();
        event.stopPropagation();
        return;
      }
      if (href.substr(0, 4) !== "http" && !target.getAttribute("target")) {
        goto(href);
        onecup.refresh();
        event.preventDefault();
      } else {
        if (target.target == null) {
          if (typeof track === "function") {
            track("exit", {
              url: href
            });
          }
          window.location = href;
        } else {
          if (typeof track === "function") {
            track("new_window", {
              url: href
            });
          }
        }
      }
      event.stopPropagation();
    };
  
    window.addEventListener("click", onecup.on_click, true);
  
    onecup.on_submit = function(event) {
      event.preventDefault();
      return event.stopPropagation();
    };
  
    window.addEventListener("submit", onecup.on_submit, true);
  
    requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || function(callback) {
      return window.setTimeout(callback, 17);
    };
  
    onecup.after = function(ms, fn) {
      var wrap_fn;
      wrap_fn = function() {
        fn();
        return onecup.refresh();
      };
      return setTimeout(wrap_fn, ms);
    };
  
    onecup.later = function(ms, fn) {
      var wrap_fn;
      wrap_fn = function() {
        fn();
        return onecup.refresh();
      };
      return setTimeout(wrap_fn, ms);
    };
  
    needs_refresh_flag = false;
  
    dont_refresh_this_time = false;
  
    onecup.refresh = function() {
      var tick;
      if (dont_refresh_this_time) {
        dont_refresh_this_time = false;
        return;
      }
      if (needs_refresh_flag === false) {
        needs_refresh_flag = true;
        tick = function() {
          needs_refresh_flag = false;
          return onecup.track_error(redraw);
        };
        return requestAnimationFrame(tick, 0);
      }
    };
  
    onecup.no_refresh = function() {
      return dont_refresh_this_time = true;
    };
  
    onecup.track_error = function() {
      var args, e, error, fn;
      fn = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
      if (typeof track !== "undefined" && track !== null) {
        try {
          return fn.apply(null, args);
        } catch (error) {
          e = error;
          track('error', {
            stack: e.stack,
            message: "" + e
          });
          throw e;
        }
      } else {
        return fn.apply(null, args);
      }
    };
  
    window.onresize = function() {
      return onecup.refresh();
    };
  
    visibilitychange = function() {
      return onecup.refresh();
    };
  
    document.addEventListener("visibilitychange", visibilitychange, false);
  
    onecup.params = parse_url();
  
    onecup.after(0, onecup.refresh);
  
    onecup.preloaded = {};
  
    onecup.preload = function(src) {
      var image;
      if (window.devicePixelRatio !== 1 && src.indexOf(".png") !== -1 && src.slice(0, 4) !== "http") {
        src = src.replace(".png", "@2x.png");
      }
      if (!onecup.preloaded[src]) {
        image = new Image();
        image.src = src;
        return onecup.preloaded[src] = image;
      }
    };
  
    onecup.getCache = {};
  
    onecup.get = function(url) {
      var page, xhr;
      if (!onecup.getCache[url]) {
        page = {
          loaded: false
        };
        xhr = new XMLHttpRequest();
        xhr.addEventListener("load", function(e) {
          page.status = xhr.status;
          page.loaded = e;
          page.json = JSON.parse(xhr.responseText);
          return onecup.refresh();
        });
        xhr.addEventListener("error", function(e) {
          page.error = e;
          return onecup.refresh();
        });
        xhr.addEventListener("abort", function(e) {
          page.abort = e;
          return onecup.refresh();
        });
        xhr.open("GET", url);
        xhr.send();
        page.xhr = xhr;
        onecup.getCache[url] = page;
      }
      return onecup.getCache[url];
    };
  
  }).call(this);
  ;
  
  
  //from src/steam.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var e, error, error1, path;
  
    eval(onecup["import"]());
  
    window.steam = {};
  
    window.greenworks = null;
  
    steam.loadDLC = function() {
      if (steam.ok) {
        if (greenworks.isSubscribedApp(472490)) {
          account.DLCs['Paint Job'] = true;
          account.DLCbonus = true;
        }
        if (greenworks.isSubscribedApp(614180)) {
          account.DLCs['Curves and Shadows'] = true;
          return account.DLCbonus = true;
        }
      }
    };
  
    if ((typeof require !== "undefined" && require !== null) && ("" + process.argv).indexOf("no-steam") === -1) {
      print("loading green works");
      if (process.platform === 'darwin') {
        if (process.arch === 'x64') {
          path = process.execPath.replace("/Contents/Frameworks/Electron Helper.app/Contents/MacOS/Electron Helper", "");
          path += "/Contents/MacOS/lib/greenworks-osx64";
          try {
            window.greenworks = require(path);
          } catch (error) {
            e = error;
            print("failed to load green works from", path, e);
            path = process.cwd() + '/lib/greenworks-osx64';
            try {
              window.greenworks = require();
            } catch (error1) {
              e = error1;
              print("failed to load green works from", path, e);
            }
          }
        }
      } else if (process.platform === 'win32') {
        if (process.arch === 'x64') {
          window.greenworks = require(process.cwd() + '/lib/greenworks-win64');
        } else if (process.arch === 'ia32') {
          window.greenworks = require(process.cwd() + '/lib/greenworks-win32');
        }
      } else if (process.platform === 'linux') {
        if (process.arch === 'x64') {
          window.greenworks = require(process.cwd() + '/lib/greenworks-linux64');
        }
      }
      if (greenworks) {
        if (greenworks.initAPI()) {
          steam.ok = true;
          steam.profile = greenworks.getSteamId();
          steam.name = steam.profile.screenName;
          steam.id = steam.profile.steamId;
        } else {
          alert("Steam failed to initialize, steam features like DLC will be disabled.", "Steam API error");
          print("Could not init steam");
        }
      }
    }
  
  }).call(this);
  ;
  
  
  //from src/account.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var afterTimeout, isValidEmail, isValidName, spacer;
  
    eval(onecup["import"]());
  
    window.account = {};
  
    afterTimeout = function(ms, fn) {
      return setTimeout(fn, ms);
    };
  
    account.signedIn = false;
  
    account.wating = false;
  
    account.error = false;
  
    account.autoSigningIn = false;
  
    account.name = typeof steam !== "undefined" && steam !== null ? steam.name : void 0;
  
    account.load = function() {
      var c, ref;
      c = db.load("commander");
      if (c) {
        account.name = c.name;
        account.color = c.color;
        account.email = c.email;
        account.token = c.token;
      } else {
        account.color = choose(colors.nice);
      }
      if (onecup.params.token && onecup.params.email) {
        account.token = onecup.params.token;
        account.email = onecup.params.email;
        account.passworedReset = true;
        if (onecup.params.token) {
          if (typeof history !== "undefined" && history !== null) {
            history.pushState({}, "game", location.pathname);
          }
        }
      }
      if (typeof require !== "undefined" && require !== null) {
        account.loadDLC();
      }
      if (((ref = window.location) != null ? ref.href.indexOf("gamedev.html") : void 0) !== -1) {
        account.DLCs['Curves and Shadows'] = true;
        account.DLCs['Paint Job'] = true;
        return account.DLCbonus = true;
      }
    };
  
    account.connectedToRoot = function() {
      return new Fingerprint2().get(function(result, components) {
        account.fingerprint = result;
        if (account.token && account.email) {
          account.autoSigningIn = true;
          account.signin();
          return account.authTab = "Sign In";
        }
      });
    };
  
    account.fix = function() {
      var buildBar, fk, fv, i, j, l, len, m, n, o, part, ref, ref1, ref2, ref3, results, ship, specParts, unit;
      if (!commander.buildBar) {
        commander.buildBar = ["", "", "", "", "", "", "", "", "", ""];
      }
      if (!Array.isArray(commander.buildBar) || commander.buildBar.length !== 10) {
        buildBar = ["", "", "", "", "", "", "", "", "", ""];
        if ((typeof commander.buildBar) === "object") {
          for (i = j = 0; j < 10; i = ++j) {
            ship = commander.buildBar[i];
            if (ship) {
              buildBar[i] = ship;
            }
          }
        }
        commander.buildBar = buildBar;
      }
      if ((ref = commander.aiRules) != null ? ref.length = 10 : void 0) {
        for (i = l = 0; l < 10; i = ++l) {
          if (((ref1 = commander.aiRules[i]) != null ? ref1.length : void 0) > 0 && commander.buildBar[i]) {
            unit = new types.Unit(commander.buildBar[i]);
            if (unit.aiRules.length > 0) {
              break;
            }
            specParts = [];
            ref2 = unit.parts;
            for (m = 0, len = ref2.length; m < len; m++) {
              part = ref2[m];
              specParts.push({
                pos: [part.pos[0], part.pos[1]],
                type: part.constructor.name,
                dir: part.dir
              });
            }
            console.log(i + ": add AI rules to build bar", commander.aiRules[i], commander.buildBar[i]);
            commander.buildBar[i] = toShort({
              parts: specParts,
              name: unit.name,
              aiRules: commander.aiRules[i]
            });
          }
          commander.aiRules[i] = [];
        }
      }
      if (!commander.galaxy) {
        commander.galaxy = {};
      }
      if (!commander.settings) {
        commander.settings = {};
      }
      if (commander.settings["Follow Units"]) {
        commander.settings["Focus Fire/Follow"] = commander.settings["Follow Units"];
        delete commander.settings["Follow Units"];
      }
      if (!commander.buildQ) {
        commander.buildQ = [];
      }
      if (!commander.selection) {
        commander.selection = [];
      }
      if (!commander.validBar) {
        commander.validBar = [true, true, true, true, true, true, true, true, true, true];
      }
      if (!commander.fleet) {
        commander.fleet = {};
      }
      if (!commander.fleet.ais) {
        commander.fleet.ais = {};
      }
      if (!commander.fleet.tabs) {
        commander.fleet.tabs = ["default"];
      }
      if (!commander.fleet.selection) {
        commander.fleet.selection = {
          row: 0,
          tab: null
        };
      }
      for (i = n = 0; n < 10; i = ++n) {
        if (!commander.fleet["0," + i] && commander.buildBar[i]) {
          commander.fleet["0," + i] = commander.buildBar[i];
        }
      }
      if (!commander.friends) {
        commander.friends = {};
      }
      if (!commander.mutes) {
        commander.mutes = {};
      }
      if (!commander.id) {
        commander.id = rid();
      }
      account.lastRootSave = deepCopy(account.simpleCommander());
      for (i = o = 0; o < 10; i = ++o) {
        account.lastRootSaveBuildBar[i] = commander.buildBar[i];
      }
      ref3 = commander.fleet;
      results = [];
      for (fk in ref3) {
        fv = ref3[fk];
        results.push(account.lastRootSaveFleet[fk] = JSON.stringify(fv));
      }
      return results;
    };
  
    account.simpleCommander = function() {
      return {
        email: commander.email,
        token: commander.token,
        id: commander.id,
        name: commander.name,
        color: commander.color,
        faction: commander.faction,
        friends: commander.friends,
        version: window.VERSION + "." + window.MINOR_VERSION,
        buildBar: commander.buildBar,
        fleet: commander.fleet,
        aiRules: commander.aiRules,
        galaxyDifficulty: commander.galaxyDifficulty,
        galaxy: commander.galaxy,
        challenges: commander.challenges,
        settings: commander.settings,
        mutes: commander.mutes,
        friends: commander.friends
      };
    };
  
    account.save = function() {
      var i, j, key, ref, ref1, ref2, row, simpleCommander, tab;
      for (i = j = 0; j < 10; i = ++j) {
        ref = commander.fleet.selection, row = (ref1 = ref.row) != null ? ref1 : 0, tab = (ref2 = ref.tab) != null ? ref2 : null;
        key = getFleetKey(row, i, tab);
        commander.buildBar[i] = commander.fleet[key] || "";
      }
      if (typeof network !== "undefined" && network !== null) {
        network.sendPlayer(false);
      }
      commander.ts = Date.now();
      simpleCommander = account.simpleCommander();
      delete simpleCommander.fleet;
      return db.save("commander", simpleCommander);
    };
  
    account.lastRootSave = {};
  
    account.lastRootSaveBuildBar = {};
  
    account.lastRootSaveFleet = {};
  
    account.rootSave = function() {
      if (typeof electron !== "undefined" && electron !== null) {
        if (account.rootSaveTimeout) {
          clearTimeout(account.rootSaveTimeout);
        }
        return account.rootSaveTimeout = setTimeout(account.rootRealSave, 30 * 1000);
      } else {
        if (account.rootSaveTimeout) {
          clearTimeout(account.rootSaveTimeout);
        }
        return account.rootSaveTimeout = setTimeout(account.rootRealSave, 5 * 1000);
      }
    };
  
    account.rootRealSave = function() {
      var buildBar, fk, fleet, fv, i, j, jsonSpec, k, playerDiff, ref, thisRootSave, update, v;
      thisRootSave = account.simpleCommander();
      playerDiff = {};
      update = false;
      for (k in thisRootSave) {
        v = thisRootSave[k];
        if (k === "buildBar") {
          buildBar = {};
          for (i = j = 0; j < 10; i = ++j) {
            if (thisRootSave.buildBar[i] !== account.lastRootSaveBuildBar[i]) {
              account.lastRootSaveBuildBar[i] = thisRootSave.buildBar[i];
              buildBar[i] = thisRootSave.buildBar[i];
            }
          }
          playerDiff.buildBar = buildBar;
        } else if (k === "fleet") {
          fleet = {};
          ref = thisRootSave.fleet;
          for (fk in ref) {
            fv = ref[fk];
            jsonSpec = JSON.stringify(fv);
            if (jsonSpec !== account.lastRootSaveFleet[fk]) {
              account.lastRootSaveFleet[fk] = jsonSpec;
              fleet[fk] = fv;
              update = true;
            }
          }
          if (update) {
            playerDiff.fleet = fleet;
          }
        } else {
          if (JSON.stringify(v) === account.lastRootSave[k]) {
            delete thisRootSave[k];
          } else {
            account.lastRootSave[k] = JSON.stringify(v);
            playerDiff[k] = v;
            update = true;
          }
        }
      }
      if (!update) {
        return;
      }
      return rootNet.send("savePlayer", playerDiff);
    };
  
    account.closeAndSave = function(e) {
      account.savingToServer = true;
      account.rootRealSave();
      return rootNet.send("ping", "windowClose");
    };
  
    window.onbeforeunload = function(e) {
      if (account.signedIn === false || rootNet.websocket.readyState !== WebSocket.OPEN) {
        return;
      }
      if (account.needsToClose) {
        return;
      }
      if (typeof electron !== "undefined" && electron !== null) {
        account.closeAndSave(e);
        account.needsToClose = true;
        return e.returnValue = false;
      }
    };
  
    account.signin = function() {
      account.waiting = true;
      account.error = "";
      if (!account.token && account.password) {
        account.token = account.hashPass(account.password);
      }
      return rootNet.send("authSignIn", {
        email: account.email,
        token: account.token,
        fingerprint: account.fingerprint,
        steamid: typeof steam !== "undefined" && steam !== null ? steam.id : void 0
      });
    };
  
    account.authError = function(message) {
      console.log("account.authError", message);
      account.error = message;
      account.waiting = false;
      account.autoSigningIn = false;
      return account.signedIn = false;
    };
  
    account.signinReply = function(rootPlayer) {
      account.waiting = false;
      account.error = false;
      account.autoSigningIn = false;
      if (commander) {
        account.fix();
        account.save();
        account.rootSave();
      } else {
        window.commander = rootPlayer;
        account.fix();
        account.save();
      }
      account.name = commander.name;
      account.color = commander.color;
      account.email = commander.email;
      account.token = commander.token;
      account.signedIn = true;
      if (typeof network !== "undefined" && network !== null) {
        network.sendPlayer();
      }
      galaxyMode.load();
      if (typeof rootNet !== "undefined" && rootNet !== null) {
        rootNet.sendMode();
      }
      if (account.passworedReset) {
        console.log("go to password reset");
        ui.mode = "reset";
        return account.passworedReset = false;
      }
    };
  
    account.merge = function(a, b) {
      var aHas, aNeeds, aNeedsList, bship, j, k, l, len, len1, m, n, ref, ref1, ref2, ref3, ref4, ref5, ship, star, x, xy, y;
      console.log("saving players to player backup");
      try {
        db.save("commander.A", a);
      } catch (undefined) {}
      try {
        db.save("commander.B", b);
      } catch (undefined) {}
      if (!a.buildBar) {
        a.buildBar = ["", "", "", "", "", "", "", "", "", ""];
      }
      if (!b.buildBar) {
        b.buildBar = ["", "", "", "", "", "", "", "", "", ""];
      }
      if (!a.fleet) {
        a.fleet = {};
      }
      if (!b.fleet) {
        b.fleet = {};
      }
      aHas = {};
      ref = a.buildBar;
      for (j = 0, len = ref.length; j < len; j++) {
        ship = ref[j];
        if (ship) {
          aHas[ship] = true;
        }
      }
      ref1 = a.fleet;
      for (xy in ref1) {
        ship = ref1[xy];
        if (ship) {
          aHas[ship] = true;
        }
      }
      aNeeds = {};
      ref2 = b.buildBar;
      for (l = 0, len1 = ref2.length; l < len1; l++) {
        bship = ref2[l];
        if (bship && !aHas[bship]) {
          aNeeds[bship] = true;
        }
      }
      ref3 = b.fleet;
      for (xy in ref3) {
        bship = ref3[xy];
        if (bship && !aHas[bship]) {
          aNeeds[bship] = true;
        }
      }
      aNeedsList = (function() {
        var results;
        results = [];
        for (bship in aNeeds) {
          results.push(bship);
        }
        return results;
      })();
      console.log("merging players extra " + aNeedsList.length + " ships found");
      for (x = m = 1; m < 100; x = ++m) {
        if (aNeedsList.length === 0) {
          break;
        }
        for (y = n = 0; n <= 10; y = ++n) {
          if (aNeedsList.length === 0) {
            break;
          }
          if (!a.fleet[x + "," + y]) {
            a.fleet[x + "," + y] = aNeedsList.pop();
          }
        }
      }
      if (!a.galaxy) {
        a.galaxy = {};
      }
      if ((ref4 = b.galaxy) != null ? ref4.starsWon : void 0) {
        ref5 = b.galaxy.starsWon;
        for (k in ref5) {
          star = ref5[k];
          if (a.galaxy[k] == null) {
            console.log("add star", k);
            a.galaxy[k] = star;
          }
        }
      }
      return a;
    };
  
    account.register = function() {
      account.waiting = true;
      account.error = "";
      console.log("register", [account.name, account.email, account.password]);
      if (!isValidName(account.name)) {
        account.error = "Please use ASCII letters and numbers for name";
        return;
      }
      if (!isValidEmail(account.email)) {
        account.error = "Invalid Email";
        return;
      }
      if (!account.password) {
        account.error = "Enter a password";
        return;
      }
      account.token = account.hashPass(account.password);
      return rootNet.send("authRegister", {
        name: account.name,
        color: account.color,
        email: account.email,
        token: account.token,
        fingerprint: account.fingerprint
      });
    };
  
    account.forogtPasswordEmallMeLink = function() {
      if (!isValidEmail(account.email)) {
        account.error = "Invalid Email";
        return;
      }
      return rootNet.send("authEmailLink", account.email.toLowerCase());
    };
  
    account.changePassword = function() {
      var tokenNew, tokenOld;
      account.waiting = false;
      account.error = "";
      tokenOld = account.hashPass(account.oldPassword);
      tokenNew = account.hashPass(account.newPassword);
      if (onecup.params.token) {
        tokenOld = onecup.params.token;
      }
      console.log("change pass", account.oldPassword, account.newPassword);
      rootNet.send("authChangePassword", tokenOld, tokenNew);
      commander.token = tokenNew;
      return account.save();
    };
  
    account.hashPass = function(pass) {
      return sha1("fhs2:" + account.email + ":" + pass);
    };
  
    account.DLCs = {};
  
    account.loadDLC = function() {
      return typeof steam !== "undefined" && steam !== null ? steam.loadDLC() : void 0;
    };
  
    account.hasDLC = function(dlcName) {
      if (!dlcName) {
        return true;
      }
      return account.DLCs[dlcName];
    };
  
    account.hasDLCBonus = function() {
      return account.DLCbonus;
    };
  
    css(".bigtab", function() {
      display("inline-block");
      width(200);
      font_size(30);
      line_height(45);
      padding("10px 20px");
      margin("10px 20px 0px 20px");
      border_radius("5px 5px 0px 0px");
      background_color("rgba(255,255,255,.2)");
      return css(":hover", function() {
        return background_color("rgba(0,0,0,.5)");
      });
    });
  
    isValidEmail = function(email) {
      var re;
      re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(email);
    };
  
    isValidName = function(name) {
      var re;
      re = /^[A-Za-z0-9]+$/;
      return re.test(name);
    };
  
    account.authTab = "Sign In";
  
    account.signinOrRegisterMenu = function() {
      return ui.menuFrame("#signinorregister", function() {
        padding_top(280);
        padding_bottom(280);
        if (!rootNet) {
          div(function() {
            padding(20);
            background_color("rgba(0,255,0,.25)");
            text_align("center");
            return text("starting to connect to server");
          });
          return;
        }
        if (rootNet.websocket.readyState === WebSocket.CONNECTING) {
          div(function() {
            padding(20);
            background_color("rgba(0,255,0,.25)");
            text_align("center");
            return text("connecting to server");
          });
          return;
        }
        if (rootNet.websocket.readyState === WebSocket.CLOSED) {
          div(".hover-red", function() {
            padding(20);
            text_align("center");
            text("Failed to connect to main server. ");
            text("Click here to retry.");
            return onclick(function() {
              return rootNet.connect();
            });
          });
          return;
        }
        if (account.autoSigningIn) {
          div(function() {
            padding(20);
            background_color("rgba(0,255,0,.25)");
            text_align("center");
            return text("Signing in...");
          });
          return;
        }
        div(function() {
          var tab;
          text_align("center");
          height(75);
          tab = function(name, fn) {
            return div(".bigtab", function() {
              if (account.authTab === name) {
                background_color("rgba(0,0,0,.25)");
              }
              onclick(function() {
                return account.authTab = name;
              });
              return text(name);
            });
          };
          tab("Register");
          return tab("Sign In");
        });
        return div(function() {
          padding_top(20);
          padding_bottom(100);
          background_color("rgba(0,0,0,.25)");
          if (account.error) {
            div(function() {
              padding(20);
              font_size(20);
              background_color("rgba(255,0,0,.2)");
              return text(account.error);
            });
          }
          if (account.authTab === "Sign In") {
            account.loginFields(account.signin);
            button(".button", function() {
              display("block");
              margin_top(10);
              text_align("left");
              padding(20);
              font_size(30);
              color("white");
              width("100%");
              border("none");
              text_align("center");
              if (account.waiting) {
                text("...");
                return opacity(".5");
              } else {
                text("Sign In");
                return onclick(function() {
                  account.forgotPasswordSent = false;
                  return account.signin();
                });
              }
            });
            div(function() {
              return height(100);
            });
            button(".button", function() {
              display("block");
              margin_top(10);
              text_align("left");
              padding(20);
              font_size(30);
              color("white");
              width("100%");
              border("none");
              text_align("center");
              if (account.forgotPasswordSent === true) {
                return text("Sent Forgot password email.");
              } else {
                text("Forgot password. Email me a new one.");
                return onclick(function() {
                  account.forgotPasswordSent = true;
                  return account.forogtPasswordEmallMeLink();
                });
              }
            });
          }
          if (account.authTab === "Register") {
            account.colorNameField();
            account.loginFields(account.register);
            return button(".button", function() {
              display("block");
              margin_top(10);
              text_align("left");
              padding(20);
              font_size(30);
              color("white");
              width("100%");
              border("none");
              text_align("center");
              text("Register");
              return onclick(function() {
                return account.register();
              });
            });
          }
        });
      });
    };
  
    account.loginFields = function(onEnter) {
      input("#email.full", {
        type: "text",
        value: account.email,
        placeholder: "Email"
      }, function() {
        return oninput(function(e) {
          return account.email = e.target.value.toLowerCase();
        });
      });
      return input("#password.full", {
        type: "password",
        value: account.password,
        placeholder: "Password"
      }, function() {
        oninput(function(e) {
          account.password = e.target.value;
          return account.token = null;
        });
        return onkeydown(function(e) {
          if (e.which === 13) {
            return onEnter();
          }
        });
      });
    };
  
    account.factionField = function() {
      return input("#email.full", {
        type: "text",
        value: commander.faction || "",
        placeholder: "faction"
      }, function() {
        oninput(function(e) {
          var faction;
          faction = e.target.value.toUpperCase().slice(0, 4);
          faction = faction.replace(/[^A-Za-z0-9]/g, "");
          e.target.value = faction;
          return commander.faction = faction;
        });
        return onblur(function(e) {
          return account.rootSave();
        });
      });
    };
  
    account.colorOpen = false;
  
    account.colorNameField = function(op) {
      div(function() {
        margin("10px 0px");
        position("relative");
        background_color("rgba(0,0,0,.3)");
        height(75);
        input({
          type: "text",
          value: account.name,
          placeholder: "Nick Name",
          maxlength: 16,
          disabled: op != null ? op.disabled : void 0
        }, function() {
          position("absolute");
          top(0);
          left(0);
          padding("20px 20px 20px 80px");
          font_size(30);
          color("white");
          width("100%");
          background_color("transparent");
          border("none");
          onblur(function(e) {
            e.target.value = e.target.value.replace(/[^A-Za-z0-9]/g, "");
            return account.name = e.target.value;
          });
          return oninput(function(e) {
            e.target.value = e.target.value.replace(/[^A-Za-z0-9]/g, "");
            return account.name = e.target.value;
          });
        });
        return div(function() {
          position("absolute");
          top(0);
          left(0);
          width(55);
          height(55);
          margin(10);
          border_radius(15);
          border("2px solid white");
          box_shadow("0 0 7px rgba(255,255,255,.5), inset 0 0 3px 2px rgba(0,0,0,.5)");
          background_color(colors.cssRgba(account.color));
          return onclick(function() {
            return account.colorOpen = !account.colorOpen;
          });
        });
      });
      if (account.colorOpen) {
        div(function() {
          var c, j, len, ref, results;
          padding("0px 20px");
          text_align("center");
          ref = colors.nice;
          results = [];
          for (j = 0, len = ref.length; j < len; j++) {
            c = ref[j];
            results.push((function(c) {
              return div(function() {
                display("inline-block");
                width(32);
                height(32);
                margin(5);
                border_radius(8);
                if (account.color === c) {
                  border("2px solid white");
                  box_shadow("0 0 7px rgba(255,255,255,.5), inset 0 0 3px 2px rgba(0,0,0,.5)");
                } else {
                  box_shadow("0 0 3px 2px rgba(0,0,0,.5), inset 0 0 7px rgba(255,255,255,.5)");
                }
                background_color(colors.cssRgba(c));
                return onclick(function() {
                  account.color = c;
                  account.changedColor();
                  return account.colorOpen = false;
                });
              });
            })(c));
          }
          return results;
        });
        return input("#color", {
          type: "text",
          value: colors.toHex(account.color),
          placeholder: "Color"
        }, function() {
          display("block");
          margin("10px 0px");
          padding(20);
          font_size(30);
          color("white");
          width("100%");
          background_color("rgba(0,0,0,.3)");
          border("none");
          onkeypress(function(e) {
            if (e.which === 13) {
              e.target.blur();
              return account.colorOpen = false;
            }
          });
          return onchange(function(e) {
            account.color = colors.fromHex(e.target.value);
            return account.changedColor();
          });
        });
      }
    };
  
    account.changedColor = function() {
      if (account.signedIn) {
        commander.color = account.color;
        account.save();
        return account.rootSave();
      }
    };
  
    spacer = function() {
      return div(function() {
        return height(60);
      });
    };
  
    account.changePasswordToggle = false;
  
    account.profileMenu = function() {
      account.colorNameField({
        disabled: true
      });
      account.factionField();
      spacer();
      button(".red", function() {
        text("Change Password");
        return onclick(function() {
          return account.changePasswordToggle = !account.changePasswordToggle;
        });
      });
      div(function() {
        if (account.error) {
          padding(20);
          font_size(30);
          background_color("rgba(255,0,0,.2)");
          return text(account.error);
        }
      });
      if (account.changePasswordToggle) {
        input(".full", {
          type: "password",
          value: account.oldPassword,
          placeholder: "Current Password"
        }, function() {
          return onchange(function(e) {
            return account.oldPassword = e.target.value;
          });
        });
        input(".full", {
          type: "password",
          value: account.newPassword,
          placeholder: "New Password"
        }, function() {
          return onchange(function(e) {
            return account.newPassword = e.target.value;
          });
        });
        button(".red", function() {
          text("Change");
          return onclick(function() {
            account.changePassword();
            return account.changePasswordToggle = false;
          });
        });
      }
      spacer();
      return button(".red", function() {
        text("Sign out");
        return onclick(function() {
          localStorage.clear();
          return location.reload();
        });
      });
    };
  
    account.checkEmail = function() {
      return ui.inScreen("menu", "Email", function() {
        overflow("hidden");
        return div(function() {
          padding(20);
          return text("Email with a link has been sent to you. Please click that link.");
        });
      });
    };
  
    account.settingsResetPassword = function() {
      return ui.inScreen("menu", "Change Password", function() {
        padding_bottom(100);
        overflow_y("scroll");
        input(".full", {
          type: "password",
          value: account.newPassword,
          placeholder: "New Password"
        }, function() {
          return onchange(function(e) {
            return account.newPassword = e.target.value;
          });
        });
        return button(".red", function() {
          text("Change");
          return onclick(function() {
            account.changePassword();
            return ui.mode = "menu";
          });
        });
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/engine.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var canvas, dpr, gl, resizeViewport;
  
    gl = void 0;
  
    canvas = void 0;
  
    dpr = 1;
  
    if (window.devicePixelRatio === 2) {
      dpr = 2;
    }
  
    window.Atlas = (function() {
      function Atlas(params) {
        this.curSprite = 0;
        this.maxSpritesInBatch = 1024 * 2;
        this.spriteMap = {};
        this.drawMargin = 4;
        this.atlasMargin = 2;
        this.vertsBuf = null;
        this.uvsBuf = null;
        this.indexsBuf = null;
        this.uvs = new Float32Array(2 * 4 * this.maxSpritesInBatch);
        this.verts = new Float32Array(2 * 4 * this.maxSpritesInBatch);
        this.colors = new Uint8Array(4 * 4 * this.maxSpritesInBatch);
        this.indexs = new Uint16Array(2 * 3 * this.maxSpritesInBatch);
        this.initShader();
        this.initTexture();
        this.initBuffers();
        this.initOffscreenBuffer();
        this.viewPort = new Float32Array(4);
        this.frame = 0;
        this.ready = false;
      }
  
      Atlas.prototype.preloadList = function() {
        var key, results;
        results = [];
        for (key in this.spriteMap) {
          results.push(key);
        }
        return results;
      };
  
      Atlas.prototype.initShader = function() {
        var compileShader, linkShader, simpleFragment, simpleVertex;
        compileShader = function(type, src) {
          var shader;
          shader = gl.createShader(type);
          gl.shaderSource(shader, src);
          gl.compileShader(shader);
          if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
            console.log(gl.getShaderInfoLog(shader));
            return null;
          }
          return shader;
        };
        linkShader = function(fragmentSrc, vertexSrc) {
          var shader;
          shader = gl.createProgram();
          gl.attachShader(shader, compileShader(gl.FRAGMENT_SHADER, fragmentSrc));
          gl.attachShader(shader, compileShader(gl.VERTEX_SHADER, vertexSrc));
          gl.linkProgram(shader);
          if (!gl.getProgramParameter(shader, gl.LINK_STATUS)) {
            console.log("could not link shader");
            return null;
          }
          return shader;
        };
        simpleFragment = "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n    vec4 textureColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));\n    vec4 finalColor = textureColor * vColor;\n    gl_FragColor = finalColor;\n}";
        simpleVertex = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_Position = vec4(aVertexPosition, 0.0, 1.0);\n    vColor = aColor;\n    vTextureCoord = aTextureCoord;\n}";
        this.shader = linkShader(simpleFragment, simpleVertex);
        gl.useProgram(this.shader);
        this.shader.vertAttr = gl.getAttribLocation(this.shader, "aVertexPosition");
        gl.enableVertexAttribArray(this.shader.vertAttr);
        this.shader.uvsAttr = gl.getAttribLocation(this.shader, "aTextureCoord");
        gl.enableVertexAttribArray(this.shader.uvsAttr);
        this.shader.colorsAttr = gl.getAttribLocation(this.shader, "aColor");
        gl.enableVertexAttribArray(this.shader.colorsAttr);
        return this.shader.samplerUniform = gl.getUniformLocation(this.shader, "uSampler");
      };
  
      Atlas.prototype.initTexture = function() {
        var anisotropic, handleLoadedTexture, loadTexture, max_anisotropy;
        this.canvas = document.createElement('canvas');
        this.canvas.className = "atlas";
        this.originalTextureSize = 1024 * 4;
        this.textureSize = Math.min(this.originalTextureSize, gl.getParameter(gl.MAX_TEXTURE_SIZE));
        this.canvas.width = this.textureSize;
        this.canvas.height = this.textureSize;
        this.heights = new Uint16Array(this.canvas.width);
        this.texture = gl.createTexture();
        gl.bindTexture(gl.TEXTURE_2D, this.texture);
        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.canvas);
        gl.generateMipmap(gl.TEXTURE_2D);
        anisotropic = gl.getExtension("EXT_texture_filter_anisotropic");
        if (anisotropic) {
          max_anisotropy = gl.getParameter(anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
          gl.texParameterf(gl.TEXTURE_2D, anisotropic.TEXTURE_MAX_ANISOTROPY_EXT, max_anisotropy);
        }
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);
        gl.bindTexture(gl.TEXTURE_2D, null);
        handleLoadedTexture = function(texture) {
          gl.bindTexture(gl.TEXTURE_2D, texture);
          gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
          gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, texture.image);
          gl.generateMipmap(gl.TEXTURE_2D);
          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);
          gl.bindTexture(gl.TEXTURE_2D, null);
          return texture.loaded = true;
        };
        return loadTexture = function(src) {
          var texture;
          texture = gl.createTexture();
          texture.image = new Image();
          texture.image.onload = function() {
            return handleLoadedTexture(texture);
          };
          texture.image.src = src;
          return texture;
        };
      };
  
      Atlas.prototype.initBuffers = function() {
        var a, i, j, ref, x, y;
        for (i = j = 0, ref = this.maxSpritesInBatch; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
          a = 0;
          x = 0;
          y = 0;
          this.verts[i * 8 + 0] = x - a;
          this.verts[i * 8 + 1] = y - a;
          this.verts[i * 8 + 2] = x + a;
          this.verts[i * 8 + 3] = y - a;
          this.verts[i * 8 + 4] = x + a;
          this.verts[i * 8 + 5] = y + a;
          this.verts[i * 8 + 6] = x - a;
          this.verts[i * 8 + 7] = y + a;
          this.uvs[i * 8 + 0] = 0;
          this.uvs[i * 8 + 1] = 0;
          this.uvs[i * 8 + 2] = 1;
          this.uvs[i * 8 + 3] = 0;
          this.uvs[i * 8 + 4] = 1;
          this.uvs[i * 8 + 5] = 1;
          this.uvs[i * 8 + 6] = 0;
          this.uvs[i * 8 + 7] = 1;
          this.colors[i * 16 + 0] = 255;
          this.colors[i * 16 + 1] = 255;
          this.colors[i * 16 + 2] = 255;
          this.colors[i * 16 + 3] = 255;
          this.colors[i * 16 + 4] = 255;
          this.colors[i * 16 + 5] = 255;
          this.colors[i * 16 + 6] = 255;
          this.colors[i * 16 + 7] = 255;
          this.colors[i * 16 + 8] = 255;
          this.colors[i * 16 + 9] = 255;
          this.colors[i * 16 + 10] = 255;
          this.colors[i * 16 + 11] = 255;
          this.colors[i * 16 + 12] = 255;
          this.colors[i * 16 + 13] = 255;
          this.colors[i * 16 + 14] = 255;
          this.colors[i * 16 + 15] = 255;
          this.indexs[i * 6 + 0] = i * 4 + 0;
          this.indexs[i * 6 + 1] = i * 4 + 1;
          this.indexs[i * 6 + 2] = i * 4 + 2;
          this.indexs[i * 6 + 3] = i * 4 + 0;
          this.indexs[i * 6 + 4] = i * 4 + 2;
          this.indexs[i * 6 + 5] = i * 4 + 3;
        }
        this.vertsBuf = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertsBuf);
        gl.bufferData(gl.ARRAY_BUFFER, this.verts, gl.DYNAMIC_DRAW);
        this.uvsBuf = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.uvsBuf);
        gl.bufferData(gl.ARRAY_BUFFER, this.uvs, gl.DYNAMIC_DRAW);
        this.colorsBuf = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.colorsBuf);
        gl.bufferData(gl.ARRAY_BUFFER, this.colors, gl.DYNAMIC_DRAW);
        this.indexsBuf = gl.createBuffer();
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexsBuf);
        return gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indexs, gl.STATIC_DRAW);
      };
  
      Atlas.prototype.initOffscreenBuffer = function() {
        this.rtt = gl.createFramebuffer();
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.rtt);
        this.rtt.width = 64 * dpr;
        this.rtt.height = 64 * dpr;
        this.rttTexture = gl.createTexture();
        gl.bindTexture(gl.TEXTURE_2D, this.rttTexture);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);
        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.rtt.width, this.rtt.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);
        this.renderbuffer = gl.createRenderbuffer();
        gl.bindRenderbuffer(gl.RENDERBUFFER, this.renderbuffer);
        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, this.rtt.width, this.rtt.height);
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.rttTexture, 0);
        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, this.renderbuffer);
        this.pixels = new Uint8Array(4 * this.rtt.width * this.rtt.height);
        gl.bindTexture(gl.TEXTURE_2D, null);
        gl.bindRenderbuffer(gl.RENDERBUFFER, null);
        return gl.bindFramebuffer(gl.FRAMEBUFFER, null);
      };
  
      Atlas.prototype.startFrame = function() {
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);
        gl.viewport(0, 0, gl.viewportWidth, gl.viewportHeight);
        return this.frame += 1;
      };
  
      Atlas.prototype.startOffscreenFrame = function() {
        gl.bindFramebuffer(gl.FRAMEBUFFER, this.rtt);
        gl.viewport(0, 0, this.rtt.width, this.rtt.height);
        gl.clearColor(0.0, 0.0, 0.0, 0.0);
        return gl.clear(gl.COLOR_BUFFER_BIT);
      };
  
      Atlas.prototype.endOffscreenFrame = function() {
        var ctx, i, j, pixelsOut, ref, rttcanvas;
        gl.readPixels(0, 0, this.rtt.width, this.rtt.height, gl.RGBA, gl.UNSIGNED_BYTE, this.pixels);
        rttcanvas = document.createElement("canvas");
        rttcanvas.width = this.rtt.width;
        rttcanvas.height = this.rtt.height;
        ctx = rttcanvas.getContext('2d');
        pixelsOut = ctx.getImageData(0, 0, this.rtt.width, this.rtt.height);
        if (!(pixelsOut != null ? pixelsOut.data : void 0)) {
          return "";
        }
        for (i = j = 0, ref = this.pixels.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
          pixelsOut.data[i] = this.pixels[i];
        }
        ctx.putImageData(pixelsOut, 0, 0, 0, 0, this.rtt.width, this.rtt.height);
        gl.bindFramebuffer(gl.FRAMEBUFFER, null);
        return rttcanvas.toDataURL();
      };
  
      Atlas.prototype.loadAtlas = function(atlas) {
        var xhr;
        xhr = new XMLHttpRequest();
        xhr.open("GET", atlas.src, true);
        xhr.responseType = "arraybuffer";
        xhr.onprogress = (function(_this) {
          return function(e) {
            _this.progress = e.loaded / e.total;
            return onecup.refresh();
          };
        })(this);
        xhr.onload = (function(_this) {
          return function(e) {
            var encodedData, j, len, ref, s, stringData;
            _this.atlasImage = new Image();
            _this.atlasImage.onload = function(e) {
              var data;
              gl.bindTexture(gl.TEXTURE_2D, _this.texture);
              gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);
              if (_this.textureSize !== _this.atlasImage.width) {
                console.log("scaling image down");
                data = _this.scaleImage(_this.atlasImage, _this.textureSize);
              } else {
                data = _this.atlasImage;
              }
              gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, data);
              gl.generateMipmap(gl.TEXTURE_2D);
              _this.spriteMap = atlas.mappings;
              _this.ready = true;
              return onecup.refresh();
            };
            _this.atlasImage.onerror = function(e) {
              console.log("Could not load atlas image", e);
              return _this.error = true;
            };
            stringData = "";
            ref = new Uint8Array(xhr.response);
            for (j = 0, len = ref.length; j < len; j++) {
              s = ref[j];
              stringData += String.fromCharCode(s);
            }
            encodedData = window.btoa(stringData);
            return _this.atlasImage.src = "data:image/png;base64," + encodedData;
          };
        })(this);
        return xhr.send();
      };
  
      Atlas.prototype.scaleImage = function(image, size) {
        var ctx;
        canvas = document.createElement("canvas");
        canvas.width = size;
        canvas.height = size;
        ctx = canvas.getContext('2d');
        ctx.drawImage(image, 0, 0, size, size);
        return canvas;
      };
  
      Atlas.prototype.beginSprites = function(pos, zoom, viewPort) {
        if (pos == null) {
          pos = [0, 0];
        }
        if (zoom == null) {
          zoom = 1;
        }
        if (!viewPort) {
          this.viewPort[0] = pos[0];
          this.viewPort[1] = pos[1];
          this.viewPort[2] = gl.viewportWidth;
          this.viewPort[3] = gl.viewportHeight;
        } else {
          this.viewPort[0] = viewPort[0];
          this.viewPort[1] = viewPort[1];
          this.viewPort[2] = viewPort[2];
          this.viewPort[3] = viewPort[3];
        }
        this.viewPort[2] *= zoom / dpr;
        return this.viewPort[3] *= zoom / dpr;
      };
  
      Atlas.prototype.drawSprite = function(src, pos, size, rot, color, z) {
        var cos, h, i, j, m, mapping, n, sin, sx, sy, w, x, y, zf;
        if (color == null) {
          color = [255, 255, 255, 255];
        }
        if (z == null) {
          z = 0;
        }
        if (!this.ready) {
          return;
        }
        if (this.curSprite >= this.maxSpritesInBatch) {
          this.finishSprites();
        }
        mapping = this.spriteMap[src];
        if (!mapping) {
          console.error("not in mapping", src);
          return;
        }
        i = this.curSprite;
        m = this.drawMargin / this.originalTextureSize;
        this.uvs[i * 8 + 0] = mapping.uv[0] - m;
        this.uvs[i * 8 + 1] = mapping.uv[1] + m;
        this.uvs[i * 8 + 2] = mapping.uv[2] + m;
        this.uvs[i * 8 + 3] = mapping.uv[1] + m;
        this.uvs[i * 8 + 4] = mapping.uv[2] + m;
        this.uvs[i * 8 + 5] = mapping.uv[3] - m;
        this.uvs[i * 8 + 6] = mapping.uv[0] - m;
        this.uvs[i * 8 + 7] = mapping.uv[3] - m;
        this.colors[i * 16 + 0] = color[0];
        this.colors[i * 16 + 1] = color[1];
        this.colors[i * 16 + 2] = color[2];
        this.colors[i * 16 + 3] = color[3];
        this.colors[i * 16 + 4] = color[0];
        this.colors[i * 16 + 5] = color[1];
        this.colors[i * 16 + 6] = color[2];
        this.colors[i * 16 + 7] = color[3];
        this.colors[i * 16 + 8] = color[0];
        this.colors[i * 16 + 9] = color[1];
        this.colors[i * 16 + 10] = color[2];
        this.colors[i * 16 + 11] = color[3];
        this.colors[i * 16 + 12] = color[0];
        this.colors[i * 16 + 13] = color[1];
        this.colors[i * 16 + 14] = color[2];
        this.colors[i * 16 + 15] = color[3];
        w = (mapping.uv[2] - mapping.uv[0]) * this.originalTextureSize;
        h = (mapping.uv[1] - mapping.uv[3]) * this.originalTextureSize;
        sx = (w + this.drawMargin * 2) * size[0] / 2;
        sy = (h + this.drawMargin * 2) * size[1] / 2;
        cos = Math.cos(rot);
        sin = Math.sin(rot);
        this.verts[i * 8 + 0] = pos[0] + (-sx * cos + sy * sin);
        this.verts[i * 8 + 1] = pos[1] + (-sx * sin - sy * cos);
        this.verts[i * 8 + 2] = pos[0] + (+sx * cos + sy * sin);
        this.verts[i * 8 + 3] = pos[1] + (+sx * sin - sy * cos);
        this.verts[i * 8 + 4] = pos[0] + (+sx * cos - sy * sin);
        this.verts[i * 8 + 5] = pos[1] + (+sx * sin + sy * cos);
        this.verts[i * 8 + 6] = pos[0] + (-sx * cos - sy * sin);
        this.verts[i * 8 + 7] = pos[1] + (-sx * sin + sy * cos);
        for (n = j = 0; j < 4; n = ++j) {
          zf = Math.pow(1.001, -z);
          x = this.verts[i * 8 + n * 2 + 0];
          this.verts[i * 8 + n * 2 + 0] = (x + this.viewPort[0]) / this.viewPort[2] / zf;
          y = this.verts[i * 8 + n * 2 + 1];
          this.verts[i * 8 + n * 2 + 1] = (y + this.viewPort[1]) / this.viewPort[3] / zf;
        }
        return this.curSprite += 1;
      };
  
      Atlas.prototype.finishSprites = function(blend) {
        if (blend == null) {
          blend = false;
        }
        if (blend) {
          gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);
        } else {
          gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);
        }
        gl.useProgram(this.shader);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertsBuf);
        gl.bufferData(gl.ARRAY_BUFFER, this.verts, gl.DYNAMIC_DRAW);
        gl.vertexAttribPointer(this.shader.vertAttr, 2, gl.FLOAT, false, 0, 0);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.uvsBuf);
        gl.bufferData(gl.ARRAY_BUFFER, this.uvs, gl.DYNAMIC_DRAW);
        gl.vertexAttribPointer(this.shader.uvsAttr, 2, gl.FLOAT, false, 0, 0);
        gl.bindBuffer(gl.ARRAY_BUFFER, this.colorsBuf);
        gl.bufferData(gl.ARRAY_BUFFER, this.colors, gl.DYNAMIC_DRAW);
        gl.vertexAttribPointer(this.shader.colorsAttr, 4, gl.UNSIGNED_BYTE, true, 0, 0);
        gl.activeTexture(gl.TEXTURE0);
        gl.bindTexture(gl.TEXTURE_2D, this.texture);
        gl.uniform1i(this.shader.samplerUniform, 0);
        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexsBuf);
        gl.drawElements(gl.TRIANGLES, this.curSprite * 6, gl.UNSIGNED_SHORT, 0);
        return this.curSprite = 0;
      };
  
      return Atlas;
  
    })();
  
    window.initGL = function() {
      var contextError;
      canvas = document.getElementById("webGL");
      contextError = function(e) {
        ui.error = "webGL";
        track("webgl_context_error", {
          message: e.statusMessage
        });
        return ui.contextErrrorMessage = e.statusMessage;
      };
      canvas.addEventListener("webglcontextcreationerror", contextError, false);
      canvas.addEventListener("webglcontextlost", contextError, false);
      window.gl = gl = canvas.getContext("webgl", {
        failIfMajorPerformanceCaveat: true
      });
      if (!gl) {
        console.log("failed to init GL");
        return false;
      }
      resizeViewport();
      gl.clearColor(0.0, 0.0, 0.0, 1.0);
      gl.enable(gl.BLEND);
      return true;
    };
  
    window.onresize = function() {
      resizeViewport();
      return onecup.refresh();
    };
  
    resizeViewport = function() {
      if (!canvas) {
        return;
      }
      canvas.width = window.innerWidth * dpr;
      canvas.height = window.innerHeight * dpr;
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      if (gl != null) {
        gl.viewportWidth = canvas.width;
        return gl.viewportHeight = canvas.height;
      }
    };
  
    window.togglePointerLock = function() {
      canvas = document.getElementById("webGL");
      canvas.requestPointerLock = canvas.requestPointerLock || canvas.mozRequestPointerLock || canvas.webkitRequestPointerLock;
      return canvas.requestPointerLock();
    };
  
    window.isFullScreen = function() {
      return document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement;
    };
  
    window.toggleFullScreen = function() {
      console.log("toggle full screen");
      if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement) {
        enterFullScreen();
      } else {
        exitFullScreen();
      }
    };
  
    window.enterFullScreen = function() {
      if (document.documentElement.requestFullscreen) {
        return document.documentElement.requestFullscreen();
      } else if (document.documentElement.msRequestFullscreen) {
        return document.documentElement.msRequestFullscreen();
      } else if (document.documentElement.mozRequestFullScreen) {
        return document.documentElement.mozRequestFullScreen();
      } else if (document.documentElement.webkitRequestFullscreen) {
        return document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
      }
    };
  
    window.exitFullScreen = function() {
      if (document.exitFullscreen) {
        return document.exitFullscreen();
      } else if (document.msExitFullscreen) {
        return document.msExitFullscreen();
      } else if (document.mozCancelFullScreen) {
        return document.mozCancelFullScreen();
      } else if (document.webkitExitFullscreen) {
        return document.webkitExitFullscreen();
      }
    };
  
  }).call(this);
  ;
  
  
  //from src/colors.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var hex, j, len, ref;
  
    window.colors = {};
  
    colors.nice = [];
  
    colors.niceHex = ["D24D57", "F22613", "D91E18", "96281B", "EF4836", "D64541", "C0392B", "CF000F", "E74C3C", "DB0A5B", "F64747", "F1A9A0", "D2527F", "E08283", "F62459", "E26A6A", "DCC6E0", "663399", "674172", "AEA8D3", "913D88", "9A12B3", "BF55EC", "BE90D4", "8E44AD", "9B59B6", "446CB3", "E4F1FE", "4183D7", "59ABE3", "81CFE0", "52B3D9", "C5EFF7", "22A7F0", "3498DB", "2C3E50", "19B5FE", "336E7B", "22313F", "6BB9F0", "1E8BC3", "3A539B", "34495E", "67809F", "2574A9", "1F3A93", "89C4F4", "4B77BE", "5C97BF", "4ECDC4", "A2DED0", "87D37C", "90C695", "26A65B", "03C9A9", "68C3A3", "65C6BB", "1BBC9B", "1BA39C", "66CC99", "BADA55", "36D7B7", "C8F7C5", "86E2D5", "2ECC71", "16a085", "3FC380", "019875", "03A678", "4DAF7C", "2ABB9B", "00B16A", "1E824C", "049372", "26C281", "F5D76E", "F7CA18", "F4D03F", "e9d460", "FDE3A7", "F89406", "EB9532", "E87E04", "F4B350", "F2784B", "EB974E", "F5AB35", "D35400", "F39C12", "F9690E", "F9BF3B", "F27935", "E67E22", "ececec", "6C7A89", "D2D7D3", "EEEEEE", "BDC3C7", "ECF0F1", "95A5A6", "DADFE1", "ABB7B7", "F2F1EF", "BFBFBF"];
  
    colors.validate = function(a) {
      var b, i, j, ref;
      b = [0, 0, 0, 0];
      for (i = j = 0; j < 4; i = ++j) {
        if (Number.isInteger(a[i]) && (0 <= (ref = a[i]) && ref < 256)) {
          b[i] = Math.floor(a[i]);
        }
      }
      return b;
    };
  
    colors.brightness = function(c) {
      return (c[0] + c[1] + c[2]) / 3;
    };
  
    colors.copy = function(c) {
      return [c[0], c[1], c[2], c[3]];
    };
  
    colors.blackOrWhite = function(c) {
      if ((c[0] + c[1] + c[2]) / 3 > 128) {
        return [0, 0, 0, 255];
      } else {
        return [255, 255, 255, 255];
      }
    };
  
    colors.hsl2rgb = function(c) {
      var a, b, g, h, hue2rgb, l, p, q, r, s;
      h = c[0], s = c[1], l = c[2], a = c[3];
      if (s === 0) {
        r = g = b = l;
      } else {
        hue2rgb = function(p, q, t) {
          if (t < 0) {
            t += 1;
          }
          if (t > 1) {
            t -= 1;
          }
          if (t < 1 / 6) {
            return p + (q - p) * 6 * t;
          }
          if (t < 1 / 2) {
            return q;
          }
          if (t < 2 / 3) {
            return p + (q - p) * (2 / 3 - t) * 6;
          }
          return p;
        };
        q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        p = 2 * l - q;
        r = hue2rgb(p, q, h + 1 / 3);
        g = hue2rgb(p, q, h);
        b = hue2rgb(p, q, h - 1 / 3);
      }
      return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), a];
    };
  
    colors.rgb2hsl = function(c) {
      var a, b, d, g, h, l, max, min, r, s;
      r = c[0], g = c[1], b = c[2], a = c[3];
      r /= 255;
      g /= 255;
      b /= 255;
      max = Math.max(r, g, b);
      min = Math.min(r, g, b);
      l = (max + min) / 2;
      if (max === min) {
        h = s = 0;
      } else {
        d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch (max) {
          case r:
            h = (g - b) / d + (g < b ? 6 : 0);
            break;
          case g:
            h = (b - r) / d + 2;
            break;
          case b:
            h = (r - g) / d + 4;
        }
        h /= 6;
      }
      return [h, s, l, a];
    };
  
    colors.fromHex = function(c) {
      var a, b, g, r;
      r = parseInt(c.slice(0, 2), 16);
      g = parseInt(c.slice(2, 4), 16);
      b = parseInt(c.slice(4, 6), 16);
      a = 255;
      return colors.validate([r, g, b, a]);
    };
  
    colors.toHex = function(c) {
      var chr;
      chr = function(i) {
        if (!i) {
          return "00";
        }
        i = i.toString(16);
        if (i.length === 1) {
          i = "0" + i;
        }
        return i;
      };
      return chr(c[0]) + chr(c[1]) + chr(c[2]);
    };
  
    colors.cssRgba = function(c) {
      return "rgba(" + (c[0] || 0) + "," + (c[1] || 0) + "," + (c[2] || 0) + "," + (c[3] || 255) + ")";
    };
  
    ref = colors.niceHex;
    for (j = 0, len = ref.length; j < len; j++) {
      hex = ref[j];
      colors.nice.push(colors.fromHex(hex));
    }
  
  }).call(this);
  ;
  
  
  //from src/sound.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var ctx, e, error, maxSounds, r, soundCache;
  
    if (window.AudioContext == null) {
      window.AudioContext = window.webkitAudioContext;
    }
  
    try {
      ctx = new AudioContext();
    } catch (error) {
      e = error;
      console.log('Web Audio API is not supported in this browser');
    }
  
    window.mainVolume = ctx.createGain();
  
    mainVolume.connect(ctx.destination);
  
    ctx.destination.isConnected = true;
  
    soundCache = {};
  
    r = function() {
      return (Math.random() - .5) * Math.random();
    };
  
    window.loadSound = function(url, cb) {
      var request, sound;
      sound = {};
      sound.source = ctx.createBufferSource();
      sound.volume = ctx.createGain();
      sound.source.connect(sound.volume);
      sound.volume.connect(mainVolume);
      if (soundCache[url]) {
        sound.buffer = soundCache[url];
        sound.source.buffer = sound.buffer;
        return cb(sound);
      } else {
        request = new XMLHttpRequest();
        request.open("GET", url, true);
        request.responseType = "arraybuffer";
        request.onload = function(e) {
          var onFailure, onSuccess;
          onSuccess = function(buffer) {
            soundCache[url] = buffer;
            sound.buffer = soundCache[url];
            sound.source.buffer = sound.buffer;
            return cb(sound);
          };
          onFailure = function() {
            return console.log("failed to load", url);
          };
          return ctx.decodeAudioData(this.response, onSuccess, onFailure);
        };
        return request.send();
      }
    };
  
    maxSounds = {};
  
    window.playSound = function(url, volume) {
      if (volume == null) {
        volume = 1;
      }
      if (maxSounds[url] >= 16) {
        return;
      }
      maxSounds[url] = (maxSounds[url] || 0) + 1;
      return loadSound(url, function(sound) {
        var rate;
        sound.volume.gain.value = volume * 0.15 + r() * settings.soundValue("FX Volume");
        rate = 1 + r();
        sound.source.playbackRate.value = rate;
        sound.source.start(ctx.currentTime);
        return after(sound.source.buffer.duration * rate * 1000, function() {
          return maxSounds[url] -= 1;
        });
      });
    };
  
    window.playSoundUI = function(url, volume, rate) {
      if (volume == null) {
        volume = 1;
      }
      if (rate == null) {
        rate = 1;
      }
      return loadSound(url, function(sound) {
        sound.source.playbackRate.value = rate;
        sound.volume.gain.value = volume * settings.soundValue("FX Volume");
        return sound.source.start(ctx.currentTime);
      });
    };
  
    window.ActionMixer = (function() {
      function ActionMixer() {
        this.action = 0;
        this.reset();
      }
  
      ActionMixer.prototype.reset = function() {
        var actionSound, i, j, ref;
        actionSound = choose(["Glimpse.wav", "Another 80s Arp.wav", "Kevlar.wav", "Kevlar.wav", "Slow Burn.wav", "Producer Alchemy - 13 Stones Drums - 96 BPM.mp3", "Producer Alchemy Demo - Stones Drums.mp3", "Producer Alchemy Pizz.Paddy - 09.mp3"]);
        if ((ref = this.battleSound) != null) {
          ref.source.stop();
        }
        loadSound("sounds/loops/action/" + actionSound, (function(_this) {
          return function(sound) {
            _this.battleSound = sound;
            _this.battleSound.volume.gain.value = 0;
            _this.battleSound.source.loop = true;
            return _this.battleSound.source.start();
          };
        })(this));
        this.ambientChoices = [];
        for (i = j = 0; j < 3; i = ++j) {
          this.ambientChoices.push(choose(['Magnetic Field Amber.ogg', 'Magnetic Field Amethyst.ogg', 'Magnetic Field Aquamarine.ogg', 'Magnetic Field Auburn.ogg', 'Magnetic Field Azure.ogg', 'Magnetic Field Beige.ogg', 'Magnetic Field Black.ogg', 'Magnetic Field Blonde.ogg', 'Magnetic Field Blue.ogg', 'Magnetic Field Bronze.ogg', 'Magnetic Field Brown.ogg', 'Magnetic Field Carmine.ogg', 'Magnetic Field Cerise.ogg', 'Magnetic Field Copper.ogg', 'Magnetic Field Coral.ogg', 'Magnetic Field Cyan.ogg', 'Magnetic Field Ebony.ogg', 'Magnetic Field Emerald.ogg', 'Magnetic Field Gold.ogg', 'Magnetic Field Green.ogg', 'Magnetic Field Grey.ogg', 'Magnetic Field Indigo.ogg', 'Magnetic Field Ivory.ogg', 'Magnetic Field Jade.ogg', 'Magnetic Field Lilac.ogg', 'Magnetic Field Magenta.ogg', 'Magnetic Field Magnolia.ogg', 'Magnetic Field Mauve.ogg', 'Magnetic Field Mustard.ogg', 'Magnetic Field Ochre.ogg', 'Magnetic Field Olive.ogg', 'Magnetic Field Onyx.ogg', 'Magnetic Field Orange.ogg', 'Magnetic Field Pink.ogg', 'Magnetic Field Purple.ogg', 'Magnetic Field Red.ogg', 'Magnetic Field Rose.ogg', 'Magnetic Field Russet.ogg', 'Magnetic Field Sapphire.ogg', 'Magnetic Field Scarlet.ogg', 'Magnetic Field Silver.ogg', 'Magnetic Field Turquoise.ogg', 'Magnetic Field Ultramarine.ogg', 'Magnetic Field Vermilion.ogg', 'Magnetic Field Violet.ogg', 'Magnetic Field White.ogg', 'Magnetic Field Yellow.ogg']));
        }
        return this.playAmbient();
      };
  
      ActionMixer.prototype.playAmbient = function() {
        if (this.ambientPlayLast > Date.now()) {
          return;
        }
        this.ambient = choose(this.ambientChoices);
        this.ambientPlayLast = Date.now() + 10000;
        return loadSound("sounds/fields/" + this.ambient, (function(_this) {
          return function(sound) {
            var rate;
            _this.ambientSound = sound;
            rate = 1 + r() * 2;
            _this.ambientPlayLast = Date.now() + 35000 * rate * .8;
            sound.source.playbackRate.value = rate;
            _this.ambientSound.volume.gain.value = settings.soundValue("Ambient Volume") * .25;
            return _this.ambientSound.source.start();
          };
        })(this));
      };
  
      ActionMixer.prototype.playTrack = function(name) {
        if (this.trackName === name) {
          return;
        }
        this.trackName = name;
        console.log("play track", this.trackName);
        return loadSound(this.trackName, (function(_this) {
          return function(sound) {
            console.log("playing track", _this.trackName);
            _this.trackSound = sound;
            _this.trackSound.volume.gain.value = 0;
            _this.trackSound.source.loop = true;
            return _this.trackSound.source.start();
          };
        })(this));
      };
  
      ActionMixer.prototype.tick = function() {
        var v;
        this.action = this.action * .995;
        if (this.battleSound) {
          v = 0;
          if (this.action) {
            v = 1 - Math.exp(-this.action);
          }
          this.battleSound.volume.gain.value = v * settings.soundValue("Music Volume") * .75;
        }
        if (this.trackSound) {
          v = 1;
          this.trackSound.volume.gain.value = v * settings.soundValue("Music Volume") * .75;
        }
        if (Math.random() < .001) {
          this.playAmbient();
        }
        if (this.ambientSound) {
          this.ambientSound.volume.gain.value = settings.soundValue("Ambient Volume");
        }
        mainVolume.gain.value = settings.soundValue("Master Volume");
        if (localStorage.mute === "true") {
          if (ctx.destination.isConnected) {
            ctx.destination.isConnected = false;
            return mainVolume.disconnect(ctx.destination);
          }
        } else {
          if (!ctx.destination.isConnected) {
            ctx.destination.isConnected = true;
            return mainVolume.connect(ctx.destination);
          }
        }
      };
  
      return ActionMixer;
  
    })();
  
  }).call(this);
  ;
  
  
  //from src/maps.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var blue, bluebrown, chooseNumber, chooseOne, darkness, fadered, genBox, genClouds, genDebree, genDodads, genRocks, genSymetrical, grayblue, greenbrown, greenpurple, lemondarkred, main, moonyellow, pinkpurple, randomVector, redgreen, tanslate, tealorange, tealwhite, whitepurple, yellowcyan, yellowpuce;
  
    window.mapping = {};
  
    chooseNumber = function(n) {
      var i, j;
      i = Math.floor(mr.random() * n) + 1;
      j = i.toString();
      if (j.length === 1) {
        return "0" + j;
      }
      return j;
    };
  
    chooseOne = function(l) {
      return l[Math.floor(mr.random() * l.length)];
    };
  
    randomVector = function(v) {
      v[0] = mr.random() - .5;
      v[1] = mr.random() - .5;
      return v2.norm(v);
    };
  
    main = {
      rockColor: [63, 85, 96, 255],
      spotColor: [115, 193, 226, 255],
      fillColor: [123, 63, 68, 255]
    };
  
    grayblue = {
      rockColor: [127, 140, 141, 255],
      spotColor: [189, 195, 199, 255],
      fillColor: [44, 62, 80, 255]
    };
  
    blue = {
      rockColor: [211, 241, 240, 255],
      spotColor: [24, 203, 193, 255],
      fillColor: [28, 107, 132, 255]
    };
  
    fadered = {
      rockColor: [34, 32, 86, 255],
      spotColor: [255, 187, 132, 255],
      fillColor: [150, 28, 22, 225]
    };
  
    tealwhite = {
      rockColor: [209, 202, 185, 255],
      spotColor: [159, 200, 170, 255],
      fillColor: [85, 134, 120, 255]
    };
  
    whitepurple = {
      rockColor: [23, 41, 117, 255],
      spotColor: [188, 210, 219, 255],
      fillColor: [106, 86, 133, 255]
    };
  
    darkness = {
      rockColor: [27, 36, 40, 255],
      spotColor: [202, 222, 232, 255],
      fillColor: [48, 62, 75, 255]
    };
  
    moonyellow = {
      rockColor: [171, 164, 136, 255],
      spotColor: [228, 211, 159, 255],
      fillColor: [55, 81, 92, 255]
    };
  
    pinkpurple = {
      rockColor: [181, 154, 146, 255],
      spotColor: [220, 171, 169, 255],
      fillColor: [90, 54, 99, 255]
    };
  
    greenbrown = {
      rockColor: [50, 36, 40, 255],
      spotColor: [178, 188, 170, 255],
      fillColor: [100, 64, 62, 255]
    };
  
    bluebrown = {
      rockColor: [123, 109, 141, 255],
      spotColor: [132, 153, 177, 255],
      fillColor: [73, 59, 42, 255]
    };
  
    tealorange = {
      rockColor: [255, 74, 0, 255],
      spotColor: [68, 206, 197, 255],
      fillColor: [200, 52, 0, 255]
    };
  
    greenpurple = {
      rockColor: [77, 83, 130, 255],
      spotColor: [140, 186, 128, 255],
      fillColor: [81, 70, 99, 255]
    };
  
    lemondarkred = {
      rockColor: [193, 188, 106, 255],
      spotColor: [200, 180, 125, 255],
      fillColor: [120, 25, 25, 255]
    };
  
    tanslate = {
      rockColor: [61, 44, 46, 255],
      spotColor: [173, 144, 136, 255],
      fillColor: [66, 76, 85, 255]
    };
  
    redgreen = {
      rockColor: [115, 226, 167, 255],
      spotColor: [110, 190, 155, 255],
      fillColor: [170, 130, 150, 255]
    };
  
    yellowpuce = {
      rockColor: [230, 155, 46, 255],
      spotColor: [210, 190, 99, 255],
      fillColor: [55, 43, 48, 255]
    };
  
    yellowcyan = {
      rockColor: [228, 207, 116, 255],
      spotColor: [185, 175, 95, 255],
      fillColor: [60, 133, 111, 255]
    };
  
    mapping.themes = [main, main, grayblue, blue, fadered, tealwhite, whitepurple, darkness, moonyellow, pinkpurple, greenbrown, bluebrown, greenpurple, lemondarkred, tanslate, yellowpuce];
  
    mapping.generate = function(seed) {
      var a, fillColor, fns, r, spotColor;
      window.mr = new MTwist(seed);
      sim.things = {};
      if (mr.random() < .1) {
        sim.theme = chooseOne(mapping.themes);
      } else {
        a = mr.random();
        spotColor = colors.hsl2rgb([a, .5, .7, 255]);
        fillColor = colors.hsl2rgb([a + mr.random() * .8 - .4, .3, .2, 255]);
        sim.theme = {
          rockColor: spotColor,
          spotColor: spotColor,
          fillColor: fillColor
        };
      }
      if (sim.serverType === "survival") {
        survival.genSurvival();
      } else {
        genSymetrical();
      }
      if (sim.makeRocks) {
        fns = shuffle([genClouds, genDebree, genRocks, genDodads]);
        r = mr.random();
        if (r < .2) {
          fns.pop()();
          fns.pop()();
          return fns.pop()();
        } else if (r < .5) {
          fns.pop()();
          return fns.pop()();
        } else if (r < .9) {
          return fns.pop()();
        } else {
          return "nothing";
        }
      }
    };
  
    mapping.generateWeaponTest = function() {
      var a, genRing, mainSpawn;
      sim.things = {};
      sim.theme = main;
      mainSpawn = a = new types.SpawnPoint();
      a.side = "alpha";
      a.spawn = "alpha";
      a.pos[0] = 0;
      a.pos[1] = 0;
      sim.things[a.id] = a;
      genRing = (function(_this) {
        return function(pos, radius, n, spec) {
          var i, m, ref, results, u, z;
          z = -mr.random() * 6 - 3;
          results = [];
          for (i = m = 0, ref = n; 0 <= ref ? m < ref : m > ref; i = 0 <= ref ? ++m : --m) {
            u = new types.Unit(spec);
            u.pos = v2.create(pos);
            u.pos[0] += Math.sin(i / n * 2 * Math.PI) * radius * .8;
            u.pos[1] += Math.cos(i / n * 2 * Math.PI) * radius * .8;
            u.side = "beta";
            u.rot = v2.angle(u.pos) + Math.PI;
            results.push(sim.things[u.id] = u);
          }
          return results;
        };
      })(this);
      genRing([0, 0], 1200, 12, 'ExULFRUIERUIExcIExMI');
      genRing([0, 0], 1500, 32, 'ExULFRUIERUIExcIExMI');
      return genRing([0, 0], 1800, 64, 'ExULFRUIERUIExcIExMI');
    };
  
    mapping.genTower = function() {
      var _, blocks, forts, i, ref, results, spec, thing, towers, u;
      blocks = ['ExULFRUIERUIExcIExMI', 'FBQUExgHGBUJFRAHEBMJEBUJFRgHExAHGBMJ'];
      towers = ['ERQQFxQQEREIFxEIFBcJFBEJERcKFxcKFBQBFBQw', 'FBQDERQQFxQQEREIFxEIFBcJFBEJERcKFxcKFBQy', 'ERQQFBcJFxQQEREIFxEIFBQDERcKFxcKFBESFBQ4', 'ERQQFBcJFxQQEREIFxEIFBQDERcKFxcKFBESFBQ1'];
      forts = ['FBQDGRcKEBQPDxcKDxEIGBQPGREIEhcJEhEJFhcJFhEJFBQ3', 'GREIFBQDEBQPDxcKDxEIGBQPGRcKEhcJEhEJFhcJFhEJFBQz', 'DRAHDRgHGBQ9EBQ/FBgDEBgPGBgPFBEJFBQDGBADFA8JEBADDRQHGxgHGxQHGxAHEBsJGBsJEA0JGA0JEBAvGBAvFBgwFBQ0', 'FAwGGBAPEBQGGBQGHBQGDBQGCBQDFBQDFCADFAgDEBAPEBgPGBgPFBgGFBAGFBwGIBQDBBQBFCQDJBQDFAQBBBQvFCQvJBQvFAQvCBQ0IBQ0FBQ0FAg0FCA0'];
      ref = sim.things;
      results = [];
      for (_ in ref) {
        thing = ref[_];
        if (thing.commandPoint) {
          spec = chooseOne(towers);
        } else {
          continue;
        }
        u = new types.Unit(spec);
        u.pos = v2.create(thing.pos);
        u.side = thing.side;
        u.rot = v2.angle(u.pos) + Math.PI;
        sim.things[u.id] = u;
        results.push((function() {
          var m, results1;
          results1 = [];
          for (i = m = 0; m < 6; i = ++m) {
            if (thing.commandPoint) {
              spec = blocks[0];
            } else {
              continue;
            }
            u = new types.Unit(spec);
            u.pos = v2.create(thing.pos);
            u.pos[0] += Math.sin(i / 3 * Math.PI) * thing.radius * .8;
            u.pos[1] += Math.cos(i / 3 * Math.PI) * thing.radius * .8;
            u.side = thing.side;
            u.rot = Math.PI / 2;
            results1.push(sim.things[u.id] = u);
          }
          return results1;
        })());
      }
      return results;
    };
  
    genSymetrical = function() {
      var _, a, b, from_center, i, m, mainSpawn, o, pos, ref, ref1, results, t, tooClose;
      mainSpawn = a = new types.SpawnPoint();
      a.side = "alpha";
      a.spawn = "alpha";
      a.pos[0] = -sim.mapScale * 3000;
      a.pos[1] = mr.random() * 3000 - 1500;
      sim.things[a.id] = a;
      b = new types.SpawnPoint();
      b.side = "beta";
      b.spawn = "beta";
      b.pos[0] = sim.mapScale * 3000;
      b.pos[1] = -a.pos[1];
      sim.things[b.id] = b;
      pos = [];
      results = [];
      for (i = m = 0, ref = sim.numComPoints / 2; 0 <= ref ? m < ref : m > ref; i = 0 <= ref ? ++m : --m) {
        a = new types.CommandPoint();
        a.z = -.01;
        if (i === 0) {
          v2.set(mainSpawn.pos, a.pos);
          from_center = v2.mag(a.pos);
          v2.scale(a.pos, (from_center - 1500) / from_center);
        } else {
          for (i = o = 0; o < 10; i = ++o) {
            tooClose = false;
            randomVector(a.pos);
            v2.scale(a.pos, (300 + mr.random() * 2000) * sim.mapScale);
            ref1 = sim.things;
            for (_ in ref1) {
              t = ref1[_];
              if (v2.distance(t.pos, a.pos) < (t.radius + a.radius + 100)) {
                tooClose = true;
                break;
              }
            }
            if (!tooClose) {
              break;
            }
          }
        }
        sim.things[a.id] = a;
        b = new types.CommandPoint();
        b.z = -.01;
        b.pos[0] = -a.pos[0];
        b.pos[1] = -a.pos[1];
        a.side = "alpha";
        b.side = "beta";
        results.push(sim.things[b.id] = b);
      }
      return results;
    };
  
    genClouds = function() {
      var alpha, c, cloud, clouds, i, len, m, n, o, otherCloud, overlaps, ref, results, s, type;
      if (mr.random() < .3) {
        c = 0;
      } else {
        c = 255;
      }
      alpha = 15 + 20 * mr.random();
      type = chooseOne(["s", "v", "a", "g"]);
      n = Math.PI * sim.mapScale * sim.mapScale * 8;
      clouds = [];
      results = [];
      for (i = m = 0, ref = n * mr.random(); 0 <= ref ? m < ref : m > ref; i = 0 <= ref ? ++m : --m) {
        cloud = new types.Rock();
        cloud.image = "img/debree/" + type + "cloud" + (chooseNumber(4)) + ".png";
        randomVector(cloud.pos);
        v2.scale(cloud.pos, (mr.random() * 3200) * sim.mapScale);
        overlaps = 0;
        for (o = 0, len = clouds.length; o < len; o++) {
          otherCloud = clouds[o];
          if (v2.distance(cloud.pos, otherCloud.pos) < 1200) {
            overlaps += 1;
          }
        }
        if (overlaps > 2) {
          continue;
        }
        cloud.color = v4.create(sim.theme.rockColor);
        cloud.color[0] = c;
        cloud.color[1] = c;
        cloud.color[2] = c;
        cloud.color[3] = alpha;
        s = 4 + mr.random() * 4;
        cloud.size = [s, s];
        cloud.z = (mr.random() - .5) * 200;
        cloud.rot = mr.random() * Math.PI * 2;
        if (mr.random() > .5) {
          cloud.z *= 5;
        }
        sim.things[cloud.id] = cloud;
        results.push(clouds.push(cloud));
      }
      return results;
    };
  
    genRocks = function() {
      var i, m, ref, results, rock;
      results = [];
      for (i = m = 0, ref = sim.numRocks; 0 <= ref ? m < ref : m > ref; i = 0 <= ref ? ++m : --m) {
        rock = new types.Rock();
        rock.image = chooseOne(["img/rocks/srock01.png", "img/rocks/srock02.png", "img/rocks/srock03.png", "img/rocks/srock04.png", "img/rocks/srock05.png", "img/rocks/srock06.png", "img/rocks/srock07.png", "img/rocks/mrock01.png", "img/rocks/mrock02.png", "img/rocks/mrock03.png", "img/rocks/mrock04.png", "img/rocks/mrock05.png", "img/rocks/mrock06.png", "img/rocks/lrock01.png", "img/rocks/lrock02.png", "img/rocks/lrock03.png", "img/rocks/lrock04.png", "img/rocks/lrock05.png"]);
        randomVector(rock.pos);
        v2.scale(rock.pos, (300 + mr.random() * 3000) * sim.mapScale);
        rock.color = sim.theme.spotColor;
        rock.rot = 2 * Math.PI * mr.random();
        rock.z = (mr.random() - .5) * 200;
        if (rock.z > 0) {
          rock.z += 1;
        }
        results.push(sim.things[rock.id] = rock);
      }
      return results;
    };
  
    genBox = function() {
      var a, m, results, rock, x, y, z;
      results = [];
      for (x = m = -5; m <= 5; x = ++m) {
        results.push((function() {
          var o, results1;
          results1 = [];
          for (y = o = -5; o <= 5; y = ++o) {
            results1.push((function() {
              var q, results2;
              results2 = [];
              for (z = q = -5; q <= 5; z = ++q) {
                rock = new types.Rock();
                a = 1000;
                rock.pos = [x * a, y * a];
                rock.z = z * 50;
                rock.color = [255, 255, 255, 255];
                rock.image = "img/pip1.png";
                results2.push(sim.things[rock.id] = rock);
              }
              return results2;
            })());
          }
          return results1;
        })());
      }
      return results;
    };
  
    genDebree = function() {
      var c, clusterCenter, debree, debreeColor, i, m, n, ref, results;
      debreeColor = sim.theme.spotColor;
      n = Math.PI * sim.mapScale * sim.mapScale * 4;
      results = [];
      for (c = m = 0, ref = n * mr.random(); 0 <= ref ? m < ref : m > ref; c = 0 <= ref ? ++m : --m) {
        clusterCenter = v2.create();
        randomVector(clusterCenter);
        v2.scale(clusterCenter, (300 + mr.random() * 3000) * sim.mapScale);
        if (mr.random() < .7) {
          debree = new types.Rock();
          if (mr.random() > .2) {
            debree.image = "img/debree/bigdebree" + (chooseNumber(12)) + ".png";
          } else {
            debree.image = "img/debree/civ" + (chooseNumber(5)) + ".png";
          }
          v2.add(debree.pos, clusterCenter);
          debree.z = (mr.random() - .5) * 200;
          debree.color = debreeColor;
          debree.rot = mr.random() * 2 * Math.PI;
          sim.things[debree.id] = debree;
        }
        results.push((function() {
          var o, ref1, results1;
          results1 = [];
          for (i = o = 0, ref1 = 20 * mr.random(); 0 <= ref1 ? o < ref1 : o > ref1; i = 0 <= ref1 ? ++o : --o) {
            debree = new types.Rock();
            debree.image = "img/debree/debree" + (chooseNumber(25)) + ".png";
            randomVector(debree.pos);
            v2.scale(debree.pos, mr.random() * 600);
            v2.add(debree.pos, clusterCenter);
            debree.z = (mr.random() - .5) * 200;
            debree.color = debreeColor;
            debree.rot = mr.random() * 2 * Math.PI;
            results1.push(sim.things[debree.id] = debree);
          }
          return results1;
        })());
      }
      return results;
    };
  
    genDodads = function() {
      var _, chooseDodad, dodadColor, genRing, ref, results, single, thing;
      chooseDodad = function() {
        return chooseOne(["img/dodads/bigdodad01.png", "img/dodads/bigdodad02.png", "img/dodads/bigdodad03.png", "img/dodads/bigdodad04.png", "img/dodads/bigdodad05.png", "img/dodads/meddodad01.png", "img/dodads/meddodad02.png", "img/dodads/meddodad03.png", "img/dodads/meddodad04.png"]);
      };
      dodadColor = sim.theme.spotColor;
      genRing = (function(_this) {
        return function(pos, radius) {
          var dodad, i, image, level, m, ref, results, z;
          image = chooseDodad();
          z = -mr.random() * 6 - 3;
          results = [];
          for (level = m = 0, ref = mr.random() * 4; 0 <= ref ? m < ref : m > ref; level = 0 <= ref ? ++m : --m) {
            results.push((function() {
              var o, results1;
              results1 = [];
              for (i = o = 0; o < 6; i = ++o) {
                dodad = new types.Rock();
                dodad.image = image;
                dodad.color = dodadColor;
                dodad.pos = v2.create(pos);
                dodad.pos[0] += Math.sin(i / 3 * Math.PI) * radius * .8;
                dodad.pos[1] += Math.cos(i / 3 * Math.PI) * radius * .8;
                dodad.rot = (6 - i) / 3 * Math.PI + Math.PI / 2;
                dodad.z = z - level * 10;
                results1.push(sim.things[dodad.id] = dodad);
              }
              return results1;
            })());
          }
          return results;
        };
      })(this);
      single = (function(_this) {
        return function(pos) {
          var dodad, image;
          image = chooseDodad();
          dodad = new types.Rock();
          dodad.image = image;
          dodad.color = dodadColor;
          dodad.pos = v2.create(pos);
          dodad.rot = mr.random() * 2 * Math.PI;
          dodad.z = -2 + mr.random();
          return sim.things[dodad.id] = dodad;
        };
      })(this);
      ref = sim.things;
      results = [];
      for (_ in ref) {
        thing = ref[_];
        if (mr.random() < .5) {
          continue;
        }
        if (!(thing.spawn || thing.commandPoint)) {
          continue;
        }
        if (mr.random() < 0.5) {
          results.push(genRing(thing.pos, thing.radius * 3));
        } else {
          results.push(single(thing.pos));
        }
      }
      return results;
    };
  
    mapping.save = function(name) {
      var k, len, m, map, n, num, p, player, ref, ref1, ref2, spec, thing;
      p = function(pos) {
        return [Math.floor(pos[0]), Math.floor(pos[1])];
      };
      map = {};
      map.name = name;
      map.players = {};
      ref = sim.players;
      for (k in ref) {
        player = ref[k];
        map.players[player.id] = {
          name: player.name,
          buildBar: player.buildBar,
          aiRules: player.aiRules,
          color: player.color,
          side: player.side
        };
      }
      map.things = [];
      ref1 = sim.things;
      for (k in ref1) {
        thing = ref1[k];
        if (thing.unit) {
          num = -1;
          ref2 = player.buildBar;
          for (n = m = 0, len = ref2.length; m < len; n = ++m) {
            spec = ref2[n];
            if (simpleEquals(spec, thing.spec)) {
              num = n;
            }
          }
          map.things.push(["unit", p(thing.pos), thing.side, thing.owner, num, thing.rot]);
        } else if (thing.spawn) {
          map.things.push(["spawnPoint", p(thing.pos), thing.side]);
        } else if (thing.commandPoint) {
          map.things.push(["commandPoint", p(thing.pos), thing.side]);
        }
      }
      console.log(name + " =\n" + csonify(map, 1));
      localStorage["map_" + name] = JSON.stringify(map);
    };
  
    mapping.load = function(name) {
      var base, id, len, m, map, owner, p, player, ref, ref1, results, thing;
      map = JSON.parse(localStorage["map_" + name]);
      if (window.network != null) {
        if (typeof (base = window.network).close === "function") {
          base.close();
        }
      }
      bubbles.clear();
      window.intp = new Interpolator();
      window.sim = new Sim();
      sim.local = true;
      intp.local = true;
      sim.start();
      window.network = new Local();
      ui.mode = "battle";
      ref = map.players;
      for (id in ref) {
        p = ref[id];
        player = sim.playerJoin({}, id, p.name, p.color, p.buildBar, p.aiRules);
        player.side = p.side;
        player.connected = true;
        player.ready = true;
      }
      sim.things = {};
      ref1 = map.things;
      results = [];
      for (m = 0, len = ref1.length; m < len; m++) {
        p = ref1[m];
        console.log(p);
        if (p[0] === "spawnPoint") {
          thing = new types.SpawnPoint();
          thing.spawn = p[2];
        } else if (p[0] === "commandPoint") {
          thing = new types.CommandPoint();
        } else if (p[0] === "unit") {
          owner = map.players[p[3]];
          thing = new types.Unit(owner.buildBar[p[4]]);
          thing.owner = p[3];
          thing.number = p[4];
          thing.rot = p[5] || 0;
        }
        v2.set(p[1], thing.pos);
        thing.side = p[2];
        results.push(sim.things[thing.id] = thing);
      }
      return results;
    };
  
  }).call(this);
  ;
  
  
  //from src/sim.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var DEBUG, _offset, _pos, _vel, isArray,
      bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
  
    DEBUG = 1;
  
    window.VERSION = 51;
  
    window.MINOR_VERSION = 1;
  
    _pos = v2.create();
  
    _vel = v2.create();
  
    _offset = v2.create();
  
    window.rand = function() {
      return Math.random() - 0.5;
    };
  
    window.rid = function() {
      return Math.random().toString(32).slice(2);
    };
  
    window.choose = function(list) {
      return list[Math.floor(Math.random() * list.length)];
    };
  
    window.shuffle = function(list) {
      var e, l, len1, ref, results;
      ref = ((function() {
        var len1, m, results1;
        results1 = [];
        for (m = 0, len1 = list.length; m < len1; m++) {
          e = list[m];
          results1.push([Math.random(), e]);
        }
        return results1;
      })()).sort();
      results = [];
      for (l = 0, len1 = ref.length; l < len1; l++) {
        e = ref[l];
        results.push(e[1]);
      }
      return results;
    };
  
    window.types = {};
  
    isArray = function(a) {
      if (Array.isArray(a)) {
        return true;
      }
      if (a instanceof Float64Array) {
        return true;
      }
      return false;
    };
  
    window.simpleEquals = function(a, b) {
      var e, i, k, l, len1, v;
      if (a === b) {
        return true;
      }
      if (a === null || b === null) {
        return false;
      }
      if (a === void 0 || b === void 0) {
        return false;
      }
      if (typeof a !== typeof b) {
        return false;
      }
      if (isArray(a) && isArray(b)) {
        if (a.length !== b.length) {
          return false;
        }
        for (i = l = 0, len1 = a.length; l < len1; i = ++l) {
          e = a[i];
          if (!simpleEquals(e, b[i])) {
            return false;
          }
        }
        return true;
      }
      if (typeof a === "object") {
        for (k in a) {
          v = a[k];
          if (!simpleEquals(v, b[k])) {
            return false;
          }
        }
        return true;
      }
      return false;
    };
  
    window.otherSide = function(side) {
      if (side === "alpha") {
        return "beta";
      } else if (side === "beta") {
        return "alpha";
      } else {
        return "alpha";
      }
    };
  
    window.Sim = (function() {
      Sim.prototype.ticksPerSec = 16;
  
      Sim.prototype.defaultMoney = 2000;
  
      Sim.prototype.gainsMoney = true;
  
      Sim.prototype.makeRocks = true;
  
      Sim.prototype.state = "waiting";
  
      Sim.prototype.serverType = "3v3";
  
      Sim.prototype.lastId = 0;
  
      Sim.prototype.costLimit = 1000;
  
      Sim.prototype.aiTestMode = false;
  
      Sim.prototype.nGamesPlayed = 0;
  
      Sim.prototype.validTypes = {
        "sandbox": "sandbox",
        "1v1": "1v1",
        "1v1r": "1v1r",
        "1v1t": "1v1t",
        "2v2": "2v2",
        "3v3": "3v3",
        "survival": "survival"
      };
  
      Sim.prototype.say = function(message) {
        if (typeof server !== "undefined" && server !== null) {
          return server.say(message);
        } else if (this.local) {
          return chat.lines.push({
            text: message,
            color: "FFFFFF",
            name: "Server",
            server: true,
            channel: "local",
            time: Date.now()
          });
        } else {
          return print(message);
        }
      };
  
      Sim.prototype.nid = function() {
        var id;
        id = this.lastId;
        this.lastId += 1;
        return id;
      };
  
      function Sim() {
        this.victoryConditions = bind(this.victoryConditions, this);
        this.local = false;
        this.players = [];
        this.step = 0;
        this.timeDelta = 0;
        this.winningSide = null;
        this.numBattles = 0;
        this.unitSpaces = {};
        this.projSpaces = {};
        this.zJson = new window.ZJson(prot.commonWords);
      }
  
      Sim.prototype.start = function() {
        var key, p, ref;
        this.net = {};
        this.step = 0;
        this.timeDelta = 0;
        this.winningSide = null;
        this.lastId = 0;
        this.counting = 0;
        this.generateMap();
        if (this.players == null) {
          this.players = {};
        } else {
          ref = this.players;
          for (key in ref) {
            p = ref[key];
            if (p && p.connected) {
              p.reset();
              this.validateBuildBar(p);
            }
          }
        }
        this.winningSide = null;
        this.state = "starting";
        this.regenerateMap();
        this.captures = 0;
        this.deaths = 0;
        this.nGamesPlayed += 1;
        this.clearNetState();
        if (this.serverType === "survival") {
          return survival.start(this);
        }
      };
  
      Sim.prototype.configGame = function(p, config) {
        var l, len1, player, ref;
        print("config game!", config);
        if (this.state !== "waiting") {
          print("Can't set config on game in progress");
          return;
        }
        if (!p.host) {
          print("Can't set config when not a host");
          return;
        }
        if (!this.local) {
          ref = this.players;
          for (l = 0, len1 = ref.length; l < len1; l++) {
            player = ref[l];
            if (player.host) {
              continue;
            }
            player.side = "spectators";
            if (player.ai) {
              player.connected = false;
            }
          }
        }
        if (!this.validTypes[config.type]) {
          print("Config type is not valid");
          return;
        }
        if (this.serverType !== config.type) {
          this.serverType = config.type;
          this.say(p.name + " changed server type to " + config.type);
          if (typeof serverTick === "function") {
            serverTick();
          }
        }
      };
  
      Sim.prototype.playersPerTeam = function() {
        if (this.serverType.slice(0, 3) === "1v1") {
          return 1;
        }
        if (this.serverType === "2v2") {
          return 2;
        }
        if (this.serverType === "3v3") {
          return 3;
        }
        return 3;
      };
  
      Sim.prototype.generateMap = function(mapScale, numComPoints, mapSeed) {
        this.mapScale = mapScale != null ? mapScale : 1.5;
        this.numComPoints = numComPoints != null ? numComPoints : 8;
        this.mapSeed = mapSeed;
        this.numRocks = 60 * this.mapScale;
        return this.regenerateMap();
      };
  
      Sim.prototype.regenerateMap = function() {
        return mapping.generate(this.mapSeed);
      };
  
      Sim.prototype.playerJoin = function(_, pid, name, color, buildBar, aiRules, ai, update) {
        var dcIndex, i, l, len1, len2, m, p, player, ref, ref1;
        if (ai == null) {
          ai = false;
        }
        if (update == null) {
          update = true;
        }
        print("playerJoin", pid, name, color);
        ref = this.players;
        for (l = 0, len1 = ref.length; l < len1; l++) {
          p = ref[l];
          if (p.id === pid) {
            player = p;
            break;
          }
        }
        if (!player) {
          player = new Player(pid);
          player.streek = 0;
          if (this.local) {
            player.side = "alpha";
          } else {
            player.side = "spectators";
          }
          dcIndex = null;
          ref1 = this.players;
          for (i = m = 0, len2 = ref1.length; m < len2; i = ++m) {
            p = ref1[i];
            if (!p.connected && p.side === "spectators") {
              dcIndex = i;
            }
          }
          if (dcIndex === null) {
            player.number = this.players.length;
            this.players.push(player);
          } else {
            player.number = dcIndex;
            this.players[dcIndex] = player;
          }
          if (this.local) {
            this.clearNetState();
          }
        } else if (update) {
          this.clearNetState();
        }
        this.playerEdit(_, pid, name, color, buildBar, aiRules, ai);
        return player;
      };
  
      Sim.prototype.playerEdit = function(_, pid, name, color, buildBar, aiRules, ai) {
        var canEditShips, i, l, len1, m, o, p, player, ref;
        ref = this.players;
        for (l = 0, len1 = ref.length; l < len1; l++) {
          p = ref[l];
          if (p.id === pid) {
            player = p;
            break;
          }
        }
        player.name = name;
        player.color = colors.validate(color);
        player.color[3] = 255;
        player.ai = ai;
        player.aiRules = aiRules;
        if (!player.buildBar) {
          player.buildBar = (function() {
            var m, results;
            results = [];
            for (i = m = 0; m < 10; i = ++m) {
              results.push([]);
            }
            return results;
          })();
        }
        if (!player.validBar) {
          player.validBar = (function() {
            var m, results;
            results = [];
            for (i = m = 0; m < 10; i = ++m) {
              results.push(false);
            }
            return results;
          })();
        }
        player.connected = true;
        if (this.serverType === "1v1t" && this.state !== "waiting" && player.side !== "spectators") {
          for (i = m = 0; m < 10; i = ++m) {
            if (json.dumps(player.buildBar[i]) !== json.dumps(buildBar[i]) && player.side !== "spectators") {
              print("---");
              print(json.dumps(player.buildBar[i]));
              print(json.dumps(buildBar[i]));
            }
          }
          canEditShips = false;
        } else {
          canEditShips = true;
        }
        if (canEditShips) {
          for (i = o = 0; o < 10; i = ++o) {
            player.buildBar[i] = buildBar[i] || null;
          }
          this.validateBuildBar(player);
        }
        player.actions += 1;
        return player;
      };
  
      Sim.prototype.switchSide = function(player, side) {
        if (!player) {
          return;
        }
        if (player.kickTime > now() - 15000) {
          return;
        }
        if (this.local && !this.galaxyStar && !this.challenge) {
          player.side = side;
          return;
        }
        if (side !== "spectators" && this.numInTeam(side) >= this.playersPerTeam()) {
          return;
        }
        if (this.state !== "waiting") {
          return;
        }
        player.side = side;
        if (side === "spectators") {
          player.streek = 0;
        }
        return player.lastActiveTime = Date.now();
      };
  
      Sim.prototype.whoIsHost = function() {
        var haveHost, l, len1, len2, m, p, ref, ref1, results;
        haveHost = false;
        ref = this.players;
        for (l = 0, len1 = ref.length; l < len1; l++) {
          p = ref[l];
          if (p.host === true) {
            if (!p.connected || p.side === "spectators") {
              p.host = false;
              haveHost = false;
              break;
            } else {
              haveHost = true;
              break;
            }
          }
        }
        if (!haveHost) {
          ref1 = this.players;
          results = [];
          for (m = 0, len2 = ref1.length; m < len2; m++) {
            p = ref1[m];
            if (!p.ai && p.connected && p.side !== "spectators") {
              p.host = true;
              break;
            } else {
              results.push(void 0);
            }
          }
          return results;
        }
      };
  
      Sim.prototype.addAi = function(player, name, side, aiBuildBar) {
        var l, len1, numAi, p, ref, total;
        print("addAI", name, side);
        if (!this.local) {
          if (this.noAIPlayers) {
            return;
          }
          if (this.serverType === "1v1r") {
            return;
          }
          if (this.serverType === "1v1") {
            return;
          }
          if (this.numInTeam(side) >= this.playersPerTeam()) {
            print("enough players in team");
            return;
          }
          if (this.state !== "waiting") {
            return;
          }
          total = this.playersPerTeam() * 2;
          numAi = 0;
          ref = this.players;
          for (l = 0, len1 = ref.length; l < len1; l++) {
            p = ref[l];
            if (p.ai && p.connected && p.side !== "spectators") {
              numAi += 1;
            }
          }
          if (numAi === total - 1) {
            print("All players can't be AI");
            return;
          }
        }
        return ais.useAiFleet(name, side, aiBuildBar);
      };
  
      Sim.prototype.kickPlayer = function(p, number) {
        var player;
        if (this.state !== "waiting") {
          return;
        }
        if (!p.host) {
          return;
        }
        player = this.players[number];
        if (player) {
          player.side = "spectators";
          player.kickTime = now();
          if (player.ai) {
            player.connected = false;
          }
          return this.say(p.name + " kicked " + player.name);
        }
      };
  
      Sim.prototype.kickAllAis = function() {
        var l, len1, player, ref, results;
        if (this.aiTestMode) {
          return;
        }
        ref = this.players;
        results = [];
        for (l = 0, len1 = ref.length; l < len1; l++) {
          player = ref[l];
          if (player.ai) {
            player.connected = false;
            results.push(player.side = "spectators");
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Sim.prototype.startGame = function(player, real) {
        if (real == null) {
          real = false;
        }
        if (this.local) {
          if (this.numInTeam("alpha") === 0 || this.numInTeam("beta") === 0) {
            this.say("Warning: One team has no players. You should add an AI to that team.");
          }
          this.start();
          return;
        }
        if (!player.host) {
          print("A non-host player is trying to start game.");
          return;
        }
        if (this.state !== "waiting") {
          print("Trying to start a game when a game is already in progress. State:", this.state);
          return;
        }
        if (!this.canStart(true)) {
          return;
        }
        this.say("Game is about to start!");
        return this.countDown = 16 * 6;
      };
  
      Sim.prototype.canStart = function(sayStyff) {
        if (sayStyff == null) {
          sayStyff = false;
        }
        if (this.serverType === "survival") {
          return survival.canStart(this);
        }
        if (this.serverType === "sandbox") {
          return true;
        }
        if (this.numInTeam("alpha") !== this.playersPerTeam()) {
          if (sayStyff) {
            this.say("Team alpha does not have enough players.");
          }
          return false;
        }
        if (this.numInTeam("beta") !== this.playersPerTeam()) {
          if (sayStyff) {
            this.say("Team beta does not have enough players.");
          }
          return false;
        }
        return true;
      };
  
      Sim.prototype.validateBuildBar = function(player) {
        var i, l, len1, ref, spec;
        ref = player.buildBar;
        for (i = l = 0, len1 = ref.length; l < len1; i = ++l) {
          spec = ref[i];
          player.validBar[i] = validSpec(player, spec);
        }
      };
  
      Sim.prototype.moveOrder = function(player, points, additive, orderId) {
        var l, len1, n, ref, results, u;
        if (!player) {
          return;
        }
        if (this.aiOnly) {
          return;
        }
        player.actions += 1;
        n = 0;
        ref = player.selection;
        results = [];
        for (l = 0, len1 = ref.length; l < len1; l++) {
          u = ref[l];
          if ((u != null) && u.owner === player.number && !u.dead) {
            u.giveOrder({
              id: orderId,
              type: "Move",
              dest: points[n],
              range: 0
            }, additive);
            n += 1;
            if (n === points.length) {
              n = points.length - 1;
            }
            results.push(u.underPlayerControl = true);
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Sim.prototype.followOrder = function(player, unitId, additive, orderId) {
        var l, len1, ref, results, u;
        if (!player) {
          return;
        }
        if (this.aiOnly) {
          return;
        }
        player.actions += 1;
        ref = player.selection;
        results = [];
        for (l = 0, len1 = ref.length; l < len1; l++) {
          u = ref[l];
          if (u.owner === player.number) {
            u.giveOrder({
              id: orderId,
              type: "Follow",
              targetId: unitId,
              noFinish: true
            }, additive);
            results.push(u.underPlayerControl = true);
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Sim.prototype.stopOrder = function(player, additive) {
        var l, len1, ref, results, u;
        if (!player) {
          return;
        }
        if (this.aiOnly) {
          return;
        }
        player.actions += 1;
        ref = player.selection;
        results = [];
        for (l = 0, len1 = ref.length; l < len1; l++) {
          u = ref[l];
          if (u.owner === player.number) {
            results.push(u.stopAndClearOrders());
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Sim.prototype.holdPositionOrder = function(player, additive) {
        var l, len1, len2, m, ref, ref1, results, someHolding, u;
        if (!player) {
          return;
        }
        if (this.aiOnly) {
          return;
        }
        player.actions += 1;
        someHolding = false;
        ref = player.selection;
        for (l = 0, len1 = ref.length; l < len1; l++) {
          u = ref[l];
          if (u.owner === player.number && u.holdPosition) {
            someHolding = true;
            break;
          }
        }
        ref1 = player.selection;
        results = [];
        for (m = 0, len2 = ref1.length; m < len2; m++) {
          u = ref1[m];
          if (u.owner === player.number) {
            if (someHolding) {
              results.push(u.holdPosition = false);
            } else {
              results.push(u.holdPosition = !u.holdPosition);
            }
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Sim.prototype.selfDestructOrder = function(player, additive) {
        var l, len1, ref, results, u;
        if (!player) {
          return;
        }
        if (this.aiOnly) {
          return;
        }
        player.actions += 1;
        ref = player.selection;
        results = [];
        for (l = 0, len1 = ref.length; l < len1; l++) {
          u = ref[l];
          if (u.owner === player.number) {
            results.push(u.selfDestruct());
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Sim.prototype.setRallyPoint = function(player, point) {
        if (!player) {
          return;
        }
        return player.rallyPoint = point;
      };
  
      Sim.prototype.buildUnit = function(pid, number, pos) {
        var _, _where, l, len1, player, ref, ref1, spec, totalUnits, u, unit, w;
        player = this.players[pid];
        if (!player) {
          return;
        }
        if (!player.validBar[number]) {
          return;
        }
        totalUnits = 0;
        ref = this.things;
        for (_ in ref) {
          u = ref[_];
          if (u.unit && u.owner === player.number) {
            totalUnits += 1;
          }
        }
        if (totalUnits >= 100) {
          return;
        }
        spec = player.buildBar[number];
        if (player.money < specCost(spec)) {
          return;
        }
        player.actions += 1;
        unit = new types.Unit(spec);
        unit.owner = player.number;
        unit.side = player.side;
        unit.color = player.color.slice(0);
        unit.number = number;
        player.money -= unit.cost;
        this.things[unit.id] = unit;
        if (pos) {
          v2.set(pos, unit.pos);
          unit.rot = v2.angle(unit.pos) + Math.PI;
          ref1 = unit.weapons;
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            w = ref1[l];
            w.rot = unit.rot;
          }
        }
        if (player.rallyPoint != null) {
          _where = [0, 0];
          v2.sub(player.rallyPoint, unit.pos, _where);
          unit.rot = v2.angle(_where);
        }
        return unit;
      };
  
      Sim.prototype.placeUnit = function(pid, name, pos) {
        var cls, player;
        player = this.players[pid];
        if (!player) {
          return;
        }
        cls = types[name];
        if (this.canBuildHere(pos, player.side, cls)) {
          return this.buildUnit(pid, name, pos);
        }
      };
  
      Sim.prototype.buildRq = function(player, name, number) {
        var i, l, len, m, n, ref, ref1;
        if (!player) {
          return;
        }
        if (number > 0) {
          for (i = l = 0, ref = number; 0 <= ref ? l < ref : l > ref; i = 0 <= ref ? ++l : --l) {
            player.buildQ.push(name);
          }
        } else if (number < 0) {
          len = player.buildQ.length;
          for (i = m = ref1 = len - 1; ref1 <= -1 ? m < -1 : m > -1; i = ref1 <= -1 ? ++m : --m) {
            if (player.buildQ[i] === name) {
              player.buildQ[i] = null;
              number += 1;
              if (number === 0) {
                break;
              }
            }
          }
          player.buildQ = (function() {
            var len1, o, ref2, results;
            ref2 = player.buildQ;
            results = [];
            for (o = 0, len1 = ref2.length; o < len1; o++) {
              n = ref2[o];
              if (n !== null) {
                results.push(n);
              }
            }
            return results;
          })();
        }
      };
  
      Sim.prototype.findSpawnPoint = function(side) {
        var _, ref, unit;
        ref = this.things;
        for (_ in ref) {
          unit = ref[_];
          if (unit.spawn === side) {
            return unit;
          }
        }
      };
  
      Sim.prototype.canBuildHere = function(pos, side, cls) {
        var _, dist, inRange, ref, unit;
        inRange = false;
        ref = this.things;
        for (_ in ref) {
          unit = ref[_];
          if (unit.unit || unit.commandPoint) {
            dist = v2.distance(pos, unit.pos);
            if (unit.unit) {
              if (dist < unit.radius + cls.prototype.radius) {
                return false;
              }
            }
            if (unit.commandPoint) {
              if (unit.side === side && dist < unit.radius) {
                inRange = true;
              }
            }
          }
        }
        return inRange;
      };
  
      Sim.prototype.mouseMove = function(player, pos, action) {
        if (!player) {
          return;
        }
        player.lastActiveTime = Date.now();
        v2.set(pos, player.mouse);
        return player.action = action;
      };
  
      Sim.prototype.playerSelected = function(player, selection) {
        var id, l, len1, ref, ref1, results, t, u;
        if (!player) {
          return;
        }
        ref = player.selection;
        for (l = 0, len1 = ref.length; l < len1; l++) {
          u = ref[l];
          if (u.owner === player.number) {
            u.underPlayerControl = false;
          }
        }
        player.selection = [];
        ref1 = this.things;
        results = [];
        for (id in ref1) {
          t = ref1[id];
          results.push((function() {
            var len2, m, results1;
            results1 = [];
            for (m = 0, len2 = selection.length; m < len2; m++) {
              id = selection[m];
              if (t.id === id) {
                results1.push(player.selection.push(t));
              } else {
                results1.push(void 0);
              }
            }
            return results1;
          })());
        }
        return results;
      };
  
      Sim.prototype.surrender = function(player) {
        if (!player) {
          return;
        }
        if (this.winningSide) {
          return;
        }
        if (this.state !== "running") {
          return;
        }
        if (player.side === "beta") {
          this.winningSide = "alpha";
        } else if (player.side === "alpha") {
          this.winningSide = "beta";
        } else {
          return;
        }
        this.say(player.name + " surrenders");
        return this.endOfGame();
      };
  
      Sim.prototype.checkAfkPlayers = function() {
        var l, len1, player, ref, results;
        ref = this.players;
        results = [];
        for (l = 0, len1 = ref.length; l < len1; l++) {
          player = ref[l];
          if (player.ai) {
            if (player.side !== "spectators") {
              player.afk = false;
              results.push(player.connected = true);
            } else {
              results.push(void 0);
            }
          } else if (!player.connected) {
            results.push(player.afk = true);
          } else if (player.lastActiveTime < Date.now() - 1000 * 60 * 10) {
            if (this.serverType !== "1v1r") {
              results.push(player.afk = true);
            } else {
              results.push(void 0);
            }
          } else {
            results.push(player.afk = false);
          }
        }
        return results;
      };
  
      Sim.prototype.numInTeam = function(side) {
        var l, len1, num, player, ref;
        num = 0;
        ref = this.players;
        for (l = 0, len1 = ref.length; l < len1; l++) {
          player = ref[l];
          if (player.side === side) {
            num += 1;
          }
        }
        return num;
      };
  
      Sim.prototype.startingSim = function() {
        if (this.state === "starting") {
          this.state = "running";
        }
        if (this.state === "ended") {
          this.state = "waiting";
        }
        if (this.countDown > 0) {
          this.countDown -= 1;
          if (!this.canStart(true)) {
            this.state = "waiting";
            this.countDown = 0;
            return;
          }
          if (this.countDown === 0) {
            this.start();
          }
        }
        if (this.state === "waiting" && this.serverType === "1v1r" && this.canStart() && !this.countDown) {
          this.say("Challenger appears, game is about to start!");
          return this.countDown = 16 * 6;
        }
      };
  
      Sim.prototype.simulate = function() {
        var id, l, len1, len2, m, player, ref, ref1, ref2, ref3, ref4, ref5, t, thing;
        this.timeStart("sim");
        this.step += 1;
        this.startingSim();
        this.checkAfkPlayers();
        this.whoIsHost();
        this.timeIt("spacesRebuild", (function(_this) {
          return function() {
            return _this.spacesRebuild();
          };
        })(this));
        this.units = [
          (function() {
            var ref, results;
            ref = this.things;
            results = [];
            for (id in ref) {
              t = ref[id];
              if (t.unit) {
                results.push(t);
              }
            }
            return results;
          }).call(this)
        ];
        this.bullets = [
          (function() {
            var ref, results;
            ref = this.things;
            results = [];
            for (id in ref) {
              t = ref[id];
              if (t.bullet) {
                results.push(t);
              }
            }
            return results;
          }).call(this)
        ];
        this.commandPoint = [
          (function() {
            var ref, results;
            ref = this.things;
            results = [];
            for (id in ref) {
              t = ref[id];
              if (t.bullet) {
                results.push(t);
              }
            }
            return results;
          }).call(this)
        ];
        this.timeStart("death");
        ref = this.things;
        for (id in ref) {
          thing = ref[id];
          if (thing.dead) {
            if (typeof thing.postDeath === "function") {
              thing.postDeath();
            }
            delete this.things[id];
          }
        }
        this.timeEnd("death");
        this.timeStart("tick");
        ref1 = this.things;
        for (id in ref1) {
          thing = ref1[id];
          if (typeof thing.tick === "function") {
            thing.tick();
          }
        }
        this.timeEnd("tick");
        this.timeStart("move");
        ref2 = this.things;
        for (id in ref2) {
          thing = ref2[id];
          if (typeof thing.move === "function") {
            thing.move();
          }
        }
        this.timeEnd("move");
        this.timeIt("unitsCollide", (function(_this) {
          return function() {
            return _this.unitsCollide();
          };
        })(this));
        if (this.state === "running" || this.serverType === "sandbox") {
          ref3 = this.players;
          for (l = 0, len1 = ref3.length; l < len1; l++) {
            player = ref3[l];
            if (player.side === "alpha" || player.side === "beta") {
              player.tick();
            }
          }
        }
        ref4 = this.players;
        for (m = 0, len2 = ref4.length; m < len2; m++) {
          player = ref4[m];
          if (this.state !== "running" && player.afk) {
            player.side = "spectators";
          }
          if (player.side === null) {
            player.side = "spectators";
          }
        }
        if (this.serverType === "survival") {
          survival.simulate(this);
          survival.victoryConditions(this);
        } else {
          this.victoryConditions();
          if (typeof this.extra === "function") {
            this.extra();
          }
          if ((ref5 = this.galaxyStar) != null) {
            if (typeof ref5.tick === "function") {
              ref5.tick();
            }
          }
        }
        return this.timeEnd("sim");
      };
  
      Sim.prototype.spacesRebuild = function() {
        var _, ref, results, t;
        this.unitSpaces = {
          'alpha': new HSpace(500),
          'beta': new HSpace(500)
        };
        this.bulletSpaces = {
          'alpha': new HSpace(100),
          'beta': new HSpace(100)
        };
        ref = this.things;
        results = [];
        for (_ in ref) {
          t = ref[_];
          if (t.dead) {
            continue;
          }
          if (t.unit) {
            this.unitSpaces[t.side].insert(t);
          }
          if (t.bullet) {
            results.push(this.bulletSpaces[t.side].insert(t));
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Sim.prototype.victoryConditions = function() {
        var capped, cappedArr, id, k, l, len1, player, ref, ref1, stillThere, thing;
        if (this.state !== "running") {
          return;
        }
        capped = {};
        ref = this.things;
        for (id in ref) {
          thing = ref[id];
          if (thing.commandPoint) {
            capped[thing.side] = (capped[thing.side] || 0) + 1;
          }
        }
        cappedArr = (function() {
          var results;
          results = [];
          for (k in capped) {
            results.push(k);
          }
          return results;
        })();
        if (cappedArr.length === 0) {
          return;
        }
        if (cappedArr.length === 1 && cappedArr[0] !== 'neutral') {
          this.winningSide = cappedArr[0];
        }
        if (this.winningSide) {
          this.endOfGame();
          return;
        }
        if (!this.local && !this.aiTestMode) {
          stillThere = false;
          ref1 = this.players;
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            player = ref1[l];
            if (!player.ai && player.connected && !player.afk && player.side !== "spectators") {
              stillThere = true;
            }
          }
          if (!stillThere) {
            this.say("Every one left. Ending game.");
            this.winningSide = false;
            this.endOfGame();
          } else if (this.step > 16 * 60 * 30) {
            this.winningSide = false;
            this.endOfGame();
          }
        }
      };
  
      Sim.prototype.endOfGame = function() {
        var l, len1, player, ref;
        if (this.winningSide) {
          this.say(this.winningSide + " has won!");
        } else {
          this.say("Game ends in a draw!");
        }
        this.numBattles += 1;
        if (this.numBattles > 100) {
          this.awaitRestart = true;
        }
        if (typeof this.sendGameReport === "function") {
          this.sendGameReport();
        }
        if (this.serverType === "1v1r") {
          ref = this.players;
          for (l = 0, len1 = ref.length; l < len1; l++) {
            player = ref[l];
            if (player.side !== "spectators") {
              if (player.side === this.winningSide) {
                player.streek += 1;
                if (player.streek === 1) {
                  this.say(player.name + " wins a battle");
                } else {
                  this.say(player.name + " wins " + player.streek + " battles");
                }
                player.host = true;
              } else {
                player.side = "spectators";
                player.host = false;
                player.streek = 0;
                if (this.winningSide) {
                  this.say(player.name + " lost and was kicked");
                }
                player.kickTime = now();
              }
            }
          }
        }
        if (this.serverType === "survival") {
          survival.endOfGame(this);
        }
        return this.state = "ended";
      };
  
      Sim.prototype.unitsCollide = function() {
        var _push, distance, force, i, j, k, l, len1, missles, n, ratio, results, t, u, u2, units;
        n = this.step % 2;
        units = (function() {
          var ref, results;
          ref = this.things;
          results = [];
          for (k in ref) {
            t = ref[k];
            if (t.unit && !t.fixed && t.active) {
              results.push(t);
            }
          }
          return results;
        }).call(this);
        units.sort(function(a, b) {
          return a.pos[n] - b.pos[n];
        });
        this.axisSort = n;
        this.axisSortedUnits = units;
        missles = (function() {
          var ref, results;
          ref = this.things;
          results = [];
          for (k in ref) {
            t = ref[k];
            if (t.missile) {
              results.push(t);
            }
          }
          return results;
        }).call(this);
        missles.sort(function(a, b) {
          return a.pos[n] - b.pos[n];
        });
        this.axisSortedMissles = missles;
        results = [];
        for (i = l = 0, len1 = units.length; l < len1; i = ++l) {
          u = units[i];
          results.push((function() {
            var m, results1;
            results1 = [];
            for (j = m = -4; m <= 4; j = ++m) {
              u2 = units[i + j];
              if (j !== 0 && u2) {
                v2.sub(u.pos, u2.pos, _offset);
                distance = v2.mag(_offset);
                if (distance < .001) {
                  _offset = [0, -1];
                  distance = 1;
                }
                if (distance < u.radius + u2.radius) {
                  force = (u.radius + u2.radius) - distance;
                  ratio = u2.mass / (u.mass + u2.mass);
                  _push = v2.create();
                  v2.scale(_offset, ratio * force / distance * .02, _push);
                  v2.add(u.pos, _push);
                  v2.scale(_offset, -(1 - ratio) * force / distance * .02, _push);
                  results1.push(v2.add(u2.pos, _push));
                } else {
                  results1.push(void 0);
                }
              } else {
                results1.push(void 0);
              }
            }
            return results1;
          })());
        }
        return results;
      };
  
      Sim.prototype.thingFields = ["onOrderId", "holdPosition", "hp", "energy", "shield", "cloak", "burn", "dead", "radius", "size", "rot", "image", "warpIn", "jump", "side", "owner", "capping", "aoe", "damage", "life", "maxLife", "turretNum", "targetPos", "hitPos"];
  
      Sim.prototype.playerFields = ["name", "side", "afk", "host", "money", "connected", "dead", "color", "mouse", "action", "buildQ", "validBar", "ai", "apm", "capps", "kills", "unitsBuilt", "moneyEarned", "rallyPoint"];
  
      Sim.prototype.simFields = ["serverType", "step", "theme", "state", "winningSide", "countDown"];
  
      Sim.prototype.send = function() {
        var _, changes, data, e, f, i, id, l, len1, len2, len3, len4, len5, len6, len7, len8, m, o, p, packet, part, partId, player, predictable, q, r, ref, ref1, ref10, ref11, ref12, ref13, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, s, send, splayers, sthings, t, targetId, thing, v, x, y, z;
        this.timeStart("send");
        this.timeStart("things");
        sthings = [];
        ref = this.things;
        for (id in ref) {
          thing = ref[id];
          changes = [];
          changes.push(["thingId", thing.id]);
          if (thing.net == null) {
            thing.net = s = {};
            changes.push(["name", thing.constructor.name]);
            changes.push(["spec", thing.spec]);
            changes.push(["color", thing.color]);
            changes.push(["z", thing.z]);
          } else if (thing["static"]) {
            continue;
          } else {
            s = thing.net;
          }
          ref1 = this.thingFields;
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            f = ref1[l];
            v = thing[f];
            if ((v != null) && !simpleEquals(s[f], v)) {
              if (isArray(v)) {
                if (s.length !== v.length) {
                  s[f] = new Array(v.length);
                }
                for (i = m = 0, len2 = v.length; m < len2; i = ++m) {
                  e = v[i];
                  s[f][i] = e;
                }
              } else {
                s[f] = v;
              }
              changes.push([f, v]);
            }
          }
          predictable = false;
          if ((s.vel != null) && (s.pos != null)) {
            v2.add(s.pos, s.vel, _pos);
            if (v2.distance(_pos, thing.pos) < .1) {
              v2.set(_pos, s.pos);
              predictable = true;
            }
          }
          if (!predictable) {
            if (s.vel == null) {
              s.vel = v2.create();
            }
            if (s.pos == null) {
              s.pos = v2.create();
            }
            v2.set(thing.vel, s.vel);
            v2.set(thing.pos, s.pos);
            changes.push(["vel", thing.vel]);
            changes.push(["pos", thing.pos]);
          }
          if (s.targetId !== ((ref2 = thing.target) != null ? ref2.id : void 0)) {
            s.targetId = (ref3 = thing.target) != null ? ref3.id : void 0;
            changes.push(["targetId", s.targetId]);
          }
          if (s.originId !== ((ref4 = thing.origin) != null ? ref4.id : void 0)) {
            s.originId = (ref5 = thing.origin) != null ? ref5.id : void 0;
            changes.push(["originId", s.originId]);
          }
          if (s.followId !== ((ref6 = thing.follow) != null ? ref6.id : void 0)) {
            s.followId = (ref7 = thing.follow) != null ? ref7.id : void 0;
            changes.push(["followId", s.followId]);
          }
          if (this.local) {
            if (s.message !== thing.message) {
              s.message = thing.message;
              changes.push(["message", s.message]);
            }
          }
          if (thing.parts != null) {
            ref8 = thing.parts;
            for (partId = o = 0, len3 = ref8.length; o < len3; partId = ++o) {
              part = ref8[partId];
              changes.push(["partId", partId]);
              s = part.net;
              if (!s) {
                part.net = s = {};
              }
              if ((part.working != null) && s.working !== part.working) {
                changes.push(["partWorking", part.working]);
                s.working = part.working;
              }
              if (part.weapon) {
                targetId = ((ref9 = part.target) != null ? ref9.id : void 0) || 0;
                if (s.targetId !== targetId) {
                  changes.push(["partTargetId", targetId]);
                  s.targetId = targetId;
                }
              }
              if (changes[changes.length - 1][0] === "partId") {
                changes.pop();
              }
            }
          }
          if (changes.length > 1) {
            sthings.push(changes);
          }
        }
        this.timeEnd("things");
        this.timeStart("players");
        splayers = [];
        ref10 = this.players;
        for (q = 0, len4 = ref10.length; q < len4; q++) {
          player = ref10[q];
          changes = [];
          changes.push(["playerNumber", player.number]);
          if (player.net == null) {
            player.net = s = {};
          } else {
            s = player.net;
          }
          ref11 = this.playerFields;
          for (r = 0, len5 = ref11.length; r < len5; r++) {
            f = ref11[r];
            v = player[f];
            if ((v != null) && !simpleEquals(s[f], v)) {
              if (isArray(v)) {
                if (s.length !== v.length) {
                  s[f] = new Array(v.length);
                }
                for (i = x = 0, len6 = v.length; x < len6; i = ++x) {
                  e = v[i];
                  s[f][i] = e;
                }
              } else {
                s[f] = v;
              }
              changes.push([f, v]);
            }
          }
          if (changes.length > 1) {
            splayers.push(changes);
          }
        }
        this.timeEnd("players");
        this.timeStart("other");
        data = {};
        s = this.net;
        if (!s) {
          this.net = s = {};
        }
        ref12 = this.simFields;
        for (y = 0, len7 = ref12.length; y < len7; y++) {
          f = ref12[y];
          if (!simpleEquals(s[f], this[f])) {
            data[f] = this[f];
            s[f] = this[f];
          }
        }
        if (splayers.length > 0) {
          data.players = splayers;
        }
        if (sthings.length > 0) {
          data.things = sthings;
        }
        if (this.fullUpdate) {
          data.fullUpdate = true;
          this.fullUpdate = false;
        }
        if (this.step % 16 === 0) {
          send = false;
          ref13 = this.players;
          for (z = 0, len8 = ref13.length; z < len8; z++) {
            player = ref13[z];
            if (player.name === "treeform" && player.connected) {
              send = true;
            }
          }
          if (send) {
            data.perf = {
              numbers: {
                things: ((function() {
                  var results;
                  results = [];
                  for (t in this.things) {
                    results.push(t);
                  }
                  return results;
                }).call(this)).length,
                sthings: sthings.length,
                players: ((function() {
                  var aa, len9, ref14, results;
                  ref14 = this.players;
                  results = [];
                  for (aa = 0, len9 = ref14.length; aa < len9; aa++) {
                    p = ref14[aa];
                    results.push(p);
                  }
                  return results;
                }).call(this)).length,
                splayers: splayers.length,
                units: ((function() {
                  var ref14, results;
                  ref14 = this.things;
                  results = [];
                  for (_ in ref14) {
                    t = ref14[_];
                    if (t.unit) {
                      results.push(t);
                    }
                  }
                  return results;
                }).call(this)).length,
                bullets: ((function() {
                  var ref14, results;
                  ref14 = this.things;
                  results = [];
                  for (_ in ref14) {
                    t = ref14[_];
                    if (t.bullet) {
                      results.push(t);
                    }
                  }
                  return results;
                }).call(this)).length,
                others: ((function() {
                  var ref14, results;
                  ref14 = this.things;
                  results = [];
                  for (_ in ref14) {
                    t = ref14[_];
                    if (!t.bullet && !t.unit) {
                      results.push(t);
                    }
                  }
                  return results;
                }).call(this)).length
              },
              timeings: this.timeings
            };
          }
          this.timeings = {};
        }
        this.timeEnd("other");
        this.timeStart("zJson");
        packet = this.zJson.dumpDv(data);
        this.timeEnd("zJson");
        this.timeEnd("send");
        return packet;
      };
  
      Sim.prototype.clearNetState = function() {
        var id, l, len1, len2, m, part, player, ref, ref1, ref2, results, thing;
        this.fullUpdate = true;
        delete this.net;
        ref = this.things;
        for (id in ref) {
          thing = ref[id];
          delete thing.net;
          if (thing.parts != null) {
            ref1 = thing.parts;
            for (l = 0, len1 = ref1.length; l < len1; l++) {
              part = ref1[l];
              delete part.net;
            }
          }
        }
        ref2 = this.players;
        results = [];
        for (m = 0, len2 = ref2.length; m < len2; m++) {
          player = ref2[m];
          results.push(delete player.net);
        }
        return results;
      };
  
      Sim.prototype.timeings = {};
  
      Sim.prototype.timeStarts = {};
  
      Sim.prototype.timePath = [];
  
      Sim.prototype.timeStart = function(what) {
        this.timePath.push(what);
        return this.timeStarts[this.timePath.join(">")] = now();
      };
  
      Sim.prototype.timeEnd = function(what) {
        var delta, key;
        key = this.timePath.join(">");
        if (this.timePath.pop() !== what) {
          throw "timeEnd does not match timeStart";
        }
        delta = now() - this.timeStarts[key];
        if (this.timeings[key] == null) {
          return this.timeings[key] = delta;
        } else {
          return this.timeings[key] += delta;
        }
      };
  
      Sim.prototype.timeIt = function(what, fn) {
        var ret;
        this.timeStart(what);
        ret = fn();
        this.timeEnd(what);
        return ret;
      };
  
      Sim.prototype.timeReport = function() {
        var bar, i, k, l, ref, ref1, v;
        ref = this.timeings;
        for (k in ref) {
          v = ref[k];
          bar = "";
          for (i = l = 0, ref1 = v; 0 <= ref1 ? l < ref1 : l > ref1; i = 0 <= ref1 ? ++l : --l) {
            bar += "*";
          }
          print(bar, k, v);
        }
        return this.timeings = {};
      };
  
      return Sim;
  
    })();
  
  }).call(this);
  ;
  
  
  //from src/survival.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    window.survival = {};
  
    survival.firstWave = 10;
  
    survival.waveFreq = 30;
  
    survival.numComPoints = 12;
  
    survival.startAIMoney = 1500;
  
    survival.waveAIMoneyMul = 500;
  
    survival.waveAIPow = 1.2;
  
    survival.start = function(sim) {
      var key, p, ref, results;
      sim.waveNum = 0;
      sim.say("Get ready. First wave in " + survival.firstWave + "s!");
      ref = sim.players;
      results = [];
      for (key in ref) {
        p = ref[key];
        if (p && p.connected) {
          if (p.side === 'beta') {
            p.money = 1;
            p.moneyRatio = 0;
            p.gainsMoney = 0;
          }
          if (p.side === 'alpha') {
            p.money = 2000;
            p.moneyRatio = 1;
            results.push(p.gainsMoney = 1);
          } else {
            results.push(void 0);
          }
        } else {
          results.push(void 0);
        }
      }
      return results;
    };
  
    survival.endOfGame = function(sim) {
      var key, p, ref, results;
      sim.say("The survivors survived " + sim.waveNum + " waves!");
  
      /*
       * Remove ships in the case there are too many and cause lag
      for id, object of sim.things
          if object.unit
              object.selfDestruct()
       */
      ref = sim.players;
      results = [];
      for (key in ref) {
        p = ref[key];
        if (p && p.connected) {
          if (p.moneyRatio === 0) {
            results.push(p.moneyRatio = 1);
          } else {
            results.push(void 0);
          }
        } else {
          results.push(void 0);
        }
      }
      return results;
    };
  
    survival.canStart = function(sim) {
      return sim.numInTeam("alpha") > 0 && sim.numInTeam("beta") > 0;
    };
  
    survival.simulate = function(sim) {
      var aiMoney, betaPlayerCount, j, len, p, ref;
      if (sim.state === 'running') {
        if (((sim.step / 16) - survival.firstWave) % survival.waveFreq === 0) {
          sim.waveNum += 1;
          aiMoney = Math.floor(survival.startAIMoney + Math.pow(survival.waveAIPow, sim.waveNum) * survival.waveAIMoneyMul);
          sim.say("Spawning wave " + sim.waveNum + "! Strength: " + aiMoney);
          betaPlayerCount = sim.players.filter(function(p) {
            return p.side === 'beta';
          }).length;
          ref = sim.players;
          for (j = 0, len = ref.length; j < len; j++) {
            p = ref[j];
            if (p.side === "beta") {
              p.money = Math.round(aiMoney);
            }
          }
        }
      }
    };
  
    survival.victoryConditions = function(sim) {
      var capped, cappedArr, id, j, k, len, player, ref, ref1, stillThere, thing;
      if (sim.state !== "running") {
        return;
      }
      capped = {};
      ref = sim.things;
      for (id in ref) {
        thing = ref[id];
        if (thing.commandPoint) {
          capped[thing.side] = (capped[thing.side] || 0) + 1;
        }
      }
      cappedArr = (function() {
        var results;
        results = [];
        for (k in capped) {
          results.push(k);
        }
        return results;
      })();
      if (cappedArr.length === 0) {
        return;
      }
      if (cappedArr.length === 1 && cappedArr[0] === "beta") {
        sim.winningSide = cappedArr[0];
      }
      if (sim.winningSide) {
        sim.endOfGame();
        return;
      }
      if (!sim.local && !sim.aiTestMode) {
        stillThere = false;
        ref1 = sim.players;
        for (j = 0, len = ref1.length; j < len; j++) {
          player = ref1[j];
          if (!player.ai && player.connected && !player.afk && player.side !== "spectators") {
            stillThere = true;
          }
        }
        if (!stillThere) {
          sim.say("Every one left. Ending game.");
          sim.winningSide = false;
          sim.endOfGame();
        }
      }
    };
  
    survival.genSurvival = function() {
      var cp, i, j, ref, results, spawn, th;
      spawn = new types.SpawnPoint();
      spawn.side = "alpha";
      spawn.spawn = "alpha";
      spawn.pos = v2.create([0, 0]);
      sim.things[spawn.id] = spawn;
      cp = function(r, th, side) {
        var point;
        point = new types.CommandPoint();
        point.z = -.01;
        point.pos[0] = Math.cos(th) * r * sim.mapScale;
        point.pos[1] = Math.sin(th) * r * sim.mapScale;
        point.side = side;
        return sim.things[point.id] = point;
      };
      results = [];
      for (i = j = 0, ref = survival.numComPoints; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        th = i * Math.PI * 2 / survival.numComPoints;
        if (i % 2 === 0) {
          results.push(cp(1320, th, "beta"));
        } else {
          results.push(cp(960, th, "alpha"));
        }
      }
      return results;
    };
  
    survival.rqUnit = function(sim, number, slot) {
      var pos, th;
      th = Math.random() * Math.PI * 2;
      pos = v2.scale(v2.pointTo([], th), 2000 * sim.mapScale);
      return sim.buildUnit(number, slot, pos);
    };
  
  }).call(this);
  ;
  
  
  //from src/interpolator.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var diffVec,
      bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
      extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
      hasProp = {}.hasOwnProperty;
  
    diffVec = v2.create();
  
    window.Interpolator = (function(superClass) {
      extend(Interpolator, superClass);
  
      Interpolator.prototype.sound = true;
  
      Interpolator.prototype.fast = false;
  
      function Interpolator() {
        this.think = bind(this.think, this);
        this.step = 0;
        this.smoothStep;
        this.advanceStep;
        this.firstUpdate = true;
        this.things = {};
        this.players = [];
        this.particles = {};
        this.trails = {};
        this.avgFrame = 9;
        this.lastFrame = 0;
        this.stepTime = now();
        this.t = now();
        this.avgDt = 1 / 60;
        this.avgTime = 1000 / 16;
        this.allMessages = [];
        this.dataQ = [];
        this.wait = 0;
        this.prevWait = 2;
        this.state = "waiting";
        this.pref = {};
        this.zJson = new window.ZJson(prot.commonWords);
      }
  
      Interpolator.prototype.gameStarted = function() {
        if (!commander) {
          return;
        }
        this.players = [];
        this.things = {};
        this.particles = {};
        this.trails = {};
        this.winningSide = null;
        track("start");
        if (!sim.galaxyStar && !sim.local) {
          if (commander.side !== "spectators") {
            ui.go("battle");
          }
          if (ui.mode === "battleroom" || ui.mode === "quickscore") {
            ui.go("battle");
          }
        }
        return commander.selection = [];
      };
  
      Interpolator.prototype.focusMap = function() {
        var _, dist, maxDist, ref, thing;
        maxDist = 0;
        ref = sim.things;
        for (_ in ref) {
          thing = ref[_];
          dist = v2.mag(thing.pos);
          if (dist > maxDist) {
            maxDist = dist;
          }
        }
        battleMode.focus = [0, 0];
        return battleMode.zoom = maxDist / 1000;
      };
  
      Interpolator.prototype.gameEnded = function() {
        actionMixer.reset();
        if (!sim.local) {
          if (commander.side !== "spectators") {
            ui.go("quickscore");
          }
          if (ui.mode === "battle") {
            ui.go("quickscore");
          }
        }
        return this.uploadReplay();
      };
  
      Interpolator.prototype.drawThingsList = function() {
        var _, particle, ref, ref1, ref2, thing, things;
        things = [];
        ref = this.things;
        for (_ in ref) {
          thing = ref[_];
          things.push(thing);
        }
        ref1 = this.particles;
        for (_ in ref1) {
          particle = ref1[_];
          things.push(particle);
        }
        ref2 = this.trails;
        for (_ in ref2) {
          particle = ref2[_];
          things.push(particle);
        }
        return things;
      };
  
      Interpolator.prototype.draw = function() {
        var ai, color, i, j, l, len, len1, len2, len3, m, o, p, player, q, ref, ref1, ref2, thing, things;
        this.advance();
        if (typeof sim !== "undefined" && sim !== null ? sim.ais : void 0) {
          ref = sim.ais;
          for (j = 0, len = ref.length; j < len; j++) {
            ai = ref[j];
            ai.draw();
          }
        }
        things = this.drawThingsList();
        things.sort(function(a, b) {
          return a.z - b.z;
        });
        for (l = 0, len1 = things.length; l < len1; l++) {
          thing = things[l];
          thing.draw();
        }
        color = [0, 0, 0, 0];
        ref1 = this.players;
        for (o = 0, len2 = ref1.length; o < len2; o++) {
          player = ref1[o];
          if (!player) {
            continue;
          }
          if (player.name !== (typeof commander !== "undefined" && commander !== null ? commander.name : void 0) && player.side !== "spectators" && player.side !== "dead" && player.connected) {
            if (player.mouse[0] !== 0 && player.mouse[1] !== 0 && player._mouse) {
              m = [0, 0];
              color = [player.color[0], player.color[1], player.color[2], 255];
              v2.lerp(player._mouse, player.mouse, this.smoothFactor, m);
              player.mouseTrail.push(m);
              while (player.mouseTrail.length > 10) {
                player.mouseTrail.shift();
              }
              ref2 = player.mouseTrail;
              for (i = q = 0, len3 = ref2.length; q < len3; i = ++q) {
                p = ref2[i];
                color[3] = 255 / (10 - i + 1);
                baseAtlas.drawSprite("img/pip1.png", p, [1, 1], 0, color);
              }
              if (player.action) {
                baseAtlas.drawSprite("img/pip1.png", m, [2, 2], 0, player.color);
              }
            }
          }
          if (player.name === (typeof commander !== "undefined" && commander !== null ? commander.name : void 0)) {
            player.selection = commander.selection;
            player.draw();
          }
        }
  
        /*  * uncomment this to debug
        for _, t of intp.things
            #baseAtlas.drawSprite("img/pip1.png", t._pos2,  [1,1], 0, [0,255,0,100])
            #baseAtlas.drawSprite("img/pip1.png", t._pos, [1,1], 0, [255,0,0,100])
            if t.unit
                for p in t.testIntp
                    baseAtlas.drawSprite("img/pip1.png", p, [.2,.2], 0, [255,0,0,100])
                #for p in t.testStep
                 *    baseAtlas.drawSprite("img/pip1.png", p, [.4,.4], 0, [0,255,0,100])
         */
      };
  
      Interpolator.prototype.advance = function() {
        if (this.fast) {
          return this.advanceSnap();
        } else {
          return this.advanceSmooth();
        }
      };
  
      Interpolator.prototype.advanceSnap = function() {
        var i, id, j, len, ref, ref1, thing, weapon;
        this.t = now();
        this.smoothFactor = 1;
        ref = this.things;
        for (id in ref) {
          thing = ref[id];
          v2.set(thing._pos, thing.pos);
          thing.rot = thing._rot;
          if (thing.weapons != null) {
            ref1 = thing.weapons;
            for (i = j = 0, len = ref1.length; j < len; i = ++j) {
              weapon = ref1[i];
              weapon.rot = weapon._rot;
            }
          }
        }
        return null;
      };
  
      Interpolator.prototype.advanceSmooth = function() {
        var a, angleDiff, difference, expectedLastStep, i, id, j, jumpDiff, len, part, ref, ref1, ref2, thing, timeLastStep;
        this.t = now();
  
        /*  * uncomment this to debug
         * instant
        if @dataQ.length > 0
            @process(@dataQ.pop())
         */
        if (this.dataQ.length > 0) {
          timeLastStep = this.t - this.stepTime;
          expectedLastStep = 1000 / 16;
          difference = timeLastStep / expectedLastStep;
          if (difference > 1 - this.dataQ.length * .1) {
            this.process(this.dataQ.pop());
          }
        }
  
        /*  * uncomment this to debug
         * high jitter
        if @dataQ.length > 16
            timeLastStep = @t - @stepTime
            expectedLastStep = 1000/16
            faster = 0
            if @dataQ.length > 16
                faster = (@dataQ.length-16)
            console.log "difference", timeLastStep, expectedLastStep, @dataQ.length, faster
            if timeLastStep > expectedLastStep - faster
                @process(@dataQ.pop())
         */
        this.lastFrame += 1;
        a = this.lastFrame / this.avgFrame;
        this.smoothFactor = a;
        this.smoothStep = this.step + a;
        if (a > 1) {
          a = 1;
        }
        if (a < 0) {
          a = 0;
        }
        if (this.smoothFactor > 10) {
          this.smoothFactor = 10;
        }
        ref = this.things;
        for (id in ref) {
          thing = ref[id];
          thing.pos[0] = thing._pos2[0] + (thing._pos[0] - thing._pos2[0]) * a;
          thing.pos[1] = thing._pos2[1] + (thing._pos[1] - thing._pos2[1]) * a;
          angleDiff = angleBetween(thing._rot2, thing._rot);
          thing.rot = thing._rot2 + angleDiff * a;
          if (thing.parts != null) {
            ref1 = thing.parts;
            for (i = j = 0, len = ref1.length; j < len; i = ++j) {
              part = ref1[i];
              angleDiff = angleBetween(part._rot2, part._rot);
              part.rot = part._rot2 + angleDiff * a;
            }
          }
          if (thing.jump != null) {
            jumpDiff = thing._jump2 - thing._jump;
            thing.jump = thing._jump + jumpDiff * a;
          }
        }
        ref2 = this.particles;
        for (id in ref2) {
          thing = ref2[id];
          thing.pos[0] = thing._pos2[0] + (thing._pos[0] - thing._pos2[0]) * a;
          thing.pos[1] = thing._pos2[1] + (thing._pos[1] - thing._pos2[1]) * a;
          angleDiff = angleBetween(thing._rot2, thing._rot);
          thing.rot = thing._rot2 + angleDiff * a;
        }
        return null;
      };
  
      Interpolator.prototype.replay = "off";
  
      Interpolator.prototype.recordReplay = function() {
        this.replay = "recording";
        return this.replayFrames = [];
      };
  
      Interpolator.prototype.uploadReplay = function() {
        var data, frame;
        if (this.replay === "recording") {
          this.replay = "off";
          data = JSON.stringify((function() {
            var j, len, ref, results;
            ref = this.replayFrames;
            results = [];
            for (j = 0, len = ref.length; j < len; j++) {
              frame = ref[j];
              results.push(dv2str(frame));
            }
            return results;
          }).call(this));
          localStorage.replay = data;
        }
      };
  
      Interpolator.prototype.playReplay = function() {
        var data, frame;
        this.players = [];
        this.things = {};
        this.particles = {};
        this.winningSide = null;
        this.replay = "playing";
        this.replayStep = 0;
        data = localStorage.replay;
        this.replayFrames = (function() {
          var j, len, ref, results;
          ref = JSON.parse(data);
          results = [];
          for (j = 0, len = ref.length; j < len; j++) {
            frame = ref[j];
            results.push(str2dv(frame));
          }
          return results;
        })();
        return this.local = false;
      };
  
      Interpolator.prototype.recv = function(data) {
        this.dataQ.unshift(data);
        while (this.dataQ.length > 32) {
          this.process(this.dataQ.pop());
        }
        return stats.simAdd();
      };
  
      Interpolator.prototype.think = function() {};
  
      Interpolator.prototype.debugDraw = function() {
        var j, l, ref, ref1, results, x;
        for (x = j = 0, ref = this.prevWait; 0 <= ref ? j < ref : j > ref; x = 0 <= ref ? ++j : --j) {
          baseAtlas.drawSprite("img/pip1.png", [20 + x * 40 - window.innerWidth, window.innerHeight - 120], [1, 1], 0, [0, 0, 0, 255]);
        }
        results = [];
        for (x = l = 0, ref1 = this.dataQ.length; 0 <= ref1 ? l < ref1 : l > ref1; x = 0 <= ref1 ? ++l : --l) {
          results.push(baseAtlas.drawSprite("img/pip1.png", [20 + x * 40 - window.innerWidth, window.innerHeight - 120], [1, 1], 0, [255, 255, 255, 255]));
        }
        return results;
      };
  
      Interpolator.prototype.process = function(data) {
        var _, dt, id, j, k, kv, l, len, len1, len2, len3, len4, len5, len6, len7, len8, n, newObj, newThing, number, o, p, part, player, q, r, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, s, selection, t, thing, trail, u, unit, v, w, y, z;
        if (this.replay === "recording") {
          this.replayFrames.push(packet);
        }
        t = now();
        dt = t - this.stepTime;
        this.avgTime = this.avgTime * .9 + dt * .1;
        this.stepTime = t;
        this.avgFrame = this.avgFrame * .9 + this.lastFrame * .1;
        this.lastFrame = 0;
        if (intp.players.length === 0 && !data.fullUpdate && commander) {
          print("waiting for full update");
          return;
        }
        intp.advanceStep = 0;
        if (data.fullUpdate) {
          intp.step = data.step;
        } else if (data.step != null) {
          if (intp.step + 1 === data.step) {
            intp.step += 1;
            intp.advanceStep = 1;
          } else {
            print("Over step, what about full update?");
            return;
          }
        }
        if (data.winningSide) {
          intp.winningSide = data.winningSide;
          onecup.refresh();
        }
        if (data.state) {
          intp.state = data.state;
          onecup.refresh();
        }
        if (intp.state === "starting") {
          this.gameStarted();
        }
        if (intp.state === "ended") {
          console.log("ended");
          this.gameEnded();
        }
        if (data.serverType) {
          intp.serverType = data.serverType;
          onecup.refresh();
        }
        if (data.theme) {
          intp.theme = data.theme;
        }
        if (intp.countDown === 5 * 16 && !sim.local) {
          onecup.refresh();
        }
        if (data.countDown != null) {
          intp.countDown = data.countDown;
          if (intp.countDown % 16 === 0 && intp.state === "waiting") {
            onecup.refresh();
          }
        }
        designMode.locked = intp.serverType === "1v1t" && intp.state === "running" && commander.side !== "spectators";
        if (data.perf) {
          intp.perf = data.perf;
          if (control.perf) {
            onecup.refresh();
          }
        }
        ref = intp.things;
        for (_ in ref) {
          thing = ref[_];
          v2.add(thing._pos, thing.vel);
          v2.set(thing.pos, thing._pos2);
          thing._rot2 = thing.rot;
          if (thing.parts != null) {
            ref1 = thing.parts;
            for (j = 0, len = ref1.length; j < len; j++) {
              part = ref1[j];
              part._rot2 = part.rot;
            }
          }
        }
        ref2 = intp.players;
        for (l = 0, len1 = ref2.length; l < len1; l++) {
          player = ref2[l];
          player._mouse = player.mouse;
        }
        if (data.things) {
          ref3 = data.things;
          for (o = 0, len2 = ref3.length; o < len2; o++) {
            t = ref3[o];
            thing = null;
            part = null;
            newObj = false;
            for (q = 0, len3 = t.length; q < len3; q++) {
              kv = t[q];
              k = kv[0], v = kv[1];
              switch (k) {
                case "thingId":
                  thing = intp.things[v];
                  if (!thing) {
                    thing = {
                      dummy: true
                    };
                    newObj = true;
                  }
                  thing.id = v;
                  part = null;
                  newObj = false;
                  break;
                case "spec":
                  if (thing.dummy) {
                    newThing = new types[thing.name](v);
                    newThing.id = thing.id;
                    newThing.name = thing.name;
                    intp.things[newThing.id] = newThing;
                    thing = newThing;
                    newObj = true;
                  }
                  break;
                case "pos":
                  if (newObj || (thing._pos == null)) {
                    thing.pos = v2.create(v);
                    thing._pos = v2.create(thing.pos);
                    thing._pos2 = v2.create(thing.pos);
                  } else {
                    v2.set(v, thing._pos);
                  }
                  break;
                case "rot":
                  if (newObj) {
                    thing.rot = v;
                    thing._rot = thing.rot;
                    thing._rot2 = thing.rot;
                    if (thing.weapons) {
                      ref4 = thing.weapons;
                      for (r = 0, len4 = ref4.length; r < len4; r++) {
                        w = ref4[r];
                        w.rot = thing.rot;
                        w._rot = thing.rot;
                        w._rot2 = thing.rot;
                      }
                    }
                  } else {
                    thing._rot = v;
                  }
                  break;
                case "jump":
                  thing._jump = thing._jump2 || v;
                  thing.jump = thing._jump2 = v;
                  break;
                case "dead":
                  thing.dead = v;
                  if (thing.dead) {
                    if (typeof thing.createDebree === "function") {
                      thing.createDebree();
                    }
                  }
                  break;
                case "partId":
                  if (thing.parts) {
                    part = thing.parts[v];
                    newObj = false;
                  } else {
                    part = {};
                  }
                  break;
                case "partWorking":
                  part.working = v;
                  break;
                case "partTargetId":
                  part.targetId = v;
                  break;
                case "orders":
                  thing.orders = v;
                  if (thing.preOrders) {
                    thing.preOrders = thing.preOrders.filter(function(order) {
                      return order.step + 16 * 5 < sim.step;
                    });
                  }
                  break;
                default:
                  thing[k] = v;
              }
            }
          }
        }
        if (data.players) {
          ref5 = data.players;
          for (s = 0, len5 = ref5.length; s < len5; s++) {
            p = ref5[s];
            player = null;
            for (u = 0, len6 = p.length; u < len6; u++) {
              kv = p[u];
              k = kv[0], v = kv[1];
              if (k === "playerNumber") {
                while (intp.players.length <= v) {
                  intp.players.push(new Player());
                }
                player = intp.players[v];
                player.number = v;
              } else {
                player[k] = v;
              }
              if ((k === "buildQ" || k === "validBar") && commander.name === player.name) {
                onecup.refresh();
              }
            }
          }
        }
        ref6 = intp.things;
        for (_ in ref6) {
          thing = ref6[_];
          if (thing.targetId) {
            thing.target = intp.things[thing.targetId];
          }
          if (thing.originId) {
            thing.origin = intp.things[thing.originId];
          }
        }
        ref7 = this.things;
        for (id in ref7) {
          thing = ref7[id];
          if (typeof thing.clientTick === "function") {
            thing.clientTick();
          }
          if (thing.dead) {
            delete this.things[id];
          }
        }
        ref8 = this.players;
        for (number = y = 0, len7 = ref8.length; y < len7; number = ++y) {
          player = ref8[number];
          if ((typeof commander !== "undefined" && commander !== null) && (player != null ? player.ai : void 0) === false && commander.name === (player != null ? player.name : void 0)) {
            if (player.side) {
              commander.side = player.side;
            }
            if (player.money) {
              commander.money = player.money;
            }
            if (player.selection) {
              commander.selection = player.selection;
            }
            if (player.buildQ) {
              commander.buildQ = player.buildQ;
            }
            if (player.validBar) {
              commander.validBar = player.validBar;
            }
            if (player.rallyPoint) {
              commander.rallyPoint = player.rallyPoint;
            }
            commander.number = number;
            if (player.host != null) {
              commander.host = player.host;
            }
          }
          if (!player.name) {
            player.name = "no name";
          }
          if (!player.side) {
            player.side = "spectators";
          }
          if (!player.color) {
            player.color = [255, 0, 0, 255];
          }
        }
        ref9 = this.particles;
        for (id in ref9) {
          thing = ref9[id];
          if (thing.dead) {
            delete this.particles[id];
            continue;
          }
          if (!thing._pos) {
            thing._pos = v2.create(thing.pos);
          }
          if (!thing._pos2) {
            thing._pos2 = v2.create(thing.pos);
          }
          v2.set(thing.pos, thing._pos2);
          thing._rot2 = thing.rot;
          if (this.advanceStep === 1) {
            if (typeof thing.tick === "function") {
              thing.tick();
            }
            if (typeof thing.move === "function") {
              thing.move();
            }
          }
          v2.set(thing.pos, thing._pos);
          thing._rot = thing.rot;
        }
        ref10 = this.trails;
        for (id in ref10) {
          trail = ref10[id];
          if (trail.trail.length === 0 && (this.things[trail.parentId] == null)) {
            delete this.trails[id];
          }
        }
        if (this.state === "starting") {
          this.focusMap();
          this.state = "running";
          onecup.refresh();
        }
        if (this.state === "ended") {
          this.state = "waiting";
          onecup.refresh();
          if (this.winningSide === false) {
            playSound("sounds/drone/draw.wav");
          } else if (this.winningSide === (typeof commander !== "undefined" && commander !== null ? commander.side : void 0)) {
            playSound("sounds/drone/victory.wav");
          } else {
            playSound("sounds/drone/defeat.wav");
          }
          onecup.refresh();
        }
        if ((ref11 = onecup.lookup("#money-text")) != null) {
          ref11.innerHTML = buildBar.moneyText();
        }
        if ((ref12 = onecup.lookup("#money-income")) != null) {
          ref12.innerHTML = buildBar.moneyIncomeText();
        }
        buildBar.updateUnitBubble();
        if (typeof commander !== "undefined" && commander !== null ? commander.selection : void 0) {
          selection = [];
          ref13 = commander.selection;
          for (n = z = 0, len8 = ref13.length; z < len8; n = ++z) {
            unit = ref13[n];
            thing = this.things[unit.id];
            if (thing) {
              selection.push(thing);
            }
          }
          commander.selection = selection;
        }
        if (localStorage.useAi === "true" && localStorage.aiGrid === "true") {
          if (ui.mode === "battle" && (typeof commander !== "undefined" && commander !== null ? (ref14 = commander.selection) != null ? ref14.length : void 0 : void 0) > 0) {
            return onecup.refresh();
          }
        }
      };
  
      return Interpolator;
  
    })(window.Sim);
  
  }).call(this);
  ;
  
  
  //from src/things.js
  // Generated by CoffeeScript 1.10.0
  
  /*
  General Game Objects live here
   */
  
  (function() {
    var Explosion, _color, _focus, _offset, _pos, _size, _vec, anitSideColor, sideColor,
      extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
      hasProp = {}.hasOwnProperty;
  
    _pos = v2.create();
  
    _vec = v2.create();
  
    window.drawAllArcs = function(unit) {
      var arc, cur, i, j, l, len, n, pos, range, ref, ref1, ref2, results, th, w, x, y;
      ref = unit.weapons;
      results = [];
      for (j = 0, len = ref.length; j < len; j++) {
        w = ref[j];
        range = w.range;
        arc = w.arc;
        cur = Math.PI * range * 2;
        n = Math.floor(cur / 40 * arc / 360);
        for (i = l = ref1 = -n, ref2 = n; ref1 <= ref2 ? l < ref2 : l > ref2; i = ref1 <= ref2 ? ++l : --l) {
          th = i / (n * 2) * arc / 180 * Math.PI + unit.rot + Math.PI;
          x = Math.sin(-th) * range;
          y = Math.cos(-th) * range;
          pos = [w.worldPos[0] + x, w.worldPos[1] + y];
          baseAtlas.drawSprite("img/arrow02.png", pos, [.25, .25], th + Math.PI, [255, 0, 0, 255]);
        }
        if (w.minRange > 0) {
          cur = Math.PI * w.minRange * 2;
          n = Math.floor(cur / 40 * arc / 360);
          results.push((function() {
            var m, ref3, ref4, results1;
            results1 = [];
            for (i = m = ref3 = -n, ref4 = n; ref3 <= ref4 ? m < ref4 : m > ref4; i = ref3 <= ref4 ? ++m : --m) {
              th = i / (n * 2) * arc / 180 * Math.PI + unit.rot + Math.PI;
              x = Math.sin(-th) * w.minRange;
              y = Math.cos(-th) * w.minRange;
              pos = [w.worldPos[0] + x, w.worldPos[1] + y];
              results1.push(baseAtlas.drawSprite("img/arrow02.png", pos, [.25, .25], th, [255, 0, 0, 255]));
            }
            return results1;
          })());
        } else {
          results.push(void 0);
        }
      }
      return results;
    };
  
    window.drawDottedCircle = function(pos, radius, color) {
      var i, j, n, ref, results, th, x, y;
      n = 40;
      results = [];
      for (i = j = 0, ref = 2 * n; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        th = i / n * 2 * Math.PI;
        x = Math.sin(th) * radius;
        y = Math.cos(th) * radius;
        results.push(baseAtlas.drawSprite("img/map/spawnSlice.png", [pos[0] + x, pos[1] + y], [Math.min(radius / 500, .4), radius / 1000], -th + Math.PI / 2, color));
      }
      return results;
    };
  
    window.players = {};
  
    window.Player = (function() {
      Player.prototype.gainsMoney = true;
  
      Player.prototype.ready = false;
  
      Player.prototype.actions = 0;
  
      Player.prototype.apm = 0;
  
      Player.prototype.capps = 0;
  
      Player.prototype.kills = 0;
  
      Player.prototype.unitsBuilt = 0;
  
      Player.prototype.moneyEarned = 0;
  
      Player.prototype.moneyRatio = 1;
  
      Player.prototype.aiRules = null;
  
      Player.prototype.host = false;
  
      Player.prototype.ai = false;
  
      function Player(id1) {
        this.id = id1;
        this.side = this.id;
        this.color = randColor(200);
        this.reset();
      }
  
      Player.prototype.reset = function() {
        var n;
        this.money = sim.defaultMoney;
        this.mouse = [0, 0];
        this.rallyPoint = [0, 0];
        this.selection = [];
        this.buildQ = [];
        this.validBar = (function() {
          var j, results;
          results = [];
          for (n = j = 0; j < 10; n = ++j) {
            results.push(true);
          }
          return results;
        })();
        this.actions = 0;
        this.apm = 0;
        this.capps = 0;
        this.kills = 0;
        this.unitsBuilt = 0;
        this.moneyEarned = 0;
        return this.mouseTrail = [];
      };
  
      Player.prototype.earnMoney = function(amount) {
        amount *= this.moneyRatio;
        this.money += amount;
        return this.moneyEarned += amount;
      };
  
      Player.prototype.tick = function() {
        if (sim.step % 16 === 0) {
          if (this.gainsMoney && sim.gainsMoney) {
            this.earnMoney(10);
          }
          this.apm = this.actions / (sim.step / 16 / 60);
        }
        if (this.aiRules) {
          sim.timeIt("ai", (function(_this) {
            return function() {
              return doPlayerAIRules(_this);
            };
          })(this));
        }
        return this.wave();
      };
  
      Player.prototype.wave = function() {
        var build, i, j, len, n, ref, slot, waitTime;
        waitTime = 16 * 2;
        if (sim.step > waitTime && sim.step % 16 === 0) {
          build = false;
          ref = this.buildQ;
          for (i = j = 0, len = ref.length; j < len; i = ++j) {
            slot = ref[i];
            if (this.rqUnit(slot)) {
              this.buildQ[i] = null;
              build = true;
            } else {
              break;
            }
          }
          if (build) {
            return this.buildQ = (function() {
              var l, len1, ref1, results;
              ref1 = this.buildQ;
              results = [];
              for (l = 0, len1 = ref1.length; l < len1; l++) {
                n = ref1[l];
                if (n !== null) {
                  results.push(n);
                }
              }
              return results;
            }).call(this);
          }
        }
      };
  
      Player.prototype.rqUnit = function(slot) {
        var spawn, unit;
        if (sim.serverType === 'survival' && this.side === 'beta') {
          unit = survival.rqUnit(sim, this.number, slot);
        } else {
          spawn = sim.findSpawnPoint(this.side);
          if (spawn) {
            unit = sim.buildUnit(this.number, slot, spawn.pos);
            if (unit) {
              v2.random(unit.pos);
              v2.scale(unit.pos, 100 + Math.random() * (spawn.radius - 100));
              v2.add(unit.pos, spawn.pos);
            }
          }
        }
        if (unit) {
          this.unitsBuilt += 1;
          if (this.rallyPoint[0] !== 0 && this.rallyPoint[1] !== 0) {
            unit.setOrder({
              type: "Move",
              dest: this.rallyPoint,
              rally: true
            });
          }
          return unit;
        }
        return null;
      };
  
      Player.prototype.draw = function() {
        var angle, arc, arcRad, color, cur, drawIt, i, j, len, n, other, range, ref, ref1, ref2, results, t, th, x, y;
        if (!ui.show) {
          return;
        }
        if ((ref = sim.galaxyStar) != null) {
          if (typeof ref.draw === "function") {
            ref.draw();
          }
        }
        if (battleMode.rallyPlacing) {
          baseAtlas.drawSprite("img/unitBar/rallyPoint.png", battleMode.mouse, [1, 1], 0);
        } else if (commander.rallyPoint && commander.rallyPoint[0] !== 0 && commander.rallyPoint[1] !== 0) {
          baseAtlas.drawSprite("img/unitBar/rallyPoint.png", commander.rallyPoint, [1, 1], 0);
        }
        if (!this.selection) {
          return;
        }
        ref1 = this.selection;
        results = [];
        for (j = 0, len = ref1.length; j < len; j++) {
          t = ref1[j];
          if (t.dead) {
            continue;
          }
          color = this.color;
          if (typeof t.drawSelection === "function") {
            t.drawSelection(color);
          }
          if (this.selection.length === 1) {
            if (t.weapons) {
              drawAllArcs(t);
            }
            if (t.jump > t.minJump) {
              results.push(drawDottedCircle(t.pos, t.jump, [0, 0, 0, 125]));
            } else {
              results.push(void 0);
            }
          } else {
            if (((ref2 = t.weapons) != null ? ref2.length : void 0) > 0) {
              range = t.weaponRange;
              arc = t.weaponArc;
              cur = Math.PI * range * 2;
              n = Math.floor(cur / 80 * arc / 360);
              results.push((function() {
                var l, len1, m, ref3, ref4, ref5, results1;
                results1 = [];
                for (i = l = ref3 = -n, ref4 = n; ref3 <= ref4 ? l < ref4 : l > ref4; i = ref3 <= ref4 ? ++l : --l) {
                  th = i / (n * 2) * arc / 180 * Math.PI + t.rot + Math.PI;
                  x = Math.sin(-th) * range;
                  y = Math.cos(-th) * range;
                  _pos[0] = t.pos[0] + x;
                  _pos[1] = t.pos[1] + y;
                  drawIt = true;
                  ref5 = this.selection;
                  for (m = 0, len1 = ref5.length; m < len1; m++) {
                    other = ref5[m];
                    if (other.unit && other.id !== t.id && other.owner === t.owner) {
                      if ((other.weapons != null) && other.weapons.length > 0) {
                        v2.sub(_pos, other.pos, _vec);
                        if (v2.mag(_vec) < other.weaponRange) {
                          angle = v2.angle(_vec);
                          arcRad = other.weaponArc / 180 * Math.PI;
                          if (Math.abs(angleBetween(angle, other.rot)) < arcRad / 2) {
                            drawIt = false;
                            break;
                          }
                        }
                      }
                    }
                  }
                  if (drawIt) {
                    results1.push(baseAtlas.drawSprite("img/arrow02.png", _pos, [.5, .5], th + Math.PI, [255, 0, 0, 255]));
                  } else {
                    results1.push(void 0);
                  }
                }
                return results1;
              }).call(this));
            } else {
              results.push(void 0);
            }
          }
        }
        return results;
      };
  
      return Player;
  
    })();
  
    _color = [0, 0, 0, 0];
  
    window.Trail = (function() {
      function Trail(parentId, trailSize, trailTime, color1, z) {
        this.parentId = parentId;
        this.trailSize = trailSize;
        this.trailTime = trailTime;
        this.color = color1;
        if (typeof intp === "undefined" || intp === null) {
          return;
        }
        this.trail = [];
        this.id = sim.nid();
        intp.trails[this.id] = this;
        this.z = z - 0.0001;
      }
  
      Trail.prototype.grow = function(pos) {
        if (typeof intp === "undefined" || intp === null) {
          return;
        }
        if (this.trail.length === 0 || v2.distance(this.trail[this.trail.length - 1][0], pos) > 2) {
          return this.trail.push([[pos[0], pos[1]], intp.smoothStep]);
        }
      };
  
      Trail.prototype.draw = function() {
        var alive, j, len, p, ref, ref1, results, s, t;
        while (this.trail.length > 0 && intp.smoothStep - this.trail[0][1] > this.trailTime) {
          this.trail.shift();
        }
        _color[0] = 155 + this.color[0] / 255 * 100;
        _color[1] = 155 + this.color[1] / 255 * 100;
        _color[2] = 155 + this.color[2] / 255 * 100;
        _color[3] = 0;
        s = this.trailSize;
        ref = this.trail;
        results = [];
        for (j = 0, len = ref.length; j < len; j++) {
          ref1 = ref[j], p = ref1[0], t = ref1[1];
          alive = (intp.smoothStep - t) / this.trailTime;
          if (alive < 1 && alive > 0) {
            _color[3] = 255 - 255 * alive;
          } else {
            _color[3] = 0;
          }
          results.push(baseAtlas.drawSprite("img/fire02.png", p, [s, s], 0, _color));
        }
        return results;
      };
  
      return Trail;
  
    })();
  
    window.Particle = (function() {
      Particle.prototype.image = null;
  
      Particle.prototype.size = [.1, .1];
  
      Particle.prototype.maxLife = 60;
  
      Particle.prototype.radius = 1;
  
      function Particle() {
        this.id = sim.nid();
        this.color = [255, 255, 255, 255];
        this.life = 0;
        this.dead = false;
        this.z = Math.random();
        this.pos = v2.create();
        this.vel = v2.create();
        this._pos = v2.create();
        this._pos2 = v2.create();
        this.rot = 0;
        if (this.sound) {
          playSound(this.sound, this.soundVolume);
        }
      }
  
      Particle.prototype.move = function() {
        if (this.dead) {
          return;
        }
        v2.add(this.pos, this.vel);
        this.life += 1;
        if (this.life > this.maxLife) {
          return this.dead = true;
        }
      };
  
      Particle.prototype.draw = function() {
        if (this.dead) {
          return;
        }
        return baseAtlas.drawSprite(this.image, this.pos, this.size, this.rot, this.color);
      };
  
      return Particle;
  
    })();
  
    Explosion = (function(superClass) {
      extend(Explosion, superClass);
  
      function Explosion() {
        return Explosion.__super__.constructor.apply(this, arguments);
      }
  
      Explosion.prototype.image = "img/unitBar/pip1.png";
  
      Explosion.prototype.maxLife = 30;
  
      Explosion.prototype.radius = 2;
  
      Explosion.prototype.sound = "sounds/weapons/thud2.wav";
  
      Explosion.prototype.soundVolume = .1;
  
      Explosion.prototype.draw = function() {
        var fade, s;
        if (this.dead) {
          return;
        }
        fade = this.life / this.maxLife;
        s = .1 + fade * fade * this.radius;
        this.color[3] = (1 - fade) * 255;
        return baseAtlas.drawSprite(this.image, this.pos, [s, s], this.rot, this.color);
      };
  
      return Explosion;
  
    })(Particle);
  
    window.Bullet = (function(superClass) {
      extend(Bullet, superClass);
  
      Bullet.prototype.image = "img/unitBar/pip1.png";
  
      Bullet.prototype.damage = 1;
  
      Bullet.prototype.speed = 10;
  
      Bullet.prototype.size = [1, 1];
  
      Bullet.prototype.bullet = true;
  
      Bullet.prototype.radius = 10;
  
      Bullet.prototype.hitsMultiple = false;
  
      Bullet.prototype.hitExplosion = "HitExplosion";
  
      Bullet.prototype.side = null;
  
      Bullet.prototype.hitsCloak = false;
  
      function Bullet() {
        Bullet.__super__.constructor.call(this);
        actionMixer.action += .05;
      }
  
      Bullet.prototype.applyDamage = function() {
        return this.dead = true;
      };
  
      Bullet.prototype.move = function() {
        if (this.dead) {
          return;
        }
        v2.add(this.pos, this.vel);
        return this.life += 1;
      };
  
      Bullet.prototype.tick = function() {
        var exp;
        if (this.life > this.maxLife) {
          this.dead = true;
          return;
        }
        if (this.explode === false) {
          this.dead = true;
          return;
        }
        this.scan();
        if (this.dead) {
          exp = new types[this.hitExplosion]();
          exp.z = 1000;
          exp.pos = [this.pos[0], this.pos[1]];
          if (this.t !== null) {
            v2.add(exp.pos, v2.scale(this.vel, this.t));
          }
          exp.vel = [0, 0];
          exp.rot = 0;
          exp.radius = 0.75;
          return sim.things[exp.id] = exp;
        }
      };
  
      Bullet.prototype.scan = function() {
        sim.unitSpaces[otherSide(this.side)].findInRange(this.pos, this.radius + this.speed + 500, (function(_this) {
          return function(unit) {
            if (_this.collide(unit)) {
              _this.hitUnit(unit);
              if (_this.hitsMultiple) {
                return false;
              }
              return true;
            }
            return false;
          };
        })(this));
        if (this.hitsMissiles) {
          return sim.bulletSpaces[otherSide(this.side)].findInRange(this.pos, this.radius + this.speed + 100, (function(_this) {
            return function(missle) {
              if (missle.missile && _this.collide(missle)) {
                _this.hitMissle(missle);
                if (_this.hitsMultiple) {
                  return false;
                }
                return true;
              }
              return false;
            };
          })(this));
        }
      };
  
      Bullet.prototype.hitUnit = function(thing) {
        thing.applyDamage(this.damage);
        if (this.energyDamage) {
          thing.applyEnergyDamage(this.energyDamage);
        }
        if (!this.hitsMultiple) {
          return this.dead = true;
        }
      };
  
      Bullet.prototype.hitMissle = function(thing) {
        thing.life = thing.maxLife;
        return thing.explode = false;
      };
  
      Bullet.prototype._collide = function(thing) {
        var distance, speed;
        distance = v2.distance(this.pos, thing.pos);
        speed = v2.mag(thing.vel) + v2.mag(this.vel);
        return distance < thing.radius;
      };
  
      Bullet.prototype.collide = function(thing) {
        var c, distance, r, speed, t1, t2, ta, tb, tc, v;
        if (!this.hitsCloak && thing.cloak && thing.cloaked()) {
          return false;
        }
        distance = v2.distance(this.pos, thing.pos);
        if (distance < thing.radius + this.radius) {
          return true;
        }
        speed = v2.mag(thing.vel) + v2.mag(this.vel);
        if (distance > thing.radius + this.radius + speed) {
          return false;
        }
        this.t = null;
        c = [0, 0];
        v2.sub(this.pos, thing.pos, c);
        v = [0, 0];
        v2.sub(this.vel, thing.vel, v);
        r = this.radius + thing.radius;
        ta = -(c[0] * v[0] + c[1] * v[1]);
        tb = Math.sqrt(r * r * (v[0] * v[0] + v[1] * v[1]) - Math.pow(c[0] * v[1] - c[1] * v[0], 2));
        tc = v[0] * v[0] + v[1] * v[1];
        t1 = (ta - tb) / tc;
        t2 = (ta + tb) / tc;
        if (t1 > 0 && t1 < t2) {
          this.t = t1;
        }
        if (t2 > 0 && t2 < t1) {
          this.t = t2;
        }
        if (this.t !== null) {
          return this.t > 0 && this.t < 1;
        }
        return false;
      };
  
      Bullet.prototype.__collide = function(thing) {
        var distance, j, len, part, ref, speed;
        if (!this.hitsCloak && thing.cloak && thing.cloaked()) {
          return false;
        }
        speed = v2.mag(thing.vel) + v2.mag(this.vel);
        if (distance > thing.radius + this.radius + speed) {
          return false;
        }
        distance = v2.distance(this.pos, thing.pos);
        if (distance < thing.radius + this.radius) {
          ref = thing.parts;
          for (j = 0, len = ref.length; j < len; j++) {
            part = ref[j];
            distance = v2.distance(this.pos, part.worldPos) - this.radius - 10;
            if (distance < 0) {
              return true;
            }
          }
        }
        return false;
      };
  
      return Bullet;
  
    })(Particle);
  
    _offset = v2.create();
  
    window.LaserBullet = (function(superClass) {
      extend(LaserBullet, superClass);
  
      function LaserBullet() {
        return LaserBullet.__super__.constructor.apply(this, arguments);
      }
  
      LaserBullet.prototype.image = "img/laser01.png";
  
      LaserBullet.prototype.size = [1, 1];
  
      LaserBullet.prototype.color = [179, 207, 255, 255];
  
      LaserBullet.prototype.speed = 2000;
  
      LaserBullet.prototype.damage = 2.5;
  
      LaserBullet.prototype.maxLife = 3;
  
      LaserBullet.prototype.drawLength = 437;
  
      LaserBullet.prototype.move = function() {};
  
      LaserBullet.prototype.tick = function() {
        if (this.dead) {
          return;
        }
        this.life += 1;
        if (this.life > this.maxLife) {
          return this.dead = true;
        }
      };
  
      LaserBullet.prototype.draw = function() {
        var d, rot, w;
        if (this.target) {
          v2.set(this.target.pos, this.targetPos);
        }
        if (this.origin) {
          w = this.origin.weapons[this.turretNum || 0];
          if (w) {
            v2.set(w.worldPos, this.pos);
          }
        }
        v2.sub(this.targetPos, this.pos, _offset);
        rot = v2.angle(_offset);
        d = v2.mag(_offset) / this.drawLength;
        v2.scale(_offset, .5);
        v2.add(_offset, this.pos);
        if (w) {
          w.rot = rot;
        }
        return baseAtlas.drawSprite(this.image, _offset, [this.size[0], d], rot, this.color);
      };
  
      return LaserBullet;
  
    })(Bullet);
  
    types.FlackExplosion = (function(superClass) {
      extend(FlackExplosion, superClass);
  
      function FlackExplosion() {
        return FlackExplosion.__super__.constructor.apply(this, arguments);
      }
  
      FlackExplosion.prototype.image = "img/fire02.png";
  
      FlackExplosion.prototype.maxLife = 3;
  
      FlackExplosion.prototype.radius = 2;
  
      FlackExplosion.prototype.sound = "sounds/weapons/thud1.wav";
  
      FlackExplosion.prototype.soundVolume = .1;
  
      FlackExplosion.prototype.draw = function() {
        var fade, s;
        if (this.dead) {
          return;
        }
        fade = this.life / this.maxLife;
        s = this.radius / 2;
        this.color[3] = (1 - Math.pow(fade, 2)) * 80;
        return baseAtlas.drawSprite(this.image, this.pos, [s, s], this.rot, this.color);
      };
  
      return FlackExplosion;
  
    })(Explosion);
  
    window.AoeBullet = (function(superClass) {
      extend(AoeBullet, superClass);
  
      function AoeBullet() {
        return AoeBullet.__super__.constructor.apply(this, arguments);
      }
  
      AoeBullet.prototype.image = "img/unitBar/pip1.png";
  
      AoeBullet.prototype.size = [1, 1];
  
      AoeBullet.prototype.color = [100, 100, 100, 255];
  
      AoeBullet.prototype.speed = 30;
  
      AoeBullet.prototype.aoe = 50;
  
      AoeBullet.prototype.damage = 3;
  
      AoeBullet.prototype.explode = true;
  
      AoeBullet.prototype.explodeClass = "AoeExplosion";
  
      AoeBullet.prototype.move = function() {
        if (this.dead) {
          return;
        }
        return v2.add(this.pos, this.vel);
      };
  
      AoeBullet.prototype.tick = function() {
        var exp;
        this.life += 1;
        if (this.life > this.maxLife) {
          this.dead = true;
          if (this.explode) {
            exp = new types[this.explodeClass]();
            exp.z = 1000;
            exp.pos = [this.hitPos[0], this.hitPos[1]];
            exp.vel = [0, 0];
            exp.rot = 0;
            exp.aoe = this.aoe;
            exp.side = this.side;
            exp.damage = this.damage;
            return sim.things[exp.id] = exp;
          }
        }
      };
  
      return AoeBullet;
  
    })(Bullet);
  
    window.StraightMissile = (function(superClass) {
      extend(StraightMissile, superClass);
  
      function StraightMissile() {
        return StraightMissile.__super__.constructor.apply(this, arguments);
      }
  
      StraightMissile.prototype.trailSize = .1;
  
      StraightMissile.prototype.trailTime = 94;
  
      StraightMissile.prototype.draw = function() {
        if (!this.trail) {
          this.trail = new Trail(this.id, this.trailSize, this.trailTime, this.color, this.z);
        }
        this.trail.grow(this.pos);
        this.trail.z = this.z - 0.0001;
        return StraightMissile.__super__.draw.call(this);
      };
  
      return StraightMissile;
  
    })(Bullet);
  
    window.TrackingMissile = (function(superClass) {
      extend(TrackingMissile, superClass);
  
      function TrackingMissile() {
        return TrackingMissile.__super__.constructor.apply(this, arguments);
      }
  
      TrackingMissile.prototype.image = "img/unitBar/pip1.png";
  
      TrackingMissile.prototype.size = [1, 1];
  
      TrackingMissile.prototype.color = [0, 0, 0, 255];
  
      TrackingMissile.prototype.speed = 15;
  
      TrackingMissile.prototype.damage = 8;
  
      TrackingMissile.prototype.radius = 10;
  
      TrackingMissile.prototype.missile = true;
  
      TrackingMissile.prototype.trailSize = .1;
  
      TrackingMissile.prototype.trailTime = 94;
  
      TrackingMissile.prototype.draw = function() {
        if (!this.trail) {
          this.trail = new Trail(this.id, this.trailSize, this.trailTime, this.color, this.z);
        }
        this.trail.grow(this.pos);
        this.trail.z = this.z - 0.0001;
        return TrackingMissile.__super__.draw.call(this);
      };
  
      TrackingMissile.prototype.move = function() {
        if (this.dead) {
          return;
        }
        if (this.target && !this.target.dead && !this.target.cloaked()) {
          v2.sub(this.target.pos, this.pos, this.vel);
          v2.norm(this.vel);
          v2.scale(this.vel, this.speed);
        }
        v2.add(this.pos, this.vel);
        this.rot = v2.angle(this.vel);
        return this.life += 1;
      };
  
      TrackingMissile.prototype.tick = function() {
        var exp;
        if (this.life > this.maxLife) {
          this.dead = true;
          return;
        }
        sim.unitSpaces[otherSide(this.side)].findInRange(this.pos, this.radius + this.speed + 500, (function(_this) {
          return function(unit) {
            if (_this.collide(unit)) {
              _this.hitUnit(unit);
              return true;
            }
            return false;
          };
        })(this));
        if (this.dead) {
          exp = new types.HitExplosion();
          exp.z = 1000;
          exp.pos = [this.pos[0], this.pos[1]];
          exp.vel = [0, 0];
          exp.rot = 0;
          exp.radius = .5;
          return sim.things[exp.id] = exp;
        }
      };
  
      return TrackingMissile;
  
    })(Bullet);
  
    types.Debree = (function(superClass) {
      extend(Debree, superClass);
  
      function Debree() {
        return Debree.__super__.constructor.apply(this, arguments);
      }
  
      Debree.prototype.image = null;
  
      Debree.prototype.maxLife = 16 * 5;
  
      Debree.prototype.radius = 2;
  
      Debree.prototype.size = [1, 1];
  
      Debree.prototype.tick = function() {
        return this.rot += this.vrot;
      };
  
      Debree.prototype.draw = function() {
        var fade;
        if (this.dead) {
          return;
        }
        fade = this.life / this.maxLife;
        this.color[3] = Math.floor((1 - fade) * 255);
        return baseAtlas.drawSprite(this.image, this.pos, this.size, this.rot, this.color);
      };
  
      return Debree;
  
    })(Particle);
  
    types.HitExplosion = (function(superClass) {
      extend(HitExplosion, superClass);
  
      HitExplosion.prototype.image = "img/fire02.png";
  
      HitExplosion.prototype.maxLife = 30;
  
      HitExplosion.prototype.radius = 2;
  
      HitExplosion.prototype.sound = "sounds/weapons/thud1.wav";
  
      HitExplosion.prototype.soundVolume = .1;
  
      function HitExplosion() {
        this.frame = 0;
        this.hitImage = "parts/hit" + (choose([1, 2, 3, 4, 5])) + ".png";
        this.rot = Math.random() * Math.PI * 2;
        HitExplosion.__super__.constructor.call(this);
        actionMixer.action += .5;
      }
  
      HitExplosion.prototype.draw = function() {
        var fade, s;
        if (this.dead) {
          return;
        }
        fade = this.life / this.maxLife;
        s = .1 + fade * fade * this.radius;
        this.color[3] = (1 - fade) * 255;
        baseAtlas.drawSprite(this.image, this.pos, [s, s], this.rot, this.color);
        if (this.frame < 4) {
          s = 1;
          this.color[3] = 255 / (1 + this.frame);
          baseAtlas.drawSprite(this.hitImage, this.pos, [s, s], this.rot, this.color);
        }
        return this.frame += 1;
      };
  
      return HitExplosion;
  
    })(Explosion);
  
    types.SmallHitExplosion = (function(superClass) {
      extend(SmallHitExplosion, superClass);
  
      SmallHitExplosion.prototype.sound = "sounds/weapons/thud4.wav";
  
      function SmallHitExplosion() {
        this.frame = 0;
        this.hitImage = "parts/hitAuto" + (choose([1, 2, 3])) + ".png";
        this.rot = Math.random() * Math.PI * 2;
        SmallHitExplosion.__super__.constructor.call(this);
        actionMixer.action += .5;
      }
  
      SmallHitExplosion.prototype.draw = function() {
        var s;
        if (this.dead) {
          return;
        }
        if (this.frame < 4) {
          s = 1;
          this.color[3] = 255 / (1 + this.frame);
          baseAtlas.drawSprite(this.hitImage, this.pos, [s, s], this.rot, this.color);
        }
        return this.frame += 1;
      };
  
      return SmallHitExplosion;
  
    })(Explosion);
  
    types.RingHitExplosion = (function(superClass) {
      extend(RingHitExplosion, superClass);
  
      RingHitExplosion.prototype.image = "img/fire02.png";
  
      RingHitExplosion.prototype.maxLife = 30;
  
      function RingHitExplosion() {
        RingHitExplosion.__super__.constructor.call(this);
        this.frame = 0;
      }
  
      RingHitExplosion.prototype.draw = function() {
        var deb, j, n;
        RingHitExplosion.__super__.draw.call(this);
        if (this.frame === 0) {
          for (n = j = 1; j < 5; n = ++j) {
            deb = new types.Debree();
            deb.image = "parts/fireSpinPart" + n + ".png";
            deb.z = this.z + rand() * .01;
            deb.pos = [0, 0];
            deb.vel = [0, 0];
            v2.set(this.pos, deb.pos);
            deb.vel[0] = 60 * rand();
            deb.vel[1] = 60 * rand();
            deb.rot = 0;
            deb.vrot = rand();
            deb.maxLife = 16;
            deb._pos = v2.create(deb.pos);
            deb._pos2 = v2.create(deb.pos);
            deb.rot = deb.rot;
            deb._rot = deb.rot;
            deb._rot2 = deb.rot;
            intp.particles[deb.id] = deb;
          }
        }
        return this.frame += 1;
      };
  
      return RingHitExplosion;
  
    })(Explosion);
  
    types.ShipExplosion = (function(superClass) {
      extend(ShipExplosion, superClass);
  
      ShipExplosion.prototype.image = "img/fire02.png";
  
      ShipExplosion.prototype.maxLife = 15;
  
      ShipExplosion.prototype.radius = 2;
  
      ShipExplosion.prototype.sound = "sounds/weapons/explode1.wav";
  
      ShipExplosion.prototype.soundVolume = .1;
  
      function ShipExplosion() {
        ShipExplosion.__super__.constructor.call(this);
        actionMixer.action += .5;
      }
  
      ShipExplosion.prototype.draw = function() {
        var fade, s;
        if (this.dead) {
          return;
        }
        fade = this.life / this.maxLife;
        s = Math.pow(this.radius, 1.3) / 100;
        this.color[3] = (1 - fade) * 255;
        return baseAtlas.drawSprite(this.image, this.pos, [s, s], this.rot, this.color);
      };
  
      return ShipExplosion;
  
    })(Explosion);
  
    types.AoeExplosion = (function(superClass) {
      extend(AoeExplosion, superClass);
  
      function AoeExplosion() {
        return AoeExplosion.__super__.constructor.apply(this, arguments);
      }
  
      AoeExplosion.prototype.image = "img/point02.png";
  
      AoeExplosion.prototype.maxLife = 10;
  
      AoeExplosion.prototype.radius = 2;
  
      AoeExplosion.prototype.sound = "sounds/weapons/thud3.wav";
  
      AoeExplosion.prototype.soundVolume = .5;
  
      AoeExplosion.prototype.damage = 0;
  
      AoeExplosion.prototype.aoe = 0;
  
      AoeExplosion.prototype.tick = function() {
        if (!this.damaged) {
          this.damaged = true;
          return sim.unitSpaces[otherSide(this.side)].findInRange(this.pos, this.aoe + 500, (function(_this) {
            return function(unit) {
              var distance, fallOff;
              distance = Math.max(v2.distance(_this.pos, unit.pos) - unit.radius, 0);
              if (distance < _this.aoe) {
                fallOff = 1 - distance / _this.aoe;
                if (typeof unit.applyDamage === "function") {
                  unit.applyDamage(_this.damage * fallOff);
                }
                if (_this.energyDamage > 1) {
                  if (typeof unit.applyEnergyDamage === "function") {
                    unit.applyEnergyDamage(_this.energyDamage * fallOff);
                  }
                }
                if (_this.burnAmount > 1) {
                  if (typeof unit.applyBurnAmount === "function") {
                    unit.applyBurnAmount(_this.burnAmount * fallOff);
                  }
                }
              }
              return false;
            };
          })(this));
        }
      };
  
      AoeExplosion.prototype.draw = function() {
        var fade, s;
        if (this.dead) {
          return;
        }
        fade = Math.min(1, this.life / this.maxLife);
        s = this.aoe / 512 * this.radius;
        this.color[3] = (1 - fade) * 50;
        return baseAtlas.drawSprite(this.image, this.pos, [s, s], this.rot, this.color);
      };
  
      return AoeExplosion;
  
    })(Explosion);
  
    types.FrameExplosion = (function(superClass) {
      extend(FrameExplosion, superClass);
  
      FrameExplosion.prototype.image = "img/fx/fire1/f#.png";
  
      FrameExplosion.prototype.nFrames = 8;
  
      FrameExplosion.prototype.maxLife = 16;
  
      FrameExplosion.prototype.radius = 2;
  
      FrameExplosion.prototype.sound = "sounds/weapons/explode1.wav";
  
      FrameExplosion.prototype.soundVolume = .1;
  
      function FrameExplosion() {
        FrameExplosion.__super__.constructor.call(this);
      }
  
      FrameExplosion.prototype.draw = function() {
        var fade, frame, image, intFrame, s, tweenFrame;
        if (this.dead) {
          return;
        }
        fade = this.life / this.maxLife;
        s = 3;
        this.color = [255, 255, 255, 210];
        if (this.loopFrames) {
          frame = this.life % this.nFrames + 1;
          intFrame = Math.floor(frame);
          image = this.image.replace("#", intFrame);
          return baseAtlas.drawSprite(image, this.pos, [s, s], this.rot, this.color);
        } else {
          frame = (this.life / this.maxLife) * this.nFrames + 1;
          intFrame = Math.floor(frame);
          if (intFrame < this.nFrames) {
            tweenFrame = frame - intFrame;
            image = this.image.replace("#", intFrame);
            return baseAtlas.drawSprite(image, this.pos, [s, s], this.rot, this.color);
          }
        }
      };
  
      return FrameExplosion;
  
    })(Explosion);
  
    _focus = v2.create();
  
    _size = v2.create();
  
    types.Rock = (function() {
      Rock.prototype.image = "img/unitBar/pip1.png";
  
      Rock.prototype.size = [1, 1];
  
      Rock.prototype["static"] = true;
  
      Rock.prototype.maxHP = 1000;
  
      function Rock() {
        this.image = "img/rocks/srock01.png";
        if (typeof sim !== "undefined" && sim !== null) {
          this.color = sim.theme.fillColor;
        }
        this.id = sim.nid();
        this.dead = false;
        this.hp = this.maxHP;
        this.pos = v2.create([0, 0]);
        this.vel = v2.create([0, 0]);
        this.rot = 0;
        this.size = v2.create([1, 1]);
      }
  
      Rock.prototype.move = function() {};
  
      Rock.prototype.draw = function() {
        return baseAtlas.drawSprite(this.image, this.pos, [this.size[0], -this.size[0]], this.rot, this.color, this.z);
      };
  
      return Rock;
  
    })();
  
    sideColor = function(side) {
      var color, mySide;
      mySide = typeof commander !== "undefined" && commander !== null ? commander.side : void 0;
      if (mySide !== "beta") {
        mySide = "alpha";
      }
      if (mySide === side) {
        color = [230, 230, 230, 255];
      } else {
        color = [20, 20, 20, 255];
      }
      return color;
    };
  
    anitSideColor = function(side) {
      var color, mySide;
      mySide = typeof commander !== "undefined" && commander !== null ? commander.side : void 0;
      if (mySide === "spectators") {
        mySide = "alpha";
      }
      if (mySide !== side) {
        color = [230, 230, 230, 255];
      } else {
        color = [20, 20, 20, 255];
      }
      return color;
    };
  
    types.CommandPoint = (function() {
      CommandPoint.prototype.image = "img/point02.png";
  
      CommandPoint.prototype.sliceImage = "img/map/slice02.png";
  
      CommandPoint.prototype.maxHP = 1000;
  
      CommandPoint.prototype.size = [1, 1];
  
      CommandPoint.prototype.maxHP = 1000;
  
      CommandPoint.prototype.radius = 250;
  
      CommandPoint.prototype.commandPoint = true;
  
      CommandPoint.prototype.capping = 0;
  
      CommandPoint.prototype.maxCapp = 10;
  
      function CommandPoint() {
        this.id = sim.nid();
        this.dead = false;
        this.z = .01;
        this.hp = this.maxHP;
        this.pos = v2.create(0, 0);
        this.vel = [0, 0];
        this.rot = 0;
        this.color = [255, 255, 255, 255];
        this.side = "neutral";
        this.capping = 0;
      }
  
      CommandPoint.prototype.tick = function() {
        var _, distance, id, j, k, len, p, player, playerOnPoint, ref, ref1, results, sides, thing;
        if (sim.state !== "running") {
          return;
        }
        if (sim.step % 16 === 0) {
          if (this.side !== null) {
            ref = sim.players;
            for (_ in ref) {
              p = ref[_];
              if (p && p.side === this.side) {
                if (p.gainsMoney && sim.gainsMoney) {
                  p.earnMoney(1);
                }
              }
            }
          }
          sides = {};
          playerOnPoint = [];
          ref1 = sim.things;
          for (id in ref1) {
            thing = ref1[id];
            if (thing.unit && thing.canCapture) {
              distance = v2.distance(this.pos, thing.pos);
              if (distance < this.radius) {
                sides[thing.side] = true;
                player = sim.players[thing.owner];
                if (player) {
                  playerOnPoint.push(player);
                }
              }
            }
          }
          sides = (function() {
            var results;
            results = [];
            for (k in sides) {
              results.push(k);
            }
            return results;
          })();
          if (sides.length === 1 && this.side !== sides[0]) {
            this.capping += 1;
            if (this.capping >= this.maxCapp) {
              this.side = sides[0];
              sim.captures += 1;
              this.capping = 0;
              this.bonus(this.side, 100);
              results = [];
              for (j = 0, len = playerOnPoint.length; j < len; j++) {
                p = playerOnPoint[j];
                results.push(p.capps += 1);
              }
              return results;
            }
          } else {
            if (this.capping > 0) {
              return this.capping -= 1;
            }
          }
        }
      };
  
      CommandPoint.prototype.bonus = function(side, amount) {
        var _, p, ref, results;
        ref = sim.players;
        results = [];
        for (_ in ref) {
          p = ref[_];
          if (p.side === this.side) {
            if (p.gainsMoney && sim.gainsMoney) {
              results.push(p.earnMoney(amount));
            } else {
              results.push(void 0);
            }
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      CommandPoint.prototype.draw = function() {
        var color, i, j, ref, results, th, x, y;
        if (sim.theme) {
          color = sideColor(this.side);
          baseAtlas.drawSprite(this.image, this.pos, this.size, this.rot, color);
          if (this.capping > 0) {
            color = anitSideColor(this.side);
            results = [];
            for (i = j = 0, ref = this.maxCapp; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
              if (this.capping < i) {
                break;
              }
              th = (i / this.maxCapp) * 2 * Math.PI;
              x = this.pos[0] + Math.sin(th) * (this.radius + 50);
              y = this.pos[1] + Math.cos(th) * (this.radius + 50);
              results.push(baseAtlas.drawSprite(this.sliceImage, [x, y], [1, 1], Math.PI - th, color));
            }
            return results;
          }
        }
      };
  
      return CommandPoint;
  
    })();
  
    types.SpawnPoint = (function() {
      SpawnPoint.prototype.image = "";
  
      SpawnPoint.prototype.sliceImage = "img/map/spawnSlice.png";
  
      SpawnPoint.prototype.maxHP = 1000;
  
      SpawnPoint.prototype.size = [1, 1];
  
      SpawnPoint.prototype.maxHP = 1000;
  
      SpawnPoint.prototype["static"] = true;
  
      SpawnPoint.prototype.radius = 400;
  
      SpawnPoint.prototype.spawn = true;
  
      SpawnPoint.prototype.side = null;
  
      function SpawnPoint() {
        this.id = sim.nid();
        this.dead = false;
        this.z = .01;
        this.hp = this.maxHP;
        this.pos = v2.create(0, 0);
        this.vel = [0, 0];
        this.rot = 0;
        this.color = [255, 255, 255, 255];
        this.side = "neutral";
      }
  
      SpawnPoint.prototype.draw = function() {
        var color, i, j, max, ref, results, th, to, x, y;
        if (!sim.theme) {
          return;
        }
        color = sideColor(this.side);
        max = 20;
        to = ((sim.step - 8) / (16 * 2)) * 20;
        results = [];
        for (i = j = 0, ref = max; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
          if (to < i) {
            break;
          }
          th = (i / max) * 2 * Math.PI;
          x = this.pos[0] + Math.sin(th) * (this.radius + 50);
          y = this.pos[1] + Math.cos(th) * (this.radius + 50);
          results.push(baseAtlas.drawSprite(this.sliceImage, [x, y], [1, 1], Math.PI / 2 - th, color));
        }
        return results;
      };
  
      return SpawnPoint;
  
    })();
  
  }).call(this);
  ;
  
  
  //from src/unit.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var _color, _offset, _pipPos, _vel, _where, legacyParts,
      bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
      extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
      hasProp = {}.hasOwnProperty;
  
    window.thumb_cache = {};
  
    window.turnAngle = function(a, b, speed) {
      var turn;
      speed = speed;
      turn = b - a;
      if (turn > Math.PI) {
        a += 2 * Math.PI;
      } else if (turn < -Math.PI) {
        a -= 2 * Math.PI;
      }
      turn = b - a;
      if (turn < speed && turn > -speed) {
        return b;
      }
      if (turn > speed) {
        turn = speed;
      }
      if (turn < -speed) {
        turn = -speed;
      }
      return a + turn;
    };
  
    window.angleBetween = function(a, b) {
      var turn;
      turn = b - a;
      while (turn > Math.PI) {
        turn -= 2 * Math.PI;
      }
      while (turn < -Math.PI) {
        turn += 2 * Math.PI;
      }
      return turn;
    };
  
    _pipPos = v2.create();
  
    types.Unit = (function() {
      Unit.prototype.name = "";
  
      Unit.prototype.canCapture = true;
  
      Unit.prototype.multiShoot = false;
  
      Unit.prototype.unit = true;
  
      Unit.prototype.maxHP = 10;
  
      Unit.prototype.buildHP = 0;
  
      Unit.prototype.buildSpeed = 10;
  
      Unit.prototype.buildRadius = 500;
  
      Unit.prototype.radius = 60;
  
      Unit.prototype.fixed = false;
  
      Unit.prototype.maxSpeed = 100;
  
      Unit.prototype.turnSpeed = 1;
  
      Unit.prototype.cloak = 0;
  
      Unit.prototype.burn = 0;
  
      Unit.prototype.jump = 0;
  
      Unit.prototype.minJump = 50;
  
      Unit.prototype.limitBonus = 0;
  
      Unit.prototype.cost = 100;
  
      Unit.prototype.image = null;
  
      Unit.prototype.size = [1, 1];
  
      Unit.prototype.building = false;
  
      Unit.prototype.gotoMode = null;
  
      Unit.prototype.target = null;
  
      Unit.prototype.holdPosition = false;
  
      Unit.prototype.stopFriction = 0.9;
  
      Unit.prototype.underPlayerControl = false;
  
      Unit.prototype.orders = null;
  
      function Unit(spec1) {
        this.spec = spec1;
        this.closestUncloaked = bind(this.closestUncloaked, this);
        this.closestEnemy = bind(this.closestEnemy, this);
        if (this.spec === null) {
          this.spec = [];
        }
        this.id = typeof sim !== "undefined" && sim !== null ? sim.nid() : void 0;
        this.side = 0;
        this.color = [255, 0, 0, 255];
        this.z = Math.random();
        this.center = v2.create();
        this.parts = [];
        this.weapons = [];
        this.fromSpec(this.spec);
        this.dead = false;
        this.pos = v2.create();
        this.vel = v2.create();
        this.active = true;
        this.rot = 0;
        this.warpIn = 0;
        this.testIntp = [];
        this.testStep = [];
        this.orders = [];
        this.preOrders = [];
        this.closestEnemiesCache = null;
        this.closestFriendsCache = null;
        this.closestEnemyBulletsCache = null;
      }
  
      Unit.prototype.fromSpec = function(spec) {
        var data, i, j, l, len, len1, len2, len3, len4, len5, n, o, p, part, partNum, q, reachRange, ref, ref1, ref2, ref3, ref4, ref5, results, stasisRange, thrust, w, x;
        this.cost = 0;
        this.hp = 5;
        this.jumpDistance = 0;
        this.jumpCount = 0;
        this.speed = 0;
        this.turnSpeed = 1;
        this.mass = 0;
        this.energy = 0;
        this.baseGenEnergy = 2.5;
        this.genEnergy = this.baseGenEnergy;
        this.storeEnergy = 0;
        this.genShield = 0;
        this.shield = 0;
        this.cloak = 0;
        this.radius = 20;
        this.weaponArc = 0;
        this.minArc = 0;
        this.maxRange = 0;
        thrust = 0;
        data = fromShort(spec);
        this.name = data.name || "";
        this.aiRules = data.aiRules || [];
        ref = data.parts;
        for (partNum = j = 0, len = ref.length; j < len; partNum = ++j) {
          p = ref[partNum];
          if (!window.parts[p.type]) {
            continue;
          }
          part = new window.parts[p.type];
          part.unit = this;
          part.pos = v2.create(p.pos);
          part.dir = p.dir || 0;
          part.partNum = partNum;
          if (part.weapon) {
            this.weapons.push(part);
          }
          if (p.ghostCopy) {
            part.ghostCopy = true;
          }
          this.parts.push(part);
          this.cost += part.cost || 0;
          this.hp += part.hp || 0;
          thrust += part.thrust || 0;
          this.mass += part.mass;
          this.turnSpeed += part.turnSpeed || 0;
          this.genEnergy += part.genEnergy || 0;
          this.storeEnergy += part.storeEnergy || 0;
          this.genShield += part.genShield || 0;
          this.shield += part.shield || 0;
          this.jumpCount += part.jumpCount || 0;
          this.limitBonus += part.limitBonus || 0;
          if (part.arc && this.weaponArc < part.arc) {
            this.weaponArc = part.arc;
          }
          if (part.arc && (this.minArc === 0 || this.minArc > part.arc)) {
            this.minArc = part.arc;
          }
          if (p.type === "EnergyTransfer") {
            if (part.range > this.maxRange) {
              this.maxRange = part.range;
            }
          }
          if (p.type === "StasisField") {
            stasisRange = part.range + v2.distance(part.pos, this.center) + 100;
            if (stasisRange > this.maxRange) {
              this.maxRange = stasisRange;
            }
          }
        }
        this.maxHP = this.hp;
        this.energy = this.storeEnergy;
        this.turnSpeed = this.turnSpeed / this.mass;
        this.maxSpeed = thrust / this.mass * 9;
        this.maxShield = this.shield;
        this.damageRatio = 1;
        this.jumpDistance = this.jump = Math.min(1, 41 * this.jumpCount / this.mass) * 600;
        this.computeCenter();
        ref1 = this.parts;
        for (l = 0, len1 = ref1.length; l < len1; l++) {
          part = ref1[l];
          if (typeof part.init === "function") {
            part.init();
          }
        }
        this.computeRadius();
        this.weaponRange = 0;
        this.weaponDPS = 0;
        this.weaponDamage = 0;
        ref2 = this.weapons;
        for (n = 0, len2 = ref2.length; n < len2; n++) {
          w = ref2[n];
          w.applyBuffs();
          w.reloadTime = Math.ceil(w.reloadTime);
          if (w.reloadTime < 1) {
            w.reloadTime = 1;
          }
          if (w.range > this.weaponRange) {
            this.weaponRange = w.range;
          }
          reachRange = w.range + v2.distance(w.pos, this.center);
          if (reachRange > this.maxRange) {
            this.maxRange = reachRange;
          }
          w.dps = w.damage / w.reloadTime;
          this.weaponDamage += w.damage;
          this.weaponDPS += w.dps;
        }
        this.weapons.sort(function(a, b) {
          return b.dps - a.dps;
        });
        this.mainWeapon = this.weapons[0];
        ref3 = this.weapons;
        for (i = o = 0, len3 = ref3.length; o < len3; i = ++o) {
          w = ref3[i];
          w.turretNum = i;
        }
        this.moveEnergy = 0;
        ref4 = this.parts;
        for (q = 0, len4 = ref4.length; q < len4; q++) {
          part = ref4[q];
          if (part.thrust > 0) {
            this.moveEnergy += part.useEnergy;
          }
        }
        this.fireEnergy = 0;
        ref5 = this.parts;
        results = [];
        for (x = 0, len5 = ref5.length; x < len5; x++) {
          part = ref5[x];
          if (part.fireEnergy > 0) {
            results.push(this.fireEnergy += part.fireEnergy);
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Unit.prototype.toSpecObj = function() {
        var j, len, part, partSpec, ref, specParts;
        specParts = [];
        ref = this.parts;
        for (j = 0, len = ref.length; j < len; j++) {
          part = ref[j];
          partSpec = {
            pos: [part.pos[0], part.pos[1]],
            type: part.constructor.name,
            dir: part.dir
          };
          if (this.ghostCopy || part.ghostCopy) {
            partSpec.ghostCopy = true;
            if (part.decal) {
              continue;
            }
          }
          specParts.push(partSpec);
        }
        return {
          parts: specParts,
          name: this.name,
          aiRules: this.aiRules
        };
      };
  
      Unit.prototype.toSpec = function() {
        return toShort(this.toSpecObj());
      };
  
      Unit.prototype.computeCenter = function() {
        var ix, iy, j, len, mass, part, ref;
        ix = 0;
        iy = 0;
        mass = 0;
        ref = this.parts;
        for (j = 0, len = ref.length; j < len; j++) {
          part = ref[j];
          mass += part.mass;
          ix += part.mass * part.pos[0];
          iy += part.mass * part.pos[1];
        }
        if (mass > 0) {
          this.center[0] = ix / mass;
          return this.center[1] = iy / mass;
        } else {
          this.center[0] = 0;
          return this.center[1] = 0;
        }
      };
  
      Unit.prototype.computeRadius = function() {
        var j, len, part, radius, ref, v;
        v = v2.create();
        ref = this.parts;
        for (j = 0, len = ref.length; j < len; j++) {
          part = ref[j];
          if (!(!part.decal)) {
            continue;
          }
          v2.set(part.pos, v);
          v2.sub(v, this.center);
          radius = v2.mag(v);
          if (radius > this.radius) {
            this.radius = radius;
          }
        }
        if (this.radius > 500) {
          return this.radius = 500;
        }
      };
  
      Unit.prototype.applyDamage = function(d) {
        this.shield -= d;
        if (this.shield < 0) {
          this.hp += this.shield;
          return this.shield = 0;
        }
      };
  
      Unit.prototype.applyEnergyDamage = function(d) {
        return this.energy -= d;
      };
  
      Unit.prototype.applyBurnAmount = function(d) {
        this.maxBurn = (this.hp + this.shield) * 1.0;
        if (this.burn < this.maxBurn) {
          this.burn += d;
          if (this.burn > this.maxBurn) {
            return this.burn = this.maxBurn;
          }
        }
      };
  
      Unit.prototype.postDeath = function() {
        var j, len, part, ref;
        ref = this.parts;
        for (j = 0, len = ref.length; j < len; j++) {
          part = ref[j];
          if (typeof part.postDeath === "function") {
            part.postDeath();
          }
        }
        return sim.deaths += 1;
      };
  
      Unit.prototype.createDebree = function() {
        var exp, j, len, part, ref, results;
        ref = this.parts;
        results = [];
        for (j = 0, len = ref.length; j < len; j++) {
          part = ref[j];
          if (Math.random() < .5 || part.decal) {
            continue;
          }
          exp = new types.Debree();
          if (part.stripe) {
            exp.image = "parts/gray-" + part.image;
          } else {
            exp.image = "parts/" + part.image;
          }
          exp.z = this.z + rand() * .01;
          exp.pos = [0, 0];
          part.computeWorldPos();
          v2.set(part.worldPos, exp.pos);
          v2.set(this.vel, exp.vel);
          exp.vel[0] += (part.worldPos[0] - this.pos[0]) * .1 + rand();
          exp.vel[1] += (part.worldPos[1] - this.pos[1]) * .1 + rand();
          exp.rot = this.rot;
          exp.vrot = rand();
          results.push(intp.particles[exp.id] = exp);
        }
        return results;
      };
  
      Unit.prototype.gotoAndStop = function(goto) {
        return this.setOrder({
          type: "Move",
          dest: goto,
          noStop: true
        });
      };
  
      Unit.prototype.gotoNoStop = function(goto) {
        return this.setOrder({
          type: "Move",
          dest: goto,
          noStop: true
        });
      };
  
      Unit.prototype.cloaked = function() {
        return this.cloakFade > 0;
      };
  
      Unit.prototype.tick = function() {
        var burnTick, cloakOn, cloakRange, exp, j, l, len, len1, len2, n, part, ref, ref1, ref2, ref3, speed, target;
        ref = this.parts;
        for (j = 0, len = ref.length; j < len; j++) {
          part = ref[j];
          part.computeWorldPos();
        }
        this.slowed = false;
        if (this.warpIn < 1) {
          this.warpIn += 1 / 16;
        } else {
          this.warpIn = 1;
        }
        this.closestEnemiesCache = null;
        this.closestFriendsCache = null;
        this.closestEnemyBulletsCache = null;
        this.cloakFade = 0;
        if (this.cloak > 0) {
          speed = v2.mag(this.vel);
          if (speed > 1) {
            this.cloak -= 0.20 / 16 * this.mass;
          }
          if (sim.step % 16 === 0) {
            this.cloak -= 0.01 * this.mass;
          }
          cloakOn = this.mass * .5;
          if (this.cloak > cloakOn) {
            cloakRange = this.mass - cloakOn;
            this.cloakFade = (this.cloak - cloakOn) / cloakRange;
          }
        }
        if (this.cloak > 0) {
          target = this.closestEnemy();
          if (target && v2.distance(target.pos, this.pos) - target.radius - this.radius < 100) {
            this.cloak = 0;
          }
        }
        if (this.topOrderIs("Follow") && (sim.things[this.orders[0].targetId] != null) && sim.things[this.orders[0].targetId].side !== this.side) {
          this.target = sim.things[this.orders[0].targetId];
        }
        if (this.energy < -this.genEnergy * 16 * 3) {
          this.energy = -this.genEnergy * 16 * 3;
        }
        this.energy += this.baseGenEnergy;
        ref1 = this.parts;
        for (l = 0, len1 = ref1.length; l < len1; l++) {
          part = ref1[l];
          if (part.genEnergy) {
            this.energy += part.genEnergy;
          }
        }
        ref2 = this.parts;
        for (n = 0, len2 = ref2.length; n < len2; n++) {
          part = ref2[n];
          part.tick();
        }
        if (this.energy > this.storeEnergy) {
          this.energy = this.storeEnergy;
        }
        if (this.shield > this.maxShield) {
          this.shield = this.maxShield;
        }
        if ((ref3 = this.target) != null ? ref3.dead : void 0) {
          this.target = null;
        }
        if (sim.step % 16 === 0) {
          if (this.burn > 4) {
            if (this.hp < 4) {
              this.burn = 0;
            }
            burnTick = this.burn * 0.04;
            this.applyDamage(burnTick);
            this.burn -= burnTick;
          } else {
            this.burn = 0;
          }
        }
        if (this.hp <= 0) {
          exp = new types.ShipExplosion();
          exp.z = 1000;
          exp.pos = [this.pos[0], this.pos[1]];
          exp.vel = [0, 0];
          exp.rot = 0;
          exp.radius = Math.max(this.mass / 5, 50);
          sim.things[exp.id] = exp;
          this.dead = true;
          if (this.building) {
            return this.building.dead = true;
          }
        }
      };
  
      Unit.prototype.canBuildHere = function() {
        return true;
      };
  
      Unit.prototype.move = function() {
        this.movement();
        if (this.orders.length === 0) {
          return this.idleAI();
        }
      };
  
      Unit.prototype.movement = function() {
        var curspeed, s;
        this.runOrders();
        v2.scale(this.vel, this.stopFriction);
        curspeed = v2.mag(this.vel);
        if (curspeed < .01) {
          this.vel[0] = 0;
          this.vel[1] = 0;
        } else {
          v2.add(this.pos, this.vel);
        }
        s = 20000;
        if (this.pos[0] > s) {
          this.pos[0] = s;
        }
        if (this.pos[0] < -s) {
          this.pos[0] = -s;
        }
        if (this.pos[1] > s) {
          this.pos[1] = s;
        }
        if (this.pos[1] < -s) {
          return this.pos[1] = -s;
        }
      };
  
      Unit.prototype.lookAt = function(goto) {
        var rot;
        v2.sub(goto, this.pos, _where);
        rot = v2.angle(_where);
        if (rot != null) {
          return this.rot = turnAngle(this.rot, rot, this.turnSpeed);
        }
      };
  
      Unit.prototype.moveTo = function(goto, noStop) {
        var arriveIn, curspeed, force, j, len, part, ratio, ref, rot, stopSpeed, turnIn;
        if (noStop == null) {
          noStop = false;
        }
        if (goto == null) {
          return;
        }
        v2.sub(goto, this.pos, _where);
        this.gotoDistance = v2.mag(_where);
        rot = v2.angle(_where);
        if (rot != null) {
          this.rot = turnAngle(this.rot, rot, this.turnSpeed);
        }
        if (this.holdPosition) {
          return;
        }
        arriveIn = this.gotoDistance / this.maxSpeed;
        turnIn = Math.abs(angleBetween(this.rot, rot)) / this.turnSpeed;
        curspeed = v2.mag(this.vel);
        this.stopDistance = 0;
        if (!noStop) {
          stopSpeed = curspeed;
          while (stopSpeed > 1) {
            this.stopDistance += stopSpeed;
            stopSpeed = stopSpeed * this.stopFriction;
          }
        }
        if (turnIn < arriveIn * .2 && this.gotoDistance > this.stopDistance && this.energy > 0) {
          force = 0;
          ref = this.parts;
          for (j = 0, len = ref.length; j < len; j++) {
            part = ref[j];
            if (part.thrust) {
              if (part.useEnergy < this.energy) {
                ratio = 1;
              } else {
                ratio = this.energy / part.useEnergy;
              }
              force += part.thrust * ratio;
              this.energy -= part.useEnergy * ratio;
            }
          }
          v2.pointTo(_where, this.rot);
          v2.scale(_where, force / this.mass);
          v2.add(this.vel, _where);
        }
      };
  
      Unit.prototype.closestEnemies = function() {
        if (this.closestEnemiesCache === null) {
          this.closestEnemiesCache = [];
          sim.unitSpaces[otherSide(this.side)].findInRange(this.pos, this.maxRange + 500, (function(_this) {
            return function(u) {
              if (u.id !== _this.id) {
                _this.closestEnemiesCache.push(u);
              }
              return false;
            };
          })(this));
          this.closestEnemiesCache.sort((function(_this) {
            return function(a, b) {
              return v2.distanceSq(a.pos, _this.pos) - v2.distanceSq(b.pos, _this.pos);
            };
          })(this));
        }
        return this.closestEnemiesCache;
      };
  
      Unit.prototype.closestFriends = function() {
        if (this.closestFriendsCache === null) {
          this.closestFriendsCache = [];
          sim.unitSpaces[this.side].findInRange(this.pos, this.maxRange + 500, (function(_this) {
            return function(u) {
              if (u.id !== _this.id) {
                _this.closestFriendsCache.push(u);
              }
              return false;
            };
          })(this));
          this.closestFriendsCache.sort((function(_this) {
            return function(a, b) {
              return v2.distanceSq(a.pos, _this.pos) - v2.distanceSq(b.pos, _this.pos);
            };
          })(this));
        }
        return this.closestFriendsCache;
      };
  
      Unit.prototype.closestEnemyBullets = function() {
        if (this.closestEnemyBulletsCache === null) {
          this.closestEnemyBulletsCache = [];
          sim.bulletSpaces[otherSide(this.side)].findInRange(this.pos, this.maxRange + this.radius + 500, (function(_this) {
            return function(b) {
              _this.closestEnemyBulletsCache.push(b);
              return false;
            };
          })(this));
          this.closestEnemyBulletsCache.sort((function(_this) {
            return function(a, b) {
              return v2.distanceSq(a.pos, _this.pos) - v2.distanceSq(b.pos, _this.pos);
            };
          })(this));
        }
        return this.closestEnemyBulletsCache;
      };
  
      Unit.prototype.closestEnemy = function() {
        var enemy, j, len, ref, u;
        enemy = null;
        ref = this.closestEnemies();
        for (j = 0, len = ref.length; j < len; j++) {
          u = ref[j];
          enemy = u;
          break;
        }
        return enemy;
      };
  
      Unit.prototype.closestUncloaked = function(range) {
        var enemyC, j, len, ref, u;
        enemyC = null;
        ref = this.closestEnemies();
        for (j = 0, len = ref.length; j < len; j++) {
          u = ref[j];
          if (u.cloaked() && !enemyC) {
            enemyC = u;
          } else {
            return u;
          }
        }
        return enemyC;
      };
  
      Unit.prototype.idleAI = function() {
        var dist, lookAt, rot, target;
        if (this.target) {
          this.softTarget = this.target;
        } else if (sim.step % 16 === 0) {
          this.softTarget = null;
          target = this.closestUncloaked();
          if (target && v2.distance(target.pos, this.pos) < this.weaponRange * 3) {
            this.softTarget = target;
          }
        }
        if (this.softTarget && this.minArc < 360) {
          lookAt = this.softTarget.pos;
          v2.sub(lookAt, this.pos, _where);
          rot = v2.angle(_where);
          dist = v2.mag(_where);
          return this.rot = turnAngle(this.rot, rot, this.turnSpeed);
        }
      };
  
      Unit.prototype.draw = function() {
        var a, color, j, l, len, len1, part, partNum, r, ref, ref1, s, t, value;
        if (this.dead) {
          return;
        }
        ref = this.parts;
        for (j = 0, len = ref.length; j < len; j++) {
          part = ref[j];
          if (typeof part.preDraw === "function") {
            part.preDraw();
          }
          part.computeWorldPos();
        }
        if (this.maxShield > 0) {
          s = this.warpIn * 2 - 1;
          if (s > 0) {
            color = [this.color[0], this.color[1], this.color[2], 255 * this.shield / this.maxShield * s];
            r = (this.radius + 40) / 255;
            baseAtlas.drawSprite("img/point02.png", this.pos, [r, r], 0, color);
          }
        }
        if (this.warpIn < 1) {
          this.warpIn += 1 / 60;
        }
        ref1 = this.parts;
        for (partNum = l = 0, len1 = ref1.length; l < len1; partNum = ++l) {
          part = ref1[partNum];
          value = part.pos[1] / 700 - .5 + this.warpIn;
          if (value > 0) {
            part.draw();
          } else if (value > -0.2) {
            a = -Math.sin(value / Math.PI * 50);
            baseAtlas.drawSprite("img/unitBar/fire02.png", part.worldPos, [1, 1], 0, [255, 255, 255, 255 * a]);
            continue;
          }
        }
        if (this.energy / this.storeEnergy < .05) {
          t = Math.abs(Math.sin(Date.now() / 300));
          baseAtlas.drawSprite("img/unitBar/energy1.png", [this.pos[0], this.pos[1] + 100 + this.radius], [1, 1], 0, [255, 100, 100, t * 200]);
        }
        if (control.debug && (this._pos2 != null) && this._pos) {
          a = 16;
          _offset[0] = this._pos2[0] + (this._pos[0] - this._pos2[0]) * a;
          _offset[1] = this._pos2[1] + (this._pos[1] - this._pos2[1]) * a;
          baseAtlas.drawSprite("img/pip1.png", this._pos, [1, 1], 0, [0, 255, 0, 255]);
          baseAtlas.drawSprite("img/pip1.png", this.pos, [1, 1], 0);
          return baseAtlas.drawSprite("img/pip1.png", this._pos2, [1, 1], 0, [255, 0, 0, 255]);
        }
      };
  
      Unit.prototype.createFlameEffect = function() {
        var exp, part, s;
        if (Math.random() < .8) {
          return;
        }
        part = choose(this.parts);
        if (part) {
          exp = new types.FlameBulletGhost();
          exp.main = false;
          exp.image = "parts/fireFlame" + (chooseInt(1, 4)) + ".png";
          exp.z = this.z + rand() * .01;
          exp.pos = [0, 0];
          v2.set(part.worldPos, exp.pos);
          exp.vel[0] = rand() - .5;
          exp.vel[1] = rand() - .5;
          s = .3 + .4 * Math.random();
          exp.size = [s, s];
          exp.maxRadius = 300;
          exp.radius = 10;
          exp.rot = rand() * Math.PI * 2;
          exp.vrot = 0;
          exp.maxLife = 100;
          exp._pos = v2.create(exp.pos);
          exp._pos2 = v2.create(exp.pos);
          exp.rot = exp.rot;
          exp._rot = exp.rot;
          exp._rot2 = exp.rot;
          return intp.particles[exp.id] = exp;
        }
      };
  
      Unit.prototype.clientTick = function() {
        var cloakOn, cloakRange, j, len, ref, w;
        ref = this.weapons;
        for (j = 0, len = ref.length; j < len; j++) {
          w = ref[j];
          if (typeof w.clientTick === "function") {
            w.clientTick();
          }
        }
        if (this.burn > 0) {
          this.createFlameEffect();
        }
        this.cloakFade = 0;
        if (this.cloak > 0) {
          cloakOn = this.mass * .5;
          if (this.cloak > cloakOn) {
            cloakRange = this.mass - cloakOn;
            return this.cloakFade = (this.cloak - cloakOn) / cloakRange;
          }
        }
      };
  
      Unit.prototype.thumb = function() {
        var image_data_url, j, k, len, part, ref, ref1, scale;
        k = JSON.stringify(this.spec) + this.color;
        if (!thumb_cache[k]) {
          baseAtlas.startOffscreenFrame();
          scale = this.radius / 64 * 1.5;
          if (scale < 1) {
            scale = 1;
          }
          baseAtlas.beginSprites([0, 0], scale, [0, 0, -baseAtlas.rtt.width, baseAtlas.rtt.height]);
          ref = this.parts;
          for (j = 0, len = ref.length; j < len; j++) {
            part = ref[j];
            part.working = true;
          }
          this.draw();
          if (((ref1 = this.aiRules) != null ? ref1.length : void 0) > 0) {
            baseAtlas.drawSprite("img/pip1.png", [-scale * 64, -scale * 64], [scale, scale], 0, [0, 0, 0, 255]);
          }
          baseAtlas.finishSprites(false);
          image_data_url = baseAtlas.endOffscreenFrame();
          thumb_cache[k] = image_data_url;
          return image_data_url;
        }
        return thumb_cache[k];
      };
  
      Unit.prototype.drawSelection = function() {
        var alpha, angle, distance, i, j, len, order, orders, prev, results, target;
        this.drawHPBar();
        this.drawEnergyBar();
        if (this.holdPosition) {
          baseAtlas.drawSprite("img/unitBar/circle.png", this.pos, [1, 1], 0, [255, 255, 255, 100]);
        }
        while (this.preOrders.length > 0 && this.preOrders[0].id < this.onOrderId) {
          this.preOrders.shift();
        }
        if (!battleMode.shiftOrder && battleMode.ordering) {
          return;
        }
        if (this.owner === commander.number) {
          prev = this.pos;
          orders = this.preOrders;
          results = [];
          for (i = j = 0, len = orders.length; j < len; i = ++j) {
            order = orders[i];
            if (order.type === "Move") {
              if (order.dest == null) {
                continue;
              }
              distance = v2.distance(order.dest, prev);
              if (i === 0 && distance < 255 + 10) {
                alpha = distance - 10;
              } else {
                alpha = 255;
              }
              angle = v2.angle(v2.sub(order.dest, prev, v2.create()));
              if (orders.length - 1 === i) {
                baseAtlas.drawSprite("img/arrow01.png", order.dest, [.9, .9], angle, [255, 255, 255, alpha]);
              } else {
                baseAtlas.drawSprite("img/arrow01.png", order.dest, [.8, .8], angle, [255, 255, 255, alpha]);
              }
              results.push(prev = order.dest);
            } else if (order.type === "Follow") {
              target = intp.things[order.targetId];
              if (target != null) {
                results.push(baseAtlas.drawSprite("img/unitBar/target.png", target.pos, [1, 1], 0, [255, 0, 0, 100]));
              } else {
                results.push(void 0);
              }
            } else {
              results.push(void 0);
            }
          }
          return results;
        }
      };
  
      Unit.prototype.drawEnergyBar = function() {
        var color, healthScale, i, j, max, number, pipScale, ref, results, s;
        max = this.storeEnergy;
        if (max < 30000) {
          healthScale = 1000;
          pipScale = .5;
        } else {
          healthScale = 10000;
          pipScale = 1;
        }
        number = Math.floor(this.storeEnergy / healthScale);
        results = [];
        for (i = j = 0, ref = number; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
          s = 20;
          _pipPos[0] = (i * s - number * s / 2 - s / 2) * pipScale;
          _pipPos[1] = 100;
          if (i < this.energy / healthScale) {
            color = [169, 208, 232, 255];
          } else {
            color = [20, 20, 20, 50];
          }
          v2.add(this.pos, _pipPos, _pipPos);
          results.push(baseAtlas.drawSprite("img/unitBar/energyPip.png", _pipPos, [pipScale, pipScale], 0, color));
        }
        return results;
      };
  
      Unit.prototype.drawHPBar = function() {
        var burnColor, color, healthScale, i, j, max, number, pipScale, ref, results, s;
        burnColor = colors.blackOrWhite(this.color);
        max = this.maxHP + this.maxShield;
        if (max < 300) {
          healthScale = 10;
          pipScale = .5;
        } else {
          healthScale = 100;
          pipScale = 1;
        }
        number = Math.floor(this.maxHP / healthScale) + Math.floor(this.maxShield / healthScale);
        results = [];
        for (i = j = 0, ref = number; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
          s = 20;
          _pipPos[0] = (i * s - number * s / 2 - s / 2) * pipScale;
          _pipPos[1] = 60;
          if (i < Math.floor(this.maxHP / healthScale)) {
            if (i < this.hp / healthScale) {
              color = [this.color[0], this.color[1], this.color[2], 255];
            } else {
              color = [20, 20, 20, 50];
            }
            if (i < this.cloak / this.mass * this.maxHP / healthScale) {
              color[3] = 100;
            } else if (this.cloakFade > 0) {
              color[3] = 175;
            }
          } else {
            if (i < Math.floor(this.maxHP / healthScale) + this.shield / healthScale) {
              color = [this.color[0], this.color[1], this.color[2], 100];
            } else {
              color = [0, 0, 0, 50];
            }
          }
          v2.add(this.pos, _pipPos, _pipPos);
          baseAtlas.drawSprite("img/pip1.png", _pipPos, [pipScale, pipScale], 0, color);
          if (this.burn * 1 / healthScale > i) {
            results.push(baseAtlas.drawSprite("img/unitBar/flame.png", _pipPos, [pipScale * .25, pipScale * .25], Math.PI, burnColor));
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Unit.prototype.addOrder = function(order) {
        if (this.orders.length < 50) {
          return this.orders.push(order);
        }
      };
  
      Unit.prototype.setOrder = function(order) {
        this.orders = [order];
        return this.target = null;
      };
  
      Unit.prototype.aiOrder = function(order) {
        order.ai = true;
        if (this.orders.length > 0 && (this.orders[0].ai || this.orders[0].rally)) {
          return this.orders[0] = order;
        } else {
          return this.orders.unshift(order);
        }
      };
  
      Unit.prototype.stopAi = function() {
        if (this.orders.length && this.orders[0].ai) {
          this.orders.shift();
          return this.onOrderId += 1;
        }
      };
  
      Unit.prototype.hasHumanOrder = function() {
        var j, len, order, ref;
        ref = this.orders;
        for (j = 0, len = ref.length; j < len; j++) {
          order = ref[j];
          if (!order.ai) {
            return true;
          }
        }
        return false;
      };
  
      Unit.prototype.giveOrder = function(order, additive) {
        if (additive) {
          return this.addOrder(order);
        } else {
          return this.setOrder(order);
        }
      };
  
      Unit.prototype.topOrderIs = function(type) {
        return this.orders.length > 0 && this.orders[0].type === type;
      };
  
      Unit.prototype.runOrders = function() {
        var running, topOrder;
        if (this.dead || this.orders.length === 0) {
          return;
        }
        while (this.orders.length > 0) {
          topOrder = this.orders[0];
          this.onOrderId = topOrder.id;
          running = this.runOrder(topOrder);
          if (running || topOrder.ai) {
            break;
          }
          this.orders.shift();
          this.onOrderId += 1;
        }
      };
  
      Unit.prototype.runOrder = function(order) {
        var dest, dir, dist, pos, range, ref, target;
        switch (order.type) {
          case "Follow":
            target = sim.things[order.targetId];
            if (!target || target.dead) {
              this.target = null;
              return false;
            }
            if (target.side !== this.side) {
              this.target = target;
            }
            if (!order.range) {
              if (this.warhead) {
                order.range = 0;
              } else {
                if (target.side !== this.side && this.weapons.length > 0) {
                  order.range = this.mainWeapon.range * 0.95;
                } else {
                  order.range = (this.radius + target.radius) * 1.5;
                }
              }
            }
            range = order.range;
            if (target.side !== this.side && this.weapons.length > 0) {
              dir = v2.norm(v2.sub(target.pos, this.pos, v2.create()));
              range = Math.max(0, this.mainWeapon.range * (this.mainWeapon.bulletSpeed - v2.dot(target.vel, dir)) / this.mainWeapon.bulletSpeed);
            }
            if (target.cloak > 0 && target.cloaked() && target.side !== this.side) {
              range = Math.min(range, 50);
            }
            return this.moveWithinRange(target.pos, range, order.noStop) || this.orders.length === 1 || target.side !== this.side || !(this.target = null);
          case "Move":
            if (order.dest == null) {
              return false;
            }
            range = (ref = order.range) != null ? ref : 0;
            if (this.orders.length > 1) {
              range += this.radius * 3;
            }
            if (order.begun) {
              if (this.gotoDistance <= this.stopDistance) {
                return false;
              }
            } else {
              order.begun = true;
            }
            return this.moveWithinRange(order.dest, range, order.noStop);
          case "Flee":
            pos = order.pos;
            if (!pos) {
              pos = order.target.pos;
            }
            if (!order.distance) {
              order.distance = 10000;
            }
            dist = v2.distance(this.pos, pos);
            if (dist > order.distance) {
              return order.noFinish;
            }
            dest = v2.create();
            v2.sub(this.pos, pos, dest);
            v2.scale(dest, order.distance / v2.mag(dest));
            v2.add(dest, this.pos);
            return this.moveWithinRange(dest, 0, order.noStop, order.noFinish);
          case "Stop":
            return true;
          default:
            sim.say("invalid order" + JSON.stringify(order));
        }
        return true;
      };
  
      Unit.prototype.selfDestruct = function() {
        return this.hp = 0;
      };
  
      Unit.prototype.toggleHoldPosition = function() {
        return this.holdPosition = !this.holdPosition;
      };
  
      Unit.prototype.stopAndClearOrders = function() {
        if (this.orders.length > 0) {
          this.onOrderId = this.orders.last().id + 1;
          this.orders = [];
        }
        this.holdPosition = false;
        return this.target = null;
      };
  
      Unit.prototype.moveWithinRange = function(pos, range, noStop) {
        var dist, jumpDist, jumpVec, needDist;
        dist = v2.distance(this.pos, pos);
        if (dist < range || (noStop && dist <= this.maxSpeed)) {
          if (noStop || !this.shouldLookAt(pos)) {
            this.stopDistance = 0;
            this.gotoDistance = Number.MAX_SAFE_INTEGER;
            return false;
          }
          return true;
        }
        if (this.jump > this.minJump) {
          jumpDist = Math.min(this.jumpDistance, this.jump);
          needDist = v2.distance(this.pos, pos) - Math.max(this.stopDistance, 100);
          if (needDist < jumpDist) {
            this.cloak -= .25 * this.mass;
            jumpVec = v2.create();
            v2.sub(pos, this.pos, jumpVec);
            v2.add(this.pos, jumpVec);
            this.warpIn = 0;
            this.vel[0] /= 100;
            this.vel[1] /= 100;
            this.jump = 0;
            this.rot = v2.angle(jumpVec);
            return false;
          } else {
            this.moveTo(pos, noStop);
          }
          return true;
        }
        this.moveTo(pos, noStop);
        return true;
      };
  
      Unit.prototype.shouldLookAt = function(pos) {
        var dif, rot;
        dif = v2.create();
        v2.sub(pos, this.pos, dif);
        if (v2.mag(dif) < 0.1) {
          return false;
        }
        rot = v2.angle(dif);
        if (Math.abs(rot - this.rot) < 0.1) {
          return false;
        } else {
          this.lookAt(pos);
          return true;
        }
      };
  
      return Unit;
  
    })();
  
    window.Part = (function() {
      Part.prototype.hp = 10;
  
      Part.prototype.cost = 10;
  
      Part.prototype.mass = 40;
  
      Part.prototype.rot = 0;
  
      Part.prototype.dir = 0;
  
      Part.prototype.canRotate = true;
  
      Part.prototype.flip = true;
  
      Part.prototype.scale = 1;
  
      Part.prototype.opacity = 1;
  
      Part.prototype.flippedSize = function() {
        var xsize, ysize;
        xsize = this.size[0];
        ysize = this.size[1];
        if (this.dir % 2 === 0) {
          return [xsize, ysize];
        } else {
          return [ysize, xsize];
        }
      };
  
      function Part() {
        this.pos = v2.create();
        this.worldPos = v2.create();
        this.orignalImage = this.image;
      }
  
      Part.prototype.computeWorldPos = function() {
        v2.set(this.pos, this.worldPos);
        v2.sub(this.worldPos, this.unit.center);
        v2.rotate(this.worldPos, Math.PI + this.unit.rot, this.worldPos);
        return v2.add(this.worldPos, this.unit.pos);
      };
  
      Part.prototype.draw = function() {
        var alpha, angle, c, flip, id, num, numParts, rot, showDamage, t;
        if (this.pos[0] < 0 && this.flip) {
          flip = -1;
        } else {
          flip = 1;
        }
        if (this.gimble) {
          rot = Math.PI + this.rot;
        } else {
          rot = Math.PI + this.unit.rot;
        }
        angle = Math.PI * this.dir / 2;
        rot += angle;
        if (this.canShowDamage && this.image === this.orignalImage) {
          numParts = this.unit.parts.length;
          id = this.unit.id;
          num = this.partNum % numParts;
          showDamage = num / numParts > this.unit.hp / this.unit.maxHP;
          if (showDamage) {
            t = (this.partNum + id) % 3 + 1;
            this.image = this.orignalImage.replace(".png", ".d" + t + ".png");
          }
        }
        if (this.northWest) {
          if (this.dir === 0 || this.dir === 2) {
            this.image = this.orignalImage;
          } else {
            this.image = this.orignalImage.replace("N", "W");
          }
        }
        alpha = 255;
        if (this.unit.cloakFade > 0) {
          alpha = 255 - this.unit.cloakFade * 200;
        }
        if (this.ghostCopy) {
          alpha = 170;
        }
        if (this.stripe) {
          baseAtlas.drawSprite("parts/gray-" + this.image, this.worldPos, [flip, -1], rot, [255, 255, 255, alpha]);
          c = this.unit.color;
          return baseAtlas.drawSprite("parts/red-" + this.image, this.worldPos, [flip, -1], rot, [c[0], c[1], c[2], alpha]);
        } else if (this.decal) {
          c = this.unit.color;
          return baseAtlas.drawSprite("parts/" + this.image, this.worldPos, [flip / this.scale, -1 / this.scale], rot, [c[0], c[1], c[2], alpha * this.opacity]);
        } else {
          return baseAtlas.drawSprite("parts/" + this.image, this.worldPos, [flip, -1], rot, [255, 255, 255, alpha]);
        }
      };
  
      Part.prototype.tick = function() {};
  
      return Part;
  
    })();
  
    _color = [0, 0, 0, 0];
  
    window.Engine = (function(superClass) {
      extend(Engine, superClass);
  
      function Engine() {
        return Engine.__super__.constructor.apply(this, arguments);
      }
  
      Engine.prototype.trailSize = .1;
  
      Engine.prototype.trailTime = 32;
  
      Engine.prototype.canRotate = false;
  
      Engine.prototype.preDraw = function() {
        var ref;
        if (v2.mag(this.unit.vel) > 1) {
          if (!this.trail) {
            this.trail = new Trail(this.unit.id, this.trailSize, this.trailTime, this.unit.color, this.unit.z);
          }
          if ((ref = this.trail) != null) {
            ref.grow(this.worldPos);
          }
          this.trail.color = this.unit.color;
          return this.trail.z = this.unit.z - 0.0001;
        }
      };
  
      return Engine;
  
    })(Part);
  
    _offset = [0, 0];
  
    _where = [0, 0];
  
    _vel = [0, 0];
  
    window.Turret = (function(superClass) {
      extend(Turret, superClass);
  
      Turret.prototype.tab = "weapons";
  
      Turret.prototype.image = "turret01.png";
  
      Turret.prototype.gimble = true;
  
      Turret.prototype.weapon = true;
  
      Turret.prototype.canRotate = false;
  
      Turret.prototype.target = null;
  
      Turret.prototype.bulletCls = types.FlyerBullet;
  
      Turret.prototype.range = 500;
  
      Turret.prototype.damage = 0;
  
      Turret.prototype.energyDamage = 0;
  
      Turret.prototype.bulletSpeed = 1;
  
      Turret.prototype.reloadTime = 10;
  
      Turret.prototype.overshoot = 0.3;
  
      Turret.prototype.minRange = -1000;
  
      Turret.prototype.instant = false;
  
      Turret.prototype.accuracy = 0;
  
      Turret.prototype.exactRange = false;
  
      Turret.prototype.arc = 0;
  
      Turret.prototype.weaponRange = 1;
  
      Turret.prototype.weaponRangeFlat = 0;
  
      Turret.prototype.weaponDamage = 1;
  
      Turret.prototype.weaponEnergyDamage = 1;
  
      Turret.prototype.weaponSpeed = 1;
  
      Turret.prototype.weaponReload = 1;
  
      Turret.prototype.weaponEnergy = 1;
  
      Turret.prototype.noOverkill = false;
  
      function Turret() {
        this.canShoot = bind(this.canShoot, this);
        this.reload = 0;
        this.rot = 0;
        this.fireTimer = 0;
        this.pos = v2.create();
        this.worldPos = v2.create();
        this.orignalImage = this.image;
        this._rot = 0;
        this._rot2 = 0;
      }
  
      Turret.prototype.init = function() {
        var j, len, part, ref, results;
        ref = this.unit.parts;
        results = [];
        for (j = 0, len = ref.length; j < len; j++) {
          part = ref[j];
          if (part.mount && v2.distance(part.pos, this.pos) < .1) {
            part.turret = this;
            this.arc = part.arc;
            results.push(typeof part.initTurret === "function" ? part.initTurret(this) : void 0);
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Turret.prototype.applyBuffs = function() {
        this.range *= this.weaponRange;
        this.range += this.weaponRangeFlat;
        this.damage *= this.weaponDamage;
        this.energyDamage *= this.weaponDamage;
        this.bulletSpeed *= this.weaponSpeed;
        this.minRange *= 1 + (this.weaponSpeed - 1) / 2;
        this.reloadTime *= this.weaponReload;
        this.shotEnergy *= this.weaponEnergy;
        this.reloadTime = Math.ceil(this.reloadTime);
        this.fireEnergy = this.shotEnergy / this.reloadTime;
        return this.dps = this.damage / this.reloadTime;
      };
  
      Turret.prototype.tick = function() {
        var angle, halfArc;
        if (this.reload > 0) {
          this.reload -= 1;
        }
        this.working = this.reload <= 1 && this.unit.energy > this.shotEnergy;
        if (!this.target) {
          this.rot = turnAngle(this.rot, this.unit.rot, 0.075);
        }
        halfArc = this.arc / 180 * Math.PI / 2;
        angle = angleBetween(this.unit.rot, this.rot);
        if (angle > halfArc) {
          this.rot = this.unit.rot + halfArc;
        }
        if (angle < -halfArc) {
          this.rot = this.unit.rot - halfArc;
        }
        if (this.unit.target !== null && this.canShoot(this.unit.target)) {
          this.target = this.unit.target;
          return this.fire();
        } else if (this.target !== null && this.canShoot(this.target)) {
          return this.fire();
        } else {
          return this.findTarget();
        }
      };
  
      Turret.prototype.draw = function() {
        if (this.working) {
          this.image = this.orignalImage;
        } else {
          this.image = this.orignalImage.replace(".png", "Reload.png");
        }
        return Turret.__super__.draw.call(this);
      };
  
      Turret.prototype.clientTick = function() {
        var ditance, ref, target, th;
        target = intp.things[this.targetId];
        if (target) {
          ref = this.aim(target), th = ref[0], ditance = ref[1];
          this._rot = th;
        } else {
          return this._rot = turnAngle(this._rot, this.unit.rot, 0.075);
        }
      };
  
      Turret.prototype.aim = function(thing) {
        var c, check, current_time, d, do_pos, j, max_time, mdown, miss, mup, p, predicted_pos, th;
        if (this.instant) {
          p = thing.pos;
          predicted_pos = [p[0] - this.worldPos[0], p[1] - this.worldPos[1]];
          th = v2.angle(predicted_pos);
          return [th, v2.mag(predicted_pos) - thing.radius];
        }
        do_pos = (function(_this) {
          return function(t) {
            var v;
            p = thing.pos;
            v = thing.vel;
            return [p[0] - _this.worldPos[0] + v[0] * t, p[1] - _this.worldPos[1] + v[1] * t];
          };
        })(this);
        check = (function(_this) {
          return function(t) {
            var miss, predicted_range;
            predicted_pos = do_pos(t);
            predicted_range = v2.mag(predicted_pos) - thing.radius;
            miss = Math.abs(predicted_range - _this.bulletSpeed * t);
            return miss;
          };
        })(this);
        max_time = this.range / this.bulletSpeed;
        current_time = 0;
        d = 2;
        miss = check(current_time);
        for (c = j = 0; j < 32; c = ++j) {
          mdown = check(current_time - max_time / d);
          mup = check(current_time + max_time / d);
          if (mdown < miss && mdown < mup) {
            current_time -= max_time / d;
            miss = mdown;
          }
          if (mup < miss && mup < mdown) {
            current_time += max_time / d;
            miss = mup;
          }
          if (miss < 1) {
            break;
          }
          d *= 2;
        }
        if (current_time < 0) {
          current_time = 0;
        }
        predicted_pos = do_pos(current_time);
        th = v2.angle(predicted_pos);
        return [th, v2.mag(predicted_pos) - thing.radius];
      };
  
      Turret.prototype.canShoot = function(other) {
        var aimDistance, arcAngle, distance, ref, th;
        if (!other.unit && !(other.missile && this.hitsMissiles)) {
          return false;
        }
        if (other.dead || (other.applyDamage == null)) {
          return false;
        }
        if (this.unit.id === other.id) {
          return false;
        }
        if (this.unit.side === other.side) {
          return false;
        }
        if (other.missile && other.explode === false) {
          return false;
        }
        if (other.cloak > 0 && other.cloaked()) {
          return false;
        }
        distance = v2.distance(this.worldPos, other.pos);
        if (distance > this.range * 2) {
          return false;
        }
        if (this.onlyInRange) {
          if (distance + other.radius < this.minRange || distance - other.radius > this.range) {
            return false;
          }
        }
        ref = this.aim(other), th = ref[0], aimDistance = ref[1];
        if (aimDistance < this.minRange || aimDistance > this.range) {
          return false;
        }
        arcAngle = angleBetween(this.unit.rot, th);
        if (Math.abs(arcAngle) / Math.PI * 180 > this.arc / 2) {
          return false;
        }
        if (this.noOverkill) {
          if (this.unit.target) {
            if (this.unit.target.id === other.id) {
              return true;
            } else {
              return false;
            }
          }
          if (other.maxHP * 2 < this.damage) {
            return false;
          }
          if (this.energyDamage && other.storeEnergy * 2 < this.energyDamage) {
            return false;
          }
        }
        return true;
      };
  
      Turret.prototype.findTarget = function() {
        var j, l, len, len1, m, ref, ref1, results, u;
        if (this.unit.target && !this.hitsMissiles) {
          this.target = this.unit.target;
          return;
        }
        this.target = null;
        if (this.hitsMissiles) {
          ref = this.unit.closestEnemyBullets();
          for (j = 0, len = ref.length; j < len; j++) {
            m = ref[j];
            if (this.canShoot(m)) {
              this.target = m;
              break;
            }
          }
          if (this.target) {
            return;
          }
        }
        ref1 = this.unit.closestEnemies();
        results = [];
        for (l = 0, len1 = ref1.length; l < len1; l++) {
          u = ref1[l];
          if (this.canShoot(u)) {
            this.target = u;
            break;
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Turret.prototype.fire = function() {
        var angleLeft, dist, ref, rot;
        ref = this.aim(this.target), rot = ref[0], dist = ref[1];
        this.rot = turnAngle(this.rot, rot, 1);
        angleLeft = angleBetween(this.rot, rot);
        if (Math.abs(angleLeft) > .01) {
          return;
        }
        if (this.reload > 0) {
          return;
        }
        if (this.unit.energy < this.shotEnergy) {
          return;
        }
        this.reload = this.reloadTime;
        this.unit.energy -= this.shotEnergy;
        return this.makeBullet(dist);
      };
  
      Turret.prototype.makeBullet = function(distance) {
        var exp, particle;
        this.unit.cloak = 0;
        particle = new this.bulletCls();
        sim.things[particle.id] = particle;
        particle.side = this.unit.side;
        particle.life = 0;
        particle.dead = false;
        particle.z = this.unit.z + .001;
        particle.turretNum = this.turretNum;
        particle.origin = this.unit;
        particle.weapon = this;
        particle.target = this.target;
        particle.speed = this.bulletSpeed;
        particle.damage = this.damage;
        particle.energyDamage = this.energyDamage;
        particle.hitsMissiles = this.hitsMissiles;
        particle.aoe = this.aoe;
        particle.burnAmount = this.burnAmount;
        v2.set(this.worldPos, particle.pos);
        v2.pointTo(particle.vel, this.rot);
        v2.scale(particle.vel, particle.speed);
        particle.rot = this.rot;
        if (this.instant) {
          particle.targetPos = v2.create(particle.target.pos);
          if (this.target.maxLife) {
            this.target.life = this.target.maxLife;
            this.target.explode = false;
            exp = new types.HitExplosion();
            exp.z = 1000;
            exp.pos = [this.target.pos[0], this.target.pos[1]];
            exp.vel = [0, 0];
            exp.rot = 0;
            exp.radius = .5;
            sim.things[exp.id] = exp;
          } else {
            this.target.applyDamage(particle.damage);
          }
        } else if (this.exactRange) {
          particle.maxLife = Math.floor(distance / particle.speed);
          particle.hitPos = v2.create();
          v2.add(particle.hitPos, particle.vel);
          v2.scale(particle.hitPos, distance / particle.speed);
          v2.add(particle.hitPos, particle.pos);
        } else {
          particle.maxLife = Math.floor(this.range / particle.speed * (1 + this.overshoot));
        }
        return typeof particle.postFire === "function" ? particle.postFire() : void 0;
      };
  
      return Turret;
  
    })(Part);
  
    window.toShort = function(spec) {
      if (!spec) {
        return null;
      }
      return JSON.stringify(spec);
    };
  
    legacyParts = [null, "Mount360", "Mount180", "Mount270", "Mount90", "Mount30", "HArmor2x2", "HArmor1x2", "HArmor1x1", "HArmor2x1", "HArmor1x1Angle", "UArmor1x1", "UArmor1x2", "UArmor2x1", "UArmor1x1Angle", "Reactor2x2", "Reactor1x2", "Reactor1x1", "Reactor2x1", "EnergyTransfer", "ShieldGen2x2", "ShieldGen2x1", "Battery1x2", "Battery1x1", "Battery2x1", "Battery2x2", "Engine01", "Engine02", "Engine03", "Engine04", "Engine05", "Engine06", "Engine07", "HArmor2x2Front1", "HArmor2x2Front2", "HArmor1x2Font1", "HArmor1x2Front2", "HArmor2x2Back1", "HArmor2x2Back2", "HArmor1x2Back1", "HArmor1x2Back2", "Wing1x2", "Wing2x2", "Wing2x1", "Wing1x1Notch", "Wing1x1Angle", "Wing1x1Round", "PDTurret", "HeavyPDTurret", "RingTurret", "TorpTurret", "MissileTurret", "ArtilleryTurret", "PlasmaTurret", "LightBeamTurret", "HeavyBeamTurret", "FlackTurret", "SniperGun", "EMPGun", "AOEWarhead", "TargetingMod", "DamageMod", "ReloaderMod", "BulletSpeedMod", "Ai1", "OverKillAi", "Ai3", "Ai4", "ShapedWarhead", "BombGun", "HArmor1x1AngleBack", "UArmor1x1AngleBack", "HArmor2x2Angle", "HArmor2x2AngleBack", "VArmor1x2SideBar", "VArmor1x2SideBarFilled", "VArmor1x2IBeam", "VArmor1x2Corner4", "VArmor1x2End", "VArmor1x1Corner1", "VArmor1x1Corner2", "VArmor1x1Corner3", "VArmor1x1Hook", "VArmor1x1CornerBack", "Mount360Micro", "AutoTurret", "TeslaTurret", "WavePullTurret", "ShieldGen1x1", "WavePushTurret", "CloakGenerator", "SymbolDecal1", "SymbolDecal2", "SymbolDecal3", "SymbolDecal4", "SymbolDecal5", "SymbolDecal6", "SymbolDecal7", "SymbolDecal8", "SymbolDecal9", "SymbolDecal10", "SymbolDecal11", "SymbolDecal12", "SymbolDecal13", "SymbolDecal14", "SymbolDecal15", "SymbolDecal16", "SymbolDecal17", "SymbolDecal18", "SymbolDecal19", "SymbolDecal20", "SymbolDecal21", "SymbolDecal22", "SymbolDecal23", "SymbolDecal24", null, null, null, null, null, "UArmor2x2", "UArmor1x2Notch1", "UArmor1x2Notch2", "UArmor1x1Notch1", "UArmor1x1Notch2", "UArmor1x1Spike", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "VArmor2x2", "VArmor1x2", "VArmor1x1", "VArmor1x1Angle", "VArmor2x2Angle", "VArmor2x2Curve", "VArmor1x1Curve", null, null, null, "HAarmor1x2Curved", "HArmor2x2Curved", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "Stripe1x1", "Stripe1x1Corner", "Stripe1x2", "Stripe2x1", "Stripe2x2", "Stripe2x2Corner", "Stripe2x2Round", "StripeDouble2x1", "StripeDouble2x2", null, null, null, null, null, null, null, null, null, null, null, "LetterA", "LetterB", "LetterC", "LetterD", "LetterE", "LetterF", "LetterG", "LetterH", "LetterI", "LetterJ", "LetterK", "LetterL", "LetterM", "LetterN", "LetterO", "LetterP", "LetterQ", "LetterR", "LetterS", "LetterT", "LetterU", "LetterV", "LetterW", "LetterX", "LetterY", "LetterZ", "LetterPound", "LetterDot", null, null, "Letter0", "Letter1", "Letter2", "Letter3", "Letter4", "Letter5", "Letter6", "Letter7", "Letter8", "Letter9", "DroneBody", "Mount10Range", "FlameTurret", "StasisField", "Faction2", "Faction3", "Faction4", "Faction5", "Faction6", "Faction7", "Faction1", null, null, null, null];
  
    window.fromShort = function(rawShort) {
      var bin, e, error, i, j, ref, short, spec, type;
      if (!rawShort) {
        return {
          parts: []
        };
      }
      try {
        if (typeof rawShort === "object") {
          if (rawShort.parts != null) {
            return rawShort;
          }
        }
        if (rawShort[0] === "{") {
          spec = JSON.parse(rawShort);
          if (!spec.parts) {
            spec = {
              parts: []
            };
          }
          return spec;
        } else {
          short = decodeURIComponent(rawShort);
          bin = new Uint8Array(atob(short).split("").map(function(c) {
            return c.charCodeAt(0);
          }));
          spec = [];
          for (i = j = 0, ref = bin.length / 3; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
            type = legacyParts[bin[i * 3 + 2]];
            if (type) {
              spec.push({
                pos: [(bin[i * 3 + 0] - 20) * 10, (bin[i * 3 + 1] - 20) * 10],
                type: type
              });
            }
          }
          return {
            parts: spec
          };
        }
      } catch (error) {
        e = error;
        console.log("Can't decode ship", e, rawShort);
      }
      return {
        parts: []
      };
    };
  
    window.specCost = function(spec) {
      var cost, j, len, part, partCls, ref;
      cost = 0;
      if (!Array.isArray(spec)) {
        spec = fromShort(spec);
      }
      ref = spec.parts;
      for (j = 0, len = ref.length; j < len; j++) {
        part = ref[j];
        partCls = window.parts[part.type];
        if (partCls) {
          cost += partCls.prototype.cost;
        }
      }
      return cost;
    };
  
  }).call(this);
  ;
  
  
  //from src/parts.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var AiPart, Battery, Faction, HArmor, ModPart, ShadowArmor, UArmor, VArmor, VShadowArmor, Wing, _a, _b, _wave,
      extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
      hasProp = {}.hasOwnProperty,
      indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
      bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
  
    window.parts = {};
  
    parts.Mount360 = (function(superClass) {
      extend(Mount360, superClass);
  
      function Mount360() {
        return Mount360.__super__.constructor.apply(this, arguments);
      }
  
      Mount360.prototype.name = "360 Turret Mount";
  
      Mount360.prototype.desc = "Use this to mount weapons.";
  
      Mount360.prototype.hp = 10;
  
      Mount360.prototype.cost = 36;
  
      Mount360.prototype.image = "mount360.png";
  
      Mount360.prototype.mount = true;
  
      Mount360.prototype.arc = 360;
  
      Mount360.prototype.attach = true;
  
      Mount360.prototype.size = [2, 2];
  
      Mount360.prototype.mass = 30;
  
      Mount360.prototype.stripe = true;
  
      Mount360.prototype.tab = "weapons";
  
      Mount360.prototype.canRotate = false;
  
      return Mount360;
  
    })(Part);
  
    parts.Mount270 = (function(superClass) {
      extend(Mount270, superClass);
  
      function Mount270() {
        return Mount270.__super__.constructor.apply(this, arguments);
      }
  
      Mount270.prototype.name = "270 Turret Mount";
  
      Mount270.prototype.desc = "Use this to mount weapons.";
  
      Mount270.prototype.hp = 20;
  
      Mount270.prototype.cost = 27;
  
      Mount270.prototype.image = "mount300.png";
  
      Mount270.prototype.arc = 270;
  
      Mount270.prototype.size = [2, 2];
  
      Mount270.prototype.mass = 10;
  
      return Mount270;
  
    })(parts.Mount360);
  
    parts.Mount180 = (function(superClass) {
      extend(Mount180, superClass);
  
      function Mount180() {
        return Mount180.__super__.constructor.apply(this, arguments);
      }
  
      Mount180.prototype.name = "200 Turret Mount";
  
      Mount180.prototype.desc = "Use this to mount weapons.";
  
      Mount180.prototype.hp = 20;
  
      Mount180.prototype.cost = 15;
  
      Mount180.prototype.image = "mount180.png";
  
      Mount180.prototype.arc = 200;
  
      Mount180.prototype.size = [2, 2];
  
      Mount180.prototype.mass = 10;
  
      return Mount180;
  
    })(parts.Mount360);
  
    parts.Mount90 = (function(superClass) {
      extend(Mount90, superClass);
  
      function Mount90() {
        return Mount90.__super__.constructor.apply(this, arguments);
      }
  
      Mount90.prototype.name = "90 Turret Mount";
  
      Mount90.prototype.desc = "Use this to mount weapons.";
  
      Mount90.prototype.hp = 10;
  
      Mount90.prototype.cost = 9;
  
      Mount90.prototype.image = "mount90.png";
  
      Mount90.prototype.arc = 90;
  
      Mount90.prototype.size = [2, 2];
  
      Mount90.prototype.mass = 5;
  
      return Mount90;
  
    })(parts.Mount360);
  
    parts.Mount30 = (function(superClass) {
      extend(Mount30, superClass);
  
      function Mount30() {
        return Mount30.__super__.constructor.apply(this, arguments);
      }
  
      Mount30.prototype.name = "30 Turret Mount";
  
      Mount30.prototype.desc = "Use this to mount weapons.";
  
      Mount30.prototype.hp = 5;
  
      Mount30.prototype.cost = 3;
  
      Mount30.prototype.image = "mount30.png";
  
      Mount30.prototype.arc = 30;
  
      Mount30.prototype.size = [2, 2];
  
      Mount30.prototype.mass = 5;
  
      return Mount30;
  
    })(parts.Mount360);
  
    parts.Mount360Micro = (function(superClass) {
      extend(Mount360Micro, superClass);
  
      function Mount360Micro() {
        return Mount360Micro.__super__.constructor.apply(this, arguments);
      }
  
      Mount360Micro.prototype.name = "Micro 360 Turret Mount";
  
      Mount360Micro.prototype.desc = "A cheaper lighter 360 mount that has only 66% of the range of mounted weapons.";
  
      Mount360Micro.prototype.hp = 20;
  
      Mount360Micro.prototype.cost = 15;
  
      Mount360Micro.prototype.image = "mount360short.png";
  
      Mount360Micro.prototype.mount = true;
  
      Mount360Micro.prototype.arc = 360;
  
      Mount360Micro.prototype.attach = true;
  
      Mount360Micro.prototype.size = [2, 2];
  
      Mount360Micro.prototype.mass = 5;
  
      Mount360Micro.prototype.rangeBuffMul = .66;
  
      Mount360Micro.prototype.initTurret = function(turret) {
        return turret.range *= this.rangeBuffMul;
      };
  
      return Mount360Micro;
  
    })(parts.Mount360);
  
    parts.Mount10Range = (function(superClass) {
      extend(Mount10Range, superClass);
  
      function Mount10Range() {
        return Mount10Range.__super__.constructor.apply(this, arguments);
      }
  
      Mount10Range.prototype.name = "Spinal Turret Mount";
  
      Mount10Range.prototype.desc = "A narrow angle forward mount that grants a large flat range bonus range.";
  
      Mount10Range.prototype.hp = 1;
  
      Mount10Range.prototype.cost = 20;
  
      Mount10Range.prototype.image = "mount10range.png";
  
      Mount10Range.prototype.mount = true;
  
      Mount10Range.prototype.arc = 20;
  
      Mount10Range.prototype.attach = true;
  
      Mount10Range.prototype.size = [2, 4];
  
      Mount10Range.prototype.mass = 50;
  
      Mount10Range.prototype.weaponRangeFlat = 600;
  
      Mount10Range.prototype.weaponEnergy = 50;
  
      Mount10Range.prototype.initTurret = function(turret) {
        turret.weaponRangeFlat += this.weaponRangeFlat;
        return turret.weaponEnergy *= 1 + this.weaponEnergy / 100;
      };
  
      return Mount10Range;
  
    })(parts.Mount360);
  
    parts.Mount10Demi = (function(superClass) {
      extend(Mount10Demi, superClass);
  
      function Mount10Demi() {
        return Mount10Demi.__super__.constructor.apply(this, arguments);
      }
  
      Mount10Demi.prototype.name = "Demispinal Turret Mount";
  
      Mount10Demi.prototype.desc = "A smaller narrow angle forward mount that grants a moderate flat range bonus.";
  
      Mount10Demi.prototype.hp = 1;
  
      Mount10Demi.prototype.cost = 5;
  
      Mount10Demi.prototype.image = "mount10wide.png";
  
      Mount10Demi.prototype.mount = true;
  
      Mount10Demi.prototype.arc = 20;
  
      Mount10Demi.prototype.attach = true;
  
      Mount10Demi.prototype.size = [4, 2];
  
      Mount10Demi.prototype.mass = 10;
  
      Mount10Demi.prototype.weaponRangeFlat = 250;
  
      Mount10Demi.prototype.weaponEnergy = 25;
  
      Mount10Demi.prototype.initTurret = function(turret) {
        turret.weaponRangeFlat += this.weaponRangeFlat;
        return turret.weaponEnergy *= 1 + this.weaponEnergy / 100;
      };
  
      return Mount10Demi;
  
    })(parts.Mount360);
  
    parts.DroneBody = (function(superClass) {
      extend(DroneBody, superClass);
  
      function DroneBody() {
        return DroneBody.__super__.constructor.apply(this, arguments);
      }
  
      DroneBody.prototype.name = "DroneBody";
  
      DroneBody.prototype.desc = "An independent drone with the mounted weapon.";
  
      DroneBody.prototype.hp = 5;
  
      DroneBody.prototype.cost = 15;
  
      DroneBody.prototype.image = "droneBody.png";
  
      DroneBody.prototype.mount = true;
  
      DroneBody.prototype.arc = 360;
  
      DroneBody.prototype.attach = false;
  
      DroneBody.prototype.solid = false;
  
      DroneBody.prototype.size = [4, 4];
  
      DroneBody.prototype.mass = 10;
  
      DroneBody.prototype.stripe = false;
  
      DroneBody.prototype.disable = true;
  
      return DroneBody;
  
    })(parts.Mount360);
  
    parts.Pad2x2 = (function(superClass) {
      extend(Pad2x2, superClass);
  
      function Pad2x2() {
        return Pad2x2.__super__.constructor.apply(this, arguments);
      }
  
      Pad2x2.prototype.name = "Fighter pad";
  
      Pad2x2.prototype.desc = "Allows fighters to land and repair.";
  
      Pad2x2.prototype.hp = 10;
  
      Pad2x2.prototype.cost = 36;
  
      Pad2x2.prototype.image = "pad2x2.png";
  
      Pad2x2.prototype.attach = true;
  
      Pad2x2.prototype.size = [2, 2];
  
      Pad2x2.prototype.mass = 30;
  
      Pad2x2.prototype.tab = "armor";
  
      Pad2x2.prototype.disable = true;
  
      return Pad2x2;
  
    })(Part);
  
    HArmor = (function(superClass) {
      extend(HArmor, superClass);
  
      function HArmor() {
        return HArmor.__super__.constructor.apply(this, arguments);
      }
  
      HArmor.prototype.name = "Heavyweight Armor";
  
      HArmor.prototype.desc = "Adds HP but also adds a lot of weight, making a ship slower.";
  
      HArmor.prototype.canShowDamage = true;
  
      HArmor.prototype.paintable = true;
  
      HArmor.prototype.tab = "armor1";
  
      return HArmor;
  
    })(Part);
  
    parts.HArmor2x2 = (function(superClass) {
      extend(HArmor2x2, superClass);
  
      function HArmor2x2() {
        return HArmor2x2.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x2.prototype.hp = 64;
  
      HArmor2x2.prototype.cost = 8;
  
      HArmor2x2.prototype.image = "HArmor2x2.png";
  
      HArmor2x2.prototype.size = [2, 2];
  
      HArmor2x2.prototype.mass = 40;
  
      return HArmor2x2;
  
    })(HArmor);
  
    parts.HArmor1x2 = (function(superClass) {
      extend(HArmor1x2, superClass);
  
      function HArmor1x2() {
        return HArmor1x2.__super__.constructor.apply(this, arguments);
      }
  
      HArmor1x2.prototype.name = "Heavyweight Armor";
  
      HArmor1x2.prototype.hp = 32;
  
      HArmor1x2.prototype.cost = 4;
  
      HArmor1x2.prototype.image = "HArmor1x2.png";
  
      HArmor1x2.prototype.size = [1, 2];
  
      HArmor1x2.prototype.mass = 20;
  
      return HArmor1x2;
  
    })(HArmor);
  
    parts.HArmor1x1 = (function(superClass) {
      extend(HArmor1x1, superClass);
  
      function HArmor1x1() {
        return HArmor1x1.__super__.constructor.apply(this, arguments);
      }
  
      HArmor1x1.prototype.name = "Heavyweight Armor";
  
      HArmor1x1.prototype.hp = 16;
  
      HArmor1x1.prototype.cost = 2;
  
      HArmor1x1.prototype.image = "HArmor1x1.png";
  
      HArmor1x1.prototype.size = [1, 1];
  
      HArmor1x1.prototype.mass = 10;
  
      return HArmor1x1;
  
    })(HArmor);
  
    parts.HArmor2x1 = (function(superClass) {
      extend(HArmor2x1, superClass);
  
      function HArmor2x1() {
        return HArmor2x1.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x1.prototype.name = "Heavyweight Armor";
  
      HArmor2x1.prototype.hp = 32;
  
      HArmor2x1.prototype.cost = 4;
  
      HArmor2x1.prototype.image = "HArmor2x1.png";
  
      HArmor2x1.prototype.size = [2, 1];
  
      HArmor2x1.prototype.mass = 20;
  
      return HArmor2x1;
  
    })(HArmor);
  
    parts.HArmor1x1Angle = (function(superClass) {
      extend(HArmor1x1Angle, superClass);
  
      function HArmor1x1Angle() {
        return HArmor1x1Angle.__super__.constructor.apply(this, arguments);
      }
  
      HArmor1x1Angle.prototype.name = "Heavyweight Armor";
  
      HArmor1x1Angle.prototype.hp = 8;
  
      HArmor1x1Angle.prototype.cost = 1;
  
      HArmor1x1Angle.prototype.image = "HArmor1x1Angle.png";
  
      HArmor1x1Angle.prototype.size = [1, 1];
  
      HArmor1x1Angle.prototype.mass = 5;
  
      return HArmor1x1Angle;
  
    })(HArmor);
  
    parts.HArmor1x1AngleBack = (function(superClass) {
      extend(HArmor1x1AngleBack, superClass);
  
      function HArmor1x1AngleBack() {
        return HArmor1x1AngleBack.__super__.constructor.apply(this, arguments);
      }
  
      HArmor1x1AngleBack.prototype.name = "Heavyweight Armor";
  
      HArmor1x1AngleBack.prototype.hp = 8;
  
      HArmor1x1AngleBack.prototype.cost = 1;
  
      HArmor1x1AngleBack.prototype.image = "HArmor1x1AngleBack.png";
  
      HArmor1x1AngleBack.prototype.size = [1, 1];
  
      HArmor1x1AngleBack.prototype.mass = 5;
  
      return HArmor1x1AngleBack;
  
    })(HArmor);
  
    parts.HArmor2x2Angle = (function(superClass) {
      extend(HArmor2x2Angle, superClass);
  
      function HArmor2x2Angle() {
        return HArmor2x2Angle.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x2Angle.prototype.name = "Heavyweight Armor";
  
      HArmor2x2Angle.prototype.hp = 64;
  
      HArmor2x2Angle.prototype.cost = 8;
  
      HArmor2x2Angle.prototype.image = "HArmor2x2Angle.png";
  
      HArmor2x2Angle.prototype.size = [2, 2];
  
      HArmor2x2Angle.prototype.mass = 40;
  
      return HArmor2x2Angle;
  
    })(HArmor);
  
    parts.HArmor2x2AngleBack = (function(superClass) {
      extend(HArmor2x2AngleBack, superClass);
  
      function HArmor2x2AngleBack() {
        return HArmor2x2AngleBack.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x2AngleBack.prototype.name = "Heavyweight Armor";
  
      HArmor2x2AngleBack.prototype.hp = 64;
  
      HArmor2x2AngleBack.prototype.cost = 8;
  
      HArmor2x2AngleBack.prototype.image = "HArmor2x2AngleBack.png";
  
      HArmor2x2AngleBack.prototype.size = [2, 2];
  
      HArmor2x2AngleBack.prototype.mass = 40;
  
      return HArmor2x2AngleBack;
  
    })(HArmor);
  
    parts.HArmor2x2Front1 = (function(superClass) {
      extend(HArmor2x2Front1, superClass);
  
      function HArmor2x2Front1() {
        return HArmor2x2Front1.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x2Front1.prototype.hp = 56;
  
      HArmor2x2Front1.prototype.mass = 35;
  
      HArmor2x2Front1.prototype.cost = 7;
  
      HArmor2x2Front1.prototype.image = "HArmor2x2Front1.png";
  
      HArmor2x2Front1.prototype.size = [2, 2];
  
      return HArmor2x2Front1;
  
    })(HArmor);
  
    parts.HArmor2x2Front2 = (function(superClass) {
      extend(HArmor2x2Front2, superClass);
  
      function HArmor2x2Front2() {
        return HArmor2x2Front2.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x2Front2.prototype.hp = 48;
  
      HArmor2x2Front2.prototype.mass = 30;
  
      HArmor2x2Front2.prototype.cost = 6;
  
      HArmor2x2Front2.prototype.image = "HArmor2x2Front2.png";
  
      HArmor2x2Front2.prototype.size = [2, 2];
  
      return HArmor2x2Front2;
  
    })(HArmor);
  
    parts.HArmor1x2Font1 = (function(superClass) {
      extend(HArmor1x2Font1, superClass);
  
      function HArmor1x2Font1() {
        return HArmor1x2Font1.__super__.constructor.apply(this, arguments);
      }
  
      HArmor1x2Font1.prototype.hp = 24;
  
      HArmor1x2Font1.prototype.mass = 15;
  
      HArmor1x2Font1.prototype.cost = 3;
  
      HArmor1x2Font1.prototype.image = "HArmor1x2Font1.png";
  
      HArmor1x2Font1.prototype.size = [2, 1];
  
      return HArmor1x2Font1;
  
    })(HArmor);
  
    parts.HArmor1x2Front2 = (function(superClass) {
      extend(HArmor1x2Front2, superClass);
  
      function HArmor1x2Front2() {
        return HArmor1x2Front2.__super__.constructor.apply(this, arguments);
      }
  
      HArmor1x2Front2.prototype.hp = 16;
  
      HArmor1x2Front2.prototype.mass = 10;
  
      HArmor1x2Front2.prototype.cost = 2;
  
      HArmor1x2Front2.prototype.image = "HArmor1x2Front2.png";
  
      HArmor1x2Front2.prototype.size = [2, 1];
  
      return HArmor1x2Front2;
  
    })(HArmor);
  
    parts.HArmor2x2Back1 = (function(superClass) {
      extend(HArmor2x2Back1, superClass);
  
      function HArmor2x2Back1() {
        return HArmor2x2Back1.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x2Back1.prototype.hp = 56;
  
      HArmor2x2Back1.prototype.mass = 35;
  
      HArmor2x2Back1.prototype.cost = 7;
  
      HArmor2x2Back1.prototype.image = "HArmor2x2Back1.png";
  
      HArmor2x2Back1.prototype.size = [2, 2];
  
      return HArmor2x2Back1;
  
    })(HArmor);
  
    parts.HArmor2x2Back2 = (function(superClass) {
      extend(HArmor2x2Back2, superClass);
  
      function HArmor2x2Back2() {
        return HArmor2x2Back2.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x2Back2.prototype.hp = 48;
  
      HArmor2x2Back2.prototype.mass = 30;
  
      HArmor2x2Back2.prototype.cost = 6;
  
      HArmor2x2Back2.prototype.image = "HArmor2x2Back2.png";
  
      HArmor2x2Back2.prototype.size = [2, 2];
  
      return HArmor2x2Back2;
  
    })(HArmor);
  
    parts.HArmor1x2Back1 = (function(superClass) {
      extend(HArmor1x2Back1, superClass);
  
      function HArmor1x2Back1() {
        return HArmor1x2Back1.__super__.constructor.apply(this, arguments);
      }
  
      HArmor1x2Back1.prototype.hp = 24;
  
      HArmor1x2Back1.prototype.mass = 15;
  
      HArmor1x2Back1.prototype.cost = 3;
  
      HArmor1x2Back1.prototype.image = "HArmor1x2Back1.png";
  
      HArmor1x2Back1.prototype.size = [2, 1];
  
      return HArmor1x2Back1;
  
    })(HArmor);
  
    parts.HArmor1x2Back2 = (function(superClass) {
      extend(HArmor1x2Back2, superClass);
  
      function HArmor1x2Back2() {
        return HArmor1x2Back2.__super__.constructor.apply(this, arguments);
      }
  
      HArmor1x2Back2.prototype.hp = 16;
  
      HArmor1x2Back2.prototype.mass = 10;
  
      HArmor1x2Back2.prototype.cost = 2;
  
      HArmor1x2Back2.prototype.image = "HArmor1x2Back2.png";
  
      HArmor1x2Back2.prototype.size = [2, 1];
  
      return HArmor1x2Back2;
  
    })(HArmor);
  
    parts.HArmor2x2Curved = (function(superClass) {
      extend(HArmor2x2Curved, superClass);
  
      function HArmor2x2Curved() {
        return HArmor2x2Curved.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x2Curved.prototype.hp = 64;
  
      HArmor2x2Curved.prototype.mass = 40;
  
      HArmor2x2Curved.prototype.cost = 8;
  
      HArmor2x2Curved.prototype.image = "HArmor2x2Curved.png";
  
      HArmor2x2Curved.prototype.size = [2, 2];
  
      HArmor2x2Curved.prototype.dlc = "Curves and Shadows";
  
      return HArmor2x2Curved;
  
    })(HArmor);
  
    parts.HArmor2x1Curved = (function(superClass) {
      extend(HArmor2x1Curved, superClass);
  
      function HArmor2x1Curved() {
        return HArmor2x1Curved.__super__.constructor.apply(this, arguments);
      }
  
      HArmor2x1Curved.prototype.hp = 16;
  
      HArmor2x1Curved.prototype.mass = 10;
  
      HArmor2x1Curved.prototype.cost = 2;
  
      HArmor2x1Curved.prototype.image = "HArmor2x1Curved.png";
  
      HArmor2x1Curved.prototype.size = [2, 1];
  
      return HArmor2x1Curved;
  
    })(HArmor);
  
    parts.HArmor1x2Curved = (function(superClass) {
      extend(HArmor1x2Curved, superClass);
  
      function HArmor1x2Curved() {
        return HArmor1x2Curved.__super__.constructor.apply(this, arguments);
      }
  
      HArmor1x2Curved.prototype.hp = 16;
  
      HArmor1x2Curved.prototype.mass = 10;
  
      HArmor1x2Curved.prototype.cost = 2;
  
      HArmor1x2Curved.prototype.image = "HArmor1x2Curved.png";
  
      HArmor1x2Curved.prototype.size = [1, 2];
  
      return HArmor1x2Curved;
  
    })(HArmor);
  
    ShadowArmor = (function(superClass) {
      extend(ShadowArmor, superClass);
  
      function ShadowArmor() {
        return ShadowArmor.__super__.constructor.apply(this, arguments);
      }
  
      ShadowArmor.prototype.dlc = "Curves and Shadows";
  
      ShadowArmor.prototype.northWest = true;
  
      ShadowArmor.prototype.canShowDamage = false;
  
      return ShadowArmor;
  
    })(HArmor);
  
    parts.ShadowNArmor2x2Angle = (function(superClass) {
      extend(ShadowNArmor2x2Angle, superClass);
  
      function ShadowNArmor2x2Angle() {
        return ShadowNArmor2x2Angle.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor2x2Angle.prototype.hp = 64;
  
      ShadowNArmor2x2Angle.prototype.mass = 40;
  
      ShadowNArmor2x2Angle.prototype.cost = 8;
  
      ShadowNArmor2x2Angle.prototype.image = "ShadowNArmor2x2Angle.png";
  
      ShadowNArmor2x2Angle.prototype.size = [2, 2];
  
      return ShadowNArmor2x2Angle;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor2x2 = (function(superClass) {
      extend(ShadowNArmor2x2, superClass);
  
      function ShadowNArmor2x2() {
        return ShadowNArmor2x2.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor2x2.prototype.hp = 64;
  
      ShadowNArmor2x2.prototype.mass = 40;
  
      ShadowNArmor2x2.prototype.cost = 8;
  
      ShadowNArmor2x2.prototype.image = "ShadowNArmor2x2.png";
  
      ShadowNArmor2x2.prototype.size = [2, 2];
  
      return ShadowNArmor2x2;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor2x1 = (function(superClass) {
      extend(ShadowNArmor2x1, superClass);
  
      function ShadowNArmor2x1() {
        return ShadowNArmor2x1.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor2x1.prototype.hp = 32;
  
      ShadowNArmor2x1.prototype.mass = 20;
  
      ShadowNArmor2x1.prototype.cost = 4;
  
      ShadowNArmor2x1.prototype.image = "ShadowNArmor2x1.png";
  
      ShadowNArmor2x1.prototype.size = [2, 1];
  
      return ShadowNArmor2x1;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor1x1 = (function(superClass) {
      extend(ShadowNArmor1x1, superClass);
  
      function ShadowNArmor1x1() {
        return ShadowNArmor1x1.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor1x1.prototype.hp = 16;
  
      ShadowNArmor1x1.prototype.mass = 10;
  
      ShadowNArmor1x1.prototype.cost = 2;
  
      ShadowNArmor1x1.prototype.image = "ShadowNArmor1x1.png";
  
      ShadowNArmor1x1.prototype.size = [1, 1];
  
      return ShadowNArmor1x1;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor1x2 = (function(superClass) {
      extend(ShadowNArmor1x2, superClass);
  
      function ShadowNArmor1x2() {
        return ShadowNArmor1x2.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor1x2.prototype.hp = 32;
  
      ShadowNArmor1x2.prototype.mass = 20;
  
      ShadowNArmor1x2.prototype.cost = 4;
  
      ShadowNArmor1x2.prototype.image = "ShadowNArmor1x2.png";
  
      ShadowNArmor1x2.prototype.size = [1, 2];
  
      return ShadowNArmor1x2;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor2x2Curve = (function(superClass) {
      extend(ShadowNArmor2x2Curve, superClass);
  
      function ShadowNArmor2x2Curve() {
        return ShadowNArmor2x2Curve.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor2x2Curve.prototype.hp = 64;
  
      ShadowNArmor2x2Curve.prototype.mass = 40;
  
      ShadowNArmor2x2Curve.prototype.cost = 8;
  
      ShadowNArmor2x2Curve.prototype.image = "ShadowNArmor2x2Curve.png";
  
      ShadowNArmor2x2Curve.prototype.size = [2, 2];
  
      return ShadowNArmor2x2Curve;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor1x1Angle = (function(superClass) {
      extend(ShadowNArmor1x1Angle, superClass);
  
      function ShadowNArmor1x1Angle() {
        return ShadowNArmor1x1Angle.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor1x1Angle.prototype.hp = 8;
  
      ShadowNArmor1x1Angle.prototype.mass = 5;
  
      ShadowNArmor1x1Angle.prototype.cost = 1;
  
      ShadowNArmor1x1Angle.prototype.image = "ShadowNArmor1x1Angle.png";
  
      ShadowNArmor1x1Angle.prototype.size = [1, 1];
  
      return ShadowNArmor1x1Angle;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor1x1Corner = (function(superClass) {
      extend(ShadowNArmor1x1Corner, superClass);
  
      function ShadowNArmor1x1Corner() {
        return ShadowNArmor1x1Corner.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor1x1Corner.prototype.hp = 16;
  
      ShadowNArmor1x1Corner.prototype.mass = 10;
  
      ShadowNArmor1x1Corner.prototype.cost = 2;
  
      ShadowNArmor1x1Corner.prototype.image = "ShadowNArmor1x1Corner.png";
  
      ShadowNArmor1x1Corner.prototype.size = [1, 1];
  
      return ShadowNArmor1x1Corner;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor1x1CornerInner = (function(superClass) {
      extend(ShadowNArmor1x1CornerInner, superClass);
  
      function ShadowNArmor1x1CornerInner() {
        return ShadowNArmor1x1CornerInner.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor1x1CornerInner.prototype.hp = 16;
  
      ShadowNArmor1x1CornerInner.prototype.mass = 10;
  
      ShadowNArmor1x1CornerInner.prototype.cost = 2;
  
      ShadowNArmor1x1CornerInner.prototype.image = "ShadowNArmor1x1CornerInner.png";
  
      ShadowNArmor1x1CornerInner.prototype.size = [1, 1];
  
      return ShadowNArmor1x1CornerInner;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor2x1Curved = (function(superClass) {
      extend(ShadowNArmor2x1Curved, superClass);
  
      function ShadowNArmor2x1Curved() {
        return ShadowNArmor2x1Curved.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor2x1Curved.prototype.hp = 16;
  
      ShadowNArmor2x1Curved.prototype.mass = 10;
  
      ShadowNArmor2x1Curved.prototype.cost = 2;
  
      ShadowNArmor2x1Curved.prototype.image = "ShadowNArmor2x1Curved.png";
  
      ShadowNArmor2x1Curved.prototype.size = [2, 1];
  
      return ShadowNArmor2x1Curved;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor1x2Curved = (function(superClass) {
      extend(ShadowNArmor1x2Curved, superClass);
  
      function ShadowNArmor1x2Curved() {
        return ShadowNArmor1x2Curved.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor1x2Curved.prototype.hp = 16;
  
      ShadowNArmor1x2Curved.prototype.mass = 10;
  
      ShadowNArmor1x2Curved.prototype.cost = 2;
  
      ShadowNArmor1x2Curved.prototype.image = "ShadowNArmor1x2Curved.png";
  
      ShadowNArmor1x2Curved.prototype.size = [1, 2];
  
      return ShadowNArmor1x2Curved;
  
    })(ShadowArmor);
  
    parts.ShadowNArmor1x2Font1 = (function(superClass) {
      extend(ShadowNArmor1x2Font1, superClass);
  
      function ShadowNArmor1x2Font1() {
        return ShadowNArmor1x2Font1.__super__.constructor.apply(this, arguments);
      }
  
      ShadowNArmor1x2Font1.prototype.hp = 24;
  
      ShadowNArmor1x2Font1.prototype.mass = 15;
  
      ShadowNArmor1x2Font1.prototype.cost = 3;
  
      ShadowNArmor1x2Font1.prototype.image = "ShadowNArmor1x2Font1.png";
  
      ShadowNArmor1x2Font1.prototype.size = [2, 1];
  
      return ShadowNArmor1x2Font1;
  
    })(ShadowArmor);
  
    UArmor = (function(superClass) {
      extend(UArmor, superClass);
  
      function UArmor() {
        return UArmor.__super__.constructor.apply(this, arguments);
      }
  
      UArmor.prototype.name = "Ultralight Armor";
  
      UArmor.prototype.desc = "Minimizes weight and size, great for fighters, but is more expensive than other armors.";
  
      UArmor.prototype.tab = "armor3";
  
      UArmor.prototype.paintable = true;
  
      return UArmor;
  
    })(Part);
  
    parts.UArmor1x1 = (function(superClass) {
      extend(UArmor1x1, superClass);
  
      function UArmor1x1() {
        return UArmor1x1.__super__.constructor.apply(this, arguments);
      }
  
      UArmor1x1.prototype.hp = 16;
  
      UArmor1x1.prototype.cost = 10;
  
      UArmor1x1.prototype.image = "UArmor1x1.png";
  
      UArmor1x1.prototype.size = [1, 1];
  
      UArmor1x1.prototype.mass = 1;
  
      return UArmor1x1;
  
    })(UArmor);
  
    parts.UArmor1x2 = (function(superClass) {
      extend(UArmor1x2, superClass);
  
      function UArmor1x2() {
        return UArmor1x2.__super__.constructor.apply(this, arguments);
      }
  
      UArmor1x2.prototype.hp = 32;
  
      UArmor1x2.prototype.cost = 20;
  
      UArmor1x2.prototype.image = "UArmor1x2.png";
  
      UArmor1x2.prototype.size = [1, 2];
  
      UArmor1x2.prototype.mass = 2;
  
      return UArmor1x2;
  
    })(UArmor);
  
    parts.UArmor2x1 = (function(superClass) {
      extend(UArmor2x1, superClass);
  
      function UArmor2x1() {
        return UArmor2x1.__super__.constructor.apply(this, arguments);
      }
  
      UArmor2x1.prototype.name = "Ultralight Armor";
  
      UArmor2x1.prototype.hp = 32;
  
      UArmor2x1.prototype.cost = 20;
  
      UArmor2x1.prototype.image = "UArmor2x1.png";
  
      UArmor2x1.prototype.size = [2, 1];
  
      UArmor2x1.prototype.mass = 2;
  
      return UArmor2x1;
  
    })(UArmor);
  
    parts.UArmor1x1Angle = (function(superClass) {
      extend(UArmor1x1Angle, superClass);
  
      function UArmor1x1Angle() {
        return UArmor1x1Angle.__super__.constructor.apply(this, arguments);
      }
  
      UArmor1x1Angle.prototype.name = "Ultralight Armor";
  
      UArmor1x1Angle.prototype.hp = 8;
  
      UArmor1x1Angle.prototype.cost = 5;
  
      UArmor1x1Angle.prototype.image = "UArmor1x1Angle.png";
  
      UArmor1x1Angle.prototype.size = [1, 1];
  
      UArmor1x1Angle.prototype.mass = .5;
  
      return UArmor1x1Angle;
  
    })(UArmor);
  
    parts.UArmor1x1AngleBack = (function(superClass) {
      extend(UArmor1x1AngleBack, superClass);
  
      function UArmor1x1AngleBack() {
        return UArmor1x1AngleBack.__super__.constructor.apply(this, arguments);
      }
  
      UArmor1x1AngleBack.prototype.hp = 8;
  
      UArmor1x1AngleBack.prototype.cost = 5;
  
      UArmor1x1AngleBack.prototype.image = "UArmor1x1AngleBack.png";
  
      UArmor1x1AngleBack.prototype.size = [1, 1];
  
      UArmor1x1AngleBack.prototype.mass = .5;
  
      return UArmor1x1AngleBack;
  
    })(UArmor);
  
    parts.UArmor2x2 = (function(superClass) {
      extend(UArmor2x2, superClass);
  
      function UArmor2x2() {
        return UArmor2x2.__super__.constructor.apply(this, arguments);
      }
  
      UArmor2x2.prototype.hp = 64;
  
      UArmor2x2.prototype.cost = 40;
  
      UArmor2x2.prototype.image = "UArmor2x2.png";
  
      UArmor2x2.prototype.size = [2, 2];
  
      UArmor2x2.prototype.mass = 4;
  
      return UArmor2x2;
  
    })(UArmor);
  
    parts.UArmor1x2Notch1 = (function(superClass) {
      extend(UArmor1x2Notch1, superClass);
  
      function UArmor1x2Notch1() {
        return UArmor1x2Notch1.__super__.constructor.apply(this, arguments);
      }
  
      UArmor1x2Notch1.prototype.hp = 32;
  
      UArmor1x2Notch1.prototype.cost = 20;
  
      UArmor1x2Notch1.prototype.image = "UArmor1x2Notch1.png";
  
      UArmor1x2Notch1.prototype.size = [1, 2];
  
      UArmor1x2Notch1.prototype.mass = 2;
  
      UArmor1x2Notch1.prototype.dlc = "Curves and Shadows";
  
      return UArmor1x2Notch1;
  
    })(UArmor);
  
    parts.UArmor1x2Notch2 = (function(superClass) {
      extend(UArmor1x2Notch2, superClass);
  
      function UArmor1x2Notch2() {
        return UArmor1x2Notch2.__super__.constructor.apply(this, arguments);
      }
  
      UArmor1x2Notch2.prototype.hp = 32;
  
      UArmor1x2Notch2.prototype.cost = 20;
  
      UArmor1x2Notch2.prototype.image = "UArmor1x2Notch2.png";
  
      UArmor1x2Notch2.prototype.size = [1, 2];
  
      UArmor1x2Notch2.prototype.mass = 2;
  
      UArmor1x2Notch2.prototype.dlc = "Curves and Shadows";
  
      return UArmor1x2Notch2;
  
    })(UArmor);
  
    parts.UArmor1x1Notch1 = (function(superClass) {
      extend(UArmor1x1Notch1, superClass);
  
      function UArmor1x1Notch1() {
        return UArmor1x1Notch1.__super__.constructor.apply(this, arguments);
      }
  
      UArmor1x1Notch1.prototype.hp = 16;
  
      UArmor1x1Notch1.prototype.cost = 10;
  
      UArmor1x1Notch1.prototype.image = "UArmor1x1Notch1.png";
  
      UArmor1x1Notch1.prototype.size = [1, 1];
  
      UArmor1x1Notch1.prototype.mass = 1;
  
      UArmor1x1Notch1.prototype.dlc = "Curves and Shadows";
  
      return UArmor1x1Notch1;
  
    })(UArmor);
  
    parts.UArmor1x1Notch2 = (function(superClass) {
      extend(UArmor1x1Notch2, superClass);
  
      function UArmor1x1Notch2() {
        return UArmor1x1Notch2.__super__.constructor.apply(this, arguments);
      }
  
      UArmor1x1Notch2.prototype.hp = 16;
  
      UArmor1x1Notch2.prototype.cost = 10;
  
      UArmor1x1Notch2.prototype.image = "UArmor1x1Notch2.png";
  
      UArmor1x1Notch2.prototype.size = [1, 1];
  
      UArmor1x1Notch2.prototype.mass = 1;
  
      UArmor1x1Notch2.prototype.dlc = "Curves and Shadows";
  
      return UArmor1x1Notch2;
  
    })(UArmor);
  
    parts.UArmor1x1Spike = (function(superClass) {
      extend(UArmor1x1Spike, superClass);
  
      function UArmor1x1Spike() {
        return UArmor1x1Spike.__super__.constructor.apply(this, arguments);
      }
  
      UArmor1x1Spike.prototype.hp = 8;
  
      UArmor1x1Spike.prototype.cost = 5;
  
      UArmor1x1Spike.prototype.image = "UArmor1x1Spike.png";
  
      UArmor1x1Spike.prototype.size = [1, 1];
  
      UArmor1x1Spike.prototype.mass = .5;
  
      UArmor1x1Spike.prototype.dlc = "Curves and Shadows";
  
      return UArmor1x1Spike;
  
    })(UArmor);
  
    VArmor = (function(superClass) {
      extend(VArmor, superClass);
  
      function VArmor() {
        return VArmor.__super__.constructor.apply(this, arguments);
      }
  
      VArmor.prototype.name = "Volumetric Armor";
  
      VArmor.prototype.desc = "Balanced in cost and weight, but takes up more space than other armours.";
  
      VArmor.prototype.tab = "armor2";
  
      VArmor.prototype.canShowDamage = true;
  
      VArmor.prototype.paintable = true;
  
      return VArmor;
  
    })(Part);
  
    parts.VArmor1x2SideBar = (function(superClass) {
      extend(VArmor1x2SideBar, superClass);
  
      function VArmor1x2SideBar() {
        return VArmor1x2SideBar.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x2SideBar.prototype.hp = 10;
  
      VArmor1x2SideBar.prototype.cost = 2;
  
      VArmor1x2SideBar.prototype.image = "VArmor1x2SideBar.png";
  
      VArmor1x2SideBar.prototype.size = [1, 2];
  
      VArmor1x2SideBar.prototype.mass = 3;
  
      return VArmor1x2SideBar;
  
    })(VArmor);
  
    parts.VArmor1x2SideBarFilled = (function(superClass) {
      extend(VArmor1x2SideBarFilled, superClass);
  
      function VArmor1x2SideBarFilled() {
        return VArmor1x2SideBarFilled.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x2SideBarFilled.prototype.hp = 10;
  
      VArmor1x2SideBarFilled.prototype.cost = 2;
  
      VArmor1x2SideBarFilled.prototype.image = "VArmor1x2SideBarFilled.png";
  
      VArmor1x2SideBarFilled.prototype.size = [1, 2];
  
      VArmor1x2SideBarFilled.prototype.mass = 3;
  
      return VArmor1x2SideBarFilled;
  
    })(VArmor);
  
    parts.VArmor1x2IBeam = (function(superClass) {
      extend(VArmor1x2IBeam, superClass);
  
      function VArmor1x2IBeam() {
        return VArmor1x2IBeam.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x2IBeam.prototype.hp = 10;
  
      VArmor1x2IBeam.prototype.cost = 2;
  
      VArmor1x2IBeam.prototype.image = "VArmor1x2IBeam.png";
  
      VArmor1x2IBeam.prototype.size = [1, 2];
  
      VArmor1x2IBeam.prototype.mass = 3;
  
      return VArmor1x2IBeam;
  
    })(VArmor);
  
    parts.VArmor1x2Corner4 = (function(superClass) {
      extend(VArmor1x2Corner4, superClass);
  
      function VArmor1x2Corner4() {
        return VArmor1x2Corner4.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x2Corner4.prototype.hp = 10;
  
      VArmor1x2Corner4.prototype.cost = 2;
  
      VArmor1x2Corner4.prototype.image = "VArmor1x2Corner4.png";
  
      VArmor1x2Corner4.prototype.size = [1, 2];
  
      VArmor1x2Corner4.prototype.mass = 3;
  
      return VArmor1x2Corner4;
  
    })(VArmor);
  
    parts.VArmor1x2End = (function(superClass) {
      extend(VArmor1x2End, superClass);
  
      function VArmor1x2End() {
        return VArmor1x2End.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x2End.prototype.hp = 10;
  
      VArmor1x2End.prototype.cost = 2;
  
      VArmor1x2End.prototype.image = "VArmor1x2End.png";
  
      VArmor1x2End.prototype.size = [1, 2];
  
      VArmor1x2End.prototype.mass = 3;
  
      return VArmor1x2End;
  
    })(VArmor);
  
    parts.VArmor1x1Corner1 = (function(superClass) {
      extend(VArmor1x1Corner1, superClass);
  
      function VArmor1x1Corner1() {
        return VArmor1x1Corner1.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x1Corner1.prototype.hp = 5;
  
      VArmor1x1Corner1.prototype.cost = 1;
  
      VArmor1x1Corner1.prototype.image = "VArmor1x1Corner1.png";
  
      VArmor1x1Corner1.prototype.size = [1, 1];
  
      VArmor1x1Corner1.prototype.mass = 1.5;
  
      return VArmor1x1Corner1;
  
    })(VArmor);
  
    parts.VArmor1x1Corner2 = (function(superClass) {
      extend(VArmor1x1Corner2, superClass);
  
      function VArmor1x1Corner2() {
        return VArmor1x1Corner2.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x1Corner2.prototype.hp = 5;
  
      VArmor1x1Corner2.prototype.cost = 1;
  
      VArmor1x1Corner2.prototype.image = "VArmor1x1Corner2.png";
  
      VArmor1x1Corner2.prototype.size = [1, 1];
  
      VArmor1x1Corner2.prototype.mass = 1.5;
  
      return VArmor1x1Corner2;
  
    })(VArmor);
  
    parts.VArmor1x1Corner3 = (function(superClass) {
      extend(VArmor1x1Corner3, superClass);
  
      function VArmor1x1Corner3() {
        return VArmor1x1Corner3.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x1Corner3.prototype.hp = 10;
  
      VArmor1x1Corner3.prototype.cost = 2;
  
      VArmor1x1Corner3.prototype.image = "VArmor1x1Corner3.png";
  
      VArmor1x1Corner3.prototype.size = [1, 2];
  
      VArmor1x1Corner3.prototype.mass = 3;
  
      return VArmor1x1Corner3;
  
    })(VArmor);
  
    parts.VArmor1x1Hook = (function(superClass) {
      extend(VArmor1x1Hook, superClass);
  
      function VArmor1x1Hook() {
        return VArmor1x1Hook.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x1Hook.prototype.hp = 10;
  
      VArmor1x1Hook.prototype.cost = 2;
  
      VArmor1x1Hook.prototype.image = "VArmor1x1Hook.png";
  
      VArmor1x1Hook.prototype.size = [1, 2];
  
      VArmor1x1Hook.prototype.mass = 3;
  
      return VArmor1x1Hook;
  
    })(VArmor);
  
    parts.VArmor1x1CornerBack = (function(superClass) {
      extend(VArmor1x1CornerBack, superClass);
  
      function VArmor1x1CornerBack() {
        return VArmor1x1CornerBack.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x1CornerBack.prototype.hp = 10;
  
      VArmor1x1CornerBack.prototype.cost = 2;
  
      VArmor1x1CornerBack.prototype.image = "VArmor1x1CornerBack.png";
  
      VArmor1x1CornerBack.prototype.size = [1, 2];
  
      VArmor1x1CornerBack.prototype.mass = 3;
  
      return VArmor1x1CornerBack;
  
    })(VArmor);
  
    parts.VArmor2x2 = (function(superClass) {
      extend(VArmor2x2, superClass);
  
      function VArmor2x2() {
        return VArmor2x2.__super__.constructor.apply(this, arguments);
      }
  
      VArmor2x2.prototype.hp = 20;
  
      VArmor2x2.prototype.cost = 4;
  
      VArmor2x2.prototype.image = "VArmor2x2.png";
  
      VArmor2x2.prototype.size = [2, 2];
  
      VArmor2x2.prototype.mass = 6;
  
      return VArmor2x2;
  
    })(VArmor);
  
    parts.VArmor1x2 = (function(superClass) {
      extend(VArmor1x2, superClass);
  
      function VArmor1x2() {
        return VArmor1x2.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x2.prototype.hp = 10;
  
      VArmor1x2.prototype.cost = 2;
  
      VArmor1x2.prototype.image = "VArmor1x2.png";
  
      VArmor1x2.prototype.size = [1, 2];
  
      VArmor1x2.prototype.mass = 3;
  
      return VArmor1x2;
  
    })(VArmor);
  
    parts.VArmor1x1 = (function(superClass) {
      extend(VArmor1x1, superClass);
  
      function VArmor1x1() {
        return VArmor1x1.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x1.prototype.hp = 5;
  
      VArmor1x1.prototype.cost = 1;
  
      VArmor1x1.prototype.image = "VArmor1x1.png";
  
      VArmor1x1.prototype.size = [1, 1];
  
      VArmor1x1.prototype.mass = 1.5;
  
      return VArmor1x1;
  
    })(VArmor);
  
    parts.VArmor1x1Angle = (function(superClass) {
      extend(VArmor1x1Angle, superClass);
  
      function VArmor1x1Angle() {
        return VArmor1x1Angle.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x1Angle.prototype.hp = 5;
  
      VArmor1x1Angle.prototype.cost = 1;
  
      VArmor1x1Angle.prototype.image = "VArmor1x1Angle.png";
  
      VArmor1x1Angle.prototype.size = [1, 1];
  
      VArmor1x1Angle.prototype.mass = 1.5;
  
      return VArmor1x1Angle;
  
    })(VArmor);
  
    parts.VArmor2x2Angle = (function(superClass) {
      extend(VArmor2x2Angle, superClass);
  
      function VArmor2x2Angle() {
        return VArmor2x2Angle.__super__.constructor.apply(this, arguments);
      }
  
      VArmor2x2Angle.prototype.hp = 20;
  
      VArmor2x2Angle.prototype.cost = 4;
  
      VArmor2x2Angle.prototype.image = "VArmor2x2Angle.png";
  
      VArmor2x2Angle.prototype.size = [2, 2];
  
      VArmor2x2Angle.prototype.mass = 6;
  
      return VArmor2x2Angle;
  
    })(VArmor);
  
    parts.VArmor2x2Curve = (function(superClass) {
      extend(VArmor2x2Curve, superClass);
  
      function VArmor2x2Curve() {
        return VArmor2x2Curve.__super__.constructor.apply(this, arguments);
      }
  
      VArmor2x2Curve.prototype.hp = 20;
  
      VArmor2x2Curve.prototype.cost = 4;
  
      VArmor2x2Curve.prototype.image = "VArmor2x2Curve.png";
  
      VArmor2x2Curve.prototype.size = [2, 2];
  
      VArmor2x2Curve.prototype.mass = 6;
  
      VArmor2x2Curve.prototype.dlc = "Curves and Shadows";
  
      return VArmor2x2Curve;
  
    })(VArmor);
  
    parts.VArmor1x1Curve = (function(superClass) {
      extend(VArmor1x1Curve, superClass);
  
      function VArmor1x1Curve() {
        return VArmor1x1Curve.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x1Curve.prototype.hp = 5;
  
      VArmor1x1Curve.prototype.cost = 1;
  
      VArmor1x1Curve.prototype.image = "VArmor1x1Curve.png";
  
      VArmor1x1Curve.prototype.size = [1, 1];
  
      VArmor1x1Curve.prototype.mass = 1.5;
  
      VArmor1x1Curve.prototype.dlc = "Curves and Shadows";
  
      return VArmor1x1Curve;
  
    })(VArmor);
  
    parts.VArmor2x1Curved = (function(superClass) {
      extend(VArmor2x1Curved, superClass);
  
      function VArmor2x1Curved() {
        return VArmor2x1Curved.__super__.constructor.apply(this, arguments);
      }
  
      VArmor2x1Curved.prototype.hp = 10;
  
      VArmor2x1Curved.prototype.cost = 2;
  
      VArmor2x1Curved.prototype.image = "VArmor2x1Curved.png";
  
      VArmor2x1Curved.prototype.size = [2, 1];
  
      VArmor2x1Curved.prototype.mass = 3;
  
      VArmor2x1Curved.prototype.dlc = "Curves and Shadows";
  
      return VArmor2x1Curved;
  
    })(VArmor);
  
    parts.VArmor1x2Curved = (function(superClass) {
      extend(VArmor1x2Curved, superClass);
  
      function VArmor1x2Curved() {
        return VArmor1x2Curved.__super__.constructor.apply(this, arguments);
      }
  
      VArmor1x2Curved.prototype.hp = 10;
  
      VArmor1x2Curved.prototype.cost = 2;
  
      VArmor1x2Curved.prototype.image = "VArmor1x2Curved.png";
  
      VArmor1x2Curved.prototype.size = [1, 2];
  
      VArmor1x2Curved.prototype.mass = 3;
  
      VArmor1x2Curved.prototype.dlc = "Curves and Shadows";
  
      return VArmor1x2Curved;
  
    })(VArmor);
  
    parts.VArmor2x2Curved = (function(superClass) {
      extend(VArmor2x2Curved, superClass);
  
      function VArmor2x2Curved() {
        return VArmor2x2Curved.__super__.constructor.apply(this, arguments);
      }
  
      VArmor2x2Curved.prototype.hp = 20;
  
      VArmor2x2Curved.prototype.cost = 4;
  
      VArmor2x2Curved.prototype.image = "VArmor2x2Curved.png";
  
      VArmor2x2Curved.prototype.size = [2, 2];
  
      VArmor2x2Curved.prototype.mass = 6;
  
      VArmor2x2Curved.prototype.dlc = "Curves and Shadows";
  
      return VArmor2x2Curved;
  
    })(VArmor);
  
    VShadowArmor = (function(superClass) {
      extend(VShadowArmor, superClass);
  
      function VShadowArmor() {
        return VShadowArmor.__super__.constructor.apply(this, arguments);
      }
  
      VShadowArmor.prototype.name = "Volumetric Shadow Armor";
  
      VShadowArmor.prototype.dlc = "Curves and Shadows";
  
      VShadowArmor.prototype.northWest = true;
  
      VShadowArmor.prototype.canShowDamage = false;
  
      return VShadowArmor;
  
    })(VArmor);
  
    parts.VShadowNArmor2x2Angle = (function(superClass) {
      extend(VShadowNArmor2x2Angle, superClass);
  
      function VShadowNArmor2x2Angle() {
        return VShadowNArmor2x2Angle.__super__.constructor.apply(this, arguments);
      }
  
      VShadowNArmor2x2Angle.prototype.hp = 20;
  
      VShadowNArmor2x2Angle.prototype.mass = 6;
  
      VShadowNArmor2x2Angle.prototype.cost = 4;
  
      VShadowNArmor2x2Angle.prototype.image = "VShadowNArmor2x2Angle.png";
  
      VShadowNArmor2x2Angle.prototype.size = [2, 2];
  
      return VShadowNArmor2x2Angle;
  
    })(VShadowArmor);
  
    parts.VShadowNArmor2x2 = (function(superClass) {
      extend(VShadowNArmor2x2, superClass);
  
      function VShadowNArmor2x2() {
        return VShadowNArmor2x2.__super__.constructor.apply(this, arguments);
      }
  
      VShadowNArmor2x2.prototype.hp = 20;
  
      VShadowNArmor2x2.prototype.mass = 6;
  
      VShadowNArmor2x2.prototype.cost = 4;
  
      VShadowNArmor2x2.prototype.image = "VShadowNArmor2x2.png";
  
      VShadowNArmor2x2.prototype.size = [2, 2];
  
      return VShadowNArmor2x2;
  
    })(VShadowArmor);
  
    parts.VShadowNArmor2x1 = (function(superClass) {
      extend(VShadowNArmor2x1, superClass);
  
      function VShadowNArmor2x1() {
        return VShadowNArmor2x1.__super__.constructor.apply(this, arguments);
      }
  
      VShadowNArmor2x1.prototype.hp = 10;
  
      VShadowNArmor2x1.prototype.mass = 3;
  
      VShadowNArmor2x1.prototype.cost = 2;
  
      VShadowNArmor2x1.prototype.image = "VShadowNArmor2x1.png";
  
      VShadowNArmor2x1.prototype.size = [2, 1];
  
      return VShadowNArmor2x1;
  
    })(VShadowArmor);
  
    parts.VShadowNArmor1x1 = (function(superClass) {
      extend(VShadowNArmor1x1, superClass);
  
      function VShadowNArmor1x1() {
        return VShadowNArmor1x1.__super__.constructor.apply(this, arguments);
      }
  
      VShadowNArmor1x1.prototype.hp = 5;
  
      VShadowNArmor1x1.prototype.mass = 1.5;
  
      VShadowNArmor1x1.prototype.cost = 1;
  
      VShadowNArmor1x1.prototype.image = "VShadowNArmor1x1.png";
  
      VShadowNArmor1x1.prototype.size = [1, 1];
  
      return VShadowNArmor1x1;
  
    })(VShadowArmor);
  
    parts.VShadowNArmor1x2 = (function(superClass) {
      extend(VShadowNArmor1x2, superClass);
  
      function VShadowNArmor1x2() {
        return VShadowNArmor1x2.__super__.constructor.apply(this, arguments);
      }
  
      VShadowNArmor1x2.prototype.hp = 10;
  
      VShadowNArmor1x2.prototype.mass = 3;
  
      VShadowNArmor1x2.prototype.cost = 2;
  
      VShadowNArmor1x2.prototype.image = "VShadowNArmor1x2.png";
  
      VShadowNArmor1x2.prototype.size = [1, 2];
  
      return VShadowNArmor1x2;
  
    })(VShadowArmor);
  
    parts.VShadowNArmor2x2Curve = (function(superClass) {
      extend(VShadowNArmor2x2Curve, superClass);
  
      function VShadowNArmor2x2Curve() {
        return VShadowNArmor2x2Curve.__super__.constructor.apply(this, arguments);
      }
  
      VShadowNArmor2x2Curve.prototype.hp = 20;
  
      VShadowNArmor2x2Curve.prototype.mass = 6;
  
      VShadowNArmor2x2Curve.prototype.cost = 4;
  
      VShadowNArmor2x2Curve.prototype.image = "VShadowNArmor2x2Curve.png";
  
      VShadowNArmor2x2Curve.prototype.size = [2, 2];
  
      return VShadowNArmor2x2Curve;
  
    })(VShadowArmor);
  
    parts.VShadowNArmor1x1Angle = (function(superClass) {
      extend(VShadowNArmor1x1Angle, superClass);
  
      function VShadowNArmor1x1Angle() {
        return VShadowNArmor1x1Angle.__super__.constructor.apply(this, arguments);
      }
  
      VShadowNArmor1x1Angle.prototype.hp = 5;
  
      VShadowNArmor1x1Angle.prototype.mass = 1.5;
  
      VShadowNArmor1x1Angle.prototype.cost = 1;
  
      VShadowNArmor1x1Angle.prototype.image = "VShadowNArmor1x1Angle.png";
  
      VShadowNArmor1x1Angle.prototype.size = [1, 1];
  
      return VShadowNArmor1x1Angle;
  
    })(VShadowArmor);
  
    parts.VShadowNArmor1x1Corner = (function(superClass) {
      extend(VShadowNArmor1x1Corner, superClass);
  
      function VShadowNArmor1x1Corner() {
        return VShadowNArmor1x1Corner.__super__.constructor.apply(this, arguments);
      }
  
      VShadowNArmor1x1Corner.prototype.hp = 5;
  
      VShadowNArmor1x1Corner.prototype.mass = 1.5;
  
      VShadowNArmor1x1Corner.prototype.cost = 1;
  
      VShadowNArmor1x1Corner.prototype.image = "VShadowNArmor1x1Corner.png";
  
      VShadowNArmor1x1Corner.prototype.size = [1, 1];
  
      return VShadowNArmor1x1Corner;
  
    })(VShadowArmor);
  
    parts.VShadowNArmor1x1CornerInner = (function(superClass) {
      extend(VShadowNArmor1x1CornerInner, superClass);
  
      function VShadowNArmor1x1CornerInner() {
        return VShadowNArmor1x1CornerInner.__super__.constructor.apply(this, arguments);
      }
  
      VShadowNArmor1x1CornerInner.prototype.hp = 5;
  
      VShadowNArmor1x1CornerInner.prototype.mass = 1.5;
  
      VShadowNArmor1x1CornerInner.prototype.cost = 1;
  
      VShadowNArmor1x1CornerInner.prototype.image = "VShadowNArmor1x1CornerInner.png";
  
      VShadowNArmor1x1CornerInner.prototype.size = [1, 1];
  
      return VShadowNArmor1x1CornerInner;
  
    })(VShadowArmor);
  
    parts.Reactor2x2 = (function(superClass) {
      extend(Reactor2x2, superClass);
  
      function Reactor2x2() {
        return Reactor2x2.__super__.constructor.apply(this, arguments);
      }
  
      Reactor2x2.prototype.name = "2x2 Reactor";
  
      Reactor2x2.prototype.desc = "Use this to power your ship. Reactors are heavy and expensive.";
  
      Reactor2x2.prototype.hp = 60;
  
      Reactor2x2.prototype.cost = 100;
  
      Reactor2x2.prototype.mass = 100;
  
      Reactor2x2.prototype.genEnergy = 62.5;
  
      Reactor2x2.prototype.storeEnergy = 8000;
  
      Reactor2x2.prototype.image = "Reactor2x2.png";
  
      Reactor2x2.prototype.attach = true;
  
      Reactor2x2.prototype.size = [2, 2];
  
      Reactor2x2.prototype.tab = "energy";
  
      return Reactor2x2;
  
    })(Part);
  
    parts.Reactor1x2 = (function(superClass) {
      extend(Reactor1x2, superClass);
  
      function Reactor1x2() {
        return Reactor1x2.__super__.constructor.apply(this, arguments);
      }
  
      Reactor1x2.prototype.name = "1x2 Reactor";
  
      Reactor1x2.prototype.hp = 30;
  
      Reactor1x2.prototype.cost = 50;
  
      Reactor1x2.prototype.mass = 50;
  
      Reactor1x2.prototype.genEnergy = 15.5;
  
      Reactor1x2.prototype.storeEnergy = 20000;
  
      Reactor1x2.prototype.image = "Reactor1x2.png";
  
      Reactor1x2.prototype.size = [1, 2];
  
      return Reactor1x2;
  
    })(parts.Reactor2x2);
  
    parts.Reactor2x1 = (function(superClass) {
      extend(Reactor2x1, superClass);
  
      function Reactor2x1() {
        return Reactor2x1.__super__.constructor.apply(this, arguments);
      }
  
      Reactor2x1.prototype.name = "2x1 Reactor";
  
      Reactor2x1.prototype.hp = 30;
  
      Reactor2x1.prototype.cost = 50;
  
      Reactor2x1.prototype.mass = 50;
  
      Reactor2x1.prototype.genEnergy = 15.5;
  
      Reactor2x1.prototype.storeEnergy = 20000;
  
      Reactor2x1.prototype.image = "Reactor2x1.png";
  
      Reactor2x1.prototype.size = [2, 1];
  
      return Reactor2x1;
  
    })(parts.Reactor2x2);
  
    parts.Reactor1x1 = (function(superClass) {
      extend(Reactor1x1, superClass);
  
      function Reactor1x1() {
        return Reactor1x1.__super__.constructor.apply(this, arguments);
      }
  
      Reactor1x1.prototype.name = "1x1 Reactor";
  
      Reactor1x1.prototype.hp = 15;
  
      Reactor1x1.prototype.cost = 25;
  
      Reactor1x1.prototype.mass = 10;
  
      Reactor1x1.prototype.genEnergy = 10;
  
      Reactor1x1.prototype.storeEnergy = 2000;
  
      Reactor1x1.prototype.image = "Reactor1x1.png";
  
      Reactor1x1.prototype.size = [1, 1];
  
      return Reactor1x1;
  
    })(parts.Reactor2x2);
  
    parts.Solar1x1 = (function(superClass) {
      extend(Solar1x1, superClass);
  
      function Solar1x1() {
        return Solar1x1.__super__.constructor.apply(this, arguments);
      }
  
      Solar1x1.prototype.name = "1x1 Solar Panel";
  
      Solar1x1.prototype.desc = "Use this to power your ship. Solar panels are light but don't generate much energy.";
  
      Solar1x1.prototype.hp = 0;
  
      Solar1x1.prototype.cost = 4;
  
      Solar1x1.prototype.mass = 2.5;
  
      Solar1x1.prototype.genEnergy = 3;
  
      Solar1x1.prototype.storeEnergy = 0;
  
      Solar1x1.prototype.flip = false;
  
      Solar1x1.prototype.image = "solar1x1.png";
  
      Solar1x1.prototype.size = [1, 1];
  
      return Solar1x1;
  
    })(parts.Reactor2x2);
  
    parts.Solar2x2 = (function(superClass) {
      extend(Solar2x2, superClass);
  
      function Solar2x2() {
        return Solar2x2.__super__.constructor.apply(this, arguments);
      }
  
      Solar2x2.prototype.name = "2x2 Solar Panel";
  
      Solar2x2.prototype.hp = 0;
  
      Solar2x2.prototype.cost = 16;
  
      Solar2x2.prototype.mass = 10;
  
      Solar2x2.prototype.genEnergy = 12;
  
      Solar2x2.prototype.storeEnergy = 0;
  
      Solar2x2.prototype.flip = false;
  
      Solar2x2.prototype.image = "solar2x2.png";
  
      Solar2x2.prototype.size = [2, 2];
  
      return Solar2x2;
  
    })(parts.Solar1x1);
  
    parts.Solar3x3 = (function(superClass) {
      extend(Solar3x3, superClass);
  
      function Solar3x3() {
        return Solar3x3.__super__.constructor.apply(this, arguments);
      }
  
      Solar3x3.prototype.name = "3x3 Solar Panel";
  
      Solar3x3.prototype.hp = 0;
  
      Solar3x3.prototype.cost = 36;
  
      Solar3x3.prototype.mass = 22.5;
  
      Solar3x3.prototype.genEnergy = 3 * 9;
  
      Solar3x3.prototype.storeEnergy = 0;
  
      Solar3x3.prototype.flip = false;
  
      Solar3x3.prototype.image = "solar3x3.png";
  
      Solar3x3.prototype.size = [3, 3];
  
      return Solar3x3;
  
    })(parts.Solar1x1);
  
    parts.EnergyTransfer = (function(superClass) {
      extend(EnergyTransfer, superClass);
  
      function EnergyTransfer() {
        return EnergyTransfer.__super__.constructor.apply(this, arguments);
      }
  
      EnergyTransfer.prototype.name = "Energy Transfer";
  
      EnergyTransfer.prototype.desc = "Gives energy to units in 800m range. Gives 960e per ship.";
  
      EnergyTransfer.prototype.hp = 10;
  
      EnergyTransfer.prototype.cost = 30;
  
      EnergyTransfer.prototype.mass = 30;
  
      EnergyTransfer.prototype.image = "EnergyTransfer.png";
  
      EnergyTransfer.prototype.attach = true;
  
      EnergyTransfer.prototype.size = [2, 2];
  
      EnergyTransfer.prototype.tab = "energy";
  
      EnergyTransfer.prototype.range = 800;
  
      EnergyTransfer.prototype.trasferEnergy = 60;
  
      EnergyTransfer.prototype.init = function() {
        return this.unit.energyCaster = true;
      };
  
      EnergyTransfer.prototype.tick = function() {
        var amount, distance, giveTo, i, j, len, len1, ref, ref1, results, thing;
        if ((sim.step + this.unit.id) % 16 === 0 && this.unit.energy > 100) {
          this.working = false;
          giveTo = [];
          ref = this.unit.closestFriends();
          for (i = 0, len = ref.length; i < len; i++) {
            thing = ref[i];
            if (thing.energy < thing.storeEnergy && thing.energy > -1) {
              if (thing.energyCaster && thing.energy / thing.storeEnergy > this.unit.energy / this.unit.storeEnergy) {
                continue;
              }
              distance = v2.distance(this.unit.pos, thing.pos);
              if (distance < this.range) {
                giveTo.push(thing);
              }
            }
          }
          ref1 = shuffle(giveTo);
          results = [];
          for (j = 0, len1 = ref1.length; j < len1; j++) {
            thing = ref1[j];
            amount = thing.storeEnergy - thing.energy;
            if (amount > this.trasferEnergy * 16) {
              amount = this.trasferEnergy * 16;
            }
            if (amount > this.unit.energy) {
              amount = this.unit.energy;
            }
            thing.energy += amount;
            this.unit.energy -= amount;
            results.push(this.working = true);
          }
          return results;
        }
      };
  
      EnergyTransfer.prototype.draw = function() {
        var r;
        EnergyTransfer.__super__.draw.call(this);
        if (this.working) {
          r = (this.range + 40) / 255;
          return baseAtlas.drawSprite("img/point02.png", this.unit.pos, [r, r], 0, [255, 255, 255, 10]);
        }
      };
  
      return EnergyTransfer;
  
    })(Part);
  
    parts.StasisField = (function(superClass) {
      extend(StasisField, superClass);
  
      function StasisField() {
        return StasisField.__super__.constructor.apply(this, arguments);
      }
  
      StasisField.prototype.name = "Stasis Field";
  
      StasisField.prototype.desc = "Slows and decloaks enemy ships. Drains 2% user's cloak/second.";
  
      StasisField.prototype.hp = 30;
  
      StasisField.prototype.cost = 25;
  
      StasisField.prototype.mass = 6;
  
      StasisField.prototype.image = "StasisField.png";
  
      StasisField.prototype.attach = true;
  
      StasisField.prototype.size = [2, 2];
  
      StasisField.prototype.tab = "defence";
  
      StasisField.prototype.range = 290;
  
      StasisField.prototype.maxSlow = 2.5;
  
      StasisField.prototype.slow = 2.5;
  
      StasisField.prototype.working = false;
  
      StasisField.prototype.tick = function() {
        var distance, i, len, other, ref, results, speed;
        this.working = false;
        this.stasisPos = [this.worldPos[0] + (Math.sin(this.unit.rot) * 100), this.worldPos[1] - (Math.cos(this.unit.rot) * 100)];
        if (this.unit.cloak > 0) {
          this.unit.cloak = this.unit.cloak * 0.99875;
        }
        ref = this.unit.closestEnemies();
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          other = ref[i];
          if (other.slowed === true) {
            continue;
          }
          distance = v2.distance(this.stasisPos, other.pos);
          if (distance < other.radius + this.range) {
            other.jump -= 30;
            if (other.jump < 0) {
              other.jump = 0;
            }
            other.cloak -= 20;
            if (other.cloak < 0) {
              other.cloak = 0;
            }
            this.unit.cloak = 0;
            speed = v2.mag(other.vel);
            if (speed > this.maxSlow) {
              v2.scale(other.vel, 0.85);
            }
            this.working = true;
            results.push(other.slowed = true);
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      StasisField.prototype.draw = function() {
        var a, r;
        StasisField.__super__.draw.call(this);
        if (this.working) {
          a = 100;
        } else {
          a = 25;
        }
        r = (this.range + 40) / 255;
        return baseAtlas.drawSprite("img/point02.png", [this.worldPos[0] + (Math.sin(this.unit.rot) * 100), this.worldPos[1] - (Math.cos(this.unit.rot) * 100)], [r, r], 0, [0, 0, 0, a]);
      };
  
      return StasisField;
  
    })(Part);
  
    parts.SupercapitalBridge = (function(superClass) {
      extend(SupercapitalBridge, superClass);
  
      function SupercapitalBridge() {
        return SupercapitalBridge.__super__.constructor.apply(this, arguments);
      }
  
      SupercapitalBridge.prototype.name = "Supercapital Bridge";
  
      SupercapitalBridge.prototype.desc = "Extends a ships cost limit by $500.";
  
      SupercapitalBridge.prototype.hp = 100;
  
      SupercapitalBridge.prototype.cost = 100;
  
      SupercapitalBridge.prototype.mass = 500;
  
      SupercapitalBridge.prototype.image = "pad4x4.png";
  
      SupercapitalBridge.prototype.attach = true;
  
      SupercapitalBridge.prototype.size = [4, 4];
  
      SupercapitalBridge.prototype.tab = "defence";
  
      SupercapitalBridge.prototype.limitBonus = 500;
  
      SupercapitalBridge.prototype.hide = true;
  
      SupercapitalBridge.prototype.disable = true;
  
      return SupercapitalBridge;
  
    })(Part);
  
    parts.ShieldGen2x2 = (function(superClass) {
      extend(ShieldGen2x2, superClass);
  
      function ShieldGen2x2() {
        return ShieldGen2x2.__super__.constructor.apply(this, arguments);
      }
  
      ShieldGen2x2.prototype.name = "Heavy Shield Generator";
  
      ShieldGen2x2.prototype.desc = "A powerful shield generator that guzzles energy.";
  
      ShieldGen2x2.prototype.hp = 0;
  
      ShieldGen2x2.prototype.cost = 50;
  
      ShieldGen2x2.prototype.mass = 40;
  
      ShieldGen2x2.prototype.genShield = 1;
  
      ShieldGen2x2.prototype.useEnergy = 110;
  
      ShieldGen2x2.prototype.energyLine = .50;
  
      ShieldGen2x2.prototype.shield = 25;
  
      ShieldGen2x2.prototype.image = "Shield2x2.png";
  
      ShieldGen2x2.prototype.attach = true;
  
      ShieldGen2x2.prototype.size = [2, 2];
  
      ShieldGen2x2.prototype.tab = "defence";
  
      ShieldGen2x2.prototype.tick = function() {
        if (this.unit.energy > this.useEnergy && this.unit.energy > this.unit.storeEnergy * this.energyLine) {
          this.unit.energy -= this.useEnergy * Math.max(0, Math.min(1, (this.unit.maxShield - this.unit.shield) / this.genShield));
          return this.unit.shield += this.genShield;
        }
      };
  
      return ShieldGen2x2;
  
    })(Part);
  
    parts.ShieldGen2x1 = (function(superClass) {
      extend(ShieldGen2x1, superClass);
  
      function ShieldGen2x1() {
        return ShieldGen2x1.__super__.constructor.apply(this, arguments);
      }
  
      ShieldGen2x1.prototype.name = "Advanced Shield Generator";
  
      ShieldGen2x1.prototype.desc = "An efficient, light-weight shield generator.";
  
      ShieldGen2x1.prototype.hp = 0;
  
      ShieldGen2x1.prototype.cost = 30;
  
      ShieldGen2x1.prototype.mass = 1;
  
      ShieldGen2x1.prototype.genShield = 0.1;
  
      ShieldGen2x1.prototype.useEnergy = 9;
  
      ShieldGen2x1.prototype.energyLine = .4;
  
      ShieldGen2x1.prototype.shield = 20;
  
      ShieldGen2x1.prototype.image = "Shield2x1.png";
  
      ShieldGen2x1.prototype.size = [2, 1];
  
      return ShieldGen2x1;
  
    })(parts.ShieldGen2x2);
  
    parts.ShieldGen1x1 = (function(superClass) {
      extend(ShieldGen1x1, superClass);
  
      function ShieldGen1x1() {
        return ShieldGen1x1.__super__.constructor.apply(this, arguments);
      }
  
      ShieldGen1x1.prototype.name = "Shield Capacitor";
  
      ShieldGen1x1.prototype.desc = "Allows stronger shields with limited regeneration assistance.";
  
      ShieldGen1x1.prototype.hp = 5;
  
      ShieldGen1x1.prototype.cost = 10;
  
      ShieldGen1x1.prototype.mass = 5;
  
      ShieldGen1x1.prototype.genShield = 0.075;
  
      ShieldGen1x1.prototype.useEnergy = 1;
  
      ShieldGen1x1.prototype.energyLine = .99;
  
      ShieldGen1x1.prototype.shield = 8;
  
      ShieldGen1x1.prototype.image = "Shield1x1.png";
  
      ShieldGen1x1.prototype.size = [1, 1];
  
      return ShieldGen1x1;
  
    })(parts.ShieldGen2x2);
  
    parts.CloakGenerator = (function(superClass) {
      extend(CloakGenerator, superClass);
  
      function CloakGenerator() {
        return CloakGenerator.__super__.constructor.apply(this, arguments);
      }
  
      CloakGenerator.prototype.name = "Cloak Generator";
  
      CloakGenerator.prototype.desc = "Cloaks 66T/second while stationary. Keeps 165T cloaked while moving.";
  
      CloakGenerator.prototype.cost = 25;
  
      CloakGenerator.prototype.mass = 10;
  
      CloakGenerator.prototype.hp = 5;
  
      CloakGenerator.prototype.image = "CloakGenerator.png";
  
      CloakGenerator.prototype.tab = "defence";
  
      CloakGenerator.prototype.attach = true;
  
      CloakGenerator.prototype.size = [2, 2];
  
      CloakGenerator.prototype.genCloak = 33 / 16;
  
      CloakGenerator.prototype.useEnergy = 380 / 16;
  
      CloakGenerator.prototype.tick = function() {
        if (this.unit.energy > this.useEnergy && this.unit.cloak < this.unit.mass) {
          if (this.unit.cloak > this.unit.mass / 2) {
            this.unit.energy -= this.useEnergy;
          }
          this.unit.cloak += this.genCloak;
          if (this.unit.cloak > this.unit.mass) {
            return this.unit.cloak = this.unit.mass;
          }
        }
      };
  
      return CloakGenerator;
  
    })(Part);
  
    Battery = (function(superClass) {
      extend(Battery, superClass);
  
      function Battery() {
        return Battery.__super__.constructor.apply(this, arguments);
      }
  
      Battery.prototype.name = "Battery";
  
      Battery.prototype.desc = "Batteries store energy and come with a full charge to power your ship.";
  
      Battery.prototype.tab = "energy";
  
      Battery.prototype.paintable = true;
  
      return Battery;
  
    })(Part);
  
    parts.Battery1x2 = (function(superClass) {
      extend(Battery1x2, superClass);
  
      function Battery1x2() {
        return Battery1x2.__super__.constructor.apply(this, arguments);
      }
  
      Battery1x2.prototype.hp = 10;
  
      Battery1x2.prototype.cost = 20;
  
      Battery1x2.prototype.mass = 20;
  
      Battery1x2.prototype.storeEnergy = 16000;
  
      Battery1x2.prototype.image = "Battery1x2.png";
  
      Battery1x2.prototype.attach = true;
  
      Battery1x2.prototype.size = [1, 2];
  
      return Battery1x2;
  
    })(Battery);
  
    parts.Battery1x1 = (function(superClass) {
      extend(Battery1x1, superClass);
  
      function Battery1x1() {
        return Battery1x1.__super__.constructor.apply(this, arguments);
      }
  
      Battery1x1.prototype.name = "Battery";
  
      Battery1x1.prototype.hp = 5;
  
      Battery1x1.prototype.cost = 10;
  
      Battery1x1.prototype.mass = 10;
  
      Battery1x1.prototype.storeEnergy = 8000;
  
      Battery1x1.prototype.image = "Battery1x1.png";
  
      Battery1x1.prototype.size = [1, 1];
  
      return Battery1x1;
  
    })(Battery);
  
    parts.Battery2x1 = (function(superClass) {
      extend(Battery2x1, superClass);
  
      function Battery2x1() {
        return Battery2x1.__super__.constructor.apply(this, arguments);
      }
  
      Battery2x1.prototype.name = "Battery";
  
      Battery2x1.prototype.hp = 10;
  
      Battery2x1.prototype.cost = 20;
  
      Battery2x1.prototype.mass = 20;
  
      Battery2x1.prototype.storeEnergy = 16000;
  
      Battery2x1.prototype.image = "Battery2x1.png";
  
      Battery2x1.prototype.size = [2, 1];
  
      return Battery2x1;
  
    })(Battery);
  
    parts.Battery2x2 = (function(superClass) {
      extend(Battery2x2, superClass);
  
      function Battery2x2() {
        return Battery2x2.__super__.constructor.apply(this, arguments);
      }
  
      Battery2x2.prototype.name = "Battery";
  
      Battery2x2.prototype.hp = 20;
  
      Battery2x2.prototype.cost = 40;
  
      Battery2x2.prototype.mass = 40;
  
      Battery2x2.prototype.storeEnergy = 32000;
  
      Battery2x2.prototype.image = "Battery2x2.png";
  
      Battery2x2.prototype.size = [2, 2];
  
      return Battery2x2;
  
    })(Battery);
  
    parts.Engine05 = (function(superClass) {
      extend(Engine05, superClass);
  
      function Engine05() {
        return Engine05.__super__.constructor.apply(this, arguments);
      }
  
      Engine05.prototype.name = "Battleship Thruster";
  
      Engine05.prototype.desc = "An ultra-heavy thruster to provide a minimum speed for the heaviest ships.";
  
      Engine05.prototype.trailTime = 6;
  
      Engine05.prototype.trailSize = .4;
  
      Engine05.prototype.hp = 0;
  
      Engine05.prototype.cost = 80;
  
      Engine05.prototype.mass = 700;
  
      Engine05.prototype.thrust = 1000;
  
      Engine05.prototype.turnSpeed = 1;
  
      Engine05.prototype.image = "engine05.png";
  
      Engine05.prototype.size = [2, 2];
  
      Engine05.prototype.useEnergy = 30;
  
      Engine05.prototype.exhaust = true;
  
      Engine05.prototype.attach = true;
  
      Engine05.prototype.disable = true;
  
      Engine05.prototype.stripe = true;
  
      Engine05.prototype.tab = "engines";
  
      return Engine05;
  
    })(Engine);
  
    parts.Engine09 = (function(superClass) {
      extend(Engine09, superClass);
  
      function Engine09() {
        return Engine09.__super__.constructor.apply(this, arguments);
      }
  
      Engine09.prototype.name = "Large Bulk Thruster";
  
      Engine09.prototype.desc = "Low energy thruster for high mass. Rated for 0-150 m/s ";
  
      Engine09.prototype.trailTime = 6;
  
      Engine09.prototype.trailSize = .2;
  
      Engine09.prototype.hp = 0;
  
      Engine09.prototype.cost = 47;
  
      Engine09.prototype.mass = 135;
  
      Engine09.prototype.thrust = 271;
  
      Engine09.prototype.turnSpeed = 1;
  
      Engine09.prototype.image = "engine09.png";
  
      Engine09.prototype.size = [2, 2];
  
      Engine09.prototype.useEnergy = 4;
  
      Engine09.prototype.exhaust = true;
  
      Engine09.prototype.attach = true;
  
      Engine09.prototype.stripe = true;
  
      Engine09.prototype.tab = "engines";
  
      return Engine09;
  
    })(Engine);
  
    parts.Engine02 = (function(superClass) {
      extend(Engine02, superClass);
  
      function Engine02() {
        return Engine02.__super__.constructor.apply(this, arguments);
      }
  
      Engine02.prototype.name = "Bulk Thruster";
  
      Engine02.prototype.desc = "Low energy thruster for high mass. Rated for 0-125 m/s ";
  
      Engine02.prototype.trailTime = 6;
  
      Engine02.prototype.trailSize = .2;
  
      Engine02.prototype.hp = 0;
  
      Engine02.prototype.cost = 35;
  
      Engine02.prototype.mass = 100;
  
      Engine02.prototype.thrust = 200;
  
      Engine02.prototype.turnSpeed = 1;
  
      Engine02.prototype.image = "engine02.png";
  
      Engine02.prototype.size = [1, 3];
  
      Engine02.prototype.useEnergy = 3;
  
      Engine02.prototype.exhaust = true;
  
      Engine02.prototype.attach = true;
  
      Engine02.prototype.stripe = true;
  
      Engine02.prototype.tab = "engines";
  
      return Engine02;
  
    })(Engine);
  
    parts.Engine01 = (function(superClass) {
      extend(Engine01, superClass);
  
      function Engine01() {
        return Engine01.__super__.constructor.apply(this, arguments);
      }
  
      Engine01.prototype.name = "Cruiser Thruster";
  
      Engine01.prototype.desc = "Efficient thruster for medium ships. Rated for 100-350 m/s";
  
      Engine01.prototype.trailTime = 6;
  
      Engine01.prototype.trailSize = .26;
  
      Engine01.prototype.hp = 0;
  
      Engine01.prototype.cost = 65;
  
      Engine01.prototype.mass = 60;
  
      Engine01.prototype.thrust = 270;
  
      Engine01.prototype.turnSpeed = 4;
  
      Engine01.prototype.image = "engine01.png";
  
      Engine01.prototype.size = [1, 3];
  
      Engine01.prototype.useEnergy = 13;
  
      Engine01.prototype.exhaust = true;
  
      Engine01.prototype.attach = true;
  
      Engine01.prototype.stripe = true;
  
      Engine01.prototype.tab = "engines";
  
      return Engine01;
  
    })(Engine);
  
    parts.Engine08 = (function(superClass) {
      extend(Engine08, superClass);
  
      function Engine08() {
        return Engine08.__super__.constructor.apply(this, arguments);
      }
  
      Engine08.prototype.name = "Compact Cruiser Thruster";
  
      Engine08.prototype.desc = "Efficient thruster for medium ships. Rated for 100-350 m/s";
  
      Engine08.prototype.trailTime = 6;
  
      Engine08.prototype.trailSize = .26;
  
      Engine08.prototype.hp = 0;
  
      Engine08.prototype.cost = 44;
  
      Engine08.prototype.mass = 40;
  
      Engine08.prototype.thrust = 180;
  
      Engine08.prototype.turnSpeed = 4;
  
      Engine08.prototype.image = "engine08.png";
  
      Engine08.prototype.size = [2, 1];
  
      Engine08.prototype.useEnergy = 9;
  
      Engine08.prototype.exhaust = true;
  
      Engine08.prototype.attach = true;
  
      Engine08.prototype.stripe = true;
  
      Engine08.prototype.tab = "engines";
  
      return Engine08;
  
    })(Engine);
  
    parts.Engine04 = (function(superClass) {
      extend(Engine04, superClass);
  
      function Engine04() {
        return Engine04.__super__.constructor.apply(this, arguments);
      }
  
      Engine04.prototype.name = "Scout Thruster";
  
      Engine04.prototype.desc = "The smallest thruster available. Rated for 100-400 m/s";
  
      Engine04.prototype.trailTime = 64;
  
      Engine04.prototype.trailSize = .1;
  
      Engine04.prototype.hp = 0;
  
      Engine04.prototype.cost = 20;
  
      Engine04.prototype.mass = 15;
  
      Engine04.prototype.thrust = 90;
  
      Engine04.prototype.turnSpeed = 1;
  
      Engine04.prototype.image = "engine04.png";
  
      Engine04.prototype.size = [1, 2];
  
      Engine04.prototype.useEnergy = 10;
  
      Engine04.prototype.exhaust = true;
  
      Engine04.prototype.attach = true;
  
      Engine04.prototype.stripe = true;
  
      Engine04.prototype.tab = "engines";
  
      return Engine04;
  
    })(Engine);
  
    parts.Engine043Long = (function(superClass) {
      extend(Engine043Long, superClass);
  
      function Engine043Long() {
        return Engine043Long.__super__.constructor.apply(this, arguments);
      }
  
      Engine043Long.prototype.size = [2, 1];
  
      Engine043Long.prototype.image = "engine04long.png";
  
      return Engine043Long;
  
    })(parts.Engine04);
  
    parts.Engine06 = (function(superClass) {
      extend(Engine06, superClass);
  
      function Engine06() {
        return Engine06.__super__.constructor.apply(this, arguments);
      }
  
      Engine06.prototype.hp = 0;
  
      Engine06.prototype.cost = 55;
  
      Engine06.prototype.mass = 60;
  
      Engine06.prototype.thrust = 157;
  
      Engine06.prototype.turnSpeed = 3;
  
      Engine06.prototype.image = "engine06.png";
  
      Engine06.prototype.size = [2, 2];
  
      Engine06.prototype.useEnergy = 25;
  
      Engine06.prototype.exhaust = true;
  
      Engine06.prototype.attach = true;
  
      Engine06.prototype.hide = true;
  
      Engine06.prototype.disable = true;
  
      Engine06.prototype.stripe = true;
  
      Engine06.prototype.tab = "engines";
  
      return Engine06;
  
    })(Engine);
  
    parts.Engine03 = (function(superClass) {
      extend(Engine03, superClass);
  
      function Engine03() {
        return Engine03.__super__.constructor.apply(this, arguments);
      }
  
      Engine03.prototype.name = "Fighter Thruster";
  
      Engine03.prototype.desc = "A light thruster good for fast ships. Rated for 250+ m/s";
  
      Engine03.prototype.trailTime = 64;
  
      Engine03.prototype.trailSize = .13;
  
      Engine03.prototype.hp = 0;
  
      Engine03.prototype.cost = 45;
  
      Engine03.prototype.mass = 15;
  
      Engine03.prototype.thrust = 135;
  
      Engine03.prototype.turnSpeed = 1;
  
      Engine03.prototype.image = "engine03.png";
  
      Engine03.prototype.size = [1, 2];
  
      Engine03.prototype.useEnergy = 12;
  
      Engine03.prototype.exhaust = true;
  
      Engine03.prototype.attach = true;
  
      Engine03.prototype.stripe = true;
  
      Engine03.prototype.tab = "engines";
  
      return Engine03;
  
    })(Engine);
  
    parts.Engine03Long = (function(superClass) {
      extend(Engine03Long, superClass);
  
      function Engine03Long() {
        return Engine03Long.__super__.constructor.apply(this, arguments);
      }
  
      Engine03Long.prototype.size = [2, 1];
  
      Engine03Long.prototype.image = "engine03long.png";
  
      return Engine03Long;
  
    })(parts.Engine03);
  
    parts.Engine07 = (function(superClass) {
      extend(Engine07, superClass);
  
      function Engine07() {
        return Engine07.__super__.constructor.apply(this, arguments);
      }
  
      Engine07.prototype.name = "Interceptor Afterburner";
  
      Engine07.prototype.desc = "A huge inefficient thruster. Burns a lot of energy to make ships move very fast. ";
  
      Engine07.prototype.trailTime = 64;
  
      Engine07.prototype.hp = 0;
  
      Engine07.prototype.cost = 145;
  
      Engine07.prototype.mass = 80;
  
      Engine07.prototype.thrust = 900;
  
      Engine07.prototype.turnSpeed = 4;
  
      Engine07.prototype.image = "engine07.png";
  
      Engine07.prototype.size = [2, 2];
  
      Engine07.prototype.trailSize = .22;
  
      Engine07.prototype.useEnergy = 169;
  
      Engine07.prototype.exhaust = true;
  
      Engine07.prototype.attach = true;
  
      Engine07.prototype.stripe = true;
  
      Engine07.prototype.tab = "engines";
  
      return Engine07;
  
    })(Engine);
  
    parts.JumpEngine = (function(superClass) {
      extend(JumpEngine, superClass);
  
      function JumpEngine() {
        return JumpEngine.__super__.constructor.apply(this, arguments);
      }
  
      JumpEngine.prototype.name = "Jump Engine";
  
      JumpEngine.prototype.desc = "Allows you to perform short jumps. Drains some energy and 2% cloak per second.";
  
      JumpEngine.prototype.trailTime = 0;
  
      JumpEngine.prototype.hp = 25;
  
      JumpEngine.prototype.cost = 25;
  
      JumpEngine.prototype.mass = 6;
  
      JumpEngine.prototype.jumpCount = 1;
  
      JumpEngine.prototype.rechargeRate = 240;
  
      JumpEngine.prototype.thrust = 0;
  
      JumpEngine.prototype.turnSpeed = 0;
  
      JumpEngine.prototype.useEnergy = 10;
  
      JumpEngine.prototype.exhaust = false;
  
      JumpEngine.prototype.image = "engineJump.png";
  
      JumpEngine.prototype.size = [2, 1];
  
      JumpEngine.prototype.trailSize = 0;
  
      JumpEngine.prototype.attach = true;
  
      JumpEngine.prototype.stripe = true;
  
      JumpEngine.prototype.tab = "engines";
  
      JumpEngine.prototype.tick = function() {
        if (this.unit.energy >= this.useEnergy) {
          this.unit.energy -= this.useEnergy;
          if (this.unit.jump < this.unit.jumpDistance) {
            this.unit.jump = Math.min(this.unit.jump + this.rechargeRate / this.unit.mass, this.unit.jumpDistance);
          }
          if (this.unit.cloak > 0) {
            this.unit.cloak = this.unit.cloak * 0.99875;
          }
        }
        return this.working = this.unit.jump > this.unit.minJump;
      };
  
      JumpEngine.prototype.draw = function() {
        JumpEngine.__super__.draw.call(this);
        if (this.working) {
          return baseAtlas.drawSprite("parts/engineJumpPip.png", this.worldPos, [1, 1], this.unit.rot);
        }
      };
  
      return JumpEngine;
  
    })(Engine);
  
    Wing = (function(superClass) {
      extend(Wing, superClass);
  
      function Wing() {
        return Wing.__super__.constructor.apply(this, arguments);
      }
  
      Wing.prototype.name = "Wing";
  
      Wing.prototype.desc = "Adds turn rate to your units, more wings make ships turn faster.";
  
      Wing.prototype.tab = "engines";
  
      Wing.prototype.stripe = true;
  
      Wing.prototype.attach = false;
  
      Wing.prototype.canShowDamage = true;
  
      return Wing;
  
    })(Part);
  
    parts.Wing2x2 = (function(superClass) {
      extend(Wing2x2, superClass);
  
      function Wing2x2() {
        return Wing2x2.__super__.constructor.apply(this, arguments);
      }
  
      Wing2x2.prototype.hp = 16;
  
      Wing2x2.prototype.cost = 32;
  
      Wing2x2.prototype.mass = 8;
  
      Wing2x2.prototype.turnSpeed = 30;
  
      Wing2x2.prototype.image = "Wing2x2.png";
  
      Wing2x2.prototype.size = [2, 2];
  
      return Wing2x2;
  
    })(Wing);
  
    parts.Wing1x2 = (function(superClass) {
      extend(Wing1x2, superClass);
  
      function Wing1x2() {
        return Wing1x2.__super__.constructor.apply(this, arguments);
      }
  
      Wing1x2.prototype.hp = 8;
  
      Wing1x2.prototype.cost = 16;
  
      Wing1x2.prototype.mass = 4;
  
      Wing1x2.prototype.turnSpeed = 15;
  
      Wing1x2.prototype.image = "Wing1x2.png";
  
      Wing1x2.prototype.size = [1, 2];
  
      return Wing1x2;
  
    })(Wing);
  
    parts.Wing2x1 = (function(superClass) {
      extend(Wing2x1, superClass);
  
      function Wing2x1() {
        return Wing2x1.__super__.constructor.apply(this, arguments);
      }
  
      Wing2x1.prototype.hp = 6;
  
      Wing2x1.prototype.cost = 12;
  
      Wing2x1.prototype.mass = 3;
  
      Wing2x1.prototype.turnSpeed = 11.25;
  
      Wing2x1.prototype.image = "Wing2x1.png";
  
      Wing2x1.prototype.size = [2, 1];
  
      return Wing2x1;
  
    })(Wing);
  
    parts.Wing1x1Angle = (function(superClass) {
      extend(Wing1x1Angle, superClass);
  
      function Wing1x1Angle() {
        return Wing1x1Angle.__super__.constructor.apply(this, arguments);
      }
  
      Wing1x1Angle.prototype.hp = 4;
  
      Wing1x1Angle.prototype.cost = 8;
  
      Wing1x1Angle.prototype.mass = 2;
  
      Wing1x1Angle.prototype.turnSpeed = 7.5;
  
      Wing1x1Angle.prototype.image = "Wing1x1Angle.png";
  
      Wing1x1Angle.prototype.size = [1, 1];
  
      return Wing1x1Angle;
  
    })(Wing);
  
    parts.Wing1x1Round = (function(superClass) {
      extend(Wing1x1Round, superClass);
  
      function Wing1x1Round() {
        return Wing1x1Round.__super__.constructor.apply(this, arguments);
      }
  
      Wing1x1Round.prototype.hp = 4;
  
      Wing1x1Round.prototype.cost = 8;
  
      Wing1x1Round.prototype.mass = 2;
  
      Wing1x1Round.prototype.turnSpeed = 7.5;
  
      Wing1x1Round.prototype.image = "Wing1x1Round.png";
  
      Wing1x1Round.prototype.size = [1, 1];
  
      return Wing1x1Round;
  
    })(Wing);
  
    parts.Wing1x1Notch = (function(superClass) {
      extend(Wing1x1Notch, superClass);
  
      function Wing1x1Notch() {
        return Wing1x1Notch.__super__.constructor.apply(this, arguments);
      }
  
      Wing1x1Notch.prototype.hp = 0;
  
      Wing1x1Notch.prototype.cost = 4;
  
      Wing1x1Notch.prototype.mass = 0.1;
  
      Wing1x1Notch.prototype.turnSpeed = 3.15;
  
      Wing1x1Notch.prototype.image = "Wing1x1Notch.png";
  
      Wing1x1Notch.prototype.size = [1, 1];
  
      return Wing1x1Notch;
  
    })(Wing);
  
    types.PDLaserBullet = (function(superClass) {
      extend(PDLaserBullet, superClass);
  
      function PDLaserBullet() {
        return PDLaserBullet.__super__.constructor.apply(this, arguments);
      }
  
      PDLaserBullet.prototype.image = "parts/fireBeamLarge.png";
  
      PDLaserBullet.prototype.sound = "sounds/weapons/lightPD.wav";
  
      PDLaserBullet.prototype.size = [.3, .3];
  
      PDLaserBullet.prototype.color = [179, 207, 255, 255];
  
      return PDLaserBullet;
  
    })(LaserBullet);
  
    parts.PDTurret = (function(superClass) {
      extend(PDTurret, superClass);
  
      function PDTurret() {
        return PDTurret.__super__.constructor.apply(this, arguments);
      }
  
      PDTurret.prototype.name = "Point Defence";
  
      PDTurret.prototype.desc = "Point defence laser. Counters missiles.";
  
      PDTurret.prototype.hp = 10;
  
      PDTurret.prototype.cost = 5;
  
      PDTurret.prototype.image = "turHex2.png";
  
      PDTurret.prototype.size = [2, 2];
  
      PDTurret.prototype.range = 400;
  
      PDTurret.prototype.reloadTime = 40;
  
      PDTurret.prototype.trackSpeed = 25;
  
      PDTurret.prototype.bulletCls = types.PDLaserBullet;
  
      PDTurret.prototype.shotEnergy = 1100;
  
      PDTurret.prototype.instant = true;
  
      PDTurret.prototype.mass = 10;
  
      PDTurret.prototype.bulletSpeed = 2000;
  
      PDTurret.prototype.damage = 18;
  
      PDTurret.prototype.maxLife = .5;
  
      PDTurret.prototype.hitsMissiles = true;
  
      return PDTurret;
  
    })(Turret);
  
    types.HeavyPDBullet = (function(superClass) {
      extend(HeavyPDBullet, superClass);
  
      function HeavyPDBullet() {
        return HeavyPDBullet.__super__.constructor.apply(this, arguments);
      }
  
      HeavyPDBullet.prototype.image = "parts/fireHex1.png";
  
      HeavyPDBullet.prototype.sound = "sounds/weapons/heavyPD.wav";
  
      HeavyPDBullet.prototype.size = [.7, .7];
  
      HeavyPDBullet.prototype.color = [179, 207, 255, 255];
  
      HeavyPDBullet.prototype.radius = 12;
  
      HeavyPDBullet.prototype.hitsMultiple = true;
  
      HeavyPDBullet.prototype.hitUnit = function(thing) {
        thing.applyDamage(this.damage);
        if (this.energyDamage) {
          thing.applyEnergyDamage(this.energyDamage);
        }
        return this.dead = true;
      };
  
      return HeavyPDBullet;
  
    })(Bullet);
  
    parts.HeavyPDTurret = (function(superClass) {
      extend(HeavyPDTurret, superClass);
  
      function HeavyPDTurret() {
        return HeavyPDTurret.__super__.constructor.apply(this, arguments);
      }
  
      HeavyPDTurret.prototype.name = "Heavy Point Defence Turret";
  
      HeavyPDTurret.prototype.desc = "Point defence turret. Hits multiple projectiles. Counters missiles.";
  
      HeavyPDTurret.prototype.hp = 10;
  
      HeavyPDTurret.prototype.cost = 5;
  
      HeavyPDTurret.prototype.image = "turHex1.png";
  
      HeavyPDTurret.prototype.size = [2, 2];
  
      HeavyPDTurret.prototype.reloadTime = 52;
  
      HeavyPDTurret.prototype.trackSpeed = 90;
  
      HeavyPDTurret.prototype.bulletCls = types.HeavyPDBullet;
  
      HeavyPDTurret.prototype.range = 405;
  
      HeavyPDTurret.prototype.shotEnergy = 250 * 16;
  
      HeavyPDTurret.prototype.mass = 30;
  
      HeavyPDTurret.prototype.bulletSpeed = 55;
  
      HeavyPDTurret.prototype.damage = 60;
  
      HeavyPDTurret.prototype.hitsMissiles = true;
  
      return HeavyPDTurret;
  
    })(Turret);
  
    types.RingBullet = (function(superClass) {
      extend(RingBullet, superClass);
  
      function RingBullet() {
        return RingBullet.__super__.constructor.apply(this, arguments);
      }
  
      RingBullet.prototype.image = "parts/fireRing.png";
  
      RingBullet.prototype.sound = "sounds/weapons/zingg.wav";
  
      RingBullet.prototype.hitExplosion = "RingHitExplosion";
  
      RingBullet.prototype.size = [1, 1];
  
      RingBullet.prototype.color = [179, 207, 255, 255];
  
      return RingBullet;
  
    })(Bullet);
  
    parts.RingTurret = (function(superClass) {
      extend(RingTurret, superClass);
  
      function RingTurret() {
        return RingTurret.__super__.constructor.apply(this, arguments);
      }
  
      RingTurret.prototype.name = "Fusion Ring";
  
      RingTurret.prototype.desc = "Close ranged burst weapon.";
  
      RingTurret.prototype.hp = 10;
  
      RingTurret.prototype.cost = 5;
  
      RingTurret.prototype.image = "turRing.png";
  
      RingTurret.prototype.size = [2, 2];
  
      RingTurret.prototype.reloadTime = 80;
  
      RingTurret.prototype.trackSpeed = 90;
  
      RingTurret.prototype.bulletCls = types.RingBullet;
  
      RingTurret.prototype.range = 330;
  
      RingTurret.prototype.shotEnergy = 250 * 16;
  
      RingTurret.prototype.mass = 20;
  
      RingTurret.prototype.bulletSpeed = 35;
  
      RingTurret.prototype.damage = 100;
  
      RingTurret.prototype.spin = 0;
  
      RingTurret.prototype.draw = function() {
        if (this.working) {
          this.spin += .0010 * this.damage;
          this.image = "turRing.png";
        } else {
          this.spin += .0001 * this.damage;
          this.image = "turRingReload.png";
        }
        return baseAtlas.drawSprite("parts/" + this.image, this.worldPos, [1, 1], this.spin);
      };
  
      return RingTurret;
  
    })(Turret);
  
    types.RamBullet = (function(superClass) {
      extend(RamBullet, superClass);
  
      function RamBullet() {
        return RamBullet.__super__.constructor.apply(this, arguments);
      }
  
      RamBullet.prototype.image = "parts/fireWavePull.png";
  
      RamBullet.prototype.sound = "sounds/weapons/WavePull.wav";
  
      RamBullet.prototype.size = [.5, .5];
  
      RamBullet.prototype.color = [179, 207, 255, 255];
  
      RamBullet.prototype.radius = 30;
  
      RamBullet.prototype.direction = -1;
  
      RamBullet.prototype.waveEffect = 300;
  
      RamBullet.prototype.hitUnit = function(unit) {
        var amount, dot, p;
        unit.applyDamage(this.damage);
        p = this.waveEffect * this.damage / unit.mass;
        v2.norm(this.vel, _wave);
        v2.scale(_wave, -this.direction);
        dot = v2.dot(unit.vel, _wave);
        amount = 0;
        if (dot < p) {
          amount = p;
        }
        v2.scale(_wave, amount);
        v2.add(unit.vel, _wave);
        return this.dead = true;
      };
  
      return RamBullet;
  
    })(Bullet);
  
    parts.RamTurret = (function(superClass) {
      extend(RamTurret, superClass);
  
      function RamTurret() {
        return RamTurret.__super__.constructor.apply(this, arguments);
      }
  
      RamTurret.prototype.name = "Kinetic Ram";
  
      RamTurret.prototype.desc = "Knocks a target back with speed depending on its mass.";
  
      RamTurret.prototype.hp = 10;
  
      RamTurret.prototype.cost = 5;
  
      RamTurret.prototype.image = "turWavePush.png";
  
      RamTurret.prototype.size = [2, 2];
  
      RamTurret.prototype.reloadTime = 96;
  
      RamTurret.prototype.trackSpeed = 90;
  
      RamTurret.prototype.bulletCls = types.RamBullet;
  
      RamTurret.prototype.range = 125;
  
      RamTurret.prototype.shotEnergy = 1200;
  
      RamTurret.prototype.mass = 10;
  
      RamTurret.prototype.bulletSpeed = 35;
  
      RamTurret.prototype.damage = 80;
  
      RamTurret.prototype.hide = true;
  
      RamTurret.prototype.disable = true;
  
      return RamTurret;
  
    })(Turret);
  
    types.TorpBullet = (function(superClass) {
      extend(TorpBullet, superClass);
  
      function TorpBullet() {
        return TorpBullet.__super__.constructor.apply(this, arguments);
      }
  
      TorpBullet.prototype.image = "parts/fireTorp1.png";
  
      TorpBullet.prototype.sound = "sounds/weapons/torp2.wav";
  
      TorpBullet.prototype.size = [1, 1];
  
      TorpBullet.prototype.radius = 25;
  
      TorpBullet.prototype.missile = true;
  
      TorpBullet.prototype.trailTime = 46;
  
      TorpBullet.prototype.trailSize = 0.06;
  
      return TorpBullet;
  
    })(StraightMissile);
  
    parts.TorpTurret = (function(superClass) {
      extend(TorpTurret, superClass);
  
      function TorpTurret() {
        return TorpTurret.__super__.constructor.apply(this, arguments);
      }
  
      TorpTurret.prototype.name = "Torpedo Launcher";
  
      TorpTurret.prototype.desc = "Launches torpedos that move in straight line.";
  
      TorpTurret.prototype.hp = 10;
  
      TorpTurret.prototype.cost = 5;
  
      TorpTurret.prototype.image = "turTorp.png";
  
      TorpTurret.prototype.size = [2, 2];
  
      TorpTurret.prototype.reloadTime = 52;
  
      TorpTurret.prototype.trackSpeed = 45;
  
      TorpTurret.prototype.bulletCls = types.TorpBullet;
  
      TorpTurret.prototype.range = 1100;
  
      TorpTurret.prototype.shotEnergy = 1250;
  
      TorpTurret.prototype.mass = 10;
  
      TorpTurret.prototype.bulletSpeed = 16;
  
      TorpTurret.prototype.damage = 24;
  
      return TorpTurret;
  
    })(Turret);
  
    types.MissileBullet = (function(superClass) {
      extend(MissileBullet, superClass);
  
      function MissileBullet() {
        return MissileBullet.__super__.constructor.apply(this, arguments);
      }
  
      MissileBullet.prototype.image = "parts/fireMis1.png";
  
      MissileBullet.prototype.sound = "sounds/weapons/torp1.wav";
  
      MissileBullet.prototype.size = [.8, .8];
  
      MissileBullet.prototype.color = [0, 0, 0, 255];
  
      MissileBullet.prototype.missile = true;
  
      MissileBullet.prototype.tracking = true;
  
      return MissileBullet;
  
    })(TrackingMissile);
  
    parts.MissileTurret = (function(superClass) {
      extend(MissileTurret, superClass);
  
      function MissileTurret() {
        return MissileTurret.__super__.constructor.apply(this, arguments);
      }
  
      MissileTurret.prototype.name = "Missile Launcher";
  
      MissileTurret.prototype.desc = "Launches tracking missiles that chase targets.";
  
      MissileTurret.prototype.onlyInRange = true;
  
      MissileTurret.prototype.hp = 10;
  
      MissileTurret.prototype.cost = 5;
  
      MissileTurret.prototype.image = "turMissile.png";
  
      MissileTurret.prototype.size = [2, 2];
  
      MissileTurret.prototype.reloadTime = 33;
  
      MissileTurret.prototype.trackSpeed = 45;
  
      MissileTurret.prototype.bulletCls = types.MissileBullet;
  
      MissileTurret.prototype.range = 1000;
  
      MissileTurret.prototype.shotEnergy = 95 * 30;
  
      MissileTurret.prototype.mass = 30;
  
      MissileTurret.prototype.bulletSpeed = 22;
  
      MissileTurret.prototype.damage = 27;
  
      MissileTurret.prototype.radius = 40;
  
      MissileTurret.prototype.overshoot = 0.5;
  
      return MissileTurret;
  
    })(Turret);
  
    types.ArtilleryExplosion = (function(superClass) {
      extend(ArtilleryExplosion, superClass);
  
      function ArtilleryExplosion() {
        return ArtilleryExplosion.__super__.constructor.apply(this, arguments);
      }
  
      ArtilleryExplosion.prototype.sound = "sounds/weapons/thud3.wav";
  
      ArtilleryExplosion.prototype.soundVolume = .20;
  
      ArtilleryExplosion.prototype.maxLife = 10;
  
      ArtilleryExplosion.prototype.draw = function() {
        var color, fade, s;
        ArtilleryExplosion.__super__.draw.call(this);
        if (this.dead) {
          return;
        }
        fade = this.life / this.maxLife;
        s = this.radius / 2;
        color = [255, 255, 255, (1 - Math.pow(fade, 2)) * 180];
        return baseAtlas.drawSprite("img/fire02.png", this.pos, [s, s], this.rot, color);
      };
  
      return ArtilleryExplosion;
  
    })(types.AoeExplosion);
  
    types.ArtilleryBullet = (function(superClass) {
      extend(ArtilleryBullet, superClass);
  
      function ArtilleryBullet() {
        return ArtilleryBullet.__super__.constructor.apply(this, arguments);
      }
  
      ArtilleryBullet.prototype.image = "parts/fireLong1.png";
  
      ArtilleryBullet.prototype.sound = "sounds/weapons/artillery.wav";
  
      ArtilleryBullet.prototype.color = [255, 240, 244, 255];
  
      ArtilleryBullet.prototype.size = [1, 1];
  
      ArtilleryBullet.prototype.missile = true;
  
      ArtilleryBullet.prototype.explodeClass = "ArtilleryExplosion";
  
      ArtilleryBullet.prototype.draw = function() {
        var color, dist, size;
        ArtilleryBullet.__super__.draw.call(this);
        if (this.hitPos) {
          dist = Math.min(v2.distance(this.pos, this.hitPos), 1000);
          size = Math.pow(1.003, -dist) * this.aoe / 162;
          color = [255, 0, 0, 80];
          baseAtlas.drawSprite("img/point02.png", this.hitPos, [this.aoe / 256, this.aoe / 256], 0, color);
          baseAtlas.drawSprite("img/fire02.png", this.hitPos, [size * 2, size * 2], 0, color);
        }
      };
  
      return ArtilleryBullet;
  
    })(AoeBullet);
  
    parts.ArtilleryTurret = (function(superClass) {
      extend(ArtilleryTurret, superClass);
  
      function ArtilleryTurret() {
        return ArtilleryTurret.__super__.constructor.apply(this, arguments);
      }
  
      ArtilleryTurret.prototype.name = "Artillery Gun";
  
      ArtilleryTurret.prototype.desc = "Launches a slow moving shell that explodes at the targeted area.";
  
      ArtilleryTurret.prototype.onlyInRange = false;
  
      ArtilleryTurret.prototype.hp = 10;
  
      ArtilleryTurret.prototype.cost = 5;
  
      ArtilleryTurret.prototype.image = "turLong1.png";
  
      ArtilleryTurret.prototype.size = [2, 2];
  
      ArtilleryTurret.prototype.reloadTime = 89;
  
      ArtilleryTurret.prototype.trackSpeed = 25;
  
      ArtilleryTurret.prototype.bulletCls = types.ArtilleryBullet;
  
      ArtilleryTurret.prototype.exactRange = true;
  
      ArtilleryTurret.prototype.range = 1600;
  
      ArtilleryTurret.prototype.minRange = 675;
  
      ArtilleryTurret.prototype.shotEnergy = 4100;
  
      ArtilleryTurret.prototype.mass = 65;
  
      ArtilleryTurret.prototype.bulletSpeed = 9;
  
      ArtilleryTurret.prototype.damage = 120;
  
      ArtilleryTurret.prototype.aoe = 210;
  
      return ArtilleryTurret;
  
    })(Turret);
  
    types.SidewinderBullet = (function(superClass) {
      extend(SidewinderBullet, superClass);
  
      function SidewinderBullet() {
        return SidewinderBullet.__super__.constructor.apply(this, arguments);
      }
  
      SidewinderBullet.prototype.image = "parts/fireMine.png";
  
      SidewinderBullet.prototype.sound = "sounds/weapons/torp4.wav";
  
      SidewinderBullet.prototype.soundVolume = .05;
  
      SidewinderBullet.prototype.size = [.8, .8];
  
      SidewinderBullet.prototype.color = [0, 0, 0, 255];
  
      SidewinderBullet.prototype.missile = true;
  
      SidewinderBullet.prototype.tracking = true;
  
      SidewinderBullet.prototype.turnVel = [1, 1];
  
      SidewinderBullet.prototype.trailTime = 32;
  
      SidewinderBullet.prototype.trailSize = 0.12;
  
      SidewinderBullet.prototype.tick = function() {
        var minDistance, minUnit;
        SidewinderBullet.__super__.tick.call(this);
        if ((sim.step + this.id) % 4 === 0) {
          if (!this.target || this.target.dead || this.target.cloaked()) {
            minDistance = 0;
            minUnit = null;
            sim.unitSpaces[otherSide(this.side)].findInRange(this.pos, 500, (function(_this) {
              return function(unit) {
                var dist;
                dist = v2.distance(unit.pos, _this.pos);
                if (minUnit === null || dist < minDistance) {
                  if (!unit.cloaked()) {
                    minUnit = unit;
                    minDistance = dist;
                  }
                }
                return false;
              };
            })(this));
            if (minUnit) {
              return this.target = minUnit;
            }
          }
        }
      };
  
      SidewinderBullet.prototype.move = function() {
        if (this.dead) {
          return;
        }
        if (this.target && !this.target.dead && !this.target.cloaked()) {
          this.dist = v2.distance(this.target.pos, this.pos);
          v2.sub(this.target.pos, this.pos, this.vel);
        }
        v2.norm(this.vel);
        this.rot = v2.angle(this.vel);
        if (this.direction === 0) {
          this.turnVel[0] = -Math.cos(this.rot) * 2;
          this.turnVel[1] = -Math.sin(this.rot) * 2;
        }
        if (this.direction === 1) {
          this.turnVel[0] = Math.cos(this.rot) * 2;
          this.turnVel[1] = Math.sin(this.rot) * 2;
        }
        v2.scale(this.turnVel, Math.max(0.01, (this.maxLife - this.life * 2) / this.maxLife), this.turnVel);
        v2.scale(this.vel, Math.max(0.01, (this.life * 2) / this.maxLife), this.vel);
        v2.add(this.vel, this.turnVel);
        v2.scale(this.vel, this.speed);
        v2.add(this.pos, this.vel);
        this.rot = v2.angle(this.vel);
        return this.life += 1;
      };
  
      return SidewinderBullet;
  
    })(TrackingMissile);
  
    parts.SidewinderTurret = (function(superClass) {
      extend(SidewinderTurret, superClass);
  
      function SidewinderTurret() {
        return SidewinderTurret.__super__.constructor.apply(this, arguments);
      }
  
      SidewinderTurret.prototype.name = "Sidewinder Missile";
  
      SidewinderTurret.prototype.desc = "Sidewinder is a slow moving tracking missile.";
  
      SidewinderTurret.prototype.onlyInRange = true;
  
      SidewinderTurret.prototype.hp = 10;
  
      SidewinderTurret.prototype.cost = 5;
  
      SidewinderTurret.prototype.image = "turMine.png";
  
      SidewinderTurret.prototype.size = [2, 2];
  
      SidewinderTurret.prototype.reloadTime = 96;
  
      SidewinderTurret.prototype.trackSpeed = 45;
  
      SidewinderTurret.prototype.bulletCls = types.SidewinderBullet;
  
      SidewinderTurret.prototype.range = 780;
  
      SidewinderTurret.prototype.shotEnergy = 2000;
  
      SidewinderTurret.prototype.mass = 10;
  
      SidewinderTurret.prototype.bulletSpeed = 19;
  
      SidewinderTurret.prototype.damage = 35;
  
      SidewinderTurret.prototype.radius = 40;
  
      SidewinderTurret.prototype.overshoot = 0.5;
  
      SidewinderTurret.prototype.volley = 2;
  
      SidewinderTurret.prototype.volleyDelay = 1;
  
      SidewinderTurret.prototype.spread = [1, -1];
  
      SidewinderTurret.prototype.ticks = SidewinderTurret.volleyDelay;
  
      SidewinderTurret.prototype.shots = 0;
  
      SidewinderTurret.prototype.tick = function() {
        SidewinderTurret.__super__.tick.call(this);
        this.ticks -= 1;
        if (this.ticks <= 0) {
          this.ticks = this.volleyDelay;
          if (this.shots > 0) {
            return this.makeRealBullet(this.shots % 2);
          }
        }
      };
  
      SidewinderTurret.prototype.makeRealBullet = function(direction) {
        var particle;
        this.shots -= 1;
        particle = new this.bulletCls();
        sim.things[particle.id] = particle;
        particle.side = this.unit.side;
        particle.life = 0;
        particle.dead = false;
        particle.z = this.unit.z + .001;
        particle.turretNum = this.turretNum;
        particle.origin = this.unit;
        particle.target = this.target;
        particle.direction = direction;
        particle.speed = this.bulletSpeed;
        particle.damage = this.damage / 2;
        particle.maxLife = this.range / particle.speed * 1.5;
        v2.set(this.worldPos, particle.pos);
        v2.pointTo(particle.vel, this.rot);
        v2.scale(particle.vel, particle.speed);
        return particle.rot = this.rot;
      };
  
      SidewinderTurret.prototype.makeBullet = function(distance) {
        this.unit.cloak = 0;
        this.shots = this.volley;
        return this.ticks = 0;
      };
  
      return SidewinderTurret;
  
    })(Turret);
  
    types.PlasmaBullet = (function(superClass) {
      extend(PlasmaBullet, superClass);
  
      function PlasmaBullet() {
        return PlasmaBullet.__super__.constructor.apply(this, arguments);
      }
  
      PlasmaBullet.prototype.image = "parts/fireShot1.png";
  
      PlasmaBullet.prototype.sound = "sounds/weapons/blaster2.wav";
  
      PlasmaBullet.prototype.size = [.6, .6];
  
      PlasmaBullet.prototype.color = [179, 207, 255, 255];
  
      return PlasmaBullet;
  
    })(Bullet);
  
    parts.PlasmaTurret = (function(superClass) {
      extend(PlasmaTurret, superClass);
  
      function PlasmaTurret() {
        return PlasmaTurret.__super__.constructor.apply(this, arguments);
      }
  
      PlasmaTurret.prototype.name = "Plasma Turret";
  
      PlasmaTurret.prototype.desc = "Fires powerful long range projectiles.";
  
      PlasmaTurret.prototype.hp = 10;
  
      PlasmaTurret.prototype.cost = 5;
  
      PlasmaTurret.prototype.image = "turPlasma.png";
  
      PlasmaTurret.prototype.size = [2, 2];
  
      PlasmaTurret.prototype.reloadTime = 52;
  
      PlasmaTurret.prototype.trackSpeed = 25;
  
      PlasmaTurret.prototype.bulletCls = types.PlasmaBullet;
  
      PlasmaTurret.prototype.range = 820;
  
      PlasmaTurret.prototype.shotEnergy = 100 * 48;
  
      PlasmaTurret.prototype.mass = 40;
  
      PlasmaTurret.prototype.bulletSpeed = 20;
  
      PlasmaTurret.prototype.damage = 53;
  
      return PlasmaTurret;
  
    })(Turret);
  
    types.LightPlasmaBullet = (function(superClass) {
      extend(LightPlasmaBullet, superClass);
  
      function LightPlasmaBullet() {
        return LightPlasmaBullet.__super__.constructor.apply(this, arguments);
      }
  
      LightPlasmaBullet.prototype.image = "parts/fireShot1.png";
  
      LightPlasmaBullet.prototype.sound = "sounds/weapons/blaster2.wav";
  
      LightPlasmaBullet.prototype.size = [.6, .6];
  
      LightPlasmaBullet.prototype.color = [179, 207, 255, 255];
  
      return LightPlasmaBullet;
  
    })(Bullet);
  
    parts.LightPlasmaTurret = (function(superClass) {
      extend(LightPlasmaTurret, superClass);
  
      function LightPlasmaTurret() {
        return LightPlasmaTurret.__super__.constructor.apply(this, arguments);
      }
  
      LightPlasmaTurret.prototype.hide = true;
  
      LightPlasmaTurret.prototype.disable = true;
  
      LightPlasmaTurret.prototype.name = "Light Plasma Turret";
  
      LightPlasmaTurret.prototype.desc = "Fires a moderate long range projectile.";
  
      LightPlasmaTurret.prototype.hp = 10;
  
      LightPlasmaTurret.prototype.cost = 5;
  
      LightPlasmaTurret.prototype.image = "turPlasma.png";
  
      LightPlasmaTurret.prototype.size = [2, 2];
  
      LightPlasmaTurret.prototype.reloadTime = 64;
  
      LightPlasmaTurret.prototype.trackSpeed = 25;
  
      LightPlasmaTurret.prototype.bulletCls = types.LightPlasmaBullet;
  
      LightPlasmaTurret.prototype.range = 950;
  
      LightPlasmaTurret.prototype.shotEnergy = 1700;
  
      LightPlasmaTurret.prototype.mass = 10;
  
      LightPlasmaTurret.prototype.bulletSpeed = 22;
  
      LightPlasmaTurret.prototype.damage = 26;
  
      return LightPlasmaTurret;
  
    })(Turret);
  
    types.LightBeam = (function(superClass) {
      extend(LightBeam, superClass);
  
      function LightBeam() {
        return LightBeam.__super__.constructor.apply(this, arguments);
      }
  
      LightBeam.prototype.image = "parts/fireBeamLarge.png";
  
      LightBeam.prototype.sound = "sounds/weapons/beam2.wav";
  
      LightBeam.prototype.size = [.5, .5];
  
      LightBeam.prototype.color = [179, 207, 255, 255];
  
      return LightBeam;
  
    })(LaserBullet);
  
    parts.LightBeamTurret = (function(superClass) {
      extend(LightBeamTurret, superClass);
  
      function LightBeamTurret() {
        return LightBeamTurret.__super__.constructor.apply(this, arguments);
      }
  
      LightBeamTurret.prototype.name = "Light Beam";
  
      LightBeamTurret.prototype.desc = "Close range beam weapon.";
  
      LightBeamTurret.prototype.hp = 10;
  
      LightBeamTurret.prototype.cost = 5;
  
      LightBeamTurret.prototype.image = "turBeam2.png";
  
      LightBeamTurret.prototype.size = [2, 2];
  
      LightBeamTurret.prototype.reloadTime = 7;
  
      LightBeamTurret.prototype.trackSpeed = 25;
  
      LightBeamTurret.prototype.bulletCls = types.LightBeam;
  
      LightBeamTurret.prototype.range = 350;
  
      LightBeamTurret.prototype.instant = true;
  
      LightBeamTurret.prototype.shotEnergy = 80 * 7;
  
      LightBeamTurret.prototype.mass = 5;
  
      LightBeamTurret.prototype.bulletSpeed = 15;
  
      LightBeamTurret.prototype.damage = 9;
  
      LightBeamTurret.prototype.maxLife = 8;
  
      return LightBeamTurret;
  
    })(Turret);
  
    types.HeavyBeam = (function(superClass) {
      extend(HeavyBeam, superClass);
  
      function HeavyBeam() {
        return HeavyBeam.__super__.constructor.apply(this, arguments);
      }
  
      HeavyBeam.prototype.image = "parts/fireBeamLarge.png";
  
      HeavyBeam.prototype.sound = "sounds/weapons/beam4.wav";
  
      HeavyBeam.prototype.size = [1, 1];
  
      HeavyBeam.prototype.color = [179, 207, 255, 255];
  
      return HeavyBeam;
  
    })(LaserBullet);
  
    parts.HeavyBeamTurret = (function(superClass) {
      extend(HeavyBeamTurret, superClass);
  
      function HeavyBeamTurret() {
        return HeavyBeamTurret.__super__.constructor.apply(this, arguments);
      }
  
      HeavyBeamTurret.prototype.name = "Heavy Beam";
  
      HeavyBeamTurret.prototype.desc = "Mid range beam weapon.";
  
      HeavyBeamTurret.prototype.hp = 10;
  
      HeavyBeamTurret.prototype.cost = 5;
  
      HeavyBeamTurret.prototype.image = "turBeam1.png";
  
      HeavyBeamTurret.prototype.size = [2, 2];
  
      HeavyBeamTurret.prototype.reloadTime = 40;
  
      HeavyBeamTurret.prototype.trackSpeed = 25;
  
      HeavyBeamTurret.prototype.bulletCls = types.HeavyBeam;
  
      HeavyBeamTurret.prototype.shotEnergy = 5000;
  
      HeavyBeamTurret.prototype.instant = true;
  
      HeavyBeamTurret.prototype.range = 610;
  
      HeavyBeamTurret.prototype.mass = 40;
  
      HeavyBeamTurret.prototype.bulletSpeed = 2000;
  
      HeavyBeamTurret.prototype.damage = 38;
  
      HeavyBeamTurret.prototype.maxLife = .5;
  
      return HeavyBeamTurret;
  
    })(Turret);
  
    types.FlackExplosion = (function(superClass) {
      extend(FlackExplosion, superClass);
  
      function FlackExplosion() {
        return FlackExplosion.__super__.constructor.apply(this, arguments);
      }
  
      FlackExplosion.prototype.maxLife = 10;
  
      FlackExplosion.prototype.sound = null;
  
      FlackExplosion.prototype.draw = function() {
        var color, fade, s;
        FlackExplosion.__super__.draw.call(this);
        FlackExplosion.__super__.draw.call(this);
        if (this.dead) {
          return;
        }
        fade = this.life / this.maxLife;
        s = this.aoe / 80;
        color = [255, 255, 255, (1 - Math.pow(fade, 2)) * 180];
        return baseAtlas.drawSprite("parts/fireFlackExp1.png", this.pos, [s, s], this.rot, color);
      };
  
      return FlackExplosion;
  
    })(types.AoeExplosion);
  
    types.FlackBullet = (function(superClass) {
      extend(FlackBullet, superClass);
  
      function FlackBullet() {
        return FlackBullet.__super__.constructor.apply(this, arguments);
      }
  
      FlackBullet.prototype.image = "parts/fireFlack1.png";
  
      FlackBullet.prototype.sound = "sounds/weapons/zingg.wav";
  
      FlackBullet.prototype.color = [255, 240, 244, 255];
  
      FlackBullet.prototype.size = [1, 1];
  
      FlackBullet.prototype.explodeClass = "FlackExplosion";
  
      return FlackBullet;
  
    })(AoeBullet);
  
    parts.FlackTurret = (function(superClass) {
      extend(FlackTurret, superClass);
  
      function FlackTurret() {
        return FlackTurret.__super__.constructor.apply(this, arguments);
      }
  
      FlackTurret.prototype.name = "Heavy Flak";
  
      FlackTurret.prototype.desc = "Anti-fighter weapon that explodes with AoE at the targeted area.";
  
      FlackTurret.prototype.hp = 10;
  
      FlackTurret.prototype.cost = 5;
  
      FlackTurret.prototype.image = "turFlack.png";
  
      FlackTurret.prototype.size = [2, 2];
  
      FlackTurret.prototype.reloadTime = 16;
  
      FlackTurret.prototype.trackSpeed = 25;
  
      FlackTurret.prototype.bulletCls = types.FlackBullet;
  
      FlackTurret.prototype.range = 460;
  
      FlackTurret.prototype.mass = 30;
  
      FlackTurret.prototype.shotEnergy = 50 * 32;
  
      FlackTurret.prototype.exactRange = true;
  
      FlackTurret.prototype.bulletSpeed = 27;
  
      FlackTurret.prototype.damage = 18;
  
      FlackTurret.prototype.aoe = 210;
  
      return FlackTurret;
  
    })(Turret);
  
    types.SniperLaser = (function(superClass) {
      extend(SniperLaser, superClass);
  
      SniperLaser.prototype.image = "parts/hit1.png";
  
      SniperLaser.prototype.sound = "sounds/weapons/blaster2.wav";
  
      SniperLaser.prototype.size = [2, 2];
  
      SniperLaser.prototype.color = [179, 207, 255, 255];
  
      function SniperLaser() {
        SniperLaser.__super__.constructor.call(this);
        this.hitOnce = {};
      }
  
      SniperLaser.prototype.draw = function() {
        if (this.dead) {
          return;
        }
        return baseAtlas.drawSprite(this.image, this.pos, this.size, this.rot + intp.t, this.color);
      };
  
      SniperLaser.prototype.hitUnit = function(unit) {
        if (!this.hitOnce[unit.id]) {
          unit.applyDamage(this.damage);
          return this.hitOnce[unit.id] = true;
        }
      };
  
      return SniperLaser;
  
    })(Bullet);
  
    parts.SniperGun = (function(superClass) {
      extend(SniperGun, superClass);
  
      function SniperGun() {
        return SniperGun.__super__.constructor.apply(this, arguments);
      }
  
      SniperGun.prototype.hide = true;
  
      SniperGun.prototype.disable = true;
  
      SniperGun.prototype.name = "Sniper Gun";
  
      SniperGun.prototype.desc = "Fires a sniper round with high DPS. Its only good at max range and requires massive banks. The sniper ship must not be moving, and it has 18% chance of firing in any one second.";
  
      SniperGun.prototype.hp = 10;
  
      SniperGun.prototype.cost = 5;
  
      SniperGun.prototype.image = "turSnipe1.png";
  
      SniperGun.prototype.size = [2, 2];
  
      SniperGun.prototype.reloadTime = 120;
  
      SniperGun.prototype.trackSpeed = 25;
  
      SniperGun.prototype.bulletCls = types.SniperLaser;
  
      SniperGun.prototype.shotEnergy = 100000;
  
      SniperGun.prototype.range = 1700;
  
      SniperGun.prototype.minRange = 300;
  
      SniperGun.prototype.mass = 80;
  
      SniperGun.prototype.bulletSpeed = 15;
  
      SniperGun.prototype.damage = 500;
  
      SniperGun.prototype.hitsMultiple = true;
  
      SniperGun.prototype.hitsCloak = true;
  
      SniperGun.prototype.fire = function() {
        if (this.unit.vel[0] === 0 && this.unit.vel[1] === 0 && Math.random() < .1) {
          return SniperGun.__super__.fire.call(this);
        }
      };
  
      return SniperGun;
  
    })(Turret);
  
    types.EMPOrb = (function(superClass) {
      extend(EMPOrb, superClass);
  
      function EMPOrb() {
        return EMPOrb.__super__.constructor.apply(this, arguments);
      }
  
      EMPOrb.prototype.image = "parts/fireEnergyBall.png";
  
      EMPOrb.prototype.sound = "sounds/weapons/blaster1.wav";
  
      EMPOrb.prototype.soundVolume = .05;
  
      EMPOrb.prototype.size = [1, 1];
  
      EMPOrb.prototype.color = [179, 207, 255, 255];
  
      EMPOrb.prototype.draw = function() {
        if (this.dead) {
          return;
        }
        return baseAtlas.drawSprite(this.image, this.pos, this.size, this.rot + intp.t, this.color);
      };
  
      return EMPOrb;
  
    })(Bullet);
  
    parts.EMPGun = (function(superClass) {
      extend(EMPGun, superClass);
  
      function EMPGun() {
        return EMPGun.__super__.constructor.apply(this, arguments);
      }
  
      EMPGun.prototype.name = "EMP Gun";
  
      EMPGun.prototype.desc = "Fires an EMP orb that drains energy from targets and deals low damage.";
  
      EMPGun.prototype.hp = 10;
  
      EMPGun.prototype.cost = 5;
  
      EMPGun.prototype.image = "turEMP.png";
  
      EMPGun.prototype.size = [2, 2];
  
      EMPGun.prototype.reloadTime = 61;
  
      EMPGun.prototype.trackSpeed = 25;
  
      EMPGun.prototype.bulletCls = types.EMPOrb;
  
      EMPGun.prototype.shotEnergy = 3600;
  
      EMPGun.prototype.range = 620;
  
      EMPGun.prototype.mass = 2;
  
      EMPGun.prototype.bulletSpeed = 36;
  
      EMPGun.prototype.damage = 24;
  
      EMPGun.prototype.energyDamage = 4200;
  
      return EMPGun;
  
    })(Turret);
  
    types.EMPOrb2 = (function(superClass) {
      extend(EMPOrb2, superClass);
  
      function EMPOrb2() {
        return EMPOrb2.__super__.constructor.apply(this, arguments);
      }
  
      EMPOrb2.prototype.image = "parts/fizzleMine.png";
  
      EMPOrb2.prototype.sound = "sounds/weapons/blaster1.wav";
  
      EMPOrb2.prototype.soundVolume = .05;
  
      EMPOrb2.prototype.size = [1, 1];
  
      EMPOrb2.prototype.color = [179, 207, 255, 255];
  
      EMPOrb2.prototype.split = 0;
  
      EMPOrb2.prototype.clientTick = function() {
        var exp, exp2;
        if (this.life > this.maxLife / 4 && this.split === 0) {
          exp = new types.Debree();
          exp.image = "parts/fizzleMinePart.png";
          exp.z = this.z + rand() * .01;
          exp.pos = v2.create(this.pos);
          exp.rot = this.rot;
          exp.vel[0] = Math.cos(this.rot) * 3;
          exp.vel[1] = Math.sin(this.rot) * 3;
          exp.vrot = 0;
          intp.particles[exp.id] = exp;
          exp2 = new types.Debree();
          exp2.image = "parts/fizzleMinePart.png";
          exp2.z = exp.z;
          exp2.pos = v2.create(this.pos);
          v2.set(exp.vel, exp2.vel);
          v2.scale(exp2.vel, -1);
          exp2.rot = exp.rot + Math.PI;
          exp2.vrot = 0;
          intp.particles[exp2.id] = exp2;
          return this.split = 1;
        }
      };
  
      EMPOrb2.prototype.draw = function() {
        var image;
        if (this.dead) {
          return;
        }
        if (this.life > this.maxLife / 4 && this.split === 0) {
          image = "img/fire02.png";
        } else if (this.life > this.maxLife / 4) {
          image = "parts/fizzleMineEnergy.png";
        } else {
          image = this.image;
        }
        return baseAtlas.drawSprite(image, this.pos, this.size, this.rot + intp.t, this.color);
      };
  
      EMPOrb2.prototype.postFire = function() {
        this.maxLife += 24;
        this._slowVel = v2.create(this.vel);
        return v2.scale(this._slowVel, 0.2);
      };
  
      EMPOrb2.prototype.move = function() {
        if (this.dead) {
          return;
        }
        if (this.life > this.maxLife / 4) {
          return v2.add(this.pos, this.vel);
        } else {
          return v2.add(this.pos, this._slowVel);
        }
      };
  
      EMPOrb2.prototype.tick = function() {
        var exp;
        if (this.life < this.maxLife / 4) {
          this.life += Math.round(Math.random());
        } else {
          this.life += 1;
          this.scan();
        }
        if (this.life > this.maxLife) {
          this.dead = true;
        }
        if (this.dead) {
          exp = new types[this.hitExplosion]();
          exp.z = 1000;
          exp.pos = [this.pos[0], this.pos[1]];
          if (this.t !== null) {
            v2.add(exp.pos, v2.scale(this.vel, this.t));
          }
          exp.vel = [0, 0];
          exp.rot = 0;
          exp.radius = 1;
          return sim.things[exp.id] = exp;
        }
      };
  
      return EMPOrb2;
  
    })(Bullet);
  
    parts.EMPGun2 = (function(superClass) {
      extend(EMPGun2, superClass);
  
      function EMPGun2() {
        return EMPGun2.__super__.constructor.apply(this, arguments);
      }
  
      EMPGun2.prototype.name = "Orb Launcher";
  
      EMPGun2.prototype.desc = "Deploys an orb that launches out after a second, at high speed.";
  
      EMPGun2.prototype.hp = 10;
  
      EMPGun2.prototype.cost = 5;
  
      EMPGun2.prototype.image = "turFizzleGun.png";
  
      EMPGun2.prototype.size = [2, 2];
  
      EMPGun2.prototype.reloadTime = 32;
  
      EMPGun2.prototype.trackSpeed = 25;
  
      EMPGun2.prototype.bulletCls = types.EMPOrb2;
  
      EMPGun2.prototype.shotEnergy = 1400;
  
      EMPGun2.prototype.range = 1400;
  
      EMPGun2.prototype.minRange = 450;
  
      EMPGun2.prototype.mass = 20;
  
      EMPGun2.prototype.bulletSpeed = 44;
  
      EMPGun2.prototype.damage = 8;
  
      EMPGun2.prototype.energyDamage = 0;
  
      EMPGun2.prototype.disable = false;
  
      return EMPGun2;
  
    })(Turret);
  
    types.BombExplosion = (function(superClass) {
      extend(BombExplosion, superClass);
  
      function BombExplosion() {
        return BombExplosion.__super__.constructor.apply(this, arguments);
      }
  
      BombExplosion.prototype.maxLife = 10;
  
      BombExplosion.prototype.sound = "sounds/weapons/thud3.wav";
  
      BombExplosion.prototype.soundVolume = .25;
  
      BombExplosion.prototype.draw = function() {
        var ex, i, n, results;
        BombExplosion.__super__.draw.call(this);
        if (this.life === 0) {
          results = [];
          for (n = i = 1; i < 15; n = ++i) {
            ex = new types.Debree();
            ex.image = "parts/fireFlame" + (chooseInt(1, 4)) + ".png";
            ex.z = this.z + rand() * .01;
            ex.pos = [0, 0];
            ex.vel = [0, 0];
            v2.set(this.pos, ex.pos);
            v2.scale(v2.random(ex.vel), Math.random() * 6);
            ex.rot = rand() * Math.PI * 2;
            ex.vrot = rand();
            ex.maxLife = 16;
            ex._pos = v2.create(ex.pos);
            ex._pos2 = v2.create(ex.pos);
            ex.rot = ex.rot;
            ex._rot = ex.rot;
            ex._rot2 = ex.rot;
            results.push(intp.particles[ex.id] = ex);
          }
          return results;
        }
      };
  
      return BombExplosion;
  
    })(types.AoeExplosion);
  
    types.Bomb = (function(superClass) {
      extend(Bomb, superClass);
  
      function Bomb() {
        return Bomb.__super__.constructor.apply(this, arguments);
      }
  
      Bomb.prototype.image = "parts/bombDormant.png";
  
      Bomb.prototype.sound = "sounds/weapons/wewewee.wav";
  
      Bomb.prototype.soundVolume = .03;
  
      Bomb.prototype.size = [1, 1];
  
      Bomb.prototype.color = [255, 255, 255, 255];
  
      Bomb.prototype.explodeClass = "BombExplosion";
  
      Bomb.prototype.trailSize = .1;
  
      Bomb.prototype.trailTime = 32;
  
      Bomb.prototype.postFire = function() {
        this.maxLife += 28;
        this._slowVel = v2.create(this.vel);
        return v2.scale(this._slowVel, 0);
      };
  
      Bomb.prototype.move = function() {
        if (this.dead) {
          return;
        }
        if (this.life > 28) {
          return v2.add(this.pos, this.vel);
        } else {
          return v2.add(this.pos, this._slowVel);
        }
      };
  
      Bomb.prototype.tick = function() {
        var exp;
        this.life += 1;
        if (this.life > this.maxLife) {
          this.dead = true;
          if (this.explode) {
            exp = new types.BombExplosion();
            exp.z = 1000;
            exp.pos = [this.pos[0], this.pos[1]];
            exp.vel = [0, 0];
            exp.rot = 0;
            exp.aoe = this.aoe;
            exp.side = this.side;
            exp.damage = this.damage;
            return sim.things[exp.id] = exp;
          }
        }
      };
  
      Bomb.prototype.draw = function() {
        var color, dist, size;
        if (!this.trail) {
          this.trail = new Trail(this.id, this.trailSize, this.trailTime, this.color, this.z);
        }
        this.trail.grow(this.pos);
        Bomb.__super__.draw.call(this);
        this.z = 1;
        this.trail.z = 1 - 0.0001;
        if (this.life === 28) {
          this.image = "parts/bombActive.png";
          playSound("sounds/weapons/wizzzz.wav");
        }
        if (this.hitPos) {
          dist = Math.min(v2.distance(this.pos, this.hitPos), 1000);
          size = Math.pow(1.003, -dist) * this.aoe / 162;
          color = [255, 0, 0, 80];
          baseAtlas.drawSprite("img/point02.png", this.hitPos, [this.aoe / 256, this.aoe / 256], 0, color);
          baseAtlas.drawSprite("img/fire02.png", this.hitPos, [size * 2, size * 2], 0, color);
        }
      };
  
      return Bomb;
  
    })(AoeBullet);
  
    parts.BombGun = (function(superClass) {
      extend(BombGun, superClass);
  
      function BombGun() {
        return BombGun.__super__.constructor.apply(this, arguments);
      }
  
      BombGun.prototype.name = "Phase Bomb Launcher";
  
      BombGun.prototype.desc = "Fires a powerful mid-range but easy to dodge projectile.";
  
      BombGun.prototype.hp = 10;
  
      BombGun.prototype.cost = 5;
  
      BombGun.prototype.image = "turBomb.png";
  
      BombGun.prototype.size = [2, 2];
  
      BombGun.prototype.reloadTime = 60;
  
      BombGun.prototype.trackSpeed = 25;
  
      BombGun.prototype.bulletCls = types.Bomb;
  
      BombGun.prototype.shotEnergy = 3600;
  
      BombGun.prototype.range = 650;
  
      BombGun.prototype.mass = 20;
  
      BombGun.prototype.bulletSpeed = 16;
  
      BombGun.prototype.damage = 160;
  
      BombGun.prototype.onlyInRange = true;
  
      BombGun.prototype.exactRange = true;
  
      BombGun.prototype.aoe = 100;
  
      return BombGun;
  
    })(Turret);
  
    types.AutoBullet = (function(superClass) {
      extend(AutoBullet, superClass);
  
      function AutoBullet() {
        return AutoBullet.__super__.constructor.apply(this, arguments);
      }
  
      AutoBullet.prototype.image = "parts/fireAuto.png";
  
      AutoBullet.prototype.sound = "sounds/weapons/autocannon.wav";
  
      AutoBullet.prototype.size = [.6, .6];
  
      AutoBullet.prototype.color = [179, 207, 255, 255];
  
      AutoBullet.prototype.hitExplosion = "SmallHitExplosion";
  
      return AutoBullet;
  
    })(Bullet);
  
    parts.AutoTurret = (function(superClass) {
      extend(AutoTurret, superClass);
  
      function AutoTurret() {
        return AutoTurret.__super__.constructor.apply(this, arguments);
      }
  
      AutoTurret.prototype.name = "Auto Cannon";
  
      AutoTurret.prototype.desc = "Fires five bullets in rapid bursts.";
  
      AutoTurret.prototype.hp = 10;
  
      AutoTurret.prototype.cost = 5;
  
      AutoTurret.prototype.image = "turAutoCannon.png";
  
      AutoTurret.prototype.size = [2, 2];
  
      AutoTurret.prototype.reloadTime = 53;
  
      AutoTurret.prototype.trackSpeed = 25;
  
      AutoTurret.prototype.bulletCls = types.AutoBullet;
  
      AutoTurret.prototype.range = 560;
  
      AutoTurret.prototype.shotEnergy = 355 * 5;
  
      AutoTurret.prototype.mass = 10;
  
      AutoTurret.prototype.bulletSpeed = 40;
  
      AutoTurret.prototype.damage = 8 * 5;
  
      AutoTurret.prototype.fired = 10;
  
      AutoTurret.prototype.volley = 5;
  
      AutoTurret.prototype.spread = [0, .1, -.1, .2, -.2];
  
      AutoTurret.prototype.tick = function() {
        AutoTurret.__super__.tick.call(this);
        if (this.fired < 10) {
          if (this.fired % 2 === 0) {
            this.rot += this.spread[this.fired / 2];
            this.makeRealBullet();
          }
          this.fired += 1;
          return this.working = true;
        }
      };
  
      AutoTurret.prototype.makeBullet = function(distance) {
        this.unit.cloak = 0;
        return this.fired = 0;
      };
  
      AutoTurret.prototype.makeRealBullet = function() {
        var particle;
        particle = new this.bulletCls();
        sim.things[particle.id] = particle;
        particle.side = this.unit.side;
        particle.life = 0;
        particle.dead = false;
        particle.z = this.unit.z + .001;
        particle.turretNum = this.turretNum;
        particle.origin = this.unit;
        particle.target = this.target;
        particle.speed = this.bulletSpeed;
        particle.damage = this.damage / 5;
        particle.maxLife = this.range / particle.speed * 1.5;
        v2.set(this.worldPos, particle.pos);
        v2.pointTo(particle.vel, this.rot);
        v2.scale(particle.vel, particle.speed);
        return particle.rot = this.rot;
      };
  
      return AutoTurret;
  
    })(Turret);
  
    types.ShotgunBullet = (function(superClass) {
      extend(ShotgunBullet, superClass);
  
      function ShotgunBullet() {
        return ShotgunBullet.__super__.constructor.apply(this, arguments);
      }
  
      ShotgunBullet.prototype.image = "parts/fireAuto.png";
  
      ShotgunBullet.prototype.sound = "sounds/weapons/autocannon.wav";
  
      ShotgunBullet.prototype.size = [.6, .6];
  
      ShotgunBullet.prototype.color = [179, 207, 255, 255];
  
      ShotgunBullet.prototype.hitExplosion = "SmallHitExplosion";
  
      return ShotgunBullet;
  
    })(Bullet);
  
    parts.Shotgun = (function(superClass) {
      extend(Shotgun, superClass);
  
      function Shotgun() {
        return Shotgun.__super__.constructor.apply(this, arguments);
      }
  
      Shotgun.prototype.name = "Shotgun";
  
      Shotgun.prototype.desc = "Fires five bullets in rapid bursts.";
  
      Shotgun.prototype.hp = 10;
  
      Shotgun.prototype.cost = 5;
  
      Shotgun.prototype.image = "turAutoCannon.png";
  
      Shotgun.prototype.size = [2, 2];
  
      Shotgun.prototype.reloadTime = 96;
  
      Shotgun.prototype.trackSpeed = 25;
  
      Shotgun.prototype.bulletCls = types.AutoBullet;
  
      Shotgun.prototype.range = 450;
  
      Shotgun.prototype.shotEnergy = 355 * 5;
  
      Shotgun.prototype.mass = 15;
  
      Shotgun.prototype.bulletSpeed = 30;
  
      Shotgun.prototype.damage = 8 * 9;
  
      Shotgun.prototype.fired = 9;
  
      Shotgun.prototype.volley = 9;
  
      Shotgun.prototype.spread = [0, .25, -.25, .5, -.5, .75, -.75, 1, -1];
  
      Shotgun.prototype.hide = true;
  
      Shotgun.prototype.disable = true;
  
      Shotgun.prototype.tick = function() {
        Shotgun.__super__.tick.call(this);
        if (this.fired < 9) {
          if (this.fired % 1 === 0) {
            this.rot += this.spread[this.fired / 1];
            this.makeRealBullet();
          }
          this.fired += 1;
          return this.working = true;
        }
      };
  
      Shotgun.prototype.makeBullet = function(distance) {
        this.unit.cloak = 0;
        return this.fired = 0;
      };
  
      Shotgun.prototype.makeRealBullet = function() {
        var particle;
        particle = new this.bulletCls();
        sim.things[particle.id] = particle;
        particle.side = this.unit.side;
        particle.life = 0;
        particle.dead = false;
        particle.z = this.unit.z + .001;
        particle.turretNum = this.turretNum;
        particle.origin = this.unit;
        particle.target = this.target;
        particle.speed = this.bulletSpeed;
        particle.damage = this.damage / 5;
        particle.maxLife = this.range / particle.speed * 1.5;
        v2.set(this.worldPos, particle.pos);
        v2.pointTo(particle.vel, this.rot);
        v2.scale(particle.vel, particle.speed);
        return particle.rot = this.rot;
      };
  
      return Shotgun;
  
    })(Turret);
  
    types.MachineBullet = (function(superClass) {
      extend(MachineBullet, superClass);
  
      function MachineBullet() {
        return MachineBullet.__super__.constructor.apply(this, arguments);
      }
  
      MachineBullet.prototype.image = "parts/fireBeamSmall.png";
  
      MachineBullet.prototype.sound = "sounds/weapons/autocannon.wav";
  
      MachineBullet.prototype.size = [.6, .6];
  
      MachineBullet.prototype.color = [179, 207, 255, 255];
  
      MachineBullet.prototype.hitExplosion = "SmallHitExplosion";
  
      return MachineBullet;
  
    })(Bullet);
  
    parts.MachineGun = (function(superClass) {
      extend(MachineGun, superClass);
  
      function MachineGun() {
        return MachineGun.__super__.constructor.apply(this, arguments);
      }
  
      MachineGun.prototype.name = "Machine Gun";
  
      MachineGun.prototype.desc = "Fires fast bullets.";
  
      MachineGun.prototype.hp = 10;
  
      MachineGun.prototype.cost = 5;
  
      MachineGun.prototype.image = "turAutoCannon.png";
  
      MachineGun.prototype.size = [2, 2];
  
      MachineGun.prototype.reloadTime = 5;
  
      MachineGun.prototype.trackSpeed = 25;
  
      MachineGun.prototype.bulletCls = types.MachineBullet;
  
      MachineGun.prototype.range = 780;
  
      MachineGun.prototype.shotEnergy = 200;
  
      MachineGun.prototype.mass = 10;
  
      MachineGun.prototype.bulletSpeed = 100;
  
      MachineGun.prototype.damage = 4;
  
      MachineGun.prototype.hide = true;
  
      MachineGun.prototype.disable = true;
  
      MachineGun.prototype.makeBullet = function(distance) {
        this.rot += (Math.random() - 0.5) * 0.3;
        return MachineGun.__super__.makeBullet.call(this);
      };
  
      return MachineGun;
  
    })(Turret);
  
    types.TeslaBolt = (function(superClass) {
      extend(TeslaBolt, superClass);
  
      function TeslaBolt() {
        return TeslaBolt.__super__.constructor.apply(this, arguments);
      }
  
      TeslaBolt.prototype.image = "parts/zap1.png";
  
      TeslaBolt.prototype.sound = "sounds/weapons/tesla2.wav";
  
      TeslaBolt.prototype.size = [.6, .6];
  
      TeslaBolt.prototype.color = [179, 207, 255, 255];
  
      TeslaBolt.prototype.drawLength = 250;
  
      return TeslaBolt;
  
    })(LaserBullet);
  
    parts.TeslaTurret = (function(superClass) {
      extend(TeslaTurret, superClass);
  
      function TeslaTurret() {
        return TeslaTurret.__super__.constructor.apply(this, arguments);
      }
  
      TeslaTurret.prototype.name = "Tesla Turret";
  
      TeslaTurret.prototype.desc = "Fires lighting bolts that arc between units.";
  
      TeslaTurret.prototype.hp = 10;
  
      TeslaTurret.prototype.cost = 5;
  
      TeslaTurret.prototype.image = "turTesla.png";
  
      TeslaTurret.prototype.size = [2, 2];
  
      TeslaTurret.prototype.reloadTime = 10;
  
      TeslaTurret.prototype.trackSpeed = 25;
  
      TeslaTurret.prototype.bulletCls = types.TeslaBolt;
  
      TeslaTurret.prototype.range = 540;
  
      TeslaTurret.prototype.bounceRange = 540;
  
      TeslaTurret.prototype.shotEnergy = 1600;
  
      TeslaTurret.prototype.mass = 40;
  
      TeslaTurret.prototype.damage = 13;
  
      TeslaTurret.prototype.instant = true;
  
      TeslaTurret.prototype.bulletSpeed = 2000;
  
      TeslaTurret.prototype.maxLife = 1;
  
      TeslaTurret.prototype.makeBullet = function(distance) {
        var i, id, len, ref, results, unit;
        this.unit.cloak = 0;
        this.zapped = [];
        this.zap(this.worldPos, this.target);
        ref = this.zapped;
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          id = ref[i];
          unit = sim.things[id];
          results.push(unit.applyDamage(this.damage / this.zapped.length));
        }
        return results;
      };
  
      TeslaTurret.prototype.zap = function(from, unit) {
        var closestUnit, minD, particle, range;
        this.zapped.push(unit.id);
        particle = new this.bulletCls();
        particle.image = "parts/zap" + (Math.floor(Math.random() * 4 + 1)) + ".png";
        sim.things[particle.id] = particle;
        particle.side = this.unit.side;
        particle.life = 0;
        particle.dead = false;
        particle.z = this.unit.z + .001;
        if (this.zapped.length === 1) {
          particle.turretNum = this.turretNum;
          particle.origin = this.unit;
          unit.applyEnergyDamage(this.energyDamage);
        } else {
          particle.sound = null;
        }
        particle.target = unit;
        v2.set(from, particle.pos);
        particle.targetPos = v2.create(particle.target.pos);
        if (this.zapped.length === 10) {
          return;
        }
        range = this.bounceRange;
        minD = range;
        closestUnit = null;
        sim.unitSpaces[otherSide(this.unit.side)].findInRange(unit.pos, range + 500, (function(_this) {
          return function(other) {
            var d, ref;
            if (other.cloakFade === 0 && (ref = other.id, indexOf.call(_this.zapped, ref) < 0)) {
              d = v2.distance(unit.pos, other.pos) - other.radius;
              if (d < 0) {
                d = 0;
              }
              if (d < minD) {
                minD = d;
                closestUnit = other;
              }
            }
            return false;
          };
        })(this));
        if (closestUnit) {
          return this.zap(unit.pos, closestUnit);
        }
      };
  
      return TeslaTurret;
  
    })(Turret);
  
    _wave = v2.create();
  
    _a = v2.create();
  
    _b = v2.create();
  
    types.WavePullArch = (function(superClass) {
      extend(WavePullArch, superClass);
  
      WavePullArch.prototype.image = "parts/fireWavePull.png";
  
      WavePullArch.prototype.sound = "sounds/weapons/WavePull.wav";
  
      WavePullArch.prototype.size = [.5, .5];
  
      WavePullArch.prototype.color = [179, 207, 255, 255];
  
      WavePullArch.prototype.radius = 30;
  
      WavePullArch.prototype.maxRadius = 100;
  
      WavePullArch.prototype.direction = 1;
  
      WavePullArch.prototype.waveEffect = 0.55;
  
      WavePullArch.prototype.hitsMultiple = true;
  
      WavePullArch.prototype.hitsCloak = true;
  
      function WavePullArch() {
        this.size = v2.create([.5, .5]);
        this.hitOnce = {};
        WavePullArch.__super__.constructor.call(this);
      }
  
      WavePullArch.prototype.draw = function() {
        this.color[3] = 128 * (1 - this.radius / this.maxRadius);
        this.size[0] = this.radius / 100;
        this.size[1] = this.radius / 100;
        return WavePullArch.__super__.draw.call(this);
      };
  
      WavePullArch.prototype.tick = function() {
        WavePullArch.__super__.tick.call(this);
        this.radius += (this.maxRadius - 30) / this.maxLife;
        if (this.radius > this.maxRadius) {
          return this.radius = this.maxRadius;
        }
      };
  
      WavePullArch.prototype.hitUnit = function(unit) {
        var amount, dot, p;
        if (!this.hitOnce[unit.id]) {
          unit.applyDamage(this.damage);
          this.hitOnce[unit.id] = true;
        }
        p = this.waveEffect * this.damage;
        v2.norm(this.vel, _wave);
        v2.scale(_wave, -this.direction);
        dot = v2.dot(unit.vel, _wave);
        amount = 0;
        if (dot < p) {
          amount = p;
        }
        v2.scale(_wave, amount);
        return v2.add(unit.vel, _wave);
      };
  
      return WavePullArch;
  
    })(Bullet);
  
    parts.WavePullTurret = (function(superClass) {
      extend(WavePullTurret, superClass);
  
      function WavePullTurret() {
        return WavePullTurret.__super__.constructor.apply(this, arguments);
      }
  
      WavePullTurret.prototype.name = "Gravity Pull Wave";
  
      WavePullTurret.prototype.desc = "Projects a gravity wave that pulls and damages as it passes through units.";
  
      WavePullTurret.prototype.hp = 10;
  
      WavePullTurret.prototype.cost = 5;
  
      WavePullTurret.prototype.image = "turWavePull.png";
  
      WavePullTurret.prototype.size = [2, 2];
  
      WavePullTurret.prototype.reloadTime = 64;
  
      WavePullTurret.prototype.trackSpeed = 90;
  
      WavePullTurret.prototype.bulletCls = types.WavePullArch;
  
      WavePullTurret.prototype.range = 850;
  
      WavePullTurret.prototype.shotEnergy = 1200;
  
      WavePullTurret.prototype.mass = 10;
  
      WavePullTurret.prototype.bulletSpeed = 35;
  
      WavePullTurret.prototype.damage = 4;
  
      WavePullTurret.prototype.multiHit = true;
  
      return WavePullTurret;
  
    })(Turret);
  
    types.WavePushArch = (function(superClass) {
      extend(WavePushArch, superClass);
  
      function WavePushArch() {
        return WavePushArch.__super__.constructor.apply(this, arguments);
      }
  
      WavePushArch.prototype.image = "parts/fireWavePush.png";
  
      WavePushArch.prototype.sound = "sounds/weapons/WavePush.wav";
  
      WavePushArch.prototype.direction = -1;
  
      WavePushArch.prototype.maxRadius = 100;
  
      WavePushArch.prototype.waveEffect = 0.55;
  
      return WavePushArch;
  
    })(types.WavePullArch);
  
    parts.WavePushTurret = (function(superClass) {
      extend(WavePushTurret, superClass);
  
      function WavePushTurret() {
        return WavePushTurret.__super__.constructor.apply(this, arguments);
      }
  
      WavePushTurret.prototype.name = "Gravity Push Wave";
  
      WavePushTurret.prototype.desc = "Projects a gravity wave that pushes and damages as it passes through units.";
  
      WavePushTurret.prototype.image = "turWavePush.png";
  
      WavePushTurret.prototype.bulletCls = types.WavePushArch;
  
      WavePushTurret.prototype.range = 775;
  
      WavePushTurret.prototype.damage = 5;
  
      WavePushTurret.prototype.multiHit = true;
  
      return WavePushTurret;
  
    })(parts.WavePullTurret);
  
    types.FlameBulletGhost = (function(superClass) {
      extend(FlameBulletGhost, superClass);
  
      function FlameBulletGhost() {
        return FlameBulletGhost.__super__.constructor.apply(this, arguments);
      }
  
      FlameBulletGhost.prototype.draw = function() {
        this.color[0] = Math.max(0, 255 - (260 * this.radius / this.maxRadius));
        this.color[1] = Math.max(0, 255 - (440 * this.radius / this.maxRadius));
        this.color[2] = Math.max(0, 255 - (700 * this.radius / this.maxRadius));
        this.color[3] = 64 * (1.2 - this.radius / this.maxRadius);
        this.size[0] = this.radius / 100;
        this.size[1] = this.radius / 100;
        return FlameBulletGhost.__super__.draw.call(this);
      };
  
      FlameBulletGhost.prototype.tick = function() {
        FlameBulletGhost.__super__.tick.call(this);
        this.radius += (this.maxRadius - 3) / this.maxLife;
        if (this.radius > this.maxRadius) {
          return this.radius = this.maxRadius;
        }
      };
  
      FlameBulletGhost.prototype.scan = function() {
        return null;
      };
  
      return FlameBulletGhost;
  
    })(Bullet);
  
    types.FlameBullet = (function(superClass) {
      extend(FlameBullet, superClass);
  
      FlameBullet.prototype.image = "parts/fireFlame1.png";
  
      FlameBullet.prototype.sound = "sounds/weapons/fireFlame.wav";
  
      FlameBullet.prototype.size = [0.7, 0.7];
  
      FlameBullet.prototype.color = [179, 207, 255, 255];
  
      FlameBullet.prototype.radius = 2;
  
      FlameBullet.prototype.maxRadius = 64;
  
      FlameBullet.prototype.hitsMultiple = true;
  
      FlameBullet.prototype.hitsCloak = true;
  
      FlameBullet.prototype.createGhost = 0;
  
      FlameBullet.prototype.originPos = [0, 0];
  
      function FlameBullet() {
        FlameBullet.__super__.constructor.call(this);
        this.hitOnce = {};
      }
  
      FlameBullet.prototype.draw = function() {
        var ex, ref, s, w;
        this.createGhost += 1;
        if (this.life < 2 && this.createGhost % 3 === 0) {
          if (this.origin) {
            w = (ref = this.origin.weapons) != null ? ref[this.turretNum || 0] : void 0;
            if (w) {
              v2.set(w.worldPos, this.originPos);
              ex = new types.FlameBulletGhost();
              ex.main = false;
              ex.image = "parts/fireFlame" + (chooseInt(1, 4)) + ".png";
              ex.z = this.z + rand() * .01;
              ex.pos = v2.create(this.originPos);
              ex.vel = v2.create(this.vel);
              s = .3 + .4 * Math.random();
              ex.size = [s, s];
              ex.radius = this.radius * 5;
              ex.maxRadius = this.maxRadius * 5;
              ex.rot = rand() * Math.PI * 2;
              ex.vrot = 0;
              ex.maxLife = this.maxLife;
              ex._pos = v2.create(ex.pos);
              ex._pos2 = v2.create(ex.pos);
              ex.rot = ex.rot;
              ex._rot = ex.rot;
              ex._rot2 = ex.rot;
              intp.particles[ex.id] = ex;
            }
          }
        }
        this.color[0] = Math.max(0, 255 - (260 * this.radius / this.maxRadius));
        this.color[1] = Math.max(0, 255 - (440 * this.radius / this.maxRadius));
        this.color[2] = Math.max(0, 255 - (700 * this.radius / this.maxRadius));
        this.color[3] = 64 * (1.2 - this.radius / this.maxRadius);
        this.size[0] = this.radius * 0.1;
        this.size[1] = this.radius * 0.1;
        return FlameBullet.__super__.draw.call(this);
      };
  
      FlameBullet.prototype.tick = function() {
        FlameBullet.__super__.tick.call(this);
        this.radius += (this.maxRadius - 30) / this.maxLife;
        if (this.radius > this.maxRadius) {
          return this.radius = this.maxRadius;
        }
      };
  
      FlameBullet.prototype.hitUnit = function(unit) {
        var maxBurn;
        if (!this.hitOnce[unit.id]) {
          unit.applyDamage(this.damage);
          maxBurn = (unit.hp + unit.shield) * 1.0;
          if (unit.burn < maxBurn) {
            unit.burn += this.burnAmount * this.damage;
            if (unit.burn > maxBurn) {
              unit.burn = maxBurn;
            }
          }
          return this.hitOnce[unit.id] = true;
        }
      };
  
      FlameBullet.prototype.postFire = function() {
        v2.add(this.pos, this.vel);
        v2.add(this.pos, this.vel);
        this.z += 10;
        this.rot = Math.PI * 2 * Math.random();
        return this.image = "parts/fireFlame" + (chooseInt(1, 4)) + ".png";
      };
  
      return FlameBullet;
  
    })(Bullet);
  
    parts.FlameTurret = (function(superClass) {
      extend(FlameTurret, superClass);
  
      function FlameTurret() {
        return FlameTurret.__super__.constructor.apply(this, arguments);
      }
  
      FlameTurret.prototype.name = "Flamethrower";
  
      FlameTurret.prototype.desc = "Fires a flame that lights units on fire that deals burn damage over time.";
  
      FlameTurret.prototype.hp = 10;
  
      FlameTurret.prototype.cost = 5;
  
      FlameTurret.prototype.image = "turFlame.png";
  
      FlameTurret.prototype.size = [2, 2];
  
      FlameTurret.prototype.reloadTime = 8;
  
      FlameTurret.prototype.trackSpeed = 90;
  
      FlameTurret.prototype.bulletCls = types.FlameBullet;
  
      FlameTurret.prototype.range = 360;
  
      FlameTurret.prototype.shotEnergy = 400;
  
      FlameTurret.prototype.mass = 14;
  
      FlameTurret.prototype.bulletSpeed = 16;
  
      FlameTurret.prototype.damage = 3;
  
      FlameTurret.prototype.dealsBurnDamage = true;
  
      FlameTurret.prototype.burnAmount = 7;
  
      FlameTurret.prototype.disable = false;
  
      return FlameTurret;
  
    })(Turret);
  
    parts.AOEWarhead = (function(superClass) {
      extend(AOEWarhead, superClass);
  
      function AOEWarhead() {
        return AOEWarhead.__super__.constructor.apply(this, arguments);
      }
  
      AOEWarhead.prototype.name = "Explosive Warhead";
  
      AOEWarhead.prototype.desc = "Kamikaze warhead dealing damage within an area";
  
      AOEWarhead.prototype.hp = 0;
  
      AOEWarhead.prototype.cost = 6;
  
      AOEWarhead.prototype.mass = 10;
  
      AOEWarhead.prototype.image = "AOEWarhead.png";
  
      AOEWarhead.prototype.attach = true;
  
      AOEWarhead.prototype.size = [2, 2];
  
      AOEWarhead.prototype.aoe = 390;
  
      AOEWarhead.prototype.life = 16;
  
      AOEWarhead.prototype.damage = 16;
  
      AOEWarhead.prototype.tab = "defence";
  
      AOEWarhead.prototype.explodes = true;
  
      AOEWarhead.prototype.init = function() {
        return this.unit.warhead = true;
      };
  
      AOEWarhead.prototype.tick = function() {
        var i, len, other, ref, results;
        if (this.unit.warheadTest !== sim.step && (this.unit.shapeDamage == null)) {
          this.unit.warheadTest = sim.step;
          ref = this.unit.closestEnemies();
          results = [];
          for (i = 0, len = ref.length; i < len; i++) {
            other = ref[i];
            if (v2.distance(other.pos, this.unit.pos) < this.unit.radius + other.radius + 50) {
              results.push(this.unit.hp = 0);
            } else {
              results.push(void 0);
            }
          }
          return results;
        }
      };
  
      AOEWarhead.prototype.postDeath = function() {
        var exp;
        exp = new types.AoeExplosion();
        exp.side = this.unit.side;
        exp.z = 1000;
        exp.pos = v2.create(this.worldPos);
        exp.vel = [0, 0];
        exp.rot = 0;
        exp.maxLife = this.life;
        exp.damage = this.damage;
        exp.aoe = this.aoe;
        exp.radius = 2;
        sim.things[exp.id] = exp;
      };
  
      return AOEWarhead;
  
    })(Part);
  
    parts.EMPWarhead = (function(superClass) {
      extend(EMPWarhead, superClass);
  
      function EMPWarhead() {
        return EMPWarhead.__super__.constructor.apply(this, arguments);
      }
  
      EMPWarhead.prototype.name = "EMP Warhead";
  
      EMPWarhead.prototype.desc = "Kamikaze EMP blast draining energy within an area";
  
      EMPWarhead.prototype.hp = 0;
  
      EMPWarhead.prototype.cost = 15;
  
      EMPWarhead.prototype.mass = 5;
  
      EMPWarhead.prototype.image = "empField.png";
  
      EMPWarhead.prototype.attach = true;
  
      EMPWarhead.prototype.size = [2, 2];
  
      EMPWarhead.prototype.aoe = 300;
  
      EMPWarhead.prototype.life = 16;
  
      EMPWarhead.prototype.energyDamage = 6000;
  
      EMPWarhead.prototype.tab = "defence";
  
      EMPWarhead.prototype.explodes = true;
  
      EMPWarhead.prototype.init = function() {
        return this.unit.warhead = true;
      };
  
      EMPWarhead.prototype.tick = function() {
        var i, len, other, ref, results;
        if (this.unit.warheadTest !== sim.step && (this.unit.shapeDamage == null)) {
          this.unit.warheadTest = sim.step;
          ref = this.unit.closestEnemies();
          results = [];
          for (i = 0, len = ref.length; i < len; i++) {
            other = ref[i];
            if (v2.distance(other.pos, this.unit.pos) < this.unit.radius + other.radius + 50) {
              results.push(this.unit.hp = 0);
            } else {
              results.push(void 0);
            }
          }
          return results;
        }
      };
  
      EMPWarhead.prototype.postDeath = function() {
        var exp;
        exp = new types.AoeExplosion();
        exp.side = this.unit.side;
        exp.image = "parts/zaphit" + (chooseInt(1, 3)) + ".png";
        exp.z = 1000;
        exp.pos = v2.create(this.worldPos);
        exp.vel = [0, 0];
        exp.rot = rand() * 100;
        exp.maxLife = this.life;
        exp.energyDamage = this.energyDamage;
        exp.aoe = this.aoe;
        exp.radius = 8;
        sim.things[exp.id] = exp;
      };
  
      return EMPWarhead;
  
    })(Part);
  
    parts.FlameWarhead = (function(superClass) {
      extend(FlameWarhead, superClass);
  
      function FlameWarhead() {
        return FlameWarhead.__super__.constructor.apply(this, arguments);
      }
  
      FlameWarhead.prototype.hide = true;
  
      FlameWarhead.prototype.disable = true;
  
      FlameWarhead.prototype.name = "Flame Warhead";
  
      FlameWarhead.prototype.desc = "Kamikaze flame blast applying burn damage within an area";
  
      FlameWarhead.prototype.hp = 0;
  
      FlameWarhead.prototype.cost = 5;
  
      FlameWarhead.prototype.mass = 5;
  
      FlameWarhead.prototype.image = "decals/Symbol15.png";
  
      FlameWarhead.prototype.attach = true;
  
      FlameWarhead.prototype.size = [2, 2];
  
      FlameWarhead.prototype.aoe = 250;
  
      FlameWarhead.prototype.life = 25;
  
      FlameWarhead.prototype.damage = 5;
  
      FlameWarhead.prototype.burnAmount = 10;
  
      FlameWarhead.prototype.tab = "defence";
  
      FlameWarhead.prototype.explodes = true;
  
      FlameWarhead.prototype.init = function() {
        return this.unit.warhead = true;
      };
  
      FlameWarhead.prototype.tick = function() {
        var i, len, other, ref, results;
        if (this.unit.warheadTest !== sim.step && (this.unit.shapeDamage == null)) {
          this.unit.warheadTest = sim.step;
          ref = this.unit.closestEnemies();
          results = [];
          for (i = 0, len = ref.length; i < len; i++) {
            other = ref[i];
            if (v2.distance(other.pos, this.unit.pos) < this.unit.radius + other.radius + 50) {
              results.push(this.unit.hp = 0);
            } else {
              results.push(void 0);
            }
          }
          return results;
        }
      };
  
      FlameWarhead.prototype.postDeath = function() {
        var exp;
        exp = new types.AoeExplosion();
        exp.side = this.unit.side;
        exp.image = "parts/fireFlame" + (chooseInt(1, 4)) + ".png";
        exp.z = 1000;
        exp.pos = v2.create(this.worldPos);
        exp.vel = [0, 0];
        exp.rot = rand() * 100;
        exp.maxLife = this.life;
        exp.color[0] = 233;
        exp.color[1] = 146;
        exp.color[2] = 86;
        exp.damage = this.damage;
        exp.burnAmount = this.burnAmount * this.damage;
        exp.aoe = this.aoe;
        exp.radius = 8;
        sim.things[exp.id] = exp;
      };
  
      return FlameWarhead;
  
    })(Part);
  
    parts.ShapedWarhead = (function(superClass) {
      extend(ShapedWarhead, superClass);
  
      function ShapedWarhead() {
        return ShapedWarhead.__super__.constructor.apply(this, arguments);
      }
  
      ShapedWarhead.prototype.name = "Shaped Warhead";
  
      ShapedWarhead.prototype.desc = "Explodes on impact dealing instant damage";
  
      ShapedWarhead.prototype.hp = 25;
  
      ShapedWarhead.prototype.cost = 5;
  
      ShapedWarhead.prototype.mass = 20;
  
      ShapedWarhead.prototype.image = "ShapedWarhead.png";
  
      ShapedWarhead.prototype.attach = true;
  
      ShapedWarhead.prototype.size = [2, 2];
  
      ShapedWarhead.prototype.aoe = 100;
  
      ShapedWarhead.prototype.damage = 50;
  
      ShapedWarhead.prototype.doesShapedDamage = true;
  
      ShapedWarhead.prototype.explodes = true;
  
      ShapedWarhead.prototype.tab = "defence";
  
      ShapedWarhead.prototype.init = function() {
        var i, len, part, ref, results;
        this.unit.warhead = true;
        if (this.unit.shapeDamage == null) {
          this.unit.shapeDamage = 0;
          ref = this.unit.parts;
          results = [];
          for (i = 0, len = ref.length; i < len; i++) {
            part = ref[i];
            if (part.doesShapedDamage) {
              results.push(this.unit.shapeDamage += this.damage);
            } else {
              results.push(void 0);
            }
          }
          return results;
        }
      };
  
      ShapedWarhead.prototype.tick = function() {
        var i, len, other, ref, results;
        if (this.unit.warheadTest !== sim.step) {
          this.unit.warheadTest = sim.step;
          ref = this.unit.closestEnemies();
          results = [];
          for (i = 0, len = ref.length; i < len; i++) {
            other = ref[i];
            if ((other.maxHP + other.maxShield) * 2 < this.unit.shapeDamage) {
              continue;
            }
            if (v2.distance(other.pos, this.unit.pos) > (other.radius + this.unit.radius)) {
              continue;
            }
            results.push(this.unit.hp = 0);
          }
          return results;
        }
      };
  
      ShapedWarhead.prototype.postDeath = function() {
        var exp;
        exp = new types.AoeExplosion();
        exp.side = this.unit.side;
        exp.z = 1000;
        exp.pos = v2.create(this.worldPos);
        exp.vel = [0, 0];
        exp.rot = 0;
        exp.maxLife = this.life;
        exp.damage = this.damage;
        exp.aoe = this.aoe;
        exp.radius = 2;
        sim.things[exp.id] = exp;
      };
  
      return ShapedWarhead;
  
    })(Part);
  
    ModPart = (function(superClass) {
      extend(ModPart, superClass);
  
      function ModPart() {
        this.effected_weapons = bind(this.effected_weapons, this);
        return ModPart.__super__.constructor.apply(this, arguments);
      }
  
      ModPart.prototype.adjacent = true;
  
      ModPart.prototype.attach = true;
  
      ModPart.prototype.size = [2, 2];
  
      ModPart.prototype.weaponRange = 0;
  
      ModPart.prototype.weaponRangeFlat = 0;
  
      ModPart.prototype.weaponDamage = 0;
  
      ModPart.prototype.weaponSpeed = 0;
  
      ModPart.prototype.weaponReload = 0;
  
      ModPart.prototype.weaponEnergy = 0;
  
      ModPart.prototype.stripe = true;
  
      ModPart.prototype.tab = "weapons";
  
      ModPart.prototype.effected_weapons = function() {
        var effected, i, len, ref, w;
        effected = [];
        ref = this.unit.weapons;
        for (i = 0, len = ref.length; i < len; i++) {
          w = ref[i];
          if (v2.distance(w.pos, this.pos) < 45) {
            effected.push(w);
          }
        }
        return effected;
      };
  
      ModPart.prototype.init = function() {
        var effect, i, len, results, w, ws;
        ws = this.effected_weapons();
        effect = (1 / 0.85) * (Math.pow(0.85, ws.length));
        results = [];
        for (i = 0, len = ws.length; i < len; i++) {
          w = ws[i];
          w.weaponRange *= 1 + this.weaponRange / 100 * effect;
          w.weaponRangeFlat += this.weaponRangeFlat * effect;
          w.weaponDamage *= 1 + this.weaponDamage / 100 * effect;
          w.weaponSpeed += this.weaponSpeed / 100 * effect;
          w.weaponReload *= 1 + this.weaponReload / 100 * effect;
          results.push(w.weaponEnergy *= 1 + this.weaponEnergy / 100 * effect);
        }
        return results;
      };
  
      return ModPart;
  
    })(Part);
  
    parts.TargetingMod = (function(superClass) {
      extend(TargetingMod, superClass);
  
      function TargetingMod() {
        return TargetingMod.__super__.constructor.apply(this, arguments);
      }
  
      TargetingMod.prototype.name = "Targeting Subsystem";
  
      TargetingMod.prototype.desc = "Increaces range of adjacent weapons at cost of reload rate. -15% effect for each supported weapon.";
  
      TargetingMod.prototype.hp = 10;
  
      TargetingMod.prototype.cost = 20;
  
      TargetingMod.prototype.mass = 30;
  
      TargetingMod.prototype.image = "TargetingMod.png";
  
      TargetingMod.prototype.weaponRange = 25;
  
      TargetingMod.prototype.weaponReload = 30;
  
      return TargetingMod;
  
    })(ModPart);
  
    parts.DamageMod = (function(superClass) {
      extend(DamageMod, superClass);
  
      function DamageMod() {
        return DamageMod.__super__.constructor.apply(this, arguments);
      }
  
      DamageMod.prototype.name = "Overcharger";
  
      DamageMod.prototype.desc = "Increases damage of adjacent weapons at cost of reload rate. -15% effect for each supported weapon";
  
      DamageMod.prototype.cost = 10;
  
      DamageMod.prototype.mass = 10;
  
      DamageMod.prototype.image = "DamageMod.png";
  
      DamageMod.prototype.weaponDamage = 30;
  
      DamageMod.prototype.weaponReload = 15;
  
      return DamageMod;
  
    })(ModPart);
  
    parts.ReloaderMod = (function(superClass) {
      extend(ReloaderMod, superClass);
  
      function ReloaderMod() {
        return ReloaderMod.__super__.constructor.apply(this, arguments);
      }
  
      ReloaderMod.prototype.name = "Reloader";
  
      ReloaderMod.prototype.desc = "Decreases reload time of adjacent weapons. -15% effect for each supported weapon";
  
      ReloaderMod.prototype.cost = 25;
  
      ReloaderMod.prototype.mass = 10;
  
      ReloaderMod.prototype.image = "ReloaderMod.png";
  
      ReloaderMod.prototype.weaponReload = -34;
  
      return ReloaderMod;
  
    })(ModPart);
  
    parts.BulletSpeedMod = (function(superClass) {
      extend(BulletSpeedMod, superClass);
  
      function BulletSpeedMod() {
        return BulletSpeedMod.__super__.constructor.apply(this, arguments);
      }
  
      BulletSpeedMod.prototype.name = "Speed Coils";
  
      BulletSpeedMod.prototype.desc = "Adds flat range and flat % bullet speed to adjacent weapons at cost of reload rate. -15% effect for each supported weapon.";
  
      BulletSpeedMod.prototype.cost = 5;
  
      BulletSpeedMod.prototype.mass = 1;
  
      BulletSpeedMod.prototype.hp = 5;
  
      BulletSpeedMod.prototype.image = "BulletSpeedMod.png";
  
      BulletSpeedMod.prototype.weaponSpeed = 50;
  
      BulletSpeedMod.prototype.weaponReload = 15;
  
      BulletSpeedMod.prototype.weaponRangeFlat = 50;
  
      return BulletSpeedMod;
  
    })(ModPart);
  
    parts.DampenerMod = (function(superClass) {
      extend(DampenerMod, superClass);
  
      function DampenerMod() {
        return DampenerMod.__super__.constructor.apply(this, arguments);
      }
  
      DampenerMod.prototype.name = "Dampener";
  
      DampenerMod.prototype.desc = "Decreases energy usage of adjacent weapons at the cost of bullet speed. -15% effect for each supported weapon.";
  
      DampenerMod.prototype.cost = 5;
  
      DampenerMod.prototype.mass = 5;
  
      DampenerMod.prototype.hp = 10;
  
      DampenerMod.prototype.image = "dampener.png";
  
      DampenerMod.prototype.weaponSpeed = -8;
  
      DampenerMod.prototype.weaponEnergy = -26.5;
  
      return DampenerMod;
  
    })(ModPart);
  
    AiPart = (function(superClass) {
      extend(AiPart, superClass);
  
      function AiPart() {
        return AiPart.__super__.constructor.apply(this, arguments);
      }
  
      AiPart.prototype.hp = 0;
  
      AiPart.prototype.hide = true;
  
      AiPart.prototype.name = "Missile Only AI";
  
      AiPart.prototype.desc = "Makes the adjacent turrets shoot only at missiles if close to missile ships. (does not work yet)";
  
      AiPart.prototype.cost = 5;
  
      AiPart.prototype.image = "ai01.png";
  
      AiPart.prototype.attach = true;
  
      AiPart.prototype.adjacent = true;
  
      AiPart.prototype.size = [1, 1];
  
      AiPart.prototype.mass = 1;
  
      AiPart.prototype.stripe = true;
  
      AiPart.prototype.tab = "weapons";
  
      return AiPart;
  
    })(Part);
  
    parts.Ai1 = (function(superClass) {
      extend(Ai1, superClass);
  
      function Ai1() {
        return Ai1.__super__.constructor.apply(this, arguments);
      }
  
      Ai1.prototype.hp = 0;
  
      Ai1.prototype.hide = true;
  
      Ai1.prototype.name = "Missile Only AI";
  
      Ai1.prototype.desc = "Makes the adjacent turrets shoot only at missiles if close to missile ships. (does not work yet)";
  
      Ai1.prototype.cost = 5;
  
      Ai1.prototype.image = "ai01.png";
  
      Ai1.prototype.attach = true;
  
      Ai1.prototype.adjacent = true;
  
      Ai1.prototype.size = [1, 1];
  
      Ai1.prototype.mass = 1;
  
      Ai1.prototype.stripe = true;
  
      Ai1.prototype.tab = "weapons";
  
      Ai1.prototype.disable = true;
  
      return Ai1;
  
    })(AiPart);
  
    parts.OverKillAi = (function(superClass) {
      extend(OverKillAi, superClass);
  
      function OverKillAi() {
        this.effected_weapons = bind(this.effected_weapons, this);
        return OverKillAi.__super__.constructor.apply(this, arguments);
      }
  
      OverKillAi.prototype.hide = false;
  
      OverKillAi.prototype.name = "No Overkill";
  
      OverKillAi.prototype.desc = "Makes the adjacent turrets not shoot if it would kill an enemy twice in one shot.";
  
      OverKillAi.prototype.cost = 1;
  
      OverKillAi.prototype.hp = 4;
  
      OverKillAi.prototype.image = "OverKillAi.png";
  
      OverKillAi.prototype.attach = true;
  
      OverKillAi.prototype.adjacent = true;
  
      OverKillAi.prototype.size = [1, 1];
  
      OverKillAi.prototype.mass = 1;
  
      OverKillAi.prototype.effected_weapons = function() {
        var effected, i, len, ref, w;
        effected = [];
        ref = this.unit.weapons;
        for (i = 0, len = ref.length; i < len; i++) {
          w = ref[i];
          if (v2.distance(w.pos, this.pos) < 45) {
            effected.push(w);
          }
        }
        return effected;
      };
  
      OverKillAi.prototype.init = function() {
        var i, len, results, w, ws;
        ws = this.effected_weapons();
        results = [];
        for (i = 0, len = ws.length; i < len; i++) {
          w = ws[i];
          results.push(w.noOverkill = true);
        }
        return results;
      };
  
      return OverKillAi;
  
    })(AiPart);
  
    parts.Ai3 = (function(superClass) {
      extend(Ai3, superClass);
  
      function Ai3() {
        return Ai3.__super__.constructor.apply(this, arguments);
      }
  
      Ai3.prototype.name = "Accurate AI";
  
      Ai3.prototype.desc = "Makes the adjacent turrets shoot only at targets is sure really to hit. (does not work yet)";
  
      Ai3.prototype.cost = 50;
  
      Ai3.prototype.image = "ai09.png";
  
      Ai3.prototype.attach = true;
  
      Ai3.prototype.adjacent = true;
  
      Ai3.prototype.size = [1, 1];
  
      Ai3.prototype.mass = 10;
  
      Ai3.prototype.disable = true;
  
      return Ai3;
  
    })(AiPart);
  
    parts.Ai4 = (function(superClass) {
      extend(Ai4, superClass);
  
      function Ai4() {
        return Ai4.__super__.constructor.apply(this, arguments);
      }
  
      Ai4.prototype.name = "AOE AI";
  
      Ai4.prototype.desc = "Makes the adjacent turrets shoot in the middle of groups trying to hit it with AOE damage. (does not work yet)";
  
      Ai4.prototype.cost = 50;
  
      Ai4.prototype.image = "ai03.png";
  
      Ai4.prototype.attach = true;
  
      Ai4.prototype.adjacent = true;
  
      Ai4.prototype.size = [1, 1];
  
      Ai4.prototype.mass = 10;
  
      Ai4.prototype.disable = true;
  
      return Ai4;
  
    })(AiPart);
  
    parts.SymbolDecal1 = (function(superClass) {
      extend(SymbolDecal1, superClass);
  
      function SymbolDecal1() {
        return SymbolDecal1.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal1.prototype.name = "Insignia";
  
      SymbolDecal1.prototype.desc = "Place this on your ship to show off your affiliation.";
  
      SymbolDecal1.prototype.hp = 0;
  
      SymbolDecal1.prototype.decal = true;
  
      SymbolDecal1.prototype.cost = 0;
  
      SymbolDecal1.prototype.image = "decals/Symbol1.png";
  
      SymbolDecal1.prototype.size = [2, 2];
  
      SymbolDecal1.prototype.mass = 0;
  
      SymbolDecal1.prototype.tab = "decal";
  
      SymbolDecal1.prototype.dlc = "Paint Job";
  
      SymbolDecal1.prototype.opacity = 1;
  
      return SymbolDecal1;
  
    })(Part);
  
    parts.SymbolDecal2 = (function(superClass) {
      extend(SymbolDecal2, superClass);
  
      function SymbolDecal2() {
        return SymbolDecal2.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal2.prototype.image = "decals/Symbol2.png";
  
      return SymbolDecal2;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal3 = (function(superClass) {
      extend(SymbolDecal3, superClass);
  
      function SymbolDecal3() {
        return SymbolDecal3.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal3.prototype.image = "decals/Symbol3.png";
  
      return SymbolDecal3;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal4 = (function(superClass) {
      extend(SymbolDecal4, superClass);
  
      function SymbolDecal4() {
        return SymbolDecal4.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal4.prototype.image = "decals/Symbol4.png";
  
      return SymbolDecal4;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal5 = (function(superClass) {
      extend(SymbolDecal5, superClass);
  
      function SymbolDecal5() {
        return SymbolDecal5.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal5.prototype.image = "decals/Symbol5.png";
  
      return SymbolDecal5;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal6 = (function(superClass) {
      extend(SymbolDecal6, superClass);
  
      function SymbolDecal6() {
        return SymbolDecal6.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal6.prototype.image = "decals/Symbol6.png";
  
      return SymbolDecal6;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal7 = (function(superClass) {
      extend(SymbolDecal7, superClass);
  
      function SymbolDecal7() {
        return SymbolDecal7.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal7.prototype.image = "decals/Symbol7.png";
  
      return SymbolDecal7;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal8 = (function(superClass) {
      extend(SymbolDecal8, superClass);
  
      function SymbolDecal8() {
        return SymbolDecal8.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal8.prototype.image = "decals/Symbol8.png";
  
      return SymbolDecal8;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal9 = (function(superClass) {
      extend(SymbolDecal9, superClass);
  
      function SymbolDecal9() {
        return SymbolDecal9.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal9.prototype.image = "decals/Symbol9.png";
  
      return SymbolDecal9;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal10 = (function(superClass) {
      extend(SymbolDecal10, superClass);
  
      function SymbolDecal10() {
        return SymbolDecal10.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal10.prototype.image = "decals/Symbol10.png";
  
      return SymbolDecal10;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal11 = (function(superClass) {
      extend(SymbolDecal11, superClass);
  
      function SymbolDecal11() {
        return SymbolDecal11.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal11.prototype.image = "decals/Symbol11.png";
  
      return SymbolDecal11;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal12 = (function(superClass) {
      extend(SymbolDecal12, superClass);
  
      function SymbolDecal12() {
        return SymbolDecal12.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal12.prototype.image = "decals/Symbol12.png";
  
      return SymbolDecal12;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal13 = (function(superClass) {
      extend(SymbolDecal13, superClass);
  
      function SymbolDecal13() {
        return SymbolDecal13.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal13.prototype.image = "decals/Symbol13.png";
  
      return SymbolDecal13;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal14 = (function(superClass) {
      extend(SymbolDecal14, superClass);
  
      function SymbolDecal14() {
        return SymbolDecal14.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal14.prototype.image = "decals/Symbol14.png";
  
      return SymbolDecal14;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal15 = (function(superClass) {
      extend(SymbolDecal15, superClass);
  
      function SymbolDecal15() {
        return SymbolDecal15.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal15.prototype.image = "decals/Symbol15.png";
  
      return SymbolDecal15;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal16 = (function(superClass) {
      extend(SymbolDecal16, superClass);
  
      function SymbolDecal16() {
        return SymbolDecal16.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal16.prototype.image = "decals/Symbol16.png";
  
      return SymbolDecal16;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal17 = (function(superClass) {
      extend(SymbolDecal17, superClass);
  
      function SymbolDecal17() {
        return SymbolDecal17.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal17.prototype.image = "decals/Symbol17.png";
  
      return SymbolDecal17;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal18 = (function(superClass) {
      extend(SymbolDecal18, superClass);
  
      function SymbolDecal18() {
        return SymbolDecal18.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal18.prototype.image = "decals/Symbol18.png";
  
      return SymbolDecal18;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal19 = (function(superClass) {
      extend(SymbolDecal19, superClass);
  
      function SymbolDecal19() {
        return SymbolDecal19.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal19.prototype.image = "decals/Symbol19.png";
  
      return SymbolDecal19;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal20 = (function(superClass) {
      extend(SymbolDecal20, superClass);
  
      function SymbolDecal20() {
        return SymbolDecal20.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal20.prototype.image = "decals/Symbol20.png";
  
      return SymbolDecal20;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal21 = (function(superClass) {
      extend(SymbolDecal21, superClass);
  
      function SymbolDecal21() {
        return SymbolDecal21.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal21.prototype.image = "decals/Symbol21.png";
  
      return SymbolDecal21;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal22 = (function(superClass) {
      extend(SymbolDecal22, superClass);
  
      function SymbolDecal22() {
        return SymbolDecal22.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal22.prototype.image = "decals/Symbol22.png";
  
      return SymbolDecal22;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal23 = (function(superClass) {
      extend(SymbolDecal23, superClass);
  
      function SymbolDecal23() {
        return SymbolDecal23.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal23.prototype.image = "decals/Symbol23.png";
  
      return SymbolDecal23;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal24 = (function(superClass) {
      extend(SymbolDecal24, superClass);
  
      function SymbolDecal24() {
        return SymbolDecal24.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal24.prototype.image = "decals/Symbol24.png";
  
      return SymbolDecal24;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal25 = (function(superClass) {
      extend(SymbolDecal25, superClass);
  
      function SymbolDecal25() {
        return SymbolDecal25.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal25.prototype.image = "decals/Symbol25.png";
  
      return SymbolDecal25;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal26 = (function(superClass) {
      extend(SymbolDecal26, superClass);
  
      function SymbolDecal26() {
        return SymbolDecal26.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal26.prototype.image = "decals/Symbol26.png";
  
      return SymbolDecal26;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal27 = (function(superClass) {
      extend(SymbolDecal27, superClass);
  
      function SymbolDecal27() {
        return SymbolDecal27.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal27.prototype.image = "decals/Symbol27.png";
  
      return SymbolDecal27;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal28 = (function(superClass) {
      extend(SymbolDecal28, superClass);
  
      function SymbolDecal28() {
        return SymbolDecal28.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal28.prototype.image = "decals/Symbol28.png";
  
      return SymbolDecal28;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal29 = (function(superClass) {
      extend(SymbolDecal29, superClass);
  
      function SymbolDecal29() {
        return SymbolDecal29.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal29.prototype.image = "decals/Symbol29.png";
  
      SymbolDecal29.prototype.disable = true;
  
      return SymbolDecal29;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal30 = (function(superClass) {
      extend(SymbolDecal30, superClass);
  
      function SymbolDecal30() {
        return SymbolDecal30.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal30.prototype.image = "decals/Symbol30.png";
  
      SymbolDecal30.prototype.disable = true;
  
      return SymbolDecal30;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal31 = (function(superClass) {
      extend(SymbolDecal31, superClass);
  
      function SymbolDecal31() {
        return SymbolDecal31.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal31.prototype.image = "decals/Symbol31.png";
  
      SymbolDecal31.prototype.disable = true;
  
      return SymbolDecal31;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal32 = (function(superClass) {
      extend(SymbolDecal32, superClass);
  
      function SymbolDecal32() {
        return SymbolDecal32.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal32.prototype.image = "decals/Symbol32.png";
  
      SymbolDecal32.prototype.disable = true;
  
      return SymbolDecal32;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal33 = (function(superClass) {
      extend(SymbolDecal33, superClass);
  
      function SymbolDecal33() {
        return SymbolDecal33.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal33.prototype.image = "decals/Symbol33.png";
  
      SymbolDecal33.prototype.disable = true;
  
      return SymbolDecal33;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal34 = (function(superClass) {
      extend(SymbolDecal34, superClass);
  
      function SymbolDecal34() {
        return SymbolDecal34.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal34.prototype.image = "decals/Symbol34.png";
  
      SymbolDecal34.prototype.disable = true;
  
      return SymbolDecal34;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal35 = (function(superClass) {
      extend(SymbolDecal35, superClass);
  
      function SymbolDecal35() {
        return SymbolDecal35.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal35.prototype.image = "decals/Symbol35.png";
  
      SymbolDecal35.prototype.disable = true;
  
      return SymbolDecal35;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal36 = (function(superClass) {
      extend(SymbolDecal36, superClass);
  
      function SymbolDecal36() {
        return SymbolDecal36.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal36.prototype.image = "decals/Symbol36.png";
  
      SymbolDecal36.prototype.disable = true;
  
      return SymbolDecal36;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal37 = (function(superClass) {
      extend(SymbolDecal37, superClass);
  
      function SymbolDecal37() {
        return SymbolDecal37.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal37.prototype.image = "decals/Symbol37.png";
  
      SymbolDecal37.prototype.disable = true;
  
      return SymbolDecal37;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal38 = (function(superClass) {
      extend(SymbolDecal38, superClass);
  
      function SymbolDecal38() {
        return SymbolDecal38.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal38.prototype.image = "decals/Symbol38.png";
  
      SymbolDecal38.prototype.disable = true;
  
      return SymbolDecal38;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal39 = (function(superClass) {
      extend(SymbolDecal39, superClass);
  
      function SymbolDecal39() {
        return SymbolDecal39.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal39.prototype.image = "decals/Symbol39.png";
  
      SymbolDecal39.prototype.disable = true;
  
      return SymbolDecal39;
  
    })(parts.SymbolDecal1);
  
    parts.SymbolDecal40 = (function(superClass) {
      extend(SymbolDecal40, superClass);
  
      function SymbolDecal40() {
        return SymbolDecal40.__super__.constructor.apply(this, arguments);
      }
  
      SymbolDecal40.prototype.image = "decals/Symbol40.png";
  
      SymbolDecal40.prototype.disable = true;
  
      return SymbolDecal40;
  
    })(parts.SymbolDecal1);
  
    parts.Stripe1x1 = (function(superClass) {
      extend(Stripe1x1, superClass);
  
      function Stripe1x1() {
        return Stripe1x1.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1.prototype.name = "Stripe";
  
      Stripe1x1.prototype.desc = "Stripes make your ships cool.";
  
      Stripe1x1.prototype.size = [1, 1];
  
      Stripe1x1.prototype.image = "decals/Stripe1x1.png";
  
      Stripe1x1.prototype.tab = "stripes";
  
      Stripe1x1.prototype.opacity = 1;
  
      return Stripe1x1;
  
    })(parts.SymbolDecal1);
  
    parts.Stripe1x1Corner = (function(superClass) {
      extend(Stripe1x1Corner, superClass);
  
      function Stripe1x1Corner() {
        return Stripe1x1Corner.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1Corner.prototype.size = [1, 1];
  
      Stripe1x1Corner.prototype.image = "decals/Stripe1x1Corner.png";
  
      return Stripe1x1Corner;
  
    })(parts.Stripe1x1);
  
    parts.Stripe1x2 = (function(superClass) {
      extend(Stripe1x2, superClass);
  
      function Stripe1x2() {
        return Stripe1x2.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x2.prototype.size = [1, 2];
  
      Stripe1x2.prototype.image = "decals/Stripe1x2.png";
  
      return Stripe1x2;
  
    })(parts.Stripe1x1);
  
    parts.Stripe2x1 = (function(superClass) {
      extend(Stripe2x1, superClass);
  
      function Stripe2x1() {
        return Stripe2x1.__super__.constructor.apply(this, arguments);
      }
  
      Stripe2x1.prototype.size = [2, 1];
  
      Stripe2x1.prototype.image = "decals/Stripe2x1.png";
  
      return Stripe2x1;
  
    })(parts.Stripe1x1);
  
    parts.Stripe2x2 = (function(superClass) {
      extend(Stripe2x2, superClass);
  
      function Stripe2x2() {
        return Stripe2x2.__super__.constructor.apply(this, arguments);
      }
  
      Stripe2x2.prototype.size = [2, 2];
  
      Stripe2x2.prototype.image = "decals/Stripe2x2.png";
  
      return Stripe2x2;
  
    })(parts.Stripe1x1);
  
    parts.Stripe2x2Corner = (function(superClass) {
      extend(Stripe2x2Corner, superClass);
  
      function Stripe2x2Corner() {
        return Stripe2x2Corner.__super__.constructor.apply(this, arguments);
      }
  
      Stripe2x2Corner.prototype.size = [2, 2];
  
      Stripe2x2Corner.prototype.image = "decals/Stripe2x2Corner.png";
  
      return Stripe2x2Corner;
  
    })(parts.Stripe1x1);
  
    parts.Stripe2x2Round = (function(superClass) {
      extend(Stripe2x2Round, superClass);
  
      function Stripe2x2Round() {
        return Stripe2x2Round.__super__.constructor.apply(this, arguments);
      }
  
      Stripe2x2Round.prototype.size = [2, 2];
  
      Stripe2x2Round.prototype.image = "decals/Stripe2x2Round.png";
  
      return Stripe2x2Round;
  
    })(parts.Stripe1x1);
  
    parts.StripeDouble2x1 = (function(superClass) {
      extend(StripeDouble2x1, superClass);
  
      function StripeDouble2x1() {
        return StripeDouble2x1.__super__.constructor.apply(this, arguments);
      }
  
      StripeDouble2x1.prototype.size = [2, 1];
  
      StripeDouble2x1.prototype.image = "decals/StripeDouble2x1.png";
  
      return StripeDouble2x1;
  
    })(parts.Stripe1x1);
  
    parts.StripeDouble2x2 = (function(superClass) {
      extend(StripeDouble2x2, superClass);
  
      function StripeDouble2x2() {
        return StripeDouble2x2.__super__.constructor.apply(this, arguments);
      }
  
      StripeDouble2x2.prototype.size = [2, 2];
  
      StripeDouble2x2.prototype.image = "decals/StripeDouble2x2.png";
  
      return StripeDouble2x2;
  
    })(parts.Stripe1x1);
  
    parts.Stripe1x1Slash = (function(superClass) {
      extend(Stripe1x1Slash, superClass);
  
      function Stripe1x1Slash() {
        return Stripe1x1Slash.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1Slash.prototype.size = [1, 1];
  
      Stripe1x1Slash.prototype.image = "decals/Stripe1x1Slash.png";
  
      Stripe1x1Slash.prototype.dlc = "Curves and Shadows";
  
      return Stripe1x1Slash;
  
    })(parts.Stripe1x1);
  
    parts.Stripe1x1SlashInside = (function(superClass) {
      extend(Stripe1x1SlashInside, superClass);
  
      function Stripe1x1SlashInside() {
        return Stripe1x1SlashInside.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1SlashInside.prototype.size = [1, 1];
  
      Stripe1x1SlashInside.prototype.image = "decals/Stripe1x1SlashInside.png";
  
      Stripe1x1SlashInside.prototype.dlc = "Curves and Shadows";
  
      return Stripe1x1SlashInside;
  
    })(parts.Stripe1x1);
  
    parts.Stripe2x2Slash = (function(superClass) {
      extend(Stripe2x2Slash, superClass);
  
      function Stripe2x2Slash() {
        return Stripe2x2Slash.__super__.constructor.apply(this, arguments);
      }
  
      Stripe2x2Slash.prototype.size = [2, 2];
  
      Stripe2x2Slash.prototype.image = "decals/Stripe2x2Slash.png";
  
      Stripe2x2Slash.prototype.dlc = "Curves and Shadows";
  
      return Stripe2x2Slash;
  
    })(parts.Stripe1x1);
  
    parts.Stripe2x2End = (function(superClass) {
      extend(Stripe2x2End, superClass);
  
      function Stripe2x2End() {
        return Stripe2x2End.__super__.constructor.apply(this, arguments);
      }
  
      Stripe2x2End.prototype.size = [2, 2];
  
      Stripe2x2End.prototype.image = "decals/Stripe2x2End.png";
  
      Stripe2x2End.prototype.dlc = "Curves and Shadows";
  
      return Stripe2x2End;
  
    })(parts.Stripe1x1);
  
    parts.Stripe1x1Fill1 = (function(superClass) {
      extend(Stripe1x1Fill1, superClass);
  
      function Stripe1x1Fill1() {
        return Stripe1x1Fill1.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1Fill1.prototype.size = [1, 1];
  
      Stripe1x1Fill1.prototype.image = "decals/Stripe1x1Fill1.png";
  
      Stripe1x1Fill1.prototype.dlc = "Curves and Shadows";
  
      return Stripe1x1Fill1;
  
    })(parts.Stripe1x1);
  
    parts.Stripe1x1Fill2 = (function(superClass) {
      extend(Stripe1x1Fill2, superClass);
  
      function Stripe1x1Fill2() {
        return Stripe1x1Fill2.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1Fill2.prototype.size = [1, 1];
  
      Stripe1x1Fill2.prototype.image = "decals/Stripe1x1Fill2.png";
  
      Stripe1x1Fill2.prototype.dlc = "Curves and Shadows";
  
      return Stripe1x1Fill2;
  
    })(parts.Stripe1x1);
  
    parts.Stripe1x1Fill3 = (function(superClass) {
      extend(Stripe1x1Fill3, superClass);
  
      function Stripe1x1Fill3() {
        return Stripe1x1Fill3.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1Fill3.prototype.size = [1, 1];
  
      Stripe1x1Fill3.prototype.image = "decals/Stripe1x1Fill3.png";
  
      Stripe1x1Fill3.prototype.dlc = "Curves and Shadows";
  
      return Stripe1x1Fill3;
  
    })(parts.Stripe1x1);
  
    parts.Stripe1x1Fill4 = (function(superClass) {
      extend(Stripe1x1Fill4, superClass);
  
      function Stripe1x1Fill4() {
        return Stripe1x1Fill4.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1Fill4.prototype.size = [1, 1];
  
      Stripe1x1Fill4.prototype.image = "decals/Stripe1x1Fill4.png";
  
      Stripe1x1Fill4.prototype.dlc = "Curves and Shadows";
  
      return Stripe1x1Fill4;
  
    })(parts.Stripe1x1);
  
    parts.Stripe1x1Fill5 = (function(superClass) {
      extend(Stripe1x1Fill5, superClass);
  
      function Stripe1x1Fill5() {
        return Stripe1x1Fill5.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1Fill5.prototype.size = [1, 1];
  
      Stripe1x1Fill5.prototype.image = "decals/Stripe1x1Fill5.png";
  
      Stripe1x1Fill5.prototype.dlc = "Curves and Shadows";
  
      return Stripe1x1Fill5;
  
    })(parts.Stripe1x1);
  
    parts.Stripe1x1Fill6 = (function(superClass) {
      extend(Stripe1x1Fill6, superClass);
  
      function Stripe1x1Fill6() {
        return Stripe1x1Fill6.__super__.constructor.apply(this, arguments);
      }
  
      Stripe1x1Fill6.prototype.size = [1, 1];
  
      Stripe1x1Fill6.prototype.image = "decals/Stripe1x1Fill6.png";
  
      Stripe1x1Fill6.prototype.dlc = "Curves and Shadows";
  
      return Stripe1x1Fill6;
  
    })(parts.Stripe1x1);
  
    parts.LetterA = (function(superClass) {
      extend(LetterA, superClass);
  
      function LetterA() {
        return LetterA.__super__.constructor.apply(this, arguments);
      }
  
      LetterA.prototype.name = "Lettering";
  
      LetterA.prototype.desc = "Mark your ships.";
  
      LetterA.prototype.image = "decals/letterA.png";
  
      LetterA.prototype.tab = "letters";
  
      LetterA.prototype.flip = false;
  
      LetterA.prototype.opacity = 1;
  
      return LetterA;
  
    })(parts.SymbolDecal1);
  
    parts.LetterB = (function(superClass) {
      extend(LetterB, superClass);
  
      function LetterB() {
        return LetterB.__super__.constructor.apply(this, arguments);
      }
  
      LetterB.prototype.image = "decals/letterB.png";
  
      return LetterB;
  
    })(parts.LetterA);
  
    parts.LetterC = (function(superClass) {
      extend(LetterC, superClass);
  
      function LetterC() {
        return LetterC.__super__.constructor.apply(this, arguments);
      }
  
      LetterC.prototype.image = "decals/letterC.png";
  
      return LetterC;
  
    })(parts.LetterA);
  
    parts.LetterD = (function(superClass) {
      extend(LetterD, superClass);
  
      function LetterD() {
        return LetterD.__super__.constructor.apply(this, arguments);
      }
  
      LetterD.prototype.image = "decals/letterD.png";
  
      return LetterD;
  
    })(parts.LetterA);
  
    parts.LetterE = (function(superClass) {
      extend(LetterE, superClass);
  
      function LetterE() {
        return LetterE.__super__.constructor.apply(this, arguments);
      }
  
      LetterE.prototype.image = "decals/letterE.png";
  
      return LetterE;
  
    })(parts.LetterA);
  
    parts.LetterF = (function(superClass) {
      extend(LetterF, superClass);
  
      function LetterF() {
        return LetterF.__super__.constructor.apply(this, arguments);
      }
  
      LetterF.prototype.image = "decals/letterF.png";
  
      return LetterF;
  
    })(parts.LetterA);
  
    parts.LetterG = (function(superClass) {
      extend(LetterG, superClass);
  
      function LetterG() {
        return LetterG.__super__.constructor.apply(this, arguments);
      }
  
      LetterG.prototype.image = "decals/letterG.png";
  
      return LetterG;
  
    })(parts.LetterA);
  
    parts.LetterH = (function(superClass) {
      extend(LetterH, superClass);
  
      function LetterH() {
        return LetterH.__super__.constructor.apply(this, arguments);
      }
  
      LetterH.prototype.image = "decals/letterH.png";
  
      return LetterH;
  
    })(parts.LetterA);
  
    parts.LetterI = (function(superClass) {
      extend(LetterI, superClass);
  
      function LetterI() {
        return LetterI.__super__.constructor.apply(this, arguments);
      }
  
      LetterI.prototype.image = "decals/letterI.png";
  
      return LetterI;
  
    })(parts.LetterA);
  
    parts.LetterJ = (function(superClass) {
      extend(LetterJ, superClass);
  
      function LetterJ() {
        return LetterJ.__super__.constructor.apply(this, arguments);
      }
  
      LetterJ.prototype.image = "decals/letterJ.png";
  
      return LetterJ;
  
    })(parts.LetterA);
  
    parts.LetterK = (function(superClass) {
      extend(LetterK, superClass);
  
      function LetterK() {
        return LetterK.__super__.constructor.apply(this, arguments);
      }
  
      LetterK.prototype.image = "decals/letterK.png";
  
      return LetterK;
  
    })(parts.LetterA);
  
    parts.LetterL = (function(superClass) {
      extend(LetterL, superClass);
  
      function LetterL() {
        return LetterL.__super__.constructor.apply(this, arguments);
      }
  
      LetterL.prototype.image = "decals/letterL.png";
  
      return LetterL;
  
    })(parts.LetterA);
  
    parts.LetterM = (function(superClass) {
      extend(LetterM, superClass);
  
      function LetterM() {
        return LetterM.__super__.constructor.apply(this, arguments);
      }
  
      LetterM.prototype.image = "decals/letterM.png";
  
      return LetterM;
  
    })(parts.LetterA);
  
    parts.LetterN = (function(superClass) {
      extend(LetterN, superClass);
  
      function LetterN() {
        return LetterN.__super__.constructor.apply(this, arguments);
      }
  
      LetterN.prototype.image = "decals/letterN.png";
  
      return LetterN;
  
    })(parts.LetterA);
  
    parts.LetterO = (function(superClass) {
      extend(LetterO, superClass);
  
      function LetterO() {
        return LetterO.__super__.constructor.apply(this, arguments);
      }
  
      LetterO.prototype.image = "decals/letterO.png";
  
      return LetterO;
  
    })(parts.LetterA);
  
    parts.LetterP = (function(superClass) {
      extend(LetterP, superClass);
  
      function LetterP() {
        return LetterP.__super__.constructor.apply(this, arguments);
      }
  
      LetterP.prototype.image = "decals/letterP.png";
  
      return LetterP;
  
    })(parts.LetterA);
  
    parts.LetterQ = (function(superClass) {
      extend(LetterQ, superClass);
  
      function LetterQ() {
        return LetterQ.__super__.constructor.apply(this, arguments);
      }
  
      LetterQ.prototype.image = "decals/letterQ.png";
  
      return LetterQ;
  
    })(parts.LetterA);
  
    parts.LetterR = (function(superClass) {
      extend(LetterR, superClass);
  
      function LetterR() {
        return LetterR.__super__.constructor.apply(this, arguments);
      }
  
      LetterR.prototype.image = "decals/letterR.png";
  
      return LetterR;
  
    })(parts.LetterA);
  
    parts.LetterS = (function(superClass) {
      extend(LetterS, superClass);
  
      function LetterS() {
        return LetterS.__super__.constructor.apply(this, arguments);
      }
  
      LetterS.prototype.image = "decals/letterS.png";
  
      return LetterS;
  
    })(parts.LetterA);
  
    parts.LetterT = (function(superClass) {
      extend(LetterT, superClass);
  
      function LetterT() {
        return LetterT.__super__.constructor.apply(this, arguments);
      }
  
      LetterT.prototype.image = "decals/letterT.png";
  
      return LetterT;
  
    })(parts.LetterA);
  
    parts.LetterU = (function(superClass) {
      extend(LetterU, superClass);
  
      function LetterU() {
        return LetterU.__super__.constructor.apply(this, arguments);
      }
  
      LetterU.prototype.image = "decals/letterU.png";
  
      return LetterU;
  
    })(parts.LetterA);
  
    parts.LetterV = (function(superClass) {
      extend(LetterV, superClass);
  
      function LetterV() {
        return LetterV.__super__.constructor.apply(this, arguments);
      }
  
      LetterV.prototype.image = "decals/letterV.png";
  
      return LetterV;
  
    })(parts.LetterA);
  
    parts.LetterW = (function(superClass) {
      extend(LetterW, superClass);
  
      function LetterW() {
        return LetterW.__super__.constructor.apply(this, arguments);
      }
  
      LetterW.prototype.image = "decals/letterW.png";
  
      return LetterW;
  
    })(parts.LetterA);
  
    parts.LetterX = (function(superClass) {
      extend(LetterX, superClass);
  
      function LetterX() {
        return LetterX.__super__.constructor.apply(this, arguments);
      }
  
      LetterX.prototype.image = "decals/letterX.png";
  
      return LetterX;
  
    })(parts.LetterA);
  
    parts.LetterY = (function(superClass) {
      extend(LetterY, superClass);
  
      function LetterY() {
        return LetterY.__super__.constructor.apply(this, arguments);
      }
  
      LetterY.prototype.image = "decals/letterY.png";
  
      return LetterY;
  
    })(parts.LetterA);
  
    parts.LetterZ = (function(superClass) {
      extend(LetterZ, superClass);
  
      function LetterZ() {
        return LetterZ.__super__.constructor.apply(this, arguments);
      }
  
      LetterZ.prototype.image = "decals/letterZ.png";
  
      return LetterZ;
  
    })(parts.LetterA);
  
    parts.LetterPound = (function(superClass) {
      extend(LetterPound, superClass);
  
      function LetterPound() {
        return LetterPound.__super__.constructor.apply(this, arguments);
      }
  
      LetterPound.prototype.image = "decals/letterPound.png";
  
      return LetterPound;
  
    })(parts.LetterA);
  
    parts.LetterDot = (function(superClass) {
      extend(LetterDot, superClass);
  
      function LetterDot() {
        return LetterDot.__super__.constructor.apply(this, arguments);
      }
  
      LetterDot.prototype.image = "decals/letterDot.png";
  
      return LetterDot;
  
    })(parts.LetterA);
  
    parts.Letter0 = (function(superClass) {
      extend(Letter0, superClass);
  
      function Letter0() {
        return Letter0.__super__.constructor.apply(this, arguments);
      }
  
      Letter0.prototype.image = "decals/letter0.png";
  
      return Letter0;
  
    })(parts.LetterA);
  
    parts.Letter1 = (function(superClass) {
      extend(Letter1, superClass);
  
      function Letter1() {
        return Letter1.__super__.constructor.apply(this, arguments);
      }
  
      Letter1.prototype.image = "decals/letter1.png";
  
      return Letter1;
  
    })(parts.LetterA);
  
    parts.Letter2 = (function(superClass) {
      extend(Letter2, superClass);
  
      function Letter2() {
        return Letter2.__super__.constructor.apply(this, arguments);
      }
  
      Letter2.prototype.image = "decals/letter2.png";
  
      return Letter2;
  
    })(parts.LetterA);
  
    parts.Letter3 = (function(superClass) {
      extend(Letter3, superClass);
  
      function Letter3() {
        return Letter3.__super__.constructor.apply(this, arguments);
      }
  
      Letter3.prototype.image = "decals/letter3.png";
  
      return Letter3;
  
    })(parts.LetterA);
  
    parts.Letter4 = (function(superClass) {
      extend(Letter4, superClass);
  
      function Letter4() {
        return Letter4.__super__.constructor.apply(this, arguments);
      }
  
      Letter4.prototype.image = "decals/letter4.png";
  
      return Letter4;
  
    })(parts.LetterA);
  
    parts.Letter5 = (function(superClass) {
      extend(Letter5, superClass);
  
      function Letter5() {
        return Letter5.__super__.constructor.apply(this, arguments);
      }
  
      Letter5.prototype.image = "decals/letter5.png";
  
      return Letter5;
  
    })(parts.LetterA);
  
    parts.Letter6 = (function(superClass) {
      extend(Letter6, superClass);
  
      function Letter6() {
        return Letter6.__super__.constructor.apply(this, arguments);
      }
  
      Letter6.prototype.image = "decals/letter6.png";
  
      return Letter6;
  
    })(parts.LetterA);
  
    parts.Letter7 = (function(superClass) {
      extend(Letter7, superClass);
  
      function Letter7() {
        return Letter7.__super__.constructor.apply(this, arguments);
      }
  
      Letter7.prototype.image = "decals/letter7.png";
  
      return Letter7;
  
    })(parts.LetterA);
  
    parts.Letter8 = (function(superClass) {
      extend(Letter8, superClass);
  
      function Letter8() {
        return Letter8.__super__.constructor.apply(this, arguments);
      }
  
      Letter8.prototype.image = "decals/letter8.png";
  
      return Letter8;
  
    })(parts.LetterA);
  
    parts.Letter9 = (function(superClass) {
      extend(Letter9, superClass);
  
      function Letter9() {
        return Letter9.__super__.constructor.apply(this, arguments);
      }
  
      Letter9.prototype.image = "decals/letter9.png";
  
      return Letter9;
  
    })(parts.LetterA);
  
    Faction = (function(superClass) {
      extend(Faction, superClass);
  
      function Faction() {
        return Faction.__super__.constructor.apply(this, arguments);
      }
  
      Faction.prototype.name = "Faction Insignia";
  
      Faction.prototype.desc = "Place this in your ship to show off your faction affiliation.";
  
      Faction.prototype.hp = 4;
  
      Faction.prototype.cost = 1;
  
      Faction.prototype.size = [2, 2];
  
      Faction.prototype.mass = 1;
  
      Faction.prototype.tab = "decal";
  
      Faction.prototype.opacity = 1;
  
      Faction.prototype.faction = "DEV";
  
      Faction.prototype.image = "factions/DEV.png";
  
      Faction.prototype.disable = true;
  
      return Faction;
  
    })(Part);
  
    parts.Faction1 = (function(superClass) {
      extend(Faction1, superClass);
  
      function Faction1() {
        return Faction1.__super__.constructor.apply(this, arguments);
      }
  
      Faction1.prototype.faction = "DEV";
  
      Faction1.prototype.image = "factions/DEV.png";
  
      return Faction1;
  
    })(Faction);
  
    parts.Faction2 = (function(superClass) {
      extend(Faction2, superClass);
  
      function Faction2() {
        return Faction2.__super__.constructor.apply(this, arguments);
      }
  
      Faction2.prototype.faction = "MOD";
  
      Faction2.prototype.image = "factions/MOD.png";
  
      return Faction2;
  
    })(Faction);
  
    parts.Faction3 = (function(superClass) {
      extend(Faction3, superClass);
  
      function Faction3() {
        return Faction3.__super__.constructor.apply(this, arguments);
      }
  
      Faction3.prototype.faction = "KC";
  
      Faction3.prototype.image = "factions/KC.png";
  
      return Faction3;
  
    })(Faction);
  
    parts.Faction4 = (function(superClass) {
      extend(Faction4, superClass);
  
      function Faction4() {
        return Faction4.__super__.constructor.apply(this, arguments);
      }
  
      Faction4.prototype.faction = "AUTO";
  
      Faction4.prototype.image = "factions/AUTO.png";
  
      return Faction4;
  
    })(Faction);
  
    parts.Faction5 = (function(superClass) {
      extend(Faction5, superClass);
  
      function Faction5() {
        return Faction5.__super__.constructor.apply(this, arguments);
      }
  
      Faction5.prototype.faction = "SIEG";
  
      Faction5.prototype.image = "factions/SIEG.png";
  
      return Faction5;
  
    })(Faction);
  
    parts.Faction6 = (function(superClass) {
      extend(Faction6, superClass);
  
      function Faction6() {
        return Faction6.__super__.constructor.apply(this, arguments);
      }
  
      Faction6.prototype.faction = "ISOI";
  
      Faction6.prototype.image = "factions/ISOI.png";
  
      return Faction6;
  
    })(Faction);
  
    parts.Faction7 = (function(superClass) {
      extend(Faction7, superClass);
  
      function Faction7() {
        return Faction7.__super__.constructor.apply(this, arguments);
      }
  
      Faction7.prototype.faction = "TKKA";
  
      Faction7.prototype.image = "factions/TKKA.png";
  
      return Faction7;
  
    })(Faction);
  
    window.tablePart = function() {
      var _, cls, dps, part, ref, ref1, ref2, ref3, table, tps;
      tps = Sim.prototype.ticksPerSec;
      table = [];
      for (_ in parts) {
        cls = parts[_];
        part = new cls();
        if (part.bulletCls) {
          continue;
        }
        table.push({
          name: part.constructor.name,
          image: part.image,
          cost: part.cost,
          hp: part.hp / part.cost,
          mass: part.mass / part.cost,
          genEnergy: part.genEnergy / part.cost,
          useEnergy: part.useEnergy / part.cost,
          storeEnergy: part.storeEnergy / part.cost,
          shield: part.shield / part.cost,
          genShield: part.genShield / part.cost,
          speed: part.speed / part.cost,
          turnSpeed: part.turnSpeed / part.cost
        });
      }
      console.table(table);
      table = [];
      for (_ in parts) {
        cls = parts[_];
        part = new cls();
        if (part.bulletCls) {
          dps = ((ref = part.bulletCls) != null ? ref.prototype.damage : void 0) / part.reloadTime;
          table.push({
            name: part.name,
            image: part.image,
            hp: part.hp,
            cost: part.cost,
            cost_ty: dps * (part.range - part.minRange) / 30,
            mass: part.mass,
            useEnergy: part.useEnergy,
            dps: dps,
            damage: (ref1 = part.bulletCls) != null ? ref1.prototype.damage : void 0,
            reload: part.reloadTime,
            bulletSpeed: !part.instant ? (ref2 = part.bulletCls) != null ? ref2.prototype.speed : void 0 : 40,
            range: part.range,
            minRange: part.minRange,
            aoe: part.aoe,
            instant: part.instant ? "yes" : void 0,
            exactRange: part.exactRange ? "yes" : void 0,
            missile: ((ref3 = part.bulletCls) != null ? ref3.prototype.missile : void 0) ? "yes" : void 0,
            hitsMissiles: part.hitsMissiles ? "yes*" : void 0
          });
        }
      }
      return console.table(table);
    };
  
  }).call(this);
  ;
  
  
  //from src/ai.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var _, _aAvgPos, _angleVec, _apos, _avec, _avoidVec, _backPos, _goto, _leftVec, _lvec, _mid, _next, _rightVec, _rvec, _upos, _uvec, attack, attackFilter, attackMoves, backstab, capAI, capAndGuardCP, chargeAI, circle, closest, counterNeed, doUnitAi, doUnitRules, esc_string, g, goAway, goInRange, goThere, gotoLocation, gotoNoStop, gotoNoStopSmooth, ifAbsolute, ifRelative, j, kite, len, r, ram, run_by, spreadCapCP, stayClose, stayInRange, thingsMiddle, unitCompair, willBeAt;
  
    window.ais = {};
  
    ais.easy = ["BetaSwarm", "DeltaSwarm", "NukeSwarm", "Cython", "Novice", "Yarki", "Kornine", "Orbiter", "Zyro", "PointDefender", "BladeRanger", "BatteryRam", "TurtleFence"];
  
    ais.med = ["AlphaSwarm", "Micor", "TorpMan", "BeamMan", "NodeSwarm", "FlamethrowerArmadillo", "Orblin", "Belfry", "Ficon", "TorpSwarm", "Sidewinder", "FighterBomber", "Electro", "LazerBlade", "Rearguard", "Waxon", "LightShower", "Parity", "WaveMotion", "SparkShower", "FireFly", "AssaultandBattery", "RushDown", "BaitandMissile", "SiegeCore", "AlphaStriker"];
  
    ais.hard = ["Anubis", "LongPoint", "BullDogs", "Furia", "Dreadnaught", "SuperBelfry", "Razorback", "BattleStar", "CreepingHoard", "DoomTrain", "ThePounder", "Liberty", "CubeCollective", "DarkStar", "Podlings", "Keystone", "MBT", "Nayenne", "PushForce", "MiniCharger", "MeteorShower", "nulitor", "FireShower"];
  
    ais.unitProps = ["cost", "range", "energy%", "speed", "HP", "DPS"];
  
    ais.unitTypes = ["brick", "scout", "swarmer", "fighter", "interceptor", "bomber", "destroyer", "cruiser", "carrier", "battleship"];
  
    ais.attackTypes = ["Attack", "Flee", "Kite", "Ram", "Bomb", "Run-by", "Circle", "Backstab", "Wiggle", "Stay at range"];
  
    ais.capTypes = ["Capture", "Spread to", "Guard", "Protect"];
  
    ais.locationTypes = ["enemy spawn", "friendly spawn", "enemy home point", "friendly home point", "enemy army middle", "friendly army middle"];
  
    ais.relativeTypes = ["---", "stronger", "weaker", "faster", "slower", "more range", "less range", "more HP", "less HP", "more expensive", "less expensive", "has PD", "no PD", "cloaked", "not cloaked", "more DPS", "less DPS", "more brawling value", "less brawling value", "armed", "unarmed"];
  
    ais.absoluteTypes = ["faster", "slower", "more range", "less range", "more HP", "less HP", "more expensive", "less expensive", "more DPS", "less DPS", "more arc", "less arc"];
  
    ais.bulletTypes = ["any", "PD immune"];
  
    ais.chargeTypes = ["find recharger", "rest", "flee enemies", "find friendlies", "return to spawn"];
  
    ais.needTypes = ["point defense need", "fighter counter need", "cloak counter need"];
  
    window.allAiRules = {};
  
    allAiRules["energy"] = [["Field # at start", 2], ["Field # at priority #", 1, 2], ["Try to field # every # seconds", 2, 30], ["Field # for # of ship in slot # at priority #", 1, 1, 1, 5], ["Field # for # of @needTypes at priority #", 1, 1, "point defense need", 3], ["Field # when money over # at priority #", 1, 1000, 1]];
  
    allAiRules["engines"] = [["@capTypes command points within #m", "Capture", 10000], ["Goto @locationTypes", "enemy spawn"], ["Stay in #m range of friendly units", 500], ["Stay in #m range of slot # units", 500, 1], ["Stayaway in #m range from slot # units", 400, 1], ["Finish player orders"]];
  
    allAiRules["weapons"] = [["@attackTypes enemy within #m", "Attack", 1000], ["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m", "Attack", "slower", "weaker", 1000], ["@attackTypes enemy that is @absoluteTypes then # within #m", "Attack", "slower", 100, 1000]];
  
    allAiRules["armor"] = [["Avoid everything"], ["Avoid #dps danger areas", 5], ["Avoid over #damage shots", 20], ["Avoid over #damage @bulletTypes shots", 20, "any"], ["When Shields down to #%, flee", 30], ["When #% of energy, @chargeTypes", 20, "find recharger"], ["When below #% cloak, rest", 60], ["Find units that are out of energy"]];
  
    allAiRules["decal"] = [];
  
    esc_string = function(s) {
      return '"' + s.replace(/[\\"]/g, '\\$1') + '"';
    };
  
    window.csonify = function(obj, indent) {
      var json, key, prefix, value;
      if (indent == null) {
        indent = 0;
      }
      indent = indent ? indent + 1 : 1;
      prefix = Array(indent).join("    ");
      json = JSON.stringify(obj);
      if (json.length < 80) {
        return prefix + json;
      }
      if (typeof obj === 'string') {
        return prefix + esc_string(obj);
      }
      if (typeof obj !== 'object') {
        return prefix + obj;
      }
      if (Array.isArray(obj)) {
        return prefix + '[\n' + ((function() {
          var j, len, results;
          results = [];
          for (j = 0, len = obj.length; j < len; j++) {
            value = obj[j];
            results.push(csonify(value, indent));
          }
          return results;
        })()).join('\n') + '\n' + prefix + ']';
      }
      return ((function() {
        var results;
        results = [];
        for (key in obj) {
          value = obj[key];
          results.push(prefix + esc_string(key) + ':\n' + csonify(value, indent));
        }
        return results;
      })()).join('\n');
    };
  
    ais.allRuleSet = {};
  
    for (_ in allAiRules) {
      g = allAiRules[_];
      for (j = 0, len = g.length; j < len; j++) {
        r = g[j];
        ais.allRuleSet[r[0]] = true;
      }
    }
  
    ais.goodRule = function(rule) {
      return ais.allRuleSet[rule[0]] === true;
    };
  
    ais.ruleToStr = function(rule) {
      var count, i, l, len1, part, parts, string;
      string = "";
      count = 1;
      parts = rule[0].split(/(\#|\@\w+)/);
      for (i = l = 0, len1 = parts.length; l < len1; i = ++l) {
        part = parts[i];
        if (part === "#" || part[0] === "@") {
          string += rule[count];
          count += 1;
        } else {
          string += part;
        }
      }
      return string;
    };
  
    closest = function(pos, fn, maxDist) {
      var dist, minDist, minT, ref, t;
      if (maxDist == null) {
        maxDist = 10000000;
      }
      minDist = 0;
      minT = null;
      ref = sim.things;
      for (_ in ref) {
        t = ref[_];
        if (fn(t)) {
          dist = v2.distance(pos, t.pos);
          if (dist > maxDist) {
            continue;
          }
          if (dist < minDist || minT === null) {
            minDist = dist;
            minT = t;
          }
        }
      }
      return minT;
    };
  
    goThere = function(unit, thing) {
      if (!thing) {
        return false;
      }
      goInRange(thing.radius * .5, thing.radius, unit, thing);
      return true;
    };
  
    stayInRange = function(range, unit, thing) {
      if (!thing) {
        return false;
      }
      g = v2.create();
      v2.sub(unit.pos, thing.pos, g);
      v2.norm(g);
      v2.scale(g, range);
      v2.add(g, thing.pos, g);
      return unit.aiOrder({
        type: "Move",
        dest: g
      });
    };
  
    goInRange = function(spread, range, unit, thing) {
      if (!thing) {
        return false;
      }
      if (v2.distance(unit.pos, thing.pos) < range) {
        return true;
      }
      if (unit.topOrderIs("Move") && v2.distance(unit.orders[0].dest, thing.pos) < spread) {
        return true;
      }
      r = v2.create();
      v2.random(r);
      v2.scale(r, spread * Math.random());
      v2.add(r, thing.pos);
      unit.aiOrder({
        type: "Move",
        dest: r
      });
      return true;
    };
  
    goAway = function(unit, thing, range) {
      var dest, dist;
      if (!thing || !thing.pos || !unit || !unit.pos) {
        return false;
      }
      dist = v2.distance(unit.pos, thing.pos);
      if (dist > range) {
        return false;
      }
      dest = v2.create();
      v2.sub(unit.pos, thing.pos, dest);
      v2.add(unit.pos, dest, dest);
      unit.aiOrder({
        type: "Move",
        dest: dest,
        range: 0
      });
      return true;
    };
  
    unitCompair = function(unit, enemy) {
      var enemyKillsIn, unitKillsIn;
      enemyKillsIn = unit.hp / enemy.weaponDPS;
      unitKillsIn = enemy.hp / unit.weaponDPS;
      if (unitKillsIn > enemyKillsIn) {
        return enemyKillsIn / unitKillsIn - 1;
      } else {
        return 1 - unitKillsIn / enemyKillsIn;
      }
    };
  
    willBeAt = function(unit, thing) {
      if (!thing || !unit || unit.dead) {
        return false;
      }
      if (unit.topOrderIs("Move")) {
        if (unit.orders[0].dest && v2.distance(unit.orders[0].dest, thing.pos) < thing.radius) {
          return true;
        }
      } else if (unit.topOrderIs("Follow")) {
        if (unit.orders[0].target && v2.distance(unit.orders[0].target.pos, thing.pos) < thing.radius) {
          return true;
        }
      } else {
        if (v2.distance(unit.pos, thing.pos) < thing.radius) {
          return true;
        }
      }
      return false;
    };
  
    spreadCapCP = function(unit, rule) {
      var closestUnguarded, cp, guarded, ref, ref1, tallyCps, u;
      if (unit.gardingCP && (unit.gardingCP.side !== unit.side || unit.gardingCP.capping > 0)) {
        goThere(unit, unit.gardingCP);
        return true;
      }
      tallyCps = [];
      ref = sim.things;
      for (_ in ref) {
        cp = ref[_];
        if (cp.commandPoint && (cp.side !== unit.side || cp.capping > 0)) {
          guarded = 0;
          ref1 = sim.things;
          for (_ in ref1) {
            u = ref1[_];
            if (u.unit && u.side === unit.side && u.id !== unit.id && u.number === unit.number) {
              if (u.gardingCP === cp) {
                guarded += 1;
              }
            }
          }
          tallyCps.push({
            cp: cp,
            dist: v2.distance(cp.pos, unit.pos),
            guarded: guarded
          });
        }
      }
      if (tallyCps.length === 0) {
        return false;
      }
      tallyCps.sort(function(a, b) {
        if (a.guarded !== b.guarded) {
          return a.guarded - b.guarded;
        } else {
          return a.dist - b.dist;
        }
      });
      closestUnguarded = tallyCps[0];
      goThere(unit, closestUnguarded.cp);
      unit.gardingCP = closestUnguarded.cp;
      return true;
    };
  
    capAndGuardCP = function(unit) {
      var closestUnguarded, cp, guarded, ref, ref1, tallyCps, u;
      tallyCps = [];
      ref = sim.things;
      for (_ in ref) {
        cp = ref[_];
        if (cp.commandPoint) {
          guarded = false;
          ref1 = sim.things;
          for (_ in ref1) {
            u = ref1[_];
            if (u.unit && u.side === unit.side && u.id !== unit.id && u.number === unit.number) {
              if (willBeAt(u, cp)) {
                guarded = true;
                break;
              }
            }
          }
          if (!guarded) {
            tallyCps.push({
              cp: cp,
              dist: v2.distance(cp.pos, unit.pos)
            });
          }
        }
      }
      if (tallyCps.length === 0) {
        return;
      }
      tallyCps.sort(function(a, b) {
        return a.dist - b.dist;
      });
      closestUnguarded = tallyCps[0];
      goThere(unit, closestUnguarded.cp);
      return true;
    };
  
    attack = function(enemy, unit) {
      if (enemy) {
        unit.aiOrder({
          type: "Follow",
          targetId: enemy.id
        });
        unit.softTarget = enemy;
        return true;
      }
    };
  
    kite = function(enemy, unit) {
      var distacne, w;
      if (!enemy) {
        return false;
      }
      w = unit.weapons[0];
      if (w) {
        distacne = v2.distance(enemy.pos, unit.pos);
        if (w.arc !== 360 && w.reload === 0 && distacne < unit.weaponRange) {
          return true;
        }
      }
      if (stayInRange(unit.weaponRange, unit, enemy)) {
        return true;
      }
    };
  
    ram = function(enemy, unit) {
      if (enemy && goInRange(0, unit.radius + enemy.radius, unit, enemy)) {
        return true;
      }
    };
  
    run_by = function(enemy, unit) {
      return gotoNoStop(unit, enemy.pos);
    };
  
    stayClose = function(enemy, unit) {
      if (enemy && goInRange(0, enemy.radius, unit, enemy)) {
        return true;
      }
    };
  
    _angleVec = v2.create();
  
    _leftVec = v2.create();
  
    _rightVec = v2.create();
  
    circle = function(enemy, unit) {
      var dist, k, range, th;
      v2.direction(unit.pos, enemy.pos, _angleVec);
      dist = v2.distance(unit.pos, enemy.pos);
      range = Math.max(enemy.weaponRange, 300);
      k = 3;
      th = v2.angle(_angleVec);
      v2.pointTo(_leftVec, th + Math.PI / 2);
      v2.scale(_leftVec, range * k);
      v2.pointTo(_rightVec, th - Math.PI / 2);
      v2.scale(_rightVec, range * k);
      v2.add(_leftVec, enemy.pos);
      v2.add(_rightVec, enemy.pos);
      v2.add(unit.pos, unit.vel, _angleVec);
      if (v2.distance(_angleVec, _leftVec) < v2.distance(_angleVec, _rightVec)) {
        unit.aiOrder({
          type: "Move",
          dest: _leftVec
        });
      } else {
        unit.aiOrder({
          type: "Move",
          dest: _rightVec
        });
      }
      return true;
    };
  
    _backPos = v2.create();
  
    backstab = function(enemy, unit, amount) {
      if (amount == null) {
        amount = 0.7;
      }
      v2.pointTo(_backPos, enemy.rot + Math.PI);
      v2.scale(_backPos, unit.weaponRange * amount);
      v2.add(_backPos, enemy.pos);
      return unit.aiOrder({
        type: "Move",
        dest: v2.create(_backPos)
      });
    };
  
    attackFilter = function(enemy, unit, type, range) {
      if (!enemy) {
        return false;
      }
      if (!enemy.unit) {
        return false;
      }
      if (enemy.side === unit.side) {
        return false;
      }
      if (enemy.cloakFade > 0) {
        type = type.toLowerCase();
        if (type === "ram" || type === "circle" || type === "flee") {
          return true;
        }
        return false;
      }
      return true;
    };
  
    attackMoves = function(enemy, unit, type, range) {
      var wiggle;
      if (!enemy) {
        return false;
      }
      switch (type.toLowerCase()) {
        case "attack":
          return attack(enemy, unit);
        case "flee":
          return goAway(unit, enemy, enemy.weaponRange + enemy.radius + enemy.maxSpeed * 16);
        case "kite":
          return kite(enemy, unit);
        case "ram":
          return ram(enemy, unit);
        case "run-by":
          if (v2.distance(enemy.pos, unit.pos) > 500) {
            return run_by(enemy, unit);
          } else {
            return true;
          }
          break;
        case "bomb":
          if (unit.energy < unit.moveEnergy * 160) {
            return false;
          }
          if (unit.weapons.length > 0 && unit.weapons[0].reload > unit.weapons[0].reloadTime * .5) {
            unit.message += "[coast]";
            return true;
          } else {
            unit.message += "[run-by]";
            run_by(enemy, unit);
            return true;
          }
          break;
        case "circle":
          return circle(enemy, unit);
        case "backstab":
          return backstab(enemy, unit);
        case "wiggle":
          if (unit.wiggling > 0) {
            unit.wiggling -= 1;
            return true;
          } else if (Math.random() < .2) {
            unit.wiggling = 2;
            wiggle = v2.create();
            v2.random(wiggle);
            v2.scale(wiggle, 1000);
            v2.add(wiggle, unit.pos);
            unit.aiOrder({
              type: "Move",
              dest: wiggle
            });
            return true;
          }
          break;
        case "stay at range":
          return goAway(unit, enemy, enemy.weaponRange + enemy.radius + unit.radius);
      }
    };
  
    gotoNoStop = function(unit, goto) {
      var go;
      v2.sub(goto, unit.pos, _next);
      v2.scale(_next, 10000 / v2.mag(_next));
      go = v2.create();
      v2.add(unit.pos, _next, go);
      return unit.aiOrder({
        type: "Move",
        dest: go,
        noStop: true
      });
    };
  
    _goto = v2.create();
  
    _next = v2.create();
  
    gotoNoStopSmooth = function(unit, goto) {
      var dest, i, l;
      v2.sub(_goto, unit.pos, _next);
      v2.scale(_next, 10000 / v2.mag(_next));
      v2.add(unit.pos, _next, _goto);
      if (unit.topOrderIs("Move")) {
        dest = v2.create();
        for (i = l = 0; l < 1; i = ++l) {
          dest[i] = unit.orders[0].dest[i] * .7 + _goto[i] * .3;
        }
        return unit.aiOrder({
          type: "Move",
          dest: dest,
          noStop: true
        });
      } else {
        return unit.aiOrder({
          type: "Move",
          dest: v2.create(_goto),
          noStop: true
        });
      }
    };
  
    capAI = function(unit, rule) {
      var cp;
      switch (rule[1].toLowerCase()) {
        case "capture":
          cp = closest(unit.pos, (function(t) {
            return t.commandPoint && (t.side !== unit.side || t.capping > 0);
          }), rule[2]);
          if (cp && goThere(unit, cp)) {
            return true;
          }
          break;
        case "spread to":
          if (spreadCapCP(unit, rule, rule[2])) {
            return true;
          }
          break;
        case "guard":
          if (capAndGuardCP(unit, rule, rule[2])) {
            return true;
          }
          break;
        case "protect":
          cp = closest(unit.pos, (function(t) {
            return t.commandPoint && t.side === unit.side && t.capping > 0;
          }), rule[2]);
          if (cp && goThere(unit, cp)) {
            return true;
          }
          break;
        default:
          return console.log("invalid capAI option", rule);
      }
    };
  
    chargeAI = function(unit, rule) {
      var enemy, filter, friendly, recharger;
      if (!unit.needsFullCharge && unit.energy / unit.storeEnergy < rule[1] / 100) {
        switch (rule[2].toLowerCase()) {
          case "find recharger":
            filter = function(t) {
              return t.unit && t.id !== unit.id && t.side === unit.side && t.energyCaster;
            };
            recharger = closest(unit.pos, filter);
            if (recharger) {
              if (v2.distance(unit.pos, recharger.pos) < 600) {
                unit.needsFullCharge = true;
              } else {
                goInRange(500, 600, unit, recharger);
                return true;
              }
            }
            return false;
          case "rest":
            unit.needsFullCharge = true;
            break;
          case "flee enemies":
            enemy = closest(unit.pos, (function(t) {
              return t.unit && t.side !== unit.side;
            }), 3000);
            if (attackMoves(enemy, unit, "flee", 3000)) {
              return true;
            }
            break;
          case "return to spawn":
            if (gotoLocation(unit, ["-", "friendly spawn"])) {
              return true;
            } else {
              unit.needsFullCharge = true;
            }
            break;
          case "find friendlies":
          case "find friendies":
            friendly = closest(unit.pos, (function(t) {
              return t.unit && t.id !== unit.id && t.side === unit.side;
            }));
            if (friendly && v2.distance(unit.pos, friendly.pos) > 500) {
              stayClose(friendly, unit);
              return true;
            }
            break;
          default:
            console.log("invalid chargeAI option", rule);
        }
      }
      if (unit.needsFullCharge) {
        if (unit.energy > unit.storeEnergy * .98) {
          unit.needsFullCharge = false;
          return false;
        } else {
          unit.aiOrder({
            type: "Stop"
          });
          return true;
        }
      }
    };
  
    _mid = v2.create();
  
    thingsMiddle = function(fn) {
      var number, ref, thing;
      v2.zero(_mid);
      number = 0;
      ref = sim.things;
      for (_ in ref) {
        thing = ref[_];
        if (fn(thing)) {
          v2.add(_mid, thing.pos);
          number += 1;
        }
      }
      if (number === 0) {
        return false;
      }
      v2.scale(_mid, 1 / number);
      return _mid;
    };
  
    gotoLocation = function(unit, rule) {
      var cp, pos, spawn;
      pos = null;
      switch (rule[1].toLowerCase()) {
        case "enemy spawn":
          spawn = closest(unit.pos, (function(t) {
            return t.spawn && t.side !== unit.side;
          }));
          if (spawn) {
            pos = spawn.pos;
          }
          break;
        case "friendly spawn":
          spawn = closest(unit.pos, (function(t) {
            return t.spawn && t.side === unit.side;
          }));
          if (spawn) {
            pos = spawn.pos;
          }
          break;
        case "enemy home point":
          spawn = closest(unit.pos, (function(t) {
            return t.spawn && t.side !== unit.side;
          }));
          if (spawn) {
            cp = closest(spawn.pos, (function(t) {
              return t.commandPoint;
            }));
          }
          if (cp) {
            pos = cp.pos;
          }
          break;
        case "friendly home point":
          spawn = closest(unit.pos, (function(t) {
            return t.spawn && t.side === unit.side;
          }));
          if (spawn) {
            cp = closest(spawn.pos, (function(t) {
              return t.commandPoint;
            }));
          }
          if (cp) {
            pos = cp.pos;
          }
          break;
        case "enemy army middle":
          pos = thingsMiddle(function(t) {
            return t.unit && t.side !== unit.side;
          });
          break;
        case "friendly army middle":
          pos = thingsMiddle(function(t) {
            return t.unit && t.side === unit.side;
          });
      }
      if (pos) {
        if (v2.distance(unit.pos, pos) > 300) {
          unit.aiOrder({
            type: "Move",
            dest: pos
          });
          return true;
        }
      }
    };
  
    ifRelative = function(clause, unit, other) {
      var l, len1, len2, m, ref, ref1, w;
      switch (clause.toLowerCase()) {
        case "---":
          return true;
        case "stronger":
          return unitCompair(unit, other) <= 0;
        case "weaker":
          return unitCompair(unit, other) >= 0;
        case "faster":
          return other.maxSpeed >= unit.maxSpeed;
        case "slower":
          return other.maxSpeed <= unit.maxSpeed;
        case "more range":
          return other.weaponRange >= unit.weaponRange;
        case "less range":
          return other.weaponRange <= unit.weaponRange;
        case "more hp":
          return other.hp >= unit.hp;
        case "less hp":
          return other.hp <= unit.hp;
        case "more expensive":
          return other.cost >= unit.cost;
        case "less expensive":
          return other.cost <= unit.cost;
        case "has pd":
          ref = other.weapons;
          for (l = 0, len1 = ref.length; l < len1; l++) {
            w = ref[l];
            if (w.hitsMissiles) {
              return true;
            }
          }
          return false;
        case "no pd":
          ref1 = other.weapons;
          for (m = 0, len2 = ref1.length; m < len2; m++) {
            w = ref1[m];
            if (w.hitsMissiles) {
              return false;
            }
          }
          return true;
        case "cloaked":
          return other.cloaked();
        case "not cloaked":
          return !other.cloaked();
        case "more dps":
          return other.weaponDPS >= unit.weaponDPS;
        case "less dps":
          return other.weaponDPS <= unit.weaponDPS;
        case "more brawling value":
          return other.hp * other.weaponDPS / other.cost >= unit.hp * unit.weaponDPS / unit.cost;
        case "less brawling value":
          return other.hp * other.weaponDPS / other.cost <= unit.hp * unit.weaponDPS / unit.cost;
        case "armed":
          return other.weaponDPS >= 0.01;
        case "unarmed":
          return other.weaponDPS <= 0;
        default:
          return console.log("clause not defined", clause);
      }
    };
  
    ifAbsolute = function(clause, value, unit) {
      switch (clause.toLowerCase()) {
        case "---":
          return true;
        case "faster":
          return unit.maxSpeed * 16 >= value;
        case "slower":
          return unit.maxSpeed * 16 <= value;
        case "more range":
          return unit.weaponRange >= value;
        case "less range":
          return unit.weaponRange <= value;
        case "more hp":
          return unit.hp >= value;
        case "less hp":
          return unit.hp <= value;
        case "more expensive":
          return unit.cost >= value;
        case "less expensive":
          return unit.cost <= value;
        case "more dps":
          return unit.weaponDPS * 16 >= value;
        case "less dps":
          return unit.weaponDPS * 16 <= value;
        case "more arc":
          return unit.weaponArc >= value;
        case "less arc":
          return unit.weaponArc <= value;
        default:
          return console.log("clause not defined", clause);
      }
    };
  
    counterNeed = function(needType, player) {
      var l, len1, need, part, ref, ref1, ref2, ref3, u;
      need = 0;
      switch (needType.toLowerCase()) {
        case "point defense need":
          ref = sim.things;
          for (_ in ref) {
            u = ref[_];
            if (u.unit && u.side !== player.side) {
              ref1 = u.parts;
              for (l = 0, len1 = ref1.length; l < len1; l++) {
                part = ref1[l];
                if (part.weapon && part.bulletCls.prototype.missile) {
                  need += part.dps;
                }
              }
            }
          }
          break;
        case "fighter counter need":
          ref2 = sim.things;
          for (_ in ref2) {
            u = ref2[_];
            if (u.unit && u.side !== player.side) {
              if (u.maxHP < 100 && u.maxSpeed * 16 > 200) {
                need += .25;
              }
            }
          }
          break;
        case "cloak counter need":
          ref3 = sim.things;
          for (_ in ref3) {
            u = ref3[_];
            if (u.unit && u.side !== player.side) {
              if (u.cloaked()) {
                need += 1;
              }
            }
          }
      }
      return need;
    };
  
    _rvec = v2.create();
  
    _lvec = v2.create();
  
    _upos = v2.create();
  
    _uvec = v2.create();
  
    _avec = v2.create();
  
    _apos = v2.create();
  
    _aAvgPos = v2.create();
  
    _avoidVec = v2.create();
  
    ais.avoidShots = function(unit, avoidDamage, bulletType) {
      v2.zero(_avoidVec);
      sim.bulletSpaces[otherSide(unit.side)].findInRange(unit.pos, unit.radius + 500, (function(_this) {
        return function(b) {
  
          /*
           * insta hit weapons
          if b.unit and b.side != unit.side
              for w in b.weapons
                  if w.instant
                      if w.damage < avoidDamage
                          continue
                      if w.target and w.target != unit
                           * weapon is targeting other unit
                          continue
                      v2.sub(unit.pos, w.worldPos, _avec)
                      if v2.mag(_avec) < w.range * 1.2
                           * avoid insta hit weapon
                          v2.norm(_avec)
                          v2.add(_avoidVec, _avec)
           */
          var i, l, ref, ref1, results;
          if (b.damage < avoidDamage) {
            return;
          }
          if (bulletType === "PD immune" && b.missile) {
            return;
          }
          if (b.missile && b.tracking && ((ref = b.target) != null ? ref.id : void 0) === unit.id) {
            v2.sub(unit.pos, b.pos, _avec);
            if (v2.mag(_avec) < 600) {
              v2.norm(_avec);
              return v2.add(_avoidVec, _avec);
            }
          } else if (b.hitPos) {
            v2.sub(unit.pos, b.hitPos, _avec);
            if (v2.mag(_avec) < b.aoe + unit.radius + 100) {
              v2.norm(_avec);
              return v2.add(_avoidVec, _avec);
            }
          } else {
            v2.sub(unit.pos, b.pos, _avec);
            if (v2.mag(_avec) < unit.radius + (b.maxLife - b.life) * b.speed) {
              v2.set(unit.pos, _upos);
              v2.set(unit.vel, _uvec);
              v2.set(b.pos, _apos);
              v2.set(b.vel, _avec);
              results = [];
              for (i = l = 0, ref1 = Math.min(64, b.maxLife - b.life); 0 <= ref1 ? l < ref1 : l > ref1; i = 0 <= ref1 ? ++l : --l) {
                if (v2.distance(_upos, _apos) < unit.radius + 100) {
                  v2.sub(_apos, _upos, _avec);
                  v2.pointTo(_lvec, unit.rot + .3);
                  v2.pointTo(_rvec, unit.rot - .3);
                  if (v2.distance(_lvec, _avec) > v2.distance(_rvec, _avec)) {
                    results.push(v2.add(_avoidVec, _lvec));
                  } else {
                    results.push(v2.add(_avoidVec, _rvec));
                  }
                } else {
                  v2.add(_upos, _uvec);
                  results.push(v2.add(_apos, _avec));
                }
              }
              return results;
            }
          }
        };
      })(this));
      if (v2.mag(_avoidVec) > .1) {
        v2.scale(_avoidVec, 10);
        v2.add(_avoidVec, unit.pos, _apos);
        gotoNoStopSmooth(unit, _apos);
        return true;
      }
      return false;
    };
  
    window.doPlayerAIRules = function(player) {
      var b, buildPriority, buildQ, countsFielded, countsTotal, enemyHave, enemysFielded, l, len1, len2, len3, len4, m, myUnits, need, number, o, otherSlot, p, priorityBuild, ratio, ref, ref1, ref2, results, rule, rules, start, type, u, unit;
      if (sim.serverType === "1v1t") {
        return;
      }
      countsTotal = 0;
      enemysFielded = {};
      countsFielded = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
      ref = sim.things;
      for (_ in ref) {
        u = ref[_];
        if (u.unit && u.owner === player.number && u.side === player.side) {
          countsFielded[u.number] += 1;
          countsTotal += 1;
        }
        if (u.unit && u.owner !== player.number && u.side !== player.side) {
          type = ais.classifyShip(u);
          enemysFielded[type] = (enemysFielded[type] || 0) + 1;
        }
      }
      buildQ = [];
      buildPriority = [];
      priorityBuild = function(need, priority, number) {
        var i, l, ref1, results;
        if (need > 100) {
          need = 100;
        }
        results = [];
        for (i = l = 0, ref1 = need; 0 <= ref1 ? l < ref1 : l > ref1; i = 0 <= ref1 ? ++l : --l) {
          results.push(buildPriority.push({
            number: number,
            priority: priority + Math.random() * .1
          }));
        }
        return results;
      };
      ref1 = player.aiRules;
      for (number = l = 0, len1 = ref1.length; l < len1; number = ++l) {
        rules = ref1[number];
        for (m = 0, len2 = rules.length; m < len2; m++) {
          rule = rules[m];
          switch (rule[0].toLowerCase()) {
            case "field # at priority #":
              need = rule[1] - countsFielded[number];
              if (need > 0) {
                priorityBuild(need, rule[2], number);
              }
              break;
            case "field # for # of enemy * at priority #":
              ratio = rule[1] / rule[2];
              enemyHave = enemysFielded[rule[3]] || 0;
              need = Math.floor(enemyHave * ratio) - countsFielded[number];
              if (need > 0) {
                priorityBuild(need, rule[4], number);
              }
              break;
            case "field # for # of ship in slot # at priority #":
              ratio = rule[1] / rule[2];
              otherSlot = parseInt(rule[3]) - 1;
              need = Math.floor(countsFielded[otherSlot] * ratio) - countsFielded[number];
              if (need > 0) {
                priorityBuild(need, rule[4], number);
              }
              break;
            case "try to field # every # seconds":
              if (sim.step !== 0 && sim.step % (rule[2] * 16) === 0) {
                need = rule[1];
                priorityBuild(need, 0, number);
              }
              break;
            case "field # at start":
              if (sim.step < 16 * 5) {
                need = rule[1] - countsFielded[number];
                priorityBuild(need, 0, number);
              }
              break;
            case "field # for # of @needtypes at priority #":
              ratio = rule[1] / rule[2] * counterNeed(rule[3], player);
              need = Math.floor(ratio - countsFielded[number]);
              if (need > 0) {
                priorityBuild(need, rule[4], number);
              }
              break;
            case "field # when money over # at priority #":
              if (player.money > rule[2]) {
                priorityBuild(rule[1], rule[3], number);
              }
          }
        }
      }
      buildPriority.sort(function(a, b) {
        return a.priority - b.priority;
      });
      for (o = 0, len3 = buildPriority.length; o < len3; o++) {
        b = buildPriority[o];
        buildQ.push(b.number);
      }
      if (buildQ.length !== 0) {
        player.buildQ = buildQ;
      }
      myUnits = [];
      ref2 = sim.things;
      for (_ in ref2) {
        unit = ref2[_];
        if (unit.underPlayerControl) {
          unit.message = "";
          continue;
        }
        if (unit.unit && unit.owner === player.number) {
          myUnits.push(unit);
        }
      }
      start = now();
      myUnits = shuffle(myUnits);
      results = [];
      for (p = 0, len4 = myUnits.length; p < len4; p++) {
        unit = myUnits[p];
        doUnitAi(unit, player.aiRules[unit.number], player);
        if (now() - start > 2) {
          break;
        } else {
          results.push(void 0);
        }
      }
      return results;
    };
  
    doUnitAi = function(unit, rules, player) {
      var l, len1, results, rule, used;
      unit.message = "";
      if (unit.wait && unit.wait > 0) {
        unit.wait -= 1;
        return;
      }
      if (rules.length) {
        results = [];
        for (l = 0, len1 = rules.length; l < len1; l++) {
          rule = rules[l];
          used = false;
          used = doUnitRules(unit, rule, player);
          if (used) {
            unit.message += ais.ruleToStr(rule);
            break;
          } else {
            results.push(void 0);
          }
        }
        return results;
      }
    };
  
    doUnitRules = function(unit, rule, player) {
      var clause, clause1, clause2, enemy, filter, friendly, range, target, type, value;
      switch (rule[0].toLowerCase()) {
        case "@captypes command points within #m":
          return capAI(unit, rule);
        case "@attacktypes enemy within #m":
          range = rule[2];
          filter = function(t) {
            return attackFilter(t, unit, rule[1], rule[2]);
          };
          enemy = closest(unit.pos, filter, range);
          if (attackMoves(enemy, unit, rule[1], rule[2])) {
            return true;
          }
          break;
        case "@attacktypes enemy @unittypes within #m":
          range = rule[3];
          filter = function(t) {
            if (!attackFilter(t, unit, rule[1], rule[2])) {
              return false;
            }
            return ais.classifyShip(t) === rule[2];
          };
          enemy = closest(unit.pos, filter, range);
          if (attackMoves(enemy, unit, rule[1], rule[2])) {
            return true;
          }
          break;
        case "@attacktypes enemy that is @relativetypes and @relativetypes within #m":
          type = rule[1];
          clause1 = rule[2];
          clause2 = rule[3];
          range = rule[4];
          filter = function(t) {
            if (!attackFilter(t, unit, rule[1], rule[2])) {
              return false;
            }
            return ifRelative(clause1, unit, t) && ifRelative(clause2, unit, t);
          };
          enemy = closest(unit.pos, filter, range);
          if (attackMoves(enemy, unit, type, range)) {
            return true;
          }
          break;
        case "@attacktypes enemy that is @absolutetypes then # within #m":
          type = rule[1];
          clause = rule[2];
          value = rule[3];
          range = rule[4];
          filter = function(t) {
            if (!attackFilter(t, unit, rule[1], rule[2])) {
              return false;
            }
            return ifAbsolute(clause, value, t);
          };
          enemy = closest(unit.pos, filter, range);
          if (attackMoves(enemy, unit, type, range)) {
            return true;
          }
          break;
        case "find units that are out of energy":
          target = closest(unit.pos, function(t) {
            return t.unit && t.id !== unit.id && t.side === unit.side && t.energy < t.storeEnergy * .75;
          });
          if (target) {
            goInRange(500, 600, unit, target);
            return true;
          }
          break;
        case "when #% of energy, @chargetypes":
          return chargeAI(unit, rule);
        case "when below #% cloak, rest":
          if (unit.cloak / unit.mass < rule[1] / 100 || unit.needsCloak) {
            if (unit.cloak < unit.mass) {
              unit.needsCloak = true;
              unit.aiOrder({
                type: "Stop"
              });
              return true;
            } else {
              return unit.needsCloak = false;
            }
          }
          break;
        case "when shields down to #%, flee":
          if (unit.shield / unit.maxShield < rule[1] / 100) {
            enemy = closest(unit.pos, (function(t) {
              return t.unit && t.side !== unit.side;
            }));
            if (enemy) {
              goAway(unit, enemy, enemy.weaponRange * 1.5);
              return true;
            }
          }
          break;
        case "stay in #m range of friendly units":
          friendly = closest(unit.pos, (function(t) {
            return t.unit && t.id !== unit.id && t.side === unit.side;
          }));
          if (friendly && v2.distance(unit.pos, friendly.pos) > rule[1]) {
            stayClose(friendly, unit);
            return true;
          }
          break;
        case "stay in #m range of slot # units":
          friendly = closest(unit.pos, (function(t) {
            return t.unit && t.number === (parseInt(rule[2]) - 1) && t.id !== unit.id && t.side === unit.side && t.owner === unit.owner;
          }));
          if (friendly && v2.distance(unit.pos, friendly.pos) > rule[1]) {
            stayClose(friendly, unit);
            return true;
          }
          break;
        case "stayaway in #m range from slot # units":
          friendly = closest(unit.pos, (function(t) {
            return t.unit && t.number === (parseInt(rule[2]) - 1) && t.id !== unit.id && t.side === unit.side && t.owner === unit.owner;
          }));
          if (friendly && goAway(unit, friendly, rule[1])) {
            return true;
          }
          break;
        case "goto @locationtypes":
          return gotoLocation(unit, rule);
        case "avoid everything":
          if (ais.avoidShots(unit, 1, "Any") || ais.avoidEnemies(unit, 1)) {
            return true;
          }
          break;
        case "avoid #dps danger areas":
          if (ais.avoidEnemies(unit, rule[1])) {
            return true;
          }
          break;
        case "avoid over #damage @bullettypes shots":
          if (ais.avoidShots(unit, rule[1], rule[2])) {
            return true;
          }
          break;
        case "avoid over #damage shots":
          if (ais.avoidShots(unit, rule[1], "any")) {
            return true;
          }
          break;
        case "finish player orders":
          if (unit.hasHumanOrder()) {
            if (unit.orders[0].ai) {
              unit.orders.shift();
            }
            return true;
          }
          return false;
      }
    };
  
    ais.avoidEnemies = function(unit, dps) {
      var doWhat, minDist, minEnemy, stayAwayRange;
      minDist = 9000000;
      minEnemy = null;
      doWhat = null;
      stayAwayRange = 0;
      sim.unitSpaces[otherSide(unit.side)].findInRange(unit.pos, 3000, (function(_this) {
        return function(enemy) {
          var dist;
          if (enemy.weaponDPS * 16 > dps) {
            dist = v2.distance(unit.pos, enemy.pos);
            if (dist < minDist) {
              stayAwayRange = enemy.weaponRange + enemy.radius + unit.radius + enemy.maxSpeed * 16;
              if (dist < stayAwayRange) {
                minDist = dist;
                minEnemy = enemy;
                return doWhat = "Flee";
              } else if (dist < stayAwayRange * 1.10) {
                minDist = dist;
                minEnemy = enemy;
                return doWhat = "Stop";
              }
            }
          }
        };
      })(this));
      if (doWhat === "Flee") {
        goAway(unit, minEnemy, stayAwayRange);
        return true;
      }
      if (doWhat === "Stop") {
        unit.aiOrder({
          type: "Stop"
        });
        return true;
      }
    };
  
    ais.classifyShip = function(unit) {
      var rymarq_system, saktoth_system;
      if (unit.shipClass != null) {
        return unit.shipClass;
      }
      rymarq_system = function() {
        var k, l, len1, list, part, ref, type, v;
        type = {};
        if (unit.weapons.length === 0) {
          type.brick = (unit.hp + unit.shield) * 2;
          type.scout = unit.maxSpeed * 16 * 2;
        } else {
          if (unit.cost < 150) {
            type.swarmer = (210 - unit.cost) * 5;
          }
          if (unit.maxSpeed * 16 > 200 && unit.weaponDPS * 16 > 20) {
            type.fighter = unit.weaponDPS * 16 * 6 + unit.maxSpeed * 16 * 1.5 + (unit.hp + unit.shield);
          }
          if (unit.weaponDamage >= 200) {
            type.bomber = unit.weaponDamage * 4 + unit.maxSpeed * 16 * 0.5 - 100;
            ref = unit.parts;
            for (l = 0, len1 = ref.length; l < len1; l++) {
              part = ref[l];
              if (part.name === "Phase Bomb Launcher") {
                type.bomber += 100;
              }
            }
          }
          if (unit.maxSpeed * 16 > 400) {
            type.interceptor = unit.weaponDPS * 16 * 2 + unit.maxSpeed * 16 * 3 + unit.weaponDamage * 2 - 20;
          }
          if (unit.weaponRange > 500 && unit.cost > 150) {
            type.destroyer = unit.maxSpeed * 16 * 3 + unit.weaponRange * 3 - 700;
          }
          if (unit.maxSpeed * 16 > 100) {
            type.cruiser = unit.maxSpeed * 16 * 1.5 + unit.weaponDPS * 16 * 3 + (unit.hp + unit.shield * 2) * 2;
          }
          if (unit.hp > 500) {
            type.battleship = (unit.hp + unit.shield) * 2 + unit.weaponRange * 3 - 700;
          }
        }
        if (unit.energyCaster) {
          type.carrier = 200 + unit.genEnergy * 16 * 10 + unit.storeEnergy / 800;
        }
        type.support = 10;
        list = (function() {
          var results;
          results = [];
          for (k in type) {
            v = type[k];
            results.push([Math.floor(v), k]);
          }
          return results;
        })();
        list = list.sort(function(a, b) {
          return b[0] - a[0];
        });
        return list[0][1];
      };
      saktoth_system = function() {
        var ref, ref1;
        if (unit.weaponDPS === 0) {
          return "scout";
        }
        if (unit.turnSpeed * 16 > .7 && unit.weaponRange > 700) {
          if (unit.maxSpeed * 16 > 300) {
            return "destroyer";
          } else {
            return "cruiser";
          }
        }
        if ((400 < (ref = unit.maxSpeed * 16) && ref < 600)) {
          return "interceptor";
        }
        if ((250 < (ref1 = unit.maxSpeed * 16) && ref1 < 400)) {
          return "fighter";
        }
        if (unit.energyCaster) {
          return "carrier";
        }
        if (unit.cost > 800 || unit.hp > 1000) {
          return "battleship";
        }
        if (unit.weaponDPS * 16 > 370) {
          return "godslayer";
        }
        return "unknown";
      };
      unit.shipClass = rymarq_system();
      return unit.shipClass;
    };
  
    ais.useAiFleet = function(aiName, side, aiBuildBar) {
      var color, i, l, len1, player, u;
      if (!aiName) {
        return;
      }
      if (side === "beta") {
        color = [46, 204, 113, 255];
      } else {
        color = [230, 126, 34, 255];
      }
      for (i = l = 0, len1 = aiBuildBar.length; l < len1; i = ++l) {
        u = aiBuildBar[i];
        if (typeof u === "object") {
          aiBuildBar[i] = JSON.stringify(u);
        }
      }
      player = sim.playerJoin("", "ai" + rid(), aiName, color, aiBuildBar, ais.buildBar2aiRules(aiBuildBar), true);
      player.side = side;
      player.afk = false;
      player.connected = true;
      player.ready = true;
      player.ai = true;
      return player;
    };
  
    ais.useAi = function(aiName, side) {
      if (side == null) {
        side = "beta";
      }
      if (!aiName) {
        return;
      }
      return ais.useAiFleet(aiName, side, ais.all[aiName]);
    };
  
    ais.buildBar2aiRules = function(buildBar) {
      var aiRules, data, l, len1, unitSpec;
      aiRules = [];
      for (l = 0, len1 = buildBar.length; l < len1; l++) {
        unitSpec = buildBar[l];
        if (unitSpec && unitSpec[0] === "{") {
          data = JSON.parse(unitSpec);
          if (data.aiRules) {
            aiRules.push(data.aiRules);
            continue;
          }
        }
        if (typeof unitSpec === "object") {
          aiRules.push(unitSpec.aiRules);
          continue;
        }
        aiRules.push([]);
      }
      return aiRules;
    };
  
    ais.simulateUnitFight = function(specA, specB) {
      var a, b, i, l, oldSim, ref;
      a = new types.Unit(specA);
      b = new types.Unit(specB);
      oldSim = window.sim;
      window.sim = new Sim();
      sim.local = true;
      a.pos = [0, 0];
      b.pos = [0, 100];
      a.side = "alpha";
      b.side = "beta";
      sim.things[a.id] = a;
      sim.things[b.id] = b;
      for (i = l = 0, ref = 16 * 10; 0 <= ref ? l < ref : l > ref; i = 0 <= ref ? ++l : --l) {
        sim.simulate();
        console.log(i, a.hp, b.hp);
        if (a.dead || b.dead) {
          break;
        }
      }
      console.log(sim);
      window.sim = oldSim;
      if (a.hp > b.hp) {
        return true;
      }
    };
  
    ais.simulateAiFight = function(ai1, ai2) {
      var fightSim, i, id, l, oldSim, player1, player2, ref, ref1, sides, thing;
      oldSim = window.sim;
      fightSim = window.sim = new Sim();
      sim.local = true;
      player1 = ais.useAi(ai1, "alpha");
      player2 = ais.useAi(ai2, "beta");
      sim.start();
      for (i = l = 0, ref = 16 * (60 * 15); 0 <= ref ? l < ref : l > ref; i = 0 <= ref ? ++l : --l) {
        sim.simulate();
        if (sim.step % 16 === 0) {
          sides = {
            "alpha": 0,
            "beta": 0
          };
          ref1 = sim.things;
          for (id in ref1) {
            thing = ref1[id];
            if (thing.commandPoint) {
              sides[thing.side] += 1;
            }
          }
        }
        if (sim.winningSide) {
          break;
        }
      }
      console.log("ends at", sim.step, "winner:", sim.winningSide, window.sim = oldSim);
      if (fightSim.winningSide === "alpha") {
        return 1;
      } else if (fightSim.winningSide === "beta") {
        return -1;
      } else {
        return 0;
      }
    };
  
    ais.winMatrix = function() {
      var ai, header, i, k1, k2, l, len1, len2, len3, list, m, o, p, row, score, table, vsScore, wins;
      list = (function() {
        var results;
        results = [];
        for (ai in ais.all) {
          if (ai !== "StaticAI" && ai !== "BossAI") {
            results.push(ai);
          }
        }
        return results;
      })();
      console.log(list);
      header = [""];
      for (l = 0, len1 = list.length; l < len1; l++) {
        k1 = list[l];
        header.push(k1);
      }
      header.push("wins");
      table = [header];
      vsScore = {};
      for (m = 0, len2 = list.length; m < len2; m++) {
        k1 = list[m];
        row = [k1];
        table.push(row);
        wins = 0;
        for (o = 0, len3 = list.length; o < len3; o++) {
          k2 = list[o];
          if (k1 === k2) {
            row.push("-");
          } else if (vsScore[k2 + "v" + k1] != null) {
            wins -= vsScore[k2 + "v" + k1];
            row.push(-vsScore[k2 + "v" + k1]);
          } else {
            score = 0;
            for (i = p = 0; p < 1; i = ++p) {
              score += ais.simulateAiFight(ais.all[k1], ais.all[k2]);
            }
            wins += score;
            vsScore[k1 + "v" + k2] = score;
            row.push(score);
          }
        }
        row.push(wins);
      }
      return console.table(table);
    };
  
    ais["export"] = function(aiName) {
      var aiArray, error, key, l, n, name, ref, ref1, row, spec, tab;
      ref = commander.fleet.ais;
      for (key in ref) {
        name = ref[key];
        ref1 = getAIKey(key), row = ref1[0], tab = ref1[1];
        if (name === aiName) {
          aiArray = [];
          for (n = l = 0; l < 10; n = ++l) {
            try {
              spec = JSON.parse(commander.fleet[getAIKey(row, n, tab)]);
              aiArray.push(spec);
            } catch (error) {
              aiArray.push("");
            }
          }
          console.log(JSON.stringify(aiArray, null, 4));
          return;
        }
      }
      console.error("ai not found");
    };
  
    ais["import"] = function(aiName) {
      var aiBuildBar, i, l;
      aiBuildBar = ais.all[aiName];
      for (i = l = 0; l < 10; i = ++l) {
        if (aiBuildBar[i]) {
          buildBar.setSpec(i, JSON.stringify(aiBuildBar[i]));
        } else {
          buildBar.setSpec(i, "");
        }
      }
    };
  
  }).call(this);
  ;
  
  
  //from src/aidata.js
  ais.all = {};ais.all.AlphaStriker = [{"parts":[{"pos":[20,-40],"type":"DamageMod","dir":0},{"pos":[-50,-50],"type":"Engine01","dir":0},{"pos":[40,0],"type":"DamageMod","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[-40,0],"type":"DamageMod","dir":0},{"pos":[50,-50],"type":"Engine01","dir":0},{"pos":[-20,-40],"type":"DamageMod","dir":0},{"pos":[-30,-70],"type":"Wing1x1Round","dir":0},{"pos":[30,-70],"type":"Wing1x1Round","dir":0},{"pos":[0,-70],"type":"Battery2x1","dir":0},{"pos":[-10,-100],"type":"VArmor1x1CornerBack","dir":0},{"pos":[10,-100],"type":"VArmor1x1CornerBack","dir":0},{"pos":[0,0],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",25,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","More HP",100,400],["Avoid over #damage shots",20],["Stayaway in #m range from slot # units",100,1],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Less Brawling Value","More HP",2000],["Stay in #m range of friendly units",500],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More HP",50,1000],["@capTypes Command Points within #m","Capture",10000],["Field # for # of enemy @unitTypes at priority #",1,1,"Battleship",3],["Field # for # of enemy @unitTypes at priority #",1,1,"Cruiser",3],["Field # for # of enemy @unitTypes at priority #",1,1,"Carrier",3],["Try to field # every # seconds",1,30],["Field # at start",2],["Try to field # every # seconds",1,60],["Try to field # every # seconds",1,80]]},{"parts":[{"pos":[30,70],"type":"Wing1x1Round","dir":0},{"pos":[20,-40],"type":"Mount30","dir":0},{"pos":[0,40],"type":"EnergyTransfer","dir":0},{"pos":[-40,40],"type":"Mount30","dir":0},{"pos":[0,80],"type":"Mount30","dir":0},{"pos":[20,0],"type":"Reactor2x2","dir":0},{"pos":[40,40],"type":"Mount30","dir":0},{"pos":[60,0],"type":"Mount30","dir":0},{"pos":[-20,0],"type":"Reactor2x2","dir":0},{"pos":[-60,0],"type":"Mount30","dir":0},{"pos":[-50,-50],"type":"Engine02","dir":0},{"pos":[-20,-40],"type":"Mount30","dir":0},{"pos":[-30,70],"type":"Wing1x1Round","dir":0},{"pos":[50,-50],"type":"Engine02","dir":0},{"pos":[-70,30],"type":"HArmor1x1","dir":0},{"pos":[70,30],"type":"HArmor1x1","dir":0},{"pos":[-70,-40],"type":"HArmor1x2","dir":0},{"pos":[70,-40],"type":"HArmor1x2","dir":0},{"pos":[-90,-10],"type":"Wing1x1Round","dir":0},{"pos":[90,-10],"type":"Wing1x1Round","dir":0},{"pos":[0,80],"type":"TorpTurret","dir":0},{"pos":[-20,-40],"type":"TorpTurret","dir":0},{"pos":[20,-40],"type":"TorpTurret","dir":0},{"pos":[-60,0],"type":"AutoTurret","dir":0},{"pos":[-40,40],"type":"AutoTurret","dir":0},{"pos":[40,40],"type":"AutoTurret","dir":0},{"pos":[60,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",1000],["Avoid #dps danger areas",5],["Find units that are out of energy"],["Field # for # of ship in slot # at priority #",1,3,1,2],["Field # for # of ship in slot # at priority #",1,4,3,4],["Field # at start",1],["Stay in #m range of friendly units",900],["Try to field # every # seconds",1,60]]},{"parts":[{"pos":[-30,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[40,20],"type":"Mount30","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[10,-20],"type":"Engine03","dir":0},{"pos":[-10,-20],"type":"Engine03","dir":0},{"pos":[-40,20],"type":"Mount30","dir":0},{"pos":[30,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-50,-10],"type":"Wing1x1Round","dir":0},{"pos":[50,-10],"type":"Wing1x1Round","dir":0},{"pos":[-40,20],"type":"LightBeamTurret","dir":0},{"pos":[40,20],"type":"LightBeamTurret","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of friendly units",500],["@attackTypes enemy within #m","Attack",250],["When #% of energy, @chargeTypes",30,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less Brawling Value",1000],["Avoid over #damage shots",20],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",1000],["@attackTypes enemy @unitTypes within #m","Attack","Scout",1000],["Field # for # of enemy @unitTypes at priority #",1,5,"Scout",3],["Field # for # of enemy @unitTypes at priority #",1,3,"Swarmer",3],["Field # at start",2],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Less expensive",100,2000],["Try to field # every # seconds",1,60],["@capTypes Command Points within #m","Protect",10000]]},{"parts":[{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[-30,-30],"type":"Battery1x1","dir":0},{"pos":[-30,-10],"type":"Wing1x1Round","dir":0},{"pos":[10,-30],"type":"VArmor1x1Corner2","dir":0},{"pos":[0,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",550],["@attackTypes enemy @unitTypes within #m","Attack","Scout",510],["Avoid #dps danger areas",5],["@capTypes Command Points within #m","Capture",10000],["Field # at start",2],["Try to field # every # seconds",1,30],["Try to field # every # seconds",1,60]]},"","","","","",""];
  ais.all.AlphaSwarm = [{"parts":[{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[10,10],"type":"UArmor1x1Angle","dir":0},{"pos":[10,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",250],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Attack",600],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",100,1]]},"","","","","","","","",""];
  ais.all.Anubis = [{"parts":[{"pos":[70,20],"type":"VArmor1x2","dir":0},{"pos":[-70,-20],"type":"VArmor1x2","dir":0},{"pos":[-40,-40],"type":"Reactor2x2","dir":0},{"pos":[40,-40],"type":"Reactor2x2","dir":0},{"pos":[0,-20],"type":"ReloaderMod","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[0,60],"type":"TargetingMod","dir":0},{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[0,-50],"type":"Battery2x1","dir":0},{"pos":[50,-100],"type":"Engine04","dir":0},{"pos":[10,-90],"type":"Engine01","dir":0},{"pos":[-50,-100],"type":"Engine04","dir":0},{"pos":[-40,-70],"type":"Battery2x1","dir":0},{"pos":[40,-70],"type":"Battery2x1","dir":0},{"pos":[-10,-90],"type":"Engine01","dir":0},{"pos":[-70,-70],"type":"Engine01","dir":0},{"pos":[-30,-100],"type":"Engine04","dir":0},{"pos":[70,-70],"type":"Engine01","dir":0},{"pos":[70,-20],"type":"VArmor1x2","dir":0},{"pos":[30,-100],"type":"Engine04","dir":0},{"pos":[-70,20],"type":"VArmor1x2","dir":0},{"pos":[-80,60],"type":"VArmor2x2Angle","dir":0},{"pos":[80,60],"type":"VArmor2x2Angle","dir":0},{"pos":[0,100],"type":"Mount360","dir":0},{"pos":[-40,90],"type":"Wing2x1","dir":0},{"pos":[40,90],"type":"Wing2x1","dir":0},{"pos":[-90,20],"type":"VArmor1x2","dir":0},{"pos":[90,20],"type":"VArmor1x2","dir":0},{"pos":[-50,70],"type":"VArmor1x1","dir":0},{"pos":[-30,70],"type":"VArmor1x1","dir":0},{"pos":[30,70],"type":"VArmor1x1","dir":0},{"pos":[50,70],"type":"VArmor1x1","dir":0},{"pos":[110,-20],"type":"Wing1x2","dir":0},{"pos":[-110,-20],"type":"Wing1x2","dir":0},{"pos":[-90,-20],"type":"VArmor1x2","dir":0},{"pos":[90,-20],"type":"VArmor1x2","dir":0},{"pos":[110,-60],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-110,-60],"type":"VArmor1x1CornerBack","dir":0},{"pos":[90,-60],"type":"VArmor1x2","dir":0},{"pos":[-90,-60],"type":"VArmor1x2","dir":0},{"pos":[0,20],"type":"MissileTurret","dir":0},{"pos":[0,100],"type":"HeavyPDTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",80],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Slower","Less Range",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Less Range","No PD",2000],["@capTypes Command Points within #m","Capture",10000],["Field # at start",1],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[110,-100],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-150,-30],"type":"Wing1x1Round","dir":0},{"pos":[0,-20],"type":"ReloaderMod","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[30,-90],"type":"Engine01","dir":0},{"pos":[-50,-90],"type":"Engine01","dir":0},{"pos":[0,60],"type":"ReloaderMod","dir":0},{"pos":[50,-90],"type":"Engine01","dir":0},{"pos":[0,-90],"type":"Battery2x1","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[-80,-80],"type":"VArmor2x2","dir":0},{"pos":[-80,40],"type":"VArmor2x2","dir":0},{"pos":[80,-80],"type":"VArmor2x2","dir":0},{"pos":[0,100],"type":"Mount360Micro","dir":0},{"pos":[80,40],"type":"VArmor2x2","dir":0},{"pos":[-150,0],"type":"Wing1x2","dir":0},{"pos":[-30,-90],"type":"Engine01","dir":0},{"pos":[150,0],"type":"Wing1x2","dir":0},{"pos":[40,80],"type":"Reactor2x2","dir":0},{"pos":[-40,80],"type":"Reactor2x2","dir":0},{"pos":[-40,-40],"type":"VArmor2x2","dir":0},{"pos":[-110,70],"type":"VArmor1x1Angle","dir":0},{"pos":[40,-40],"type":"VArmor2x2","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[-70,110],"type":"VArmor1x1Angle","dir":0},{"pos":[70,110],"type":"VArmor1x1Angle","dir":0},{"pos":[130,-80],"type":"VArmor1x1CornerBack","dir":0},{"pos":[110,70],"type":"VArmor1x1Angle","dir":0},{"pos":[-130,-80],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-110,-100],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-110,-70],"type":"VArmor1x1","dir":0},{"pos":[110,-70],"type":"VArmor1x1","dir":0},{"pos":[150,-30],"type":"Wing1x1Round","dir":0},{"pos":[-10,-120],"type":"VArmor1x1CornerBack","dir":0},{"pos":[10,-120],"type":"VArmor1x1CornerBack","dir":0},{"pos":[90,-120],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-90,-120],"type":"VArmor1x1CornerBack","dir":0},{"pos":[0,-60],"type":"Battery2x2","dir":0},{"pos":[-70,-120],"type":"VArmor1x2End","dir":0},{"pos":[70,-120],"type":"VArmor1x2End","dir":0},{"pos":[0,140],"type":"VArmor2x2","dir":0},{"pos":[-40,120],"type":"VArmor2x2Angle","dir":0},{"pos":[40,120],"type":"VArmor2x2Angle","dir":0},{"pos":[-80,80],"type":"VArmor2x2Angle","dir":0},{"pos":[80,80],"type":"VArmor2x2Angle","dir":0},{"pos":[-120,40],"type":"VArmor2x2Angle","dir":0},{"pos":[120,40],"type":"VArmor2x2Angle","dir":0},{"pos":[-130,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[-110,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[-90,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[-70,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[70,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[90,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[110,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[130,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[-90,-40],"type":"VArmor1x2End","dir":0},{"pos":[-70,-40],"type":"VArmor1x2End","dir":0},{"pos":[70,-40],"type":"VArmor1x2End","dir":0},{"pos":[90,-40],"type":"VArmor1x2End","dir":0},{"pos":[110,-40],"type":"VArmor1x2End","dir":0},{"pos":[130,-40],"type":"VArmor1x2End","dir":0},{"pos":[-110,-40],"type":"VArmor1x2End","dir":0},{"pos":[-130,-40],"type":"VArmor1x2End","dir":0},{"pos":[0,20],"type":"PlasmaTurret","dir":0},{"pos":[0,100],"type":"HeavyPDTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",180],["@attackTypes enemy within #m","Kite",600],["When #% of energy, @chargeTypes",20,"Rest"],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",150,1000],["@capTypes Command Points within #m","Capture",10000],["Field # at start",1],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[-10,30],"type":"Battery1x1","dir":0},{"pos":[-10,0],"type":"Engine04","dir":0},{"pos":[-30,40],"type":"VArmor1x2SideBar","dir":0},{"pos":[10,40],"type":"VArmor1x2SideBar","dir":0}],"name":"","aiRules":[["Avoid everything"],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",4],["Try to field # every # seconds",1,30]]},"","","","","","",""];
  ais.all.AssaultandBattery = [{"parts":[{"pos":[50,30],"type":"Wing1x1Round","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[-20,40],"type":"Mount90","dir":0},{"pos":[20,40],"type":"Mount90","dir":0},{"pos":[-60,0],"type":"Mount90","dir":0},{"pos":[-20,0],"type":"Battery2x2","dir":0},{"pos":[60,0],"type":"Mount90","dir":0},{"pos":[20,0],"type":"Battery2x2","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[-50,-40],"type":"Engine04","dir":0},{"pos":[50,-40],"type":"Engine04","dir":0},{"pos":[-50,30],"type":"Wing1x1Round","dir":0},{"pos":[-10,-80],"type":"Engine04","dir":0},{"pos":[10,-80],"type":"Engine04","dir":0},{"pos":[-10,-40],"type":"VArmor1x2IBeam","dir":0},{"pos":[10,-40],"type":"VArmor1x2IBeam","dir":0},{"pos":[-20,40],"type":"LightBeamTurret","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0},{"pos":[-60,0],"type":"LightBeamTurret","dir":0},{"pos":[60,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","Slower",1000],["@attackTypes enemy within #m","Attack",300],["Avoid over #damage shots",20],["Avoid #dps danger areas",20],["@capTypes Command Points within #m","Capture",10000],["Field # when money over # at priority #",1,550,1],["Field # at priority #",1,4],["Field # at start",1]]},{"parts":[{"pos":[-20,0],"type":"Battery2x2","dir":0},{"pos":[-50,-10],"type":"Wing1x1Round","dir":0},{"pos":[0,-40],"type":"Engine07","dir":0},{"pos":[-20,40],"type":"Mount360Micro","dir":0},{"pos":[20,40],"type":"Mount360Micro","dir":0},{"pos":[20,0],"type":"Battery2x2","dir":0},{"pos":[60,20],"type":"Mount360Micro","dir":0},{"pos":[-60,20],"type":"Mount360Micro","dir":0},{"pos":[50,-10],"type":"Wing1x1Round","dir":0},{"pos":[30,-30],"type":"Wing1x1Round","dir":0},{"pos":[-30,-30],"type":"Wing1x1Round","dir":0},{"pos":[-60,20],"type":"AutoTurret","dir":0},{"pos":[-20,40],"type":"AutoTurret","dir":0},{"pos":[20,40],"type":"AutoTurret","dir":0},{"pos":[60,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",15,"Find recharger"],["Avoid over #damage shots",30],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Slower","Less Brawling Value",1600],["@attackTypes enemy within #m","Bomb",800],["Stay in #m range of slot # units",800,3],["Try to field # every # seconds",1,40]]},{"parts":[{"pos":[-30,30],"type":"Wing1x1Round","dir":0},{"pos":[0,-20],"type":"EnergyTransfer","dir":0},{"pos":[40,0],"type":"Reactor2x2","dir":0},{"pos":[0,20],"type":"Reactor2x2","dir":0},{"pos":[-40,0],"type":"Reactor2x2","dir":0},{"pos":[-50,-40],"type":"Engine04","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[30,30],"type":"Wing1x1Round","dir":0},{"pos":[30,-60],"type":"Engine04","dir":0},{"pos":[50,-40],"type":"Engine04","dir":0},{"pos":[-30,-60],"type":"Engine04","dir":0},{"pos":[-30,-30],"type":"UArmor1x1","dir":0},{"pos":[30,-30],"type":"UArmor1x1","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",1600,5],["Avoid everything"],["Avoid #dps danger areas",5],["Find units that are out of energy"],["Field # at priority #",1,3],["Try to field # every # seconds",1,30],["Field # for # of ship in slot # at priority #",1,2,1,2]]},{"parts":[{"pos":[0,0],"type":"Battery2x2","dir":0},{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[20,40],"type":"Mount30","dir":0},{"pos":[40,0],"type":"Mount30","dir":0},{"pos":[-40,0],"type":"Mount30","dir":0},{"pos":[-20,40],"type":"Mount30","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[-50,-30],"type":"Wing1x1Round","dir":0},{"pos":[50,-30],"type":"Wing1x1Round","dir":0},{"pos":[-40,0],"type":"TorpTurret","dir":0},{"pos":[-20,40],"type":"TorpTurret","dir":0},{"pos":[20,40],"type":"TorpTurret","dir":0},{"pos":[40,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",10,"Find recharger"],["@attackTypes enemy within #m","Bomb",600],["Stay in #m range of slot # units",800,3],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Attack",1600],["Field # at start",2],["Field # for # of ship in slot # at priority #",2,1,3,2]]},{"parts":[{"pos":[70,-60],"type":"HArmor1x2","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[-60,20],"type":"HArmor2x2Angle","dir":0},{"pos":[60,20],"type":"HArmor2x2Angle","dir":0},{"pos":[20,20],"type":"Battery2x2","dir":0},{"pos":[40,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-20,20],"type":"Battery2x2","dir":0},{"pos":[20,60],"type":"Mount90","dir":0},{"pos":[-40,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-20,60],"type":"Mount90","dir":0},{"pos":[0,-20],"type":"Mount360Micro","dir":0},{"pos":[-20,-60],"type":"Mount360Micro","dir":0},{"pos":[80,-20],"type":"Mount360Micro","dir":0},{"pos":[20,-60],"type":"Mount360Micro","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[-80,-20],"type":"Mount360Micro","dir":0},{"pos":[-70,-60],"type":"HArmor1x2","dir":0},{"pos":[-50,50],"type":"Wing1x1Round","dir":0},{"pos":[50,50],"type":"Wing1x1Round","dir":0},{"pos":[-90,-50],"type":"Wing1x1Round","dir":0},{"pos":[90,-50],"type":"Wing1x1Round","dir":0},{"pos":[-20,-90],"type":"HArmor1x2Back1","dir":0},{"pos":[20,-90],"type":"HArmor1x2Back1","dir":0},{"pos":[-20,60],"type":"LightBeamTurret","dir":0},{"pos":[20,60],"type":"LightBeamTurret","dir":0},{"pos":[0,-20],"type":"TorpTurret","dir":0},{"pos":[-80,-20],"type":"AutoTurret","dir":0},{"pos":[80,-20],"type":"AutoTurret","dir":0},{"pos":[-20,-60],"type":"PlasmaTurret","dir":0},{"pos":[20,-60],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",250],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Slower",160,800],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,1],["Field # when money over # at priority #",1,1000,1],["Try to field # every # seconds",1,35]]},"","","","",""];
  ais.all.BaitandMissile = [{"parts":[{"pos":[80,10],"type":"Reactor2x1","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[-80,10],"type":"Reactor2x1","dir":0},{"pos":[-10,-90],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[10,-90],"type":"Engine02","dir":0},{"pos":[-20,100],"type":"Mount90","dir":0},{"pos":[20,100],"type":"Mount90","dir":0},{"pos":[-60,90],"type":"Wing2x1","dir":0},{"pos":[60,90],"type":"Wing2x1","dir":0},{"pos":[80,70],"type":"Wing2x1","dir":0},{"pos":[-80,70],"type":"Wing2x1","dir":0},{"pos":[-40,60],"type":"HArmor2x2","dir":0},{"pos":[40,60],"type":"HArmor2x2","dir":0},{"pos":[-120,20],"type":"Mount90","dir":0},{"pos":[-120,-20],"type":"Mount90","dir":0},{"pos":[120,20],"type":"Mount90","dir":0},{"pos":[120,-20],"type":"Mount90","dir":0},{"pos":[-120,20],"type":"PDTurret","dir":0},{"pos":[-120,-20],"type":"PDTurret","dir":0},{"pos":[120,-20],"type":"PDTurret","dir":0},{"pos":[120,20],"type":"PDTurret","dir":0},{"pos":[0,0],"type":"MissileTurret","dir":0},{"pos":[-20,100],"type":"AutoTurret","dir":0},{"pos":[20,100],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","More Brawling Value","Faster",800],["@attackTypes enemy within #m","Kite",2000],["Try to field # every # seconds",2,35],["Stay in #m range of friendly units",500]]},{"parts":[{"pos":[-100,-50],"type":"Wing2x1","dir":0},{"pos":[120,40],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[10,-90],"type":"Engine02","dir":0},{"pos":[-10,-90],"type":"Engine02","dir":0},{"pos":[-40,60],"type":"HArmor2x2","dir":0},{"pos":[40,60],"type":"HArmor2x2","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[-80,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[-120,40],"type":"HArmor2x2Angle","dir":0},{"pos":[80,60],"type":"HArmor2x2Angle","dir":0},{"pos":[100,-50],"type":"Wing2x1","dir":0},{"pos":[-70,90],"type":"Wing1x1Round","dir":0},{"pos":[70,90],"type":"Wing1x1Round","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[0,90],"type":"Reactor2x1","dir":0},{"pos":[-80,10],"type":"Reactor2x1","dir":0},{"pos":[-80,30],"type":"Reactor2x1","dir":0},{"pos":[80,10],"type":"Reactor2x1","dir":0},{"pos":[80,30],"type":"Reactor2x1","dir":0},{"pos":[-60,-60],"type":"Mount360Micro","dir":0},{"pos":[60,-60],"type":"Mount360Micro","dir":0},{"pos":[-40,100],"type":"Mount360Micro","dir":0},{"pos":[40,100],"type":"Mount360Micro","dir":0},{"pos":[-60,-60],"type":"PDTurret","dir":0},{"pos":[60,-60],"type":"PDTurret","dir":0},{"pos":[-40,100],"type":"TorpTurret","dir":0},{"pos":[40,100],"type":"TorpTurret","dir":0},{"pos":[0,0],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More Range",1000,2000],["@attackTypes enemy within #m","Kite",2000],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,25]]},{"parts":[{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[10,-90],"type":"Engine02","dir":0},{"pos":[-10,-90],"type":"Engine02","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,10],"type":"Reactor2x1","dir":0},{"pos":[-80,10],"type":"Reactor2x1","dir":0},{"pos":[80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,50],"type":"HArmor2x1","dir":0},{"pos":[40,50],"type":"HArmor2x1","dir":0},{"pos":[-10,70],"type":"Wing1x1Round","dir":0},{"pos":[10,70],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Kite",1000],["Stay in #m range of friendly units",500],["Avoid over #damage shots",20],["Goto @locationTypes","Enemy Spawn"],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[80,10],"type":"Reactor2x1","dir":0},{"pos":[-80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-10,-90],"type":"Engine02","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,10],"type":"Reactor2x1","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[-40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-90,-50],"type":"Wing1x1Round","dir":0},{"pos":[90,-50],"type":"Wing1x1Round","dir":0},{"pos":[0,80],"type":"EnergyTransfer","dir":0},{"pos":[10,-90],"type":"Engine02","dir":0},{"pos":[80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[30,-90],"type":"Engine02","dir":0},{"pos":[-30,-90],"type":"Engine02","dir":0},{"pos":[-30,-50],"type":"Battery1x1","dir":0},{"pos":[30,-50],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,2,5,1],["@attackTypes enemy within #m","Kite",1000],["Avoid over #damage shots",20],["Find units that are out of energy"],["Try to field # every # seconds",1,35]]},{"parts":[{"pos":[0,60],"type":"Mount90","dir":0},{"pos":[30,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-10,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[10,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[10,20],"type":"VArmor1x2IBeam","dir":0},{"pos":[-10,20],"type":"VArmor1x2IBeam","dir":0},{"pos":[70,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[40,40],"type":"Mount90","dir":0},{"pos":[0,-50],"type":"Battery2x1","dir":0},{"pos":[-40,40],"type":"Mount90","dir":0},{"pos":[-30,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[30,10],"type":"Reactor1x1","dir":0},{"pos":[-30,10],"type":"Reactor1x1","dir":0},{"pos":[-50,-10],"type":"Engine01","dir":0},{"pos":[50,-10],"type":"Engine01","dir":0},{"pos":[30,-60],"type":"Wing1x2","dir":0},{"pos":[-30,-60],"type":"Wing1x2","dir":0},{"pos":[-70,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-70,20],"type":"VArmor1x2Corner4","dir":0},{"pos":[70,20],"type":"VArmor1x2Corner4","dir":0},{"pos":[-40,40],"type":"LightBeamTurret","dir":0},{"pos":[0,60],"type":"LightBeamTurret","dir":0},{"pos":[40,40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["Try to field # every # seconds",1,20],["Field # at priority #",1,2],["Avoid over #damage shots",50],["When #% of energy, @chargeTypes",10,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",500],["@capTypes Command Points within #m","Capture",10000]]},"","","","",""];
  ais.all.BatteryRam = [{"parts":[],"name":"","aiRules":[]},{"parts":[{"pos":[-60,10],"type":"HArmor2x1","dir":0},{"pos":[40,30],"type":"HArmor2x1","dir":0},{"pos":[10,-50],"type":"Engine02","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[0,-10],"type":"Reactor2x1","dir":0},{"pos":[-10,-50],"type":"Engine02","dir":0},{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[-40,80],"type":"Mount90","dir":0},{"pos":[0,100],"type":"Mount90","dir":0},{"pos":[0,60],"type":"Mount270","dir":0},{"pos":[40,80],"type":"Mount90","dir":0},{"pos":[80,40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[100,0],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-100,0],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,30],"type":"HArmor2x1","dir":0},{"pos":[-40,50],"type":"HArmor2x1","dir":0},{"pos":[40,50],"type":"HArmor2x1","dir":0},{"pos":[-60,-10],"type":"HArmor2x1","dir":0},{"pos":[60,10],"type":"HArmor2x1","dir":0},{"pos":[60,-10],"type":"HArmor2x1","dir":0},{"pos":[100,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-100,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-60,-30],"type":"HArmor2x1","dir":0},{"pos":[-60,-50],"type":"HArmor2x1","dir":0},{"pos":[60,-50],"type":"HArmor2x1","dir":0},{"pos":[60,-30],"type":"HArmor2x1","dir":0},{"pos":[-70,70],"type":"Wing1x1Round","dir":0},{"pos":[70,70],"type":"Wing1x1Round","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[0,30],"type":"HArmor2x1","dir":0},{"pos":[0,10],"type":"HArmor2x1","dir":0},{"pos":[-40,80],"type":"LightBeamTurret","dir":0},{"pos":[40,80],"type":"LightBeamTurret","dir":0},{"pos":[0,60],"type":"FlackTurret","dir":0},{"pos":[0,100],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["Field # at start",2],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[-40,40],"type":"Mount90","dir":0},{"pos":[0,50],"type":"Reactor2x1","dir":0},{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[-50,-20],"type":"Engine04","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[50,-20],"type":"Engine04","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[0,-10],"type":"Reactor2x1","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[40,40],"type":"Mount90","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[-70,0],"type":"Engine04","dir":0},{"pos":[70,0],"type":"Engine04","dir":0},{"pos":[50,10],"type":"Battery1x1","dir":0},{"pos":[-50,10],"type":"Battery1x1","dir":0},{"pos":[-70,30],"type":"Wing1x1Round","dir":0},{"pos":[70,30],"type":"Wing1x1Round","dir":0},{"pos":[-10,70],"type":"Wing1x1Round","dir":0},{"pos":[10,70],"type":"Wing1x1Round","dir":0},{"pos":[-30,70],"type":"Wing1x1Round","dir":0},{"pos":[30,70],"type":"Wing1x1Round","dir":0},{"pos":[0,20],"type":"FlackTurret","dir":0},{"pos":[-40,40],"type":"PlasmaTurret","dir":0},{"pos":[40,40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Field # at start",2],["Try to field # every # seconds",1,30],["When #% of energy, @chargeTypes",50,"Rest"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Slower","Less Range",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Slower","More Range",1000],["Stay in #m range of slot # units",1000,1],["@capTypes Command Points within #m","Spread to",10000]]},{"parts":[],"name":"","aiRules":[]},"","","","","",""];
  ais.all.BattleStar = [{"parts":[{"pos":[-20,20],"type":"Mount90","dir":0},{"pos":[-10,-40],"type":"Engine03","dir":0},{"pos":[10,0],"type":"Battery1x2","dir":0},{"pos":[10,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-30,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-30,-10],"type":"UArmor1x1","dir":0},{"pos":[10,30],"type":"Wing1x1Round","dir":0},{"pos":[-20,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Attack",350],["@attackTypes enemy @unitTypes within #m","Attack","Scout",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",1000],["Field # at priority #",0,5],["Field # for # of enemy @unitTypes at priority #",1,1,"Fighter",2],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",1000],["When #% of energy, @chargeTypes",70,"Find recharger"],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of enemy @unitTypes at priority #",1,1,"Scout",3],["Try to field # every # seconds",1,35],["Field # at start",1]]},{"parts":[{"pos":[40,100],"type":"Reactor2x2","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[-90,30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[30,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,10],"type":"Engine02","dir":0},{"pos":[-30,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[90,30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-80,60],"type":"HArmor2x2Angle","dir":0},{"pos":[80,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,100],"type":"EnergyTransfer","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-40,140],"type":"HArmor2x2Angle","dir":0},{"pos":[40,140],"type":"HArmor2x2Angle","dir":0},{"pos":[0,150],"type":"Battery2x1","dir":0},{"pos":[0,120],"type":"Mount360","dir":0},{"pos":[-70,110],"type":"Wing1x1Round","dir":0},{"pos":[70,110],"type":"Wing1x1Round","dir":0},{"pos":[-70,90],"type":"Battery1x1","dir":0},{"pos":[70,90],"type":"Battery1x1","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[-70,10],"type":"Engine01","dir":0},{"pos":[0,40],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"HeavyBeamTurret","dir":0},{"pos":[0,120],"type":"PDTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,3,1,1],["Avoid over #damage shots",180],["@attackTypes enemy within #m","Kite",1500],["Stay in #m range of slot # units",400,3],["Stay in #m range of slot # units",400,4],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less HP",2500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less Range",2500],["Find units that are out of energy"],["@capTypes Command Points within #m","Capture",1000],["Field # at priority #",1,5]]},{"parts":[{"pos":[0,-30],"type":"Battery2x1","dir":0},{"pos":[-10,-150],"type":"Engine02","dir":0},{"pos":[140,0],"type":"Mount360","dir":0},{"pos":[100,-20],"type":"TargetingMod","dir":0},{"pos":[180,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[160,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-180,20],"type":"ReloaderMod","dir":0},{"pos":[0,110],"type":"HArmor1x2Back2","dir":0},{"pos":[-140,0],"type":"Mount360","dir":0},{"pos":[-30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[0,30],"type":"Battery2x1","dir":0},{"pos":[0,50],"type":"HArmor1x2Front2","dir":0},{"pos":[30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,-50],"type":"HArmor1x2Back2","dir":0},{"pos":[-160,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-180,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[120,-140],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-30,-170],"type":"Engine02","dir":0},{"pos":[30,-170],"type":"Engine02","dir":0},{"pos":[-100,-20],"type":"TargetingMod","dir":0},{"pos":[-150,-130],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-140,-40],"type":"TargetingMod","dir":0},{"pos":[140,-40],"type":"TargetingMod","dir":0},{"pos":[150,-130],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-20,0],"type":"Reactor2x2","dir":0},{"pos":[0,140],"type":"Mount180","dir":0},{"pos":[20,0],"type":"Reactor2x2","dir":0},{"pos":[0,-70],"type":"HArmor1x2Front2","dir":0},{"pos":[0,70],"type":"HArmor1x2Back2","dir":0},{"pos":[0,90],"type":"HArmor1x2Front2","dir":0},{"pos":[-120,-140],"type":"HArmor2x2AngleBack","dir":0},{"pos":[10,-150],"type":"Engine02","dir":0},{"pos":[-140,40],"type":"ReloaderMod","dir":0},{"pos":[0,-110],"type":"HArmor1x2Front2","dir":0},{"pos":[0,-90],"type":"HArmor1x2Back2","dir":0},{"pos":[-150,130],"type":"HArmor1x1Angle","dir":0},{"pos":[80,-160],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-80,-160],"type":"HArmor2x2AngleBack","dir":0},{"pos":[180,60],"type":"HArmor2x2Angle","dir":0},{"pos":[160,100],"type":"HArmor2x2Angle","dir":0},{"pos":[120,140],"type":"HArmor2x2Angle","dir":0},{"pos":[150,130],"type":"HArmor1x1Angle","dir":0},{"pos":[0,180],"type":"ReloaderMod","dir":0},{"pos":[-180,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-120,140],"type":"HArmor2x2Angle","dir":0},{"pos":[-160,100],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,150],"type":"Battery2x1","dir":0},{"pos":[-30,180],"type":"HArmor1x2","dir":0},{"pos":[-50,180],"type":"Wing1x2","dir":0},{"pos":[-80,160],"type":"HArmor2x2Angle","dir":0},{"pos":[30,180],"type":"HArmor1x2","dir":0},{"pos":[40,150],"type":"Battery2x1","dir":0},{"pos":[50,180],"type":"Wing1x2","dir":0},{"pos":[80,160],"type":"HArmor2x2Angle","dir":0},{"pos":[140,40],"type":"ReloaderMod","dir":0},{"pos":[180,20],"type":"ReloaderMod","dir":0},{"pos":[100,20],"type":"ReloaderMod","dir":0},{"pos":[180,-20],"type":"TargetingMod","dir":0},{"pos":[-100,20],"type":"ReloaderMod","dir":0},{"pos":[-180,-20],"type":"TargetingMod","dir":0},{"pos":[-140,0],"type":"HeavyBeamTurret","dir":0},{"pos":[140,0],"type":"HeavyBeamTurret","dir":0},{"pos":[0,140],"type":"HeavyPDTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",1,2],["@attackTypes enemy within #m","Stay at range",900],["@attackTypes enemy within #m","Circle",1100],["@attackTypes enemy within #m","Attack",1300],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",10000],["Stay in #m range of slot # units",600,4],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,45],["Field # at start",1]]},{"parts":[{"pos":[-90,-170],"type":"Engine02","dir":0},{"pos":[-40,140],"type":"TargetingMod","dir":0},{"pos":[-180,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[180,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[160,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[140,-140],"type":"HArmor2x2AngleBack","dir":0},{"pos":[180,60],"type":"HArmor2x2Angle","dir":0},{"pos":[160,100],"type":"HArmor2x2Angle","dir":0},{"pos":[0,50],"type":"HArmor1x2Front2","dir":0},{"pos":[0,70],"type":"HArmor1x2Back2","dir":0},{"pos":[30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,-50],"type":"HArmor1x2Back2","dir":0},{"pos":[-30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,-70],"type":"HArmor1x2Front2","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[-20,180],"type":"TargetingMod","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[0,20],"type":"Reactor2x2","dir":0},{"pos":[0,140],"type":"Mount360","dir":0},{"pos":[-20,100],"type":"ReloaderMod","dir":0},{"pos":[20,180],"type":"TargetingMod","dir":0},{"pos":[20,-180],"type":"TargetingMod","dir":0},{"pos":[0,-140],"type":"Mount360","dir":0},{"pos":[20,100],"type":"ReloaderMod","dir":0},{"pos":[-20,-180],"type":"TargetingMod","dir":0},{"pos":[-20,-100],"type":"ReloaderMod","dir":0},{"pos":[20,-100],"type":"ReloaderMod","dir":0},{"pos":[110,-150],"type":"Engine02","dir":0},{"pos":[-110,-150],"type":"Engine02","dir":0},{"pos":[-160,100],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,-140],"type":"ReloaderMod","dir":0},{"pos":[40,140],"type":"TargetingMod","dir":0},{"pos":[40,-140],"type":"ReloaderMod","dir":0},{"pos":[-60,-180],"type":"HArmor2x2AngleBack","dir":0},{"pos":[90,-170],"type":"Engine02","dir":0},{"pos":[60,-180],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-160,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-140,-140],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-140,140],"type":"HArmor2x2Angle","dir":0},{"pos":[140,140],"type":"HArmor2x2Angle","dir":0},{"pos":[-70,180],"type":"Wing1x2","dir":0},{"pos":[-50,180],"type":"HArmor1x2","dir":0},{"pos":[-100,160],"type":"HArmor2x2Angle","dir":0},{"pos":[100,160],"type":"HArmor2x2Angle","dir":0},{"pos":[70,180],"type":"Wing1x2","dir":0},{"pos":[50,180],"type":"HArmor1x2","dir":0},{"pos":[-50,-110],"type":"Wing1x1Round","dir":0},{"pos":[50,-110],"type":"Wing1x1Round","dir":0},{"pos":[-180,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-170,0],"type":"Battery1x2","dir":0},{"pos":[170,0],"type":"Battery1x2","dir":0},{"pos":[190,0],"type":"HArmor1x2","dir":0},{"pos":[-190,0],"type":"HArmor1x2","dir":0},{"pos":[180,30],"type":"HArmor2x1","dir":0},{"pos":[-180,30],"type":"HArmor2x1","dir":0},{"pos":[-180,-30],"type":"HArmor2x1","dir":0},{"pos":[180,-30],"type":"HArmor2x1","dir":0},{"pos":[-50,110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,150],"type":"Battery1x1","dir":0},{"pos":[70,150],"type":"Battery1x1","dir":0},{"pos":[-70,130],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,130],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,140],"type":"HeavyBeamTurret","dir":0},{"pos":[0,-140],"type":"HeavyBeamTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",1,2],["@attackTypes enemy within #m","Kite",900],["@attackTypes enemy within #m","Ram",1200],["Stay in #m range of slot # units",600,3],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less HP","Weaker",10000],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,60],["Field # at start",1]]},"","","","","",""];
  ais.all.BeamMan = [{"parts":[{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[-40,70],"type":"Reactor2x1","dir":0},{"pos":[40,90],"type":"Wing2x1","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[0,90],"type":"Reactor2x1","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[0,-20],"type":"ReloaderMod","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[-40,-30],"type":"Battery2x1","dir":0},{"pos":[40,-30],"type":"ShieldGen2x1","dir":0},{"pos":[40,70],"type":"Reactor2x1","dir":0},{"pos":[-40,90],"type":"Wing2x1","dir":0},{"pos":[-70,20],"type":"Reactor1x2","dir":0},{"pos":[0,60],"type":"TargetingMod","dir":0},{"pos":[70,20],"type":"Reactor1x2","dir":0},{"pos":[90,0],"type":"Wing1x2","dir":0},{"pos":[-90,0],"type":"Wing1x2","dir":0},{"pos":[-70,-10],"type":"Battery1x1","dir":0},{"pos":[70,-10],"type":"Battery1x1","dir":0},{"pos":[-70,60],"type":"Battery1x2","dir":0},{"pos":[70,60],"type":"Battery1x2","dir":0},{"pos":[-60,-60],"type":"Mount360Micro","dir":0},{"pos":[60,-60],"type":"Mount360Micro","dir":0},{"pos":[0,-60],"type":"Engine07","dir":0},{"pos":[-30,-60],"type":"Engine04","dir":0},{"pos":[30,-60],"type":"Engine04","dir":0},{"pos":[0,20],"type":"HeavyBeamTurret","dir":0},{"pos":[60,-60],"type":"RingTurret","dir":0},{"pos":[-60,-60],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Kite",600],["When #% of energy, @chargeTypes",40,"Rest"],["Avoid over #damage shots",10],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,1],["Try to field # every # seconds",1,30],["Field # at start",1]]},{"parts":[{"pos":[-40,70],"type":"Reactor2x1","dir":0},{"pos":[-70,20],"type":"Reactor1x2","dir":0},{"pos":[-40,90],"type":"Wing2x1","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[0,60],"type":"TargetingMod","dir":0},{"pos":[40,90],"type":"Wing2x1","dir":0},{"pos":[-20,-60],"type":"Engine07","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[0,90],"type":"Reactor2x1","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[20,-60],"type":"Engine07","dir":0},{"pos":[0,-20],"type":"ReloaderMod","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[40,70],"type":"Reactor2x1","dir":0},{"pos":[-40,-30],"type":"Battery2x1","dir":0},{"pos":[-70,60],"type":"UArmor1x2","dir":0},{"pos":[70,60],"type":"UArmor1x2","dir":0},{"pos":[70,20],"type":"Reactor1x2","dir":0},{"pos":[90,0],"type":"Wing1x2","dir":0},{"pos":[-90,0],"type":"Wing1x2","dir":0},{"pos":[-70,-10],"type":"Battery1x1","dir":0},{"pos":[-70,-30],"type":"UArmor1x1","dir":0},{"pos":[70,-10],"type":"Battery1x1","dir":0},{"pos":[70,-30],"type":"UArmor1x1","dir":0},{"pos":[40,-30],"type":"Battery2x1","dir":0},{"pos":[-50,-60],"type":"Battery1x2","dir":0},{"pos":[50,-60],"type":"Battery1x2","dir":0},{"pos":[0,20],"type":"HeavyBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",25,"Find recharger"],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Kite",650],["When #% of energy, @chargeTypes",50,"Rest"],["@attackTypes enemy within #m","Kite",1000],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,1],["Try to field # every # seconds",1,30],["Field # at start",1]]},{"parts":[{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[-10,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-10,10],"type":"HArmor1x1Angle","dir":0},{"pos":[30,10],"type":"HArmor1x1Angle","dir":0}],"name":"","aiRules":[["Avoid everything"],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",2,30],["Field # at start",2]]},"","","","","","",{"parts":[{"pos":[40,0],"type":"VArmor2x2","dir":0},{"pos":[40,-30],"type":"Battery2x1","dir":0},{"pos":[0,90],"type":"Reactor2x1","dir":0},{"pos":[-40,-30],"type":"Battery2x1","dir":0},{"pos":[-40,70],"type":"Reactor2x1","dir":0},{"pos":[40,70],"type":"Reactor2x1","dir":0},{"pos":[70,20],"type":"Reactor1x2","dir":0},{"pos":[-70,20],"type":"Reactor1x2","dir":0},{"pos":[90,0],"type":"Wing1x2","dir":0},{"pos":[-90,0],"type":"Wing1x2","dir":0},{"pos":[-70,-10],"type":"Battery1x1","dir":0},{"pos":[-40,90],"type":"Wing2x1","dir":0},{"pos":[-40,40],"type":"EnergyTransfer","dir":0},{"pos":[0,-20],"type":"EnergyTransfer","dir":0},{"pos":[70,-10],"type":"Battery1x1","dir":0},{"pos":[40,40],"type":"EnergyTransfer","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[-40,0],"type":"VArmor2x2","dir":0},{"pos":[40,90],"type":"Wing2x1","dir":0},{"pos":[-50,-60],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-70,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-30,-60],"type":"VArmor1x1CornerBack","dir":0},{"pos":[30,-60],"type":"VArmor1x1CornerBack","dir":0},{"pos":[50,-60],"type":"VArmor1x1CornerBack","dir":0},{"pos":[70,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-70,70],"type":"VArmor1x1Angle","dir":0},{"pos":[-70,50],"type":"VArmor1x1Angle","dir":0},{"pos":[70,50],"type":"VArmor1x1Angle","dir":0},{"pos":[70,70],"type":"VArmor1x1Angle","dir":0},{"pos":[90,30],"type":"VArmor1x1Angle","dir":0},{"pos":[-90,30],"type":"VArmor1x1Angle","dir":0},{"pos":[0,60],"type":"VArmor2x2","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[-90,-40],"type":"Engine04","dir":0},{"pos":[90,-40],"type":"Engine04","dir":0},{"pos":[0,20],"type":"HeavyPDTurret","dir":0}],"name":"","aiRules":[["Find units that are out of energy"],["Avoid over #damage shots",40],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,1]]}];
  ais.all.Belfry = [{"parts":[{"pos":[40,20],"type":"DamageMod","dir":0},{"pos":[0,0],"type":"Mount270","dir":0},{"pos":[-40,-60],"type":"Reactor2x2","dir":0},{"pos":[-40,50],"type":"Battery2x1","dir":0},{"pos":[0,-80],"type":"Reactor2x2","dir":0},{"pos":[-50,-110],"type":"Engine02","dir":0},{"pos":[-30,-110],"type":"Engine02","dir":0},{"pos":[50,-110],"type":"Engine02","dir":0},{"pos":[40,50],"type":"Battery2x1","dir":0},{"pos":[30,-110],"type":"Engine02","dir":0},{"pos":[40,-60],"type":"Reactor2x2","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[-40,20],"type":"DamageMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[0,40],"type":"DamageMod","dir":0},{"pos":[-80,60],"type":"Wing2x2","dir":0},{"pos":[80,60],"type":"Wing2x2","dir":0},{"pos":[80,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-80,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-80,-60],"type":"HArmor2x2","dir":0},{"pos":[-80,-20],"type":"HArmor2x2","dir":0},{"pos":[80,-60],"type":"HArmor2x2","dir":0},{"pos":[80,-20],"type":"HArmor2x2","dir":0},{"pos":[-80,20],"type":"HArmor2x2","dir":0},{"pos":[80,20],"type":"HArmor2x2","dir":0},{"pos":[-40,70],"type":"HArmor2x1","dir":0},{"pos":[40,70],"type":"HArmor2x1","dir":0},{"pos":[0,70],"type":"HArmor2x1","dir":0},{"pos":[0,-110],"type":"HArmor2x1","dir":0},{"pos":[0,0],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",150],["@attackTypes enemy within #m","Ram",1000],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",100,1]]},{"parts":[{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[-10,0],"type":"HArmor1x2","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[10,10],"type":"Wing1x1Round","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",1,30],["Field # at start",4]]},"","","","","","","",""];
  ais.all.BetaSwarm = [{"parts":[{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[-30,-30],"type":"Battery1x1","dir":0},{"pos":[50,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[10,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-10,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-10],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",250],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",200,600],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",100,1]]},"","","","","","","","",""];
  ais.all.BladeRanger = [{"parts":[{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[-30,30],"type":"Battery1x1","dir":0},{"pos":[-30,0],"type":"Engine03","dir":0},{"pos":[30,30],"type":"Battery1x1","dir":0},{"pos":[30,0],"type":"Engine04","dir":0},{"pos":[30,60],"type":"VArmor1x1Hook","dir":0},{"pos":[-30,60],"type":"VArmor1x1Hook","dir":0},{"pos":[-50,10],"type":"Wing1x1Notch","dir":0},{"pos":[50,10],"type":"Wing1x1Notch","dir":0},{"pos":[0,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",30,"Find recharger"],["@attackTypes enemy within #m","Bomb",550],["@attackTypes enemy within #m","Backstab",800],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","Faster",1100],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",1,30],["Field # at start",4]]},{"parts":[{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[0,40],"type":"Mount90","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[-30,30],"type":"Battery1x1","dir":0},{"pos":[30,30],"type":"Battery1x1","dir":0},{"pos":[50,30],"type":"Wing1x1Round","dir":0},{"pos":[-50,30],"type":"Wing1x1Round","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[-50,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[50,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-30,50],"type":"VArmor1x1Corner2","dir":0},{"pos":[30,50],"type":"VArmor1x1Corner2","dir":0},{"pos":[-50,0],"type":"VArmor1x2SideBarFilled","dir":0},{"pos":[50,0],"type":"VArmor1x2SideBarFilled","dir":0},{"pos":[0,0],"type":"AutoTurret","dir":0},{"pos":[0,40],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",30,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Run-by","Less Arc",200,500],["@attackTypes enemy within #m","Attack",600],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",200,2000],["Avoid #dps danger areas",5],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,60],["Field # at start",2],["Field # when money over # at priority #",100,3000,1]]},{"parts":[{"pos":[-10,-40],"type":"Engine03","dir":0},{"pos":[-10,50],"type":"Battery1x1","dir":0},{"pos":[-30,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[-30,0],"type":"VArmor1x1CornerBack","dir":0},{"pos":[30,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[10,50],"type":"Battery1x1","dir":0},{"pos":[10,-40],"type":"Engine03","dir":0},{"pos":[-10,-10],"type":"Battery1x1","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[-30,-30],"type":"Wing1x1Round","dir":0},{"pos":[30,-30],"type":"Wing1x1Round","dir":0},{"pos":[30,0],"type":"VArmor1x1CornerBack","dir":0},{"pos":[0,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",30,"Find recharger"],["@attackTypes enemy within #m","Circle",700],["@attackTypes enemy within #m","Backstab",1100],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,40],["Field # at start",3]]},{"parts":[{"pos":[-30,-60],"type":"Reactor1x2","dir":0},{"pos":[30,10],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"Mount360Micro","dir":0},{"pos":[-30,-20],"type":"Reactor1x2","dir":0},{"pos":[-50,-80],"type":"VArmor1x2End","dir":0},{"pos":[50,0],"type":"VArmor1x1Corner3","dir":0},{"pos":[-50,0],"type":"VArmor1x1Corner3","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[0,-40],"type":"EnergyTransfer","dir":0},{"pos":[30,-60],"type":"Reactor1x2","dir":0},{"pos":[-10,-80],"type":"Engine04","dir":0},{"pos":[30,-20],"type":"Reactor1x2","dir":0},{"pos":[10,-80],"type":"Engine04","dir":0},{"pos":[30,-100],"type":"Engine04","dir":0},{"pos":[-30,-100],"type":"Engine04","dir":0},{"pos":[50,-40],"type":"VArmor1x2","dir":0},{"pos":[-50,-40],"type":"VArmor1x2","dir":0},{"pos":[50,-80],"type":"VArmor1x2End","dir":0},{"pos":[-70,-60],"type":"VArmor1x1CornerBack","dir":0},{"pos":[70,-60],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-70,-30],"type":"VArmor1x1Corner1","dir":0},{"pos":[70,-30],"type":"VArmor1x1Corner1","dir":0},{"pos":[0,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid everything"],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Flee",1600],["Stay in #m range of slot # units",550,2],["Stay in #m range of slot # units",550,3],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,5,1,1],["Field # for # of ship in slot # at priority #",1,3,2,1],["Field # for # of ship in slot # at priority #",1,4,3,1],["Field # at start",1],["Field # at priority #",1,1]]},"","","","","",""];
  ais.all.BossAI = ["","","","","","","","","",""];
  ais.all.BullDogs = [{"parts":[{"pos":[-110,-40],"type":"HArmor1x2","dir":0},{"pos":[110,-40],"type":"HArmor1x2","dir":0},{"pos":[0,120],"type":"HArmor2x2","dir":0},{"pos":[0,180],"type":"HArmor2x2","dir":0},{"pos":[80,140],"type":"Mount30","dir":0},{"pos":[-80,140],"type":"Mount30","dir":0},{"pos":[-40,180],"type":"Mount30","dir":0},{"pos":[40,180],"type":"Mount30","dir":0},{"pos":[40,60],"type":"Wing2x2","dir":0},{"pos":[-40,120],"type":"HArmor2x2","dir":0},{"pos":[-40,60],"type":"Wing2x2","dir":0},{"pos":[40,150],"type":"Battery2x1","dir":0},{"pos":[-40,150],"type":"Battery2x1","dir":0},{"pos":[50,-50],"type":"Engine02","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[-50,-50],"type":"Engine02","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[180,-40],"type":"Mount30","dir":0},{"pos":[-180,-40],"type":"Mount30","dir":0},{"pos":[140,0],"type":"Mount30","dir":0},{"pos":[-140,0],"type":"Mount30","dir":0},{"pos":[40,120],"type":"HArmor2x2","dir":0},{"pos":[-180,0],"type":"Mount90","dir":0},{"pos":[180,0],"type":"Mount90","dir":0},{"pos":[140,60],"type":"HArmor2x2Front1","dir":0},{"pos":[-140,60],"type":"HArmor2x2Front1","dir":0},{"pos":[-140,-40],"type":"HArmor2x2","dir":0},{"pos":[140,-40],"type":"HArmor2x2","dir":0},{"pos":[-100,20],"type":"Mount30","dir":0},{"pos":[0,150],"type":"HArmor2x1","dir":0},{"pos":[80,-40],"type":"Mount30","dir":0},{"pos":[0,80],"type":"ReloaderMod","dir":0},{"pos":[-80,-40],"type":"Mount30","dir":0},{"pos":[100,20],"type":"Mount30","dir":0},{"pos":[-40,-10],"type":"Battery2x1","dir":0},{"pos":[40,-10],"type":"Battery2x1","dir":0},{"pos":[-80,-10],"type":"HArmor2x1","dir":0},{"pos":[80,-10],"type":"HArmor2x1","dir":0},{"pos":[-110,-10],"type":"Battery1x1","dir":0},{"pos":[110,-10],"type":"Battery1x1","dir":0},{"pos":[-70,20],"type":"HArmor1x2","dir":0},{"pos":[70,20],"type":"HArmor1x2","dir":0},{"pos":[-70,180],"type":"Wing1x2","dir":0},{"pos":[70,180],"type":"Wing1x2","dir":0},{"pos":[0,40],"type":"Mount270","dir":0},{"pos":[-80,100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-110,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[110,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-90,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[90,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-10,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[10,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-140,30],"type":"HArmor2x1","dir":0},{"pos":[140,30],"type":"HArmor2x1","dir":0},{"pos":[170,30],"type":"HArmor1x1Angle","dir":0},{"pos":[40,180],"type":"TorpTurret","dir":0},{"pos":[-170,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-180,0],"type":"PDTurret","dir":0},{"pos":[180,0],"type":"PDTurret","dir":0},{"pos":[-80,140],"type":"TorpTurret","dir":0},{"pos":[-40,180],"type":"TorpTurret","dir":0},{"pos":[-100,20],"type":"TorpTurret","dir":0},{"pos":[180,-40],"type":"TorpTurret","dir":0},{"pos":[80,140],"type":"TorpTurret","dir":0},{"pos":[140,0],"type":"TorpTurret","dir":0},{"pos":[-180,-40],"type":"TorpTurret","dir":0},{"pos":[100,20],"type":"TorpTurret","dir":0},{"pos":[-140,0],"type":"TorpTurret","dir":0},{"pos":[-80,-40],"type":"TorpTurret","dir":0},{"pos":[80,-40],"type":"TorpTurret","dir":0},{"pos":[0,40],"type":"HeavyPDTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",600],["@capTypes Command Points within #m","Capture",10000],["Field # at start",1],["Try to field # every # seconds",1,60],["Field # at priority #",1,1]]},{"parts":[{"pos":[20,20],"type":"Mount30","dir":0},{"pos":[-20,20],"type":"Mount30","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[10,-20],"type":"Engine03","dir":0},{"pos":[50,10],"type":"Wing1x1Notch","dir":0},{"pos":[-50,10],"type":"Wing1x1Notch","dir":0},{"pos":[-50,-10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[50,-10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[20,20],"type":"TorpTurret","dir":0},{"pos":[-20,20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",25,"Find recharger"],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Stay at range",850],["@attackTypes enemy within #m","Attack",1100],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",4],["Try to field # every # seconds",1,30]]},"","","","","","","",{"parts":[{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,-20],"type":"Engine04","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[50,-20],"type":"Engine04","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[0,40],"type":"EnergyTransfer","dir":0},{"pos":[-30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,-30],"type":"Battery2x1","dir":0},{"pos":[-40,30],"type":"HArmor2x1","dir":0},{"pos":[40,30],"type":"HArmor2x1","dir":0},{"pos":[-50,10],"type":"HArmor1x1","dir":0},{"pos":[50,10],"type":"HArmor1x1","dir":0},{"pos":[-30,50],"type":"Wing1x1Round","dir":0},{"pos":[30,50],"type":"Wing1x1Round","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,1,5],["Stay in #m range of slot # units",500,1],["Avoid everything"]]}];
  ais.all.Cormix = [{"parts":[{"pos":[-50,-60],"type":"VArmor1x2Corner4","dir":0},{"pos":[30,-60],"type":"Battery1x2","dir":0},{"pos":[-30,-60],"type":"Battery1x2","dir":0},{"pos":[-30,-100],"type":"Engine03","dir":0},{"pos":[30,-100],"type":"Engine03","dir":0},{"pos":[-50,-100],"type":"Engine03","dir":0},{"pos":[50,-100],"type":"Engine03","dir":0},{"pos":[50,-60],"type":"VArmor1x2Corner4","dir":0},{"pos":[-30,-30],"type":"Wing1x1Angle","dir":0},{"pos":[30,-30],"type":"Wing1x1Angle","dir":0},{"pos":[0,-80],"type":"DamageMod","dir":0},{"pos":[0,-40],"type":"Mount90","dir":0},{"pos":[0,-40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Backstab",400],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Capture",10000],["Field # at start",4],["Try to field # every # seconds",3,10]]},{"parts":[{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[-20,-20],"type":"Mount30","dir":0},{"pos":[-50,-40],"type":"Engine04","dir":0},{"pos":[-50,-10],"type":"Battery1x1","dir":0},{"pos":[10,10],"type":"Wing1x1Round","dir":0},{"pos":[-50,10],"type":"Wing1x1Round","dir":0},{"pos":[-20,10],"type":"Battery2x1","dir":0},{"pos":[-20,-20],"type":"EMPGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Bomb",500],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",6],["Try to field # every # seconds",3,10]]},{"parts":[{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[-70,-50],"type":"Engine02","dir":0},{"pos":[-20,-20],"type":"Mount30","dir":0},{"pos":[10,-20],"type":"Reactor1x2","dir":0},{"pos":[-50,-20],"type":"Battery1x2","dir":0},{"pos":[-70,-10],"type":"Wing1x1Round","dir":0},{"pos":[30,-10],"type":"Wing1x1Round","dir":0},{"pos":[-50,-50],"type":"HArmor1x1","dir":0},{"pos":[-50,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[10,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[10,-50],"type":"HArmor1x1","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[-20,-60],"type":"TargetingMod","dir":0},{"pos":[0,20],"type":"ReloaderMod","dir":0},{"pos":[-20,-20],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of friendly units",1000],["@attackTypes enemy within #m","Attack",2000],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",2,10]]},"","","","","","",{"parts":[{"pos":[0,20],"type":"EnergyTransfer","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[50,-20],"type":"Engine04","dir":0},{"pos":[-50,-20],"type":"Engine04","dir":0},{"pos":[-50,10],"type":"Wing1x1Notch","dir":0},{"pos":[50,10],"type":"Wing1x1Notch","dir":0}],"name":"","aiRules":[["Avoid everything"],["Stay in #m range of slot # units",500,3],["Field # for # of ship in slot # at priority #",1,6,1,5],["Field # for # of ship in slot # at priority #",1,10,2,5],["Field # for # of ship in slot # at priority #",1,2,3,5]]}];
  ais.all.CreepingHoard = [{"parts":[{"pos":[-60,-60],"type":"Reactor2x2","dir":0},{"pos":[20,-20],"type":"HArmor2x2","dir":0},{"pos":[-60,20],"type":"TargetingMod","dir":0},{"pos":[20,60],"type":"TargetingMod","dir":0},{"pos":[20,20],"type":"TargetingMod","dir":0},{"pos":[-20,0],"type":"ReloaderMod","dir":0},{"pos":[-20,40],"type":"Mount360","dir":0},{"pos":[-20,80],"type":"ReloaderMod","dir":0},{"pos":[-60,60],"type":"TargetingMod","dir":0},{"pos":[-60,-20],"type":"HArmor2x2","dir":0},{"pos":[50,-30],"type":"Engine02","dir":0},{"pos":[-90,-30],"type":"Engine02","dir":0},{"pos":[20,-60],"type":"Reactor2x2","dir":0},{"pos":[-20,-40],"type":"EnergyTransfer","dir":0},{"pos":[50,10],"type":"Wing1x1Angle","dir":0},{"pos":[-90,10],"type":"Wing1x1Angle","dir":0},{"pos":[20,100],"type":"HArmor2x2","dir":0},{"pos":[-60,100],"type":"HArmor2x2","dir":0},{"pos":[-20,-80],"type":"HArmor2x2","dir":0},{"pos":[-90,60],"type":"HArmor1x2","dir":0},{"pos":[50,60],"type":"HArmor1x2","dir":0},{"pos":[-20,40],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",2500,4],["Find units that are out of energy"],["Avoid everything"],["Field # at priority #",1,1],["Field # at priority #",1,3],["Field # at priority #",1,4],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","---","Weaker",1000],["Goto @locationTypes","Friendly Army Middle"],["Field # at priority #",1,9]]},{"parts":[{"pos":[20,-20],"type":"HArmor2x2","dir":0},{"pos":[20,-60],"type":"Reactor2x2","dir":0},{"pos":[-60,20],"type":"TargetingMod","dir":0},{"pos":[20,60],"type":"TargetingMod","dir":0},{"pos":[20,20],"type":"TargetingMod","dir":0},{"pos":[-20,40],"type":"Mount360","dir":0},{"pos":[-20,80],"type":"ReloaderMod","dir":0},{"pos":[-60,60],"type":"TargetingMod","dir":0},{"pos":[-60,-20],"type":"HArmor2x2","dir":0},{"pos":[50,-30],"type":"Engine02","dir":0},{"pos":[-90,-30],"type":"Engine02","dir":0},{"pos":[-60,-60],"type":"Reactor2x2","dir":0},{"pos":[-20,-40],"type":"EnergyTransfer","dir":0},{"pos":[50,10],"type":"Wing1x1Angle","dir":0},{"pos":[-90,10],"type":"Wing1x1Angle","dir":0},{"pos":[20,100],"type":"HArmor2x2","dir":0},{"pos":[-60,100],"type":"HArmor2x2","dir":0},{"pos":[-20,-80],"type":"HArmor2x2","dir":0},{"pos":[-90,60],"type":"HArmor1x2","dir":0},{"pos":[50,60],"type":"HArmor1x2","dir":0},{"pos":[-20,0],"type":"TargetingMod","dir":0},{"pos":[-20,120],"type":"HArmor2x2","dir":0},{"pos":[-20,40],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",1,2],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","More Brawling Value","---",1000],["Stay in #m range of slot # units",500,1],["Goto @locationTypes","Friendly Army Middle"],["Field # at priority #",1,7]]},{"parts":[{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[40,-20],"type":"HArmor2x2","dir":0},{"pos":[10,-30],"type":"Engine02","dir":0},{"pos":[-10,-30],"type":"Engine02","dir":0},{"pos":[-40,-60],"type":"HArmor2x2","dir":0},{"pos":[-40,-20],"type":"HArmor2x2","dir":0},{"pos":[40,-60],"type":"HArmor2x2","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[-30,30],"type":"Wing1x1Round","dir":0},{"pos":[-50,20],"type":"HArmor1x2","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[30,30],"type":"Wing1x1Round","dir":0},{"pos":[50,20],"type":"HArmor1x2","dir":0},{"pos":[0,20],"type":"RingTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Less expensive","More Brawling Value",1300],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Run-by","Slower","---",500],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,1,9,3]]},{"parts":[{"pos":[40,-10],"type":"Battery2x1","dir":0},{"pos":[-40,-10],"type":"Battery2x1","dir":0},{"pos":[180,0],"type":"Mount30","dir":0},{"pos":[-180,0],"type":"Mount30","dir":0},{"pos":[100,0],"type":"Mount30","dir":0},{"pos":[120,-40],"type":"Mount30","dir":0},{"pos":[-120,-40],"type":"Mount30","dir":0},{"pos":[-100,0],"type":"Mount30","dir":0},{"pos":[-160,-40],"type":"Mount30","dir":0},{"pos":[-40,60],"type":"TargetingMod","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[160,-40],"type":"Mount30","dir":0},{"pos":[40,60],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"DamageMod","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[-80,40],"type":"Reactor2x2","dir":0},{"pos":[0,80],"type":"DamageMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[80,40],"type":"Reactor2x2","dir":0},{"pos":[-120,40],"type":"Wing2x2","dir":0},{"pos":[120,40],"type":"Wing2x2","dir":0},{"pos":[40,90],"type":"Battery2x1","dir":0},{"pos":[-40,120],"type":"Mount30","dir":0},{"pos":[-80,120],"type":"Mount30","dir":0},{"pos":[40,120],"type":"Mount30","dir":0},{"pos":[80,120],"type":"Mount30","dir":0},{"pos":[-40,90],"type":"Battery2x1","dir":0},{"pos":[-120,120],"type":"Mount30","dir":0},{"pos":[20,-80],"type":"Mount30","dir":0},{"pos":[-20,-80],"type":"Mount30","dir":0},{"pos":[0,-120],"type":"BulletSpeedMod","dir":0},{"pos":[0,-40],"type":"BulletSpeedMod","dir":0},{"pos":[120,120],"type":"Mount30","dir":0},{"pos":[40,-40],"type":"BulletSpeedMod","dir":0},{"pos":[-40,-40],"type":"BulletSpeedMod","dir":0},{"pos":[160,30],"type":"Wing2x1","dir":0},{"pos":[-160,30],"type":"Wing2x1","dir":0},{"pos":[-90,-50],"type":"Engine02","dir":0},{"pos":[90,-50],"type":"Engine02","dir":0},{"pos":[-190,-50],"type":"Engine02","dir":0},{"pos":[190,-50],"type":"Engine02","dir":0},{"pos":[40,-120],"type":"DamageMod","dir":0},{"pos":[-40,-120],"type":"DamageMod","dir":0},{"pos":[-70,-50],"type":"Engine02","dir":0},{"pos":[70,-50],"type":"Engine02","dir":0},{"pos":[70,0],"type":"HArmor1x2","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[-80,80],"type":"HArmor2x2","dir":0},{"pos":[80,80],"type":"HArmor2x2","dir":0},{"pos":[50,-80],"type":"HArmor1x2","dir":0},{"pos":[-50,-80],"type":"HArmor1x2","dir":0},{"pos":[-140,-70],"type":"HArmor1x2Back1","dir":0},{"pos":[140,-70],"type":"HArmor1x2Back1","dir":0},{"pos":[-140,0],"type":"Mount30","dir":0},{"pos":[140,0],"type":"Mount30","dir":0},{"pos":[0,120],"type":"Mount30","dir":0},{"pos":[-120,120],"type":"PDTurret","dir":0},{"pos":[80,120],"type":"PDTurret","dir":0},{"pos":[120,120],"type":"PDTurret","dir":0},{"pos":[-80,120],"type":"PDTurret","dir":0},{"pos":[-40,120],"type":"PDTurret","dir":0},{"pos":[40,120],"type":"PDTurret","dir":0},{"pos":[-160,-40],"type":"TorpTurret","dir":0},{"pos":[100,0],"type":"TorpTurret","dir":0},{"pos":[-140,0],"type":"TorpTurret","dir":0},{"pos":[120,-40],"type":"TorpTurret","dir":0},{"pos":[180,0],"type":"TorpTurret","dir":0},{"pos":[-180,0],"type":"TorpTurret","dir":0},{"pos":[-100,0],"type":"TorpTurret","dir":0},{"pos":[140,0],"type":"TorpTurret","dir":0},{"pos":[-120,-40],"type":"TorpTurret","dir":0},{"pos":[160,-40],"type":"TorpTurret","dir":0},{"pos":[0,40],"type":"MissileTurret","dir":0},{"pos":[20,-80],"type":"ArtilleryTurret","dir":0},{"pos":[-20,-80],"type":"ArtilleryTurret","dir":0},{"pos":[0,120],"type":"BombGun","dir":0}],"name":"","aiRules":[["Field # at priority #",1,3],["Stay in #m range of friendly units",3500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","More HP",900],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less HP","Weaker",900],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","---","---",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Stronger","---",2000],["When #% of energy, @chargeTypes",85,"Find recharger"],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,8]]},{"parts":[{"pos":[-50,70],"type":"Battery1x1","dir":0},{"pos":[0,-40],"type":"Engine07","dir":0},{"pos":[20,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[-20,80],"type":"TargetingMod","dir":0},{"pos":[-50,0],"type":"Battery1x2","dir":0},{"pos":[50,0],"type":"Battery1x2","dir":0},{"pos":[-20,0],"type":"ReloaderMod","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[50,70],"type":"Battery1x1","dir":0},{"pos":[20,80],"type":"TargetingMod","dir":0},{"pos":[0,40],"type":"Mount270","dir":0},{"pos":[40,-30],"type":"Wing2x1","dir":0},{"pos":[-40,-30],"type":"Wing2x1","dir":0},{"pos":[-70,40],"type":"UArmor1x2","dir":0},{"pos":[70,40],"type":"UArmor1x2","dir":0},{"pos":[0,40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",1400,1],["Field # at priority #",1,4],["When #% of energy, @chargeTypes",60,"Find recharger"],["Avoid everything"],["Avoid over #damage shots",30],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Stronger","More Brawling Value",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","---",1000],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,9]]},{"parts":[{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[10,-40],"type":"Engine04","dir":0}],"name":"","aiRules":[["Field # at priority #",1,2],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",1],["Try to field # every # seconds",1,90]]},{"parts":[{"pos":[-40,-60],"type":"HArmor2x2Back1","dir":0},{"pos":[-40,30],"type":"HArmor1x2Front2","dir":0},{"pos":[-40,0],"type":"EnergyTransfer","dir":0},{"pos":[-10,0],"type":"Battery1x2","dir":0},{"pos":[-40,60],"type":"HArmor2x2Front1","dir":0},{"pos":[-40,-30],"type":"HArmor1x2Back2","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[-90,-10],"type":"Engine02","dir":0},{"pos":[-110,10],"type":"Wing1x1Round","dir":0},{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[10,-10],"type":"HArmor1x1","dir":0}],"name":"","aiRules":[["Avoid #dps danger areas",10],["Find units that are out of energy"],["When #% of energy, @chargeTypes",97,"Find recharger"],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,45]]},{"parts":[{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[20,40],"type":"Mount30","dir":0},{"pos":[30,0],"type":"Engine04","dir":0},{"pos":[50,30],"type":"Wing1x1Round","dir":0},{"pos":[-10,20],"type":"VArmor1x1Corner3","dir":0},{"pos":[10,-10],"type":"VArmor1x1","dir":0},{"pos":[50,10],"type":"VArmor1x1","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",400],["@attackTypes enemy within #m","Attack",350],["Stay in #m range of slot # units",200,9],["Avoid everything"],["Field # at priority #",3,4],["Field # at priority #",1,3],["Field # at priority #",4,5],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",450],["@capTypes Command Points within #m","Spread to",1000]]},{"parts":[{"pos":[20,40],"type":"Mount90","dir":0},{"pos":[10,0],"type":"Engine03","dir":0},{"pos":[-10,10],"type":"Wing1x1Notch","dir":0},{"pos":[50,10],"type":"UArmor1x1Angle","dir":0},{"pos":[30,10],"type":"Reactor1x1","dir":0},{"pos":[30,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@capTypes Command Points within #m","Capture",200],["Stay in #m range of slot # units",300,3],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Stronger","---",1250],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","---","Less Brawling Value",1250],["Field # at priority #",1,5],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","---","Weaker",1000],["Goto @locationTypes","Enemy Army Middle"]]},{"parts":[{"pos":[40,60],"type":"HArmor2x2","dir":0},{"pos":[80,60],"type":"HArmor2x2","dir":0},{"pos":[-40,0],"type":"Mount10Range","dir":0},{"pos":[40,0],"type":"Mount10Range","dir":0},{"pos":[-120,0],"type":"Mount10Range","dir":0},{"pos":[120,0],"type":"Mount10Range","dir":0},{"pos":[0,-20],"type":"TargetingMod","dir":0},{"pos":[80,20],"type":"DamageMod","dir":0},{"pos":[80,-20],"type":"DamageMod","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[-160,-20],"type":"TargetingMod","dir":0},{"pos":[160,-20],"type":"TargetingMod","dir":0},{"pos":[-160,20],"type":"TargetingMod","dir":0},{"pos":[-110,-70],"type":"Engine02","dir":0},{"pos":[110,-70],"type":"Engine02","dir":0},{"pos":[-80,-60],"type":"HArmor2x2","dir":0},{"pos":[-80,20],"type":"DamageMod","dir":0},{"pos":[-40,-60],"type":"HArmor2x2","dir":0},{"pos":[-80,-20],"type":"DamageMod","dir":0},{"pos":[80,-60],"type":"HArmor2x2","dir":0},{"pos":[0,-60],"type":"HArmor2x2","dir":0},{"pos":[40,-60],"type":"HArmor2x2","dir":0},{"pos":[-80,60],"type":"HArmor2x2","dir":0},{"pos":[-40,60],"type":"HArmor2x2","dir":0},{"pos":[10,60],"type":"Battery1x2","dir":0},{"pos":[-10,60],"type":"Battery1x2","dir":0},{"pos":[-80,90],"type":"HArmor2x1","dir":0},{"pos":[-40,90],"type":"HArmor2x1","dir":0},{"pos":[0,90],"type":"HArmor2x1","dir":0},{"pos":[40,90],"type":"HArmor2x1","dir":0},{"pos":[80,90],"type":"HArmor2x1","dir":0},{"pos":[160,20],"type":"TargetingMod","dir":0},{"pos":[-130,-70],"type":"Engine02","dir":0},{"pos":[130,-70],"type":"Engine02","dir":0},{"pos":[120,60],"type":"HArmor2x2","dir":0},{"pos":[-120,60],"type":"HArmor2x2","dir":0},{"pos":[-40,-100],"type":"Wing2x2","dir":0},{"pos":[40,-100],"type":"Wing2x2","dir":0},{"pos":[-40,0],"type":"PlasmaTurret","dir":0},{"pos":[-120,0],"type":"PlasmaTurret","dir":0},{"pos":[40,0],"type":"PlasmaTurret","dir":0},{"pos":[120,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",1,2],["Stay in #m range of slot # units",500,1],["Field # at priority #",1,4],["Field # at priority #",2,5],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Has PD",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Less Brawling Value","More expensive",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","---","---",1000],["@attackTypes enemy within #m","Attack",2000],["Avoid #dps danger areas",5],["Goto @locationTypes","Enemy Army Middle"]]}];
  ais.all.CubeCollective = ["",{"parts":[{"pos":[-10,-10],"type":"Wing1x1Notch","dir":0},{"pos":[-10,10],"type":"Reactor1x1","dir":0},{"pos":[10,10],"type":"Wing1x1Notch","dir":0},{"pos":[10,-20],"type":"Engine03","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy within #m","Flee",750],["@attackTypes enemy within #m","Flee",1000],["@attackTypes enemy within #m","Flee",1600],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",1],["Field # at priority #",2,2],["Field # at priority #",3,4],["Field # at priority #",3,5],["Field # at priority #",3,6]]},{"parts":[{"pos":[0,20],"type":"Mount180","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[-10,-20],"type":"Engine03","dir":0},{"pos":[30,30],"type":"Wing1x1Angle","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",150],["When #% of energy, @chargeTypes",15,"Find recharger"],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","More Brawling Value",1400],["Avoid over #damage shots",20],["Stay in #m range of slot # units",4000,4],["@attackTypes enemy @unitTypes within #m","Attack","Scout",1500],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less DPS","Less Brawling Value",1500],["@attackTypes enemy within #m","Circle",2000],["@attackTypes enemy @unitTypes within #m","Attack","Scout",3000],["@capTypes Command Points within #m","Protect",5000],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",1],["Field # at priority #",1,5],["Field # at priority #",1,6]]},{"parts":[{"pos":[90,-50],"type":"Wing1x1Round","dir":0},{"pos":[90,40],"type":"HArmor1x2","dir":0},{"pos":[0,80],"type":"Reactor2x2","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-20,40],"type":"TargetingMod","dir":0},{"pos":[60,-40],"type":"Reactor2x2","dir":0},{"pos":[-90,0],"type":"HArmor1x2","dir":0},{"pos":[90,-20],"type":"HArmor1x2","dir":0},{"pos":[20,40],"type":"TargetingMod","dir":0},{"pos":[-90,40],"type":"HArmor1x2","dir":0},{"pos":[90,10],"type":"HArmor1x1","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[30,-90],"type":"Engine01","dir":0},{"pos":[-90,-40],"type":"HArmor1x2","dir":0},{"pos":[50,-90],"type":"Engine01","dir":0},{"pos":[-20,-40],"type":"BulletSpeedMod","dir":0},{"pos":[20,-40],"type":"ReloaderMod","dir":0},{"pos":[10,-90],"type":"Engine01","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[-30,-90],"type":"Engine01","dir":0},{"pos":[-40,90],"type":"Wing2x1","dir":0},{"pos":[40,90],"type":"HArmor2x1","dir":0},{"pos":[-10,-90],"type":"Engine01","dir":0},{"pos":[80,80],"type":"Mount360Micro","dir":0},{"pos":[-60,40],"type":"EnergyTransfer","dir":0},{"pos":[60,40],"type":"Wing2x2","dir":0},{"pos":[-60,-40],"type":"Reactor2x2","dir":0},{"pos":[-50,-90],"type":"HArmor1x1","dir":0},{"pos":[-50,70],"type":"HArmor1x1","dir":0},{"pos":[-80,-80],"type":"Mount360Micro","dir":0},{"pos":[70,-10],"type":"HArmor1x1","dir":0},{"pos":[70,10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,0],"type":"Wing1x2","dir":0},{"pos":[-90,80],"type":"HArmor1x2","dir":0},{"pos":[-70,90],"type":"HArmor1x1","dir":0},{"pos":[-70,70],"type":"HArmor1x1Angle","dir":0},{"pos":[80,-80],"type":"Mount360","dir":0},{"pos":[80,80],"type":"PDTurret","dir":0},{"pos":[-80,-80],"type":"PDTurret","dir":0},{"pos":[80,-80],"type":"FlackTurret","dir":0},{"pos":[0,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["@attackTypes enemy within #m","Ram",100],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",300,700],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Faster","---",900],["Avoid over #damage shots",50],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,900],["Stay in #m range of slot # units",500,5],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1300],["Avoid over #damage shots",21],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1400],["@capTypes Command Points within #m","Capture",1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More expensive",300,2500],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,1],["Field # at priority #",1,7],["Field # at priority #",1,8]]},{"parts":[{"pos":[40,70],"type":"Wing2x1","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-20,-40],"type":"ReloaderMod","dir":0},{"pos":[-20,40],"type":"TargetingMod","dir":0},{"pos":[-60,-40],"type":"Reactor2x2","dir":0},{"pos":[60,-40],"type":"Reactor2x2","dir":0},{"pos":[60,40],"type":"Wing2x2","dir":0},{"pos":[-90,0],"type":"HArmor1x2","dir":0},{"pos":[90,-20],"type":"HArmor1x2","dir":0},{"pos":[20,40],"type":"TargetingMod","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[-90,40],"type":"HArmor1x2","dir":0},{"pos":[90,-50],"type":"HArmor1x1","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[-90,-40],"type":"HArmor1x2","dir":0},{"pos":[40,90],"type":"HArmor2x1","dir":0},{"pos":[50,-90],"type":"Engine01","dir":0},{"pos":[20,-40],"type":"ReloaderMod","dir":0},{"pos":[10,-90],"type":"Engine01","dir":0},{"pos":[0,90],"type":"Reactor2x1","dir":0},{"pos":[30,-90],"type":"Engine01","dir":0},{"pos":[90,40],"type":"HArmor1x2","dir":0},{"pos":[-50,90],"type":"HArmor1x1","dir":0},{"pos":[-30,90],"type":"Battery1x1","dir":0},{"pos":[-10,-90],"type":"Engine01","dir":0},{"pos":[-30,-90],"type":"Engine01","dir":0},{"pos":[-50,-70],"type":"HArmor1x1","dir":0},{"pos":[80,-80],"type":"Mount360","dir":0},{"pos":[90,80],"type":"HArmor1x2","dir":0},{"pos":[70,90],"type":"HArmor1x1","dir":0},{"pos":[70,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,40],"type":"Wing1x2","dir":0},{"pos":[-10,70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,70],"type":"HArmor1x1","dir":0},{"pos":[90,10],"type":"Battery1x1","dir":0},{"pos":[70,-10],"type":"Wing1x1Angle","dir":0},{"pos":[-30,70],"type":"Wing1x1Round","dir":0},{"pos":[70,10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,-100],"type":"Engine04","dir":0},{"pos":[-80,-80],"type":"Mount360","dir":0},{"pos":[-80,80],"type":"HArmor2x2","dir":0},{"pos":[80,-80],"type":"PDTurret","dir":0},{"pos":[-80,-80],"type":"HeavyBeamTurret","dir":0},{"pos":[0,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Ram",100],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",300,500],["Avoid over #damage shots",100],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",300,700],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Faster","---",700],["Avoid over #damage shots",50],["When #% of energy, @chargeTypes",10,"Flee enemies"],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1300],["Stay in #m range of slot # units",500,4],["Avoid over #damage shots",22],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1400],["@capTypes Command Points within #m","Capture",1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More expensive",300,2500],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,3],["Field # at priority #",1,7],["Field # at priority #",1,7]]},{"parts":[{"pos":[0,0],"type":"Mount180","dir":0},{"pos":[50,10],"type":"Battery1x1","dir":0},{"pos":[40,40],"type":"Mount30","dir":0},{"pos":[-10,50],"type":"Wing1x1Angle","dir":0},{"pos":[50,-20],"type":"Engine03","dir":0},{"pos":[30,-20],"type":"Engine03","dir":0},{"pos":[10,30],"type":"Reactor1x1","dir":0},{"pos":[30,10],"type":"Wing1x1Round","dir":0},{"pos":[-10,30],"type":"Battery1x1","dir":0},{"pos":[10,50],"type":"HArmor1x1","dir":0},{"pos":[40,40],"type":"FlackTurret","dir":0},{"pos":[0,0],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",400],["Avoid over #damage shots",21],["Stay in #m range of slot # units",2000,4],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",800],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",800],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",800],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",800],["@attackTypes enemy @unitTypes within #m","Flee","Carrier",1500],["@attackTypes enemy @unitTypes within #m","Flee","Battleship",1500],["@attackTypes enemy @unitTypes within #m","Flee","Cruiser",1300],["@attackTypes enemy @unitTypes within #m","Flee","Destroyer",1300],["@capTypes Command Points within #m","Capture",1000],["Stay in #m range of slot # units",400,4],["Stay in #m range of slot # units",500,5],["Goto @locationTypes","Friendly Spawn"],["Field # at priority #",1,4]]},{"parts":[{"pos":[60,40],"type":"Mount30","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[0,70],"type":"UArmor2x1","dir":0},{"pos":[70,-20],"type":"Engine03","dir":0},{"pos":[70,70],"type":"Wing1x1Angle","dir":0},{"pos":[0,40],"type":"Mount30","dir":0},{"pos":[30,30],"type":"Reactor1x1","dir":0},{"pos":[60,10],"type":"Wing2x1","dir":0},{"pos":[-10,-20],"type":"Engine03","dir":0},{"pos":[30,50],"type":"Wing1x1Notch","dir":0},{"pos":[50,70],"type":"Battery1x1","dir":0},{"pos":[30,70],"type":"UArmor1x1","dir":0},{"pos":[20,0],"type":"Mount30","dir":0},{"pos":[50,-20],"type":"VArmor1x2End","dir":0},{"pos":[60,40],"type":"LightBeamTurret","dir":0},{"pos":[0,40],"type":"LightBeamTurret","dir":0},{"pos":[20,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",8,"Find recharger"],["@attackTypes enemy within #m","Attack",500],["Avoid over #damage shots",21],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","More expensive",1400],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More HP",450,1400],["Stay in #m range of slot # units",2800,4],["Stay in #m range of slot # units",2800,5],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy within #m","Backstab",750],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",1500],["Stay in #m range of slot # units",600,7],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",1500],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",1500],["@attackTypes enemy @unitTypes within #m","Attack","Scout",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Faster","---",1250],["@capTypes Command Points within #m","Capture",2000],["@capTypes Command Points within #m","Protect",2500],["Stay in #m range of slot # units",500,4],["Stay in #m range of slot # units",500,5],["Field # at priority #",1,2],["Field # at priority #",1,4],["Field # at priority #",1,5],["Field # at priority #",1,6],["Field # at priority #",2,7]]},{"parts":[{"pos":[50,70],"type":"Wing1x1Angle","dir":0},{"pos":[40,90],"type":"HArmor2x1","dir":0},{"pos":[90,40],"type":"HArmor1x2","dir":0},{"pos":[-90,-90],"type":"Engine01","dir":0},{"pos":[0,80],"type":"Reactor2x2","dir":0},{"pos":[-70,-90],"type":"Engine01","dir":0},{"pos":[-50,-90],"type":"HArmor1x1","dir":0},{"pos":[0,-90],"type":"HArmor2x1","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[70,-90],"type":"Engine01","dir":0},{"pos":[-60,-40],"type":"Reactor2x2","dir":0},{"pos":[60,-40],"type":"Reactor2x2","dir":0},{"pos":[90,-90],"type":"Engine01","dir":0},{"pos":[-90,0],"type":"HArmor1x2","dir":0},{"pos":[90,-20],"type":"HArmor1x2","dir":0},{"pos":[90,10],"type":"HArmor1x1","dir":0},{"pos":[90,-50],"type":"HArmor1x1","dir":0},{"pos":[80,80],"type":"Mount360","dir":0},{"pos":[-80,80],"type":"Mount360","dir":0},{"pos":[40,-80],"type":"HArmor2x2","dir":0},{"pos":[-90,-40],"type":"HArmor1x2","dir":0},{"pos":[-50,80],"type":"HArmor1x2","dir":0},{"pos":[-30,-90],"type":"Engine01","dir":0},{"pos":[60,40],"type":"Wing2x2","dir":0},{"pos":[20,-40],"type":"ReloaderMod","dir":0},{"pos":[-20,-40],"type":"ReloaderMod","dir":0},{"pos":[-90,40],"type":"HArmor1x2","dir":0},{"pos":[-70,-10],"type":"HArmor1x1","dir":0},{"pos":[-60,30],"type":"Wing2x1","dir":0},{"pos":[70,-10],"type":"Wing1x1Angle","dir":0},{"pos":[30,70],"type":"HArmor1x1","dir":0},{"pos":[-30,90],"type":"HArmor1x1","dir":0},{"pos":[70,10],"type":"HArmor1x1Angle","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[-20,40],"type":"TargetingMod","dir":0},{"pos":[20,40],"type":"TargetingMod","dir":0},{"pos":[-30,70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[80,80],"type":"PDTurret","dir":0},{"pos":[-80,80],"type":"FlackTurret","dir":0},{"pos":[0,0],"type":"EMPGun","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["@attackTypes enemy within #m","Ram",100],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",300,500],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",300,750],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Faster","---",600],["Avoid over #damage shots",50],["When #% of energy, @chargeTypes",10,"Flee enemies"],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1300],["Stay in #m range of slot # units",300,4],["Stay in #m range of slot # units",300,5],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1400],["@capTypes Command Points within #m","Capture",750],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More expensive",300,2500],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,6],["Field # at priority #",1,8]]},{"parts":[{"pos":[-10,50],"type":"Wing1x1Angle","dir":0},{"pos":[20,40],"type":"Mount30","dir":0},{"pos":[-10,30],"type":"Battery1x1","dir":0},{"pos":[-10,0],"type":"Engine04","dir":0},{"pos":[10,10],"type":"Reactor1x1","dir":0},{"pos":[30,0],"type":"VArmor1x2End","dir":0},{"pos":[20,40],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",25,"Find recharger"],["@attackTypes enemy within #m","Attack",350],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Flee",500],["@attackTypes enemy within #m","Flee",750],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More expensive","Faster",1100],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Range","---",1100],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Less expensive",250,1000],["@attackTypes enemy within #m","Flee",1100],["@capTypes Command Points within #m","Guard",200],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",1,25]]},{"parts":[{"pos":[20,40],"type":"Mount360","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[-30,-10],"type":"Engine01","dir":0},{"pos":[70,-10],"type":"Engine01","dir":0},{"pos":[-50,-10],"type":"Engine02","dir":0},{"pos":[90,40],"type":"Reactor1x2","dir":0},{"pos":[80,80],"type":"Reactor2x2","dir":0},{"pos":[90,-10],"type":"Engine02","dir":0},{"pos":[50,120],"type":"Reactor1x2","dir":0},{"pos":[-50,40],"type":"HArmor1x2","dir":0},{"pos":[-20,40],"type":"ReloaderMod","dir":0},{"pos":[40,80],"type":"BulletSpeedMod","dir":0},{"pos":[30,120],"type":"HArmor1x2","dir":0},{"pos":[-30,80],"type":"Battery1x2","dir":0},{"pos":[60,40],"type":"ReloaderMod","dir":0},{"pos":[0,0],"type":"ReloaderMod","dir":0},{"pos":[0,80],"type":"DamageMod","dir":0},{"pos":[-50,80],"type":"Wing1x2","dir":0},{"pos":[-40,120],"type":"Mount360Micro","dir":0},{"pos":[0,120],"type":"Wing2x2","dir":0},{"pos":[80,120],"type":"Mount360Micro","dir":0},{"pos":[-40,120],"type":"PDTurret","dir":0},{"pos":[20,40],"type":"MissileTurret","dir":0},{"pos":[80,120],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["@attackTypes enemy within #m","Ram",100],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",300,750],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Faster","---",900],["Avoid over #damage shots",50],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1100],["Stay in #m range of slot # units",300,4],["Stay in #m range of slot # units",300,5],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",300,1200],["@capTypes Command Points within #m","Capture",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More expensive",300,3500],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,4],["Field # at priority #",1,5]]}];
  ais.all.Cython = [{"parts":[{"pos":[30,-40],"type":"Engine03","dir":0},{"pos":[-30,-40],"type":"Engine03","dir":0},{"pos":[0,-10],"type":"Battery2x1","dir":0},{"pos":[0,50],"type":"Battery2x1","dir":0},{"pos":[20,20],"type":"Mount90","dir":0},{"pos":[-20,20],"type":"Mount90","dir":0},{"pos":[0,-30],"type":"UArmor2x1","dir":0},{"pos":[-30,50],"type":"Wing1x1Notch","dir":0},{"pos":[30,50],"type":"Wing1x1Notch","dir":0},{"pos":[-30,-10],"type":"UArmor1x1","dir":0},{"pos":[30,-10],"type":"UArmor1x1","dir":0},{"pos":[-20,20],"type":"LightBeamTurret","dir":0},{"pos":[20,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Attack",300],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Capture",10000],["Field # at start",4],["Try to field # every # seconds",1,10]]},{"parts":[{"pos":[30,30],"type":"UArmor1x1","dir":0},{"pos":[-30,30],"type":"UArmor1x1","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[0,50],"type":"Battery2x1","dir":0},{"pos":[-30,50],"type":"Wing1x1Notch","dir":0},{"pos":[30,50],"type":"Wing1x1Notch","dir":0},{"pos":[-30,0],"type":"Engine03","dir":0},{"pos":[30,0],"type":"Engine03","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Attack",300],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",4],["Try to field # every # seconds",1,10]]},"","","","","","","",{"parts":[{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[0,20],"type":"EnergyTransfer","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[-30,30],"type":"Wing1x1Notch","dir":0},{"pos":[30,30],"type":"Wing1x1Notch","dir":0}],"name":"","aiRules":[["Avoid everything"],["Find units that are out of energy"],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,3,1,5],["Field # for # of ship in slot # at priority #",1,6,2,5]]}];
  ais.all.DarkStar = [{"parts":[{"pos":[0,20],"type":"BulletSpeedMod","dir":0},{"pos":[-40,-40],"type":"TargetingMod","dir":0},{"pos":[-70,-90],"type":"Engine02","dir":0},{"pos":[-40,-80],"type":"ReloaderMod","dir":0},{"pos":[-90,-70],"type":"Engine02","dir":0},{"pos":[70,-90],"type":"Engine02","dir":0},{"pos":[90,-70],"type":"Engine02","dir":0},{"pos":[0,90],"type":"Reactor2x1","dir":0},{"pos":[-40,0],"type":"Mount360","dir":0},{"pos":[40,0],"type":"Mount360","dir":0},{"pos":[40,-80],"type":"ReloaderMod","dir":0},{"pos":[0,-60],"type":"Mount360","dir":0},{"pos":[40,80],"type":"Reactor2x2","dir":0},{"pos":[0,-20],"type":"ReloaderMod","dir":0},{"pos":[80,20],"type":"TargetingMod","dir":0},{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[80,-20],"type":"TargetingMod","dir":0},{"pos":[-80,20],"type":"TargetingMod","dir":0},{"pos":[-80,-20],"type":"TargetingMod","dir":0},{"pos":[-40,80],"type":"Reactor2x2","dir":0},{"pos":[40,-40],"type":"TargetingMod","dir":0},{"pos":[0,-100],"type":"ReloaderMod","dir":0},{"pos":[30,-130],"type":"Engine02","dir":0},{"pos":[-30,-130],"type":"Engine02","dir":0},{"pos":[0,-140],"type":"Mount360Micro","dir":0},{"pos":[80,60],"type":"Wing2x2","dir":0},{"pos":[-80,60],"type":"Wing2x2","dir":0},{"pos":[-70,-50],"type":"Battery1x1","dir":0},{"pos":[70,-50],"type":"Battery1x1","dir":0},{"pos":[0,60],"type":"VArmor2x2","dir":0},{"pos":[-110,20],"type":"VArmor1x2Corner4","dir":0},{"pos":[110,20],"type":"VArmor1x2Corner4","dir":0},{"pos":[-110,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[110,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-50,-120],"type":"Wing1x2","dir":0},{"pos":[50,-120],"type":"Wing1x2","dir":0},{"pos":[0,-140],"type":"PDTurret","dir":0},{"pos":[-40,0],"type":"MissileTurret","dir":0},{"pos":[40,0],"type":"MissileTurret","dir":0},{"pos":[0,-60],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","More DPS",1,2100],["@capTypes Command Points within #m","Capture",200],["Avoid over #damage shots",1],["Avoid everything"],["@capTypes Command Points within #m","Protect",10000],["@capTypes Command Points within #m","Spread to",10000],["Goto @locationTypes","Enemy Home Point"],["Goto @locationTypes","Enemy Spawn"],["Field # at priority #",1,3],["Field # at priority #",2,5],["Field # at priority #",3,6]]},{"parts":[],"name":"","aiRules":[]},{"parts":[{"pos":[-30,-110],"type":"Engine02","dir":0},{"pos":[30,-110],"type":"Engine02","dir":0},{"pos":[-20,20],"type":"BulletSpeedMod","dir":0},{"pos":[0,60],"type":"Mount360","dir":0},{"pos":[0,-20],"type":"Mount360","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[20,20],"type":"ReloaderMod","dir":0},{"pos":[20,-60],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[-20,-60],"type":"ReloaderMod","dir":0},{"pos":[-40,60],"type":"ReloaderMod","dir":0},{"pos":[-20,100],"type":"ReloaderMod","dir":0},{"pos":[40,60],"type":"ReloaderMod","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[20,100],"type":"ReloaderMod","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[0,-100],"type":"Mount360Micro","dir":0},{"pos":[-50,20],"type":"Reactor1x2","dir":0},{"pos":[50,20],"type":"Reactor1x2","dir":0},{"pos":[70,20],"type":"Reactor1x2","dir":0},{"pos":[-70,20],"type":"Reactor1x2","dir":0},{"pos":[-70,60],"type":"Reactor1x2","dir":0},{"pos":[70,60],"type":"Reactor1x2","dir":0},{"pos":[70,-20],"type":"Reactor1x2","dir":0},{"pos":[-70,-20],"type":"Reactor1x2","dir":0},{"pos":[-100,0],"type":"Wing2x2","dir":0},{"pos":[100,0],"type":"Wing2x2","dir":0},{"pos":[-70,-60],"type":"Engine04","dir":0},{"pos":[70,-60],"type":"Engine04","dir":0},{"pos":[0,-100],"type":"PDTurret","dir":0},{"pos":[0,-20],"type":"MissileTurret","dir":0},{"pos":[0,60],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Capture",200],["When #% of energy, @chargeTypes",50,"Flee enemies"],["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","More DPS",1,1475],["Avoid over #damage shots",1],["Avoid everything"],["@capTypes Command Points within #m","Protect",10000],["@capTypes Command Points within #m","Spread to",10000],["Goto @locationTypes","Enemy Home Point"],["Goto @locationTypes","Enemy Spawn"],["Field # at priority #",2,4],["Field # at priority #",4,5]]},{"parts":[{"pos":[40,100],"type":"Reactor2x2","dir":0},{"pos":[40,60],"type":"ReloaderMod","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[-40,60],"type":"ReloaderMod","dir":0},{"pos":[0,0],"type":"ReloaderMod","dir":0},{"pos":[0,80],"type":"ReloaderMod","dir":0},{"pos":[-40,100],"type":"Reactor2x2","dir":0},{"pos":[40,-20],"type":"Battery2x2","dir":0},{"pos":[-40,-20],"type":"Battery2x2","dir":0},{"pos":[-40,-60],"type":"Reactor2x2","dir":0},{"pos":[40,-60],"type":"Reactor2x2","dir":0},{"pos":[0,-40],"type":"Mount360Micro","dir":0},{"pos":[10,-90],"type":"Engine01","dir":0},{"pos":[-10,-90],"type":"Engine01","dir":0},{"pos":[-70,90],"type":"Engine01","dir":0},{"pos":[-60,140],"type":"Wing2x2","dir":0},{"pos":[60,140],"type":"Wing2x2","dir":0},{"pos":[70,90],"type":"Engine01","dir":0},{"pos":[0,-40],"type":"PDTurret","dir":0},{"pos":[0,40],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Capture",1000],["When Shields down to #%, flee",80],["When #% of energy, @chargeTypes",20,"Rest"],["Goto @locationTypes","Enemy Spawn"],["@attackTypes enemy within #m","Stay at range",900],["Avoid over #damage shots",1],["Avoid everything"],["Field # at priority #",1,6],["Field # for # of ship in slot # at priority #",2,1,2,6]]},{"parts":[{"pos":[0,-80],"type":"Mount360Micro","dir":0},{"pos":[80,80],"type":"Wing2x2","dir":0},{"pos":[0,-110],"type":"ShieldGen2x1","dir":0},{"pos":[0,80],"type":"Mount360","dir":0},{"pos":[20,40],"type":"ReloaderMod","dir":0},{"pos":[0,0],"type":"Mount360Micro","dir":0},{"pos":[-20,40],"type":"ReloaderMod","dir":0},{"pos":[-40,80],"type":"TargetingMod","dir":0},{"pos":[60,40],"type":"Reactor2x2","dir":0},{"pos":[40,80],"type":"TargetingMod","dir":0},{"pos":[-60,40],"type":"Reactor2x2","dir":0},{"pos":[-20,120],"type":"TargetingMod","dir":0},{"pos":[20,120],"type":"TargetingMod","dir":0},{"pos":[-80,80],"type":"Wing2x2","dir":0},{"pos":[-20,-40],"type":"ReloaderMod","dir":0},{"pos":[20,-40],"type":"ReloaderMod","dir":0},{"pos":[-50,-50],"type":"Engine02","dir":0},{"pos":[-70,-50],"type":"Engine02","dir":0},{"pos":[50,-50],"type":"Engine02","dir":0},{"pos":[70,-50],"type":"Engine02","dir":0},{"pos":[-30,-90],"type":"Engine02","dir":0},{"pos":[30,-90],"type":"Engine02","dir":0},{"pos":[-40,0],"type":"Reactor2x2","dir":0},{"pos":[40,0],"type":"Reactor2x2","dir":0},{"pos":[0,-80],"type":"PDTurret","dir":0},{"pos":[0,0],"type":"MissileTurret","dir":0},{"pos":[0,80],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Capture",200],["When Shields down to #%, flee",80],["@capTypes Command Points within #m","Protect",10000],["When #% of energy, @chargeTypes",20,"Find recharger"],["When #% of energy, @chargeTypes",20,"Flee enemies"],["Avoid over #damage shots",1],["Avoid everything"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","More Range","Faster",3000],["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","More DPS",1,1700],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Less Range",1100,1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","More Range","Slower",1700],["@capTypes Command Points within #m","Spread to",10000],["Goto @locationTypes","Enemy Home Point"],["Goto @locationTypes","Enemy Spawn"],["Field # at priority #",2,5],["Field # at priority #",4,6],["Field # for # of ship in slot # at priority #",6,1,2,5]]},{"parts":[{"pos":[0,20],"type":"Reactor2x2","dir":0},{"pos":[50,-90],"type":"Engine02","dir":0},{"pos":[0,100],"type":"Mount360","dir":0},{"pos":[40,40],"type":"Reactor2x2","dir":0},{"pos":[-40,40],"type":"Reactor2x2","dir":0},{"pos":[-40,120],"type":"TargetingMod","dir":0},{"pos":[-30,-90],"type":"Engine02","dir":0},{"pos":[-40,80],"type":"ReloaderMod","dir":0},{"pos":[40,80],"type":"ReloaderMod","dir":0},{"pos":[40,120],"type":"TargetingMod","dir":0},{"pos":[0,140],"type":"ReloaderMod","dir":0},{"pos":[-40,-40],"type":"ReloaderMod","dir":0},{"pos":[0,60],"type":"TargetingMod","dir":0},{"pos":[30,-90],"type":"Engine02","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[0,-60],"type":"Mount360","dir":0},{"pos":[0,-20],"type":"Mount360","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[40,-40],"type":"ReloaderMod","dir":0},{"pos":[-50,-90],"type":"Engine02","dir":0},{"pos":[50,10],"type":"ShieldGen1x1","dir":0},{"pos":[-60,0],"type":"Wing2x2","dir":0},{"pos":[-10,-110],"type":"Engine02","dir":0},{"pos":[10,-110],"type":"Engine02","dir":0},{"pos":[-70,-50],"type":"Engine02","dir":0},{"pos":[70,-70],"type":"Engine02","dir":0},{"pos":[70,-30],"type":"Wing1x1Angle","dir":0},{"pos":[30,160],"type":"Wing1x2","dir":0},{"pos":[0,100],"type":"HeavyBeamTurret","dir":0},{"pos":[0,-20],"type":"PDTurret","dir":0},{"pos":[0,-60],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Capture",200],["When Shields down to #%, flee",80],["@attackTypes enemy within #m","Stay at range",970],["@capTypes Command Points within #m","Protect",10000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","Less Range",2000],["Stay in #m range of friendly units",500],["Avoid everything"],["Avoid over #damage shots",1],["@capTypes Command Points within #m","Spread to",10000],["Goto @locationTypes","Enemy Home Point"],["Goto @locationTypes","Enemy Spawn"],["Field # at priority #",1,5],["Field # at priority #",2,5],["Field # for # of ship in slot # at priority #",2,1,2,5]]},{"parts":[{"pos":[-30,-10],"type":"Reactor1x1","dir":0},{"pos":[-30,-40],"type":"Engine03","dir":0},{"pos":[-50,-30],"type":"Wing1x1Notch","dir":0},{"pos":[-50,-10],"type":"Wing1x1Notch","dir":0},{"pos":[0,-20],"type":"CloakGenerator","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","More DPS",1,500],["@attackTypes enemy within #m","Flee",200],["@capTypes Command Points within #m","Capture",100],["Stayaway in #m range from slot # units",200,7],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",3],["Try to field # every # seconds",1,60]]},{"parts":[{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[40,-100],"type":"ReloaderMod","dir":0},{"pos":[30,-150],"type":"Engine02","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-30,-150],"type":"Engine02","dir":0},{"pos":[0,-80],"type":"Mount360","dir":0},{"pos":[0,40],"type":"TargetingMod","dir":0},{"pos":[40,100],"type":"ReloaderMod","dir":0},{"pos":[-40,100],"type":"ReloaderMod","dir":0},{"pos":[-60,-140],"type":"Mount360Micro","dir":0},{"pos":[0,120],"type":"ReloaderMod","dir":0},{"pos":[0,80],"type":"Mount360","dir":0},{"pos":[40,-60],"type":"ReloaderMod","dir":0},{"pos":[90,-150],"type":"Engine02","dir":0},{"pos":[-90,-150],"type":"Engine02","dir":0},{"pos":[-40,-60],"type":"ReloaderMod","dir":0},{"pos":[-80,-60],"type":"Battery2x2","dir":0},{"pos":[-40,-100],"type":"ReloaderMod","dir":0},{"pos":[-80,-100],"type":"Reactor2x2","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[0,-120],"type":"ReloaderMod","dir":0},{"pos":[0,-160],"type":"Mount360Micro","dir":0},{"pos":[60,-140],"type":"Mount360Micro","dir":0},{"pos":[80,-100],"type":"Reactor2x2","dir":0},{"pos":[80,-60],"type":"Battery2x2","dir":0},{"pos":[40,60],"type":"ReloaderMod","dir":0},{"pos":[-40,60],"type":"ReloaderMod","dir":0},{"pos":[80,-20],"type":"Wing2x2","dir":0},{"pos":[-80,-20],"type":"Wing2x2","dir":0},{"pos":[0,-160],"type":"PDTurret","dir":0},{"pos":[0,-80],"type":"FlackTurret","dir":0},{"pos":[0,0],"type":"PlasmaTurret","dir":0},{"pos":[-60,-140],"type":"RingTurret","dir":0},{"pos":[60,-140],"type":"RingTurret","dir":0},{"pos":[0,80],"type":"BombGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",60,"Find recharger"],["When #% of energy, @chargeTypes",10,"Rest"],["Avoid over #damage shots",1],["Avoid everything"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Less Range","---",1500],["Stay in #m range of slot # units",1000,9],["Field # for # of ship in slot # at priority #",1,1,9,3],["Field # for # of ship in slot # at priority #",2,2,9,3],["Goto @locationTypes","Enemy Spawn"]]},{"parts":[{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[0,-80],"type":"EnergyTransfer","dir":0},{"pos":[-40,60],"type":"Reactor2x2","dir":0},{"pos":[40,100],"type":"Reactor2x2","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[40,60],"type":"Reactor2x2","dir":0},{"pos":[40,-60],"type":"Reactor2x2","dir":0},{"pos":[-40,100],"type":"Reactor2x2","dir":0},{"pos":[-40,-60],"type":"Reactor2x2","dir":0},{"pos":[-50,-110],"type":"Engine02","dir":0},{"pos":[50,-110],"type":"Engine02","dir":0},{"pos":[0,-120],"type":"Mount360Micro","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[-80,-80],"type":"Mount360","dir":0},{"pos":[80,-80],"type":"Mount360","dir":0},{"pos":[-80,-50],"type":"Wing2x1","dir":0},{"pos":[30,130],"type":"Wing1x1Angle","dir":0},{"pos":[-30,130],"type":"Wing1x1Notch","dir":0},{"pos":[0,-120],"type":"PDTurret","dir":0},{"pos":[0,0],"type":"FlackTurret","dir":0},{"pos":[-80,-80],"type":"RingTurret","dir":0},{"pos":[80,-80],"type":"RingTurret","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Capture",200],["Avoid over #damage shots",1],["Avoid everything"],["When #% of energy, @chargeTypes",20,"Rest"],["@attackTypes enemy within #m","Stay at range",3000],["Find units that are out of energy"],["Stay in #m range of slot # units",1000,1],["Goto @locationTypes","Enemy Spawn"],["Field # at priority #",1,5],["Field # for # of ship in slot # at priority #",2,1,2,5]]},{"parts":[{"pos":[60,-40],"type":"Wing2x2","dir":0},{"pos":[-50,-130],"type":"Engine01","dir":0},{"pos":[20,-40],"type":"TargetingMod","dir":0},{"pos":[10,-130],"type":"Engine01","dir":0},{"pos":[-20,-120],"type":"Battery2x2","dir":0},{"pos":[-20,-40],"type":"Mount30","dir":0},{"pos":[-60,-40],"type":"TargetingMod","dir":0},{"pos":[-100,-40],"type":"Wing2x2","dir":0},{"pos":[0,0],"type":"TargetingMod","dir":0},{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[0,-80],"type":"BulletSpeedMod","dir":0},{"pos":[-40,-80],"type":"BulletSpeedMod","dir":0},{"pos":[-20,-40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",40,"Find recharger"],["@capTypes Command Points within #m","Capture",200],["Stay in #m range of slot # units",2000,9],["@attackTypes enemy within #m","Stay at range",1700],["Stayaway in #m range from slot # units",10,10],["Avoid over #damage shots",1],["Avoid #dps danger areas",1],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Slower",100,3500],["@attackTypes enemy within #m","Kite",3500],["Field # for # of ship in slot # at priority #",6,1,9,5],["Goto @locationTypes","Enemy Spawn"]]}];
  ais.all.DeathStrike = [{"parts":[{"pos":[-120,-100],"type":"Engine07","dir":0},{"pos":[120,-100],"type":"Engine07","dir":0},{"pos":[0,40],"type":"Battery2x2","dir":0},{"pos":[40,40],"type":"Battery2x2","dir":0},{"pos":[-40,40],"type":"Battery2x2","dir":0},{"pos":[-40,-40],"type":"Battery2x2","dir":0},{"pos":[0,-40],"type":"Battery2x2","dir":0},{"pos":[40,-40],"type":"Battery2x2","dir":0},{"pos":[-40,80],"type":"ReloaderMod","dir":0},{"pos":[-80,80],"type":"ReloaderMod","dir":0},{"pos":[40,80],"type":"ReloaderMod","dir":0},{"pos":[-60,120],"type":"Mount270","dir":0},{"pos":[80,80],"type":"ReloaderMod","dir":0},{"pos":[-100,120],"type":"ReloaderMod","dir":0},{"pos":[60,120],"type":"Mount270","dir":0},{"pos":[-80,160],"type":"ReloaderMod","dir":0},{"pos":[20,120],"type":"ReloaderMod","dir":0},{"pos":[40,160],"type":"ReloaderMod","dir":0},{"pos":[-40,160],"type":"ReloaderMod","dir":0},{"pos":[-20,120],"type":"ReloaderMod","dir":0},{"pos":[80,160],"type":"ReloaderMod","dir":0},{"pos":[100,120],"type":"ReloaderMod","dir":0},{"pos":[-20,0],"type":"Battery2x2","dir":0},{"pos":[-120,40],"type":"ReloaderMod","dir":0},{"pos":[20,0],"type":"Battery2x2","dir":0},{"pos":[-120,-40],"type":"ReloaderMod","dir":0},{"pos":[-160,-40],"type":"ReloaderMod","dir":0},{"pos":[-180,0],"type":"ReloaderMod","dir":0},{"pos":[120,40],"type":"ReloaderMod","dir":0},{"pos":[180,0],"type":"ReloaderMod","dir":0},{"pos":[160,40],"type":"ReloaderMod","dir":0},{"pos":[120,-40],"type":"ReloaderMod","dir":0},{"pos":[160,-40],"type":"ReloaderMod","dir":0},{"pos":[-160,40],"type":"ReloaderMod","dir":0},{"pos":[100,0],"type":"ReloaderMod","dir":0},{"pos":[140,0],"type":"Mount270","dir":0},{"pos":[-140,0],"type":"Mount270","dir":0},{"pos":[-100,0],"type":"ReloaderMod","dir":0},{"pos":[0,-160],"type":"Engine07","dir":0},{"pos":[40,-120],"type":"Engine07","dir":0},{"pos":[0,-80],"type":"Battery2x2","dir":0},{"pos":[-40,-80],"type":"Battery2x2","dir":0},{"pos":[40,-80],"type":"Battery2x2","dir":0},{"pos":[-140,120],"type":"Wing2x2","dir":0},{"pos":[0,-120],"type":"Battery2x2","dir":0},{"pos":[-160,80],"type":"Wing2x2","dir":0},{"pos":[160,80],"type":"Wing2x2","dir":0},{"pos":[140,120],"type":"Wing2x2","dir":0},{"pos":[-80,-100],"type":"Engine07","dir":0},{"pos":[190,40],"type":"Wing1x2","dir":0},{"pos":[80,-100],"type":"Engine07","dir":0},{"pos":[0,90],"type":"ShieldGen2x1","dir":0},{"pos":[80,-70],"type":"Battery2x1","dir":0},{"pos":[-80,-70],"type":"Battery2x1","dir":0},{"pos":[-190,40],"type":"Wing1x2","dir":0},{"pos":[-120,-70],"type":"Battery2x1","dir":0},{"pos":[120,-70],"type":"Battery2x1","dir":0},{"pos":[-120,80],"type":"ShieldGen2x2","dir":0},{"pos":[120,80],"type":"ShieldGen2x2","dir":0},{"pos":[-10,70],"type":"ShieldGen1x1","dir":0},{"pos":[10,70],"type":"ShieldGen1x1","dir":0},{"pos":[70,50],"type":"ShieldGen1x1","dir":0},{"pos":[90,50],"type":"ShieldGen1x1","dir":0},{"pos":[90,30],"type":"ShieldGen1x1","dir":0},{"pos":[70,30],"type":"ShieldGen1x1","dir":0},{"pos":[70,10],"type":"ShieldGen1x1","dir":0},{"pos":[50,10],"type":"ShieldGen1x1","dir":0},{"pos":[50,-10],"type":"ShieldGen1x1","dir":0},{"pos":[70,-10],"type":"ShieldGen1x1","dir":0},{"pos":[70,-30],"type":"ShieldGen1x1","dir":0},{"pos":[90,-30],"type":"ShieldGen1x1","dir":0},{"pos":[90,-50],"type":"ShieldGen1x1","dir":0},{"pos":[70,-50],"type":"ShieldGen1x1","dir":0},{"pos":[-70,-50],"type":"ShieldGen1x1","dir":0},{"pos":[-90,-50],"type":"ShieldGen1x1","dir":0},{"pos":[-90,-30],"type":"ShieldGen1x1","dir":0},{"pos":[-70,-30],"type":"ShieldGen1x1","dir":0},{"pos":[-70,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-50,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-70,10],"type":"ShieldGen1x1","dir":0},{"pos":[-50,10],"type":"ShieldGen1x1","dir":0},{"pos":[-70,30],"type":"ShieldGen1x1","dir":0},{"pos":[-70,50],"type":"ShieldGen1x1","dir":0},{"pos":[-90,50],"type":"ShieldGen1x1","dir":0},{"pos":[-90,30],"type":"ShieldGen1x1","dir":0},{"pos":[-40,-120],"type":"Engine07","dir":0},{"pos":[-170,-80],"type":"UArmor1x2","dir":0},{"pos":[-150,-80],"type":"UArmor1x2","dir":0},{"pos":[-150,-120],"type":"UArmor1x2","dir":0},{"pos":[-170,-120],"type":"UArmor1x2","dir":0},{"pos":[150,-80],"type":"UArmor1x2","dir":0},{"pos":[170,-80],"type":"UArmor1x2","dir":0},{"pos":[170,-120],"type":"UArmor1x2","dir":0},{"pos":[150,-120],"type":"UArmor1x2","dir":0},{"pos":[150,-160],"type":"UArmor1x2","dir":0},{"pos":[-150,-160],"type":"UArmor1x2","dir":0},{"pos":[-190,-80],"type":"UArmor1x2","dir":0},{"pos":[190,-80],"type":"UArmor1x2","dir":0},{"pos":[10,150],"type":"ShieldGen1x1","dir":0},{"pos":[-10,150],"type":"ShieldGen1x1","dir":0},{"pos":[-10,170],"type":"ShieldGen1x1","dir":0},{"pos":[10,170],"type":"ShieldGen1x1","dir":0},{"pos":[-190,-110],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-170,-150],"type":"UArmor1x1AngleBack","dir":0},{"pos":[170,-150],"type":"UArmor1x1AngleBack","dir":0},{"pos":[190,-110],"type":"UArmor1x1AngleBack","dir":0},{"pos":[210,-40],"type":"Wing1x2","dir":0},{"pos":[-210,-40],"type":"Wing1x2","dir":0},{"pos":[-190,-40],"type":"Battery1x2","dir":0},{"pos":[190,-40],"type":"Battery1x2","dir":0},{"pos":[-140,0],"type":"AutoTurret","dir":0},{"pos":[140,0],"type":"AutoTurret","dir":0},{"pos":[-60,120],"type":"RingTurret","dir":0},{"pos":[60,120],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",99],["When #% of energy, @chargeTypes",45,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Run-by","Less Arc",100,1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Slower",400,1000],["@capTypes Command Points within #m","Protect",10000],["When #% of energy, @chargeTypes",95,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More Range",1100,1700],["Avoid #dps danger areas",50]]},{"parts":[{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[70,0],"type":"VArmor1x1CornerBack","dir":0},{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[-70,40],"type":"VArmor1x1Corner3","dir":0},{"pos":[30,80],"type":"VArmor1x2Corner4","dir":0},{"pos":[-90,30],"type":"HArmor1x1Angle","dir":0},{"pos":[90,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,80],"type":"VArmor1x2Corner4","dir":0},{"pos":[70,40],"type":"VArmor1x1Corner3","dir":0},{"pos":[-70,0],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-90,10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[90,10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[0,20],"type":"Mount10Range","dir":0},{"pos":[-50,70],"type":"Wing1x1Angle","dir":0},{"pos":[50,70],"type":"Wing1x1Angle","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[0,-30],"type":"Battery2x1","dir":0},{"pos":[0,20],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",90],["@attackTypes enemy within #m","Attack",2000],["@capTypes Command Points within #m","Capture",10000],["Stay in #m range of slot # units",500,2],["Field # at start",4],["Try to field # every # seconds",2,30]]},{"parts":[{"pos":[-10,-20],"type":"Engine03","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[-30,-10],"type":"Wing1x1Angle","dir":0},{"pos":[0,20],"type":"Mount360Micro","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",25],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","---",1000],["@capTypes Command Points within #m","Protect",10000],["Stayaway in #m range from slot # units",400,3],["Stay in #m range of slot # units",400,1],["Goto @locationTypes","Enemy Army Middle"],["Try to field # every # seconds",1,25],["Field # at start",1]]},{"parts":[{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[0,0],"type":"ReloaderMod","dir":0},{"pos":[-40,60],"type":"TargetingMod","dir":0},{"pos":[40,60],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[0,80],"type":"BulletSpeedMod","dir":0},{"pos":[-40,-10],"type":"Battery2x1","dir":0},{"pos":[0,40],"type":"Mount90","dir":0},{"pos":[40,-10],"type":"Battery2x1","dir":0},{"pos":[0,-40],"type":"Engine07","dir":0},{"pos":[30,-30],"type":"Battery1x1","dir":0},{"pos":[-30,-30],"type":"Battery1x1","dir":0},{"pos":[-50,-30],"type":"ShieldGen1x1","dir":0},{"pos":[50,-30],"type":"ShieldGen1x1","dir":0},{"pos":[30,-50],"type":"ShieldGen1x1","dir":0},{"pos":[-30,-50],"type":"ShieldGen1x1","dir":0},{"pos":[-70,20],"type":"VArmor1x2Corner4","dir":0},{"pos":[70,20],"type":"VArmor1x2Corner4","dir":0},{"pos":[70,-20],"type":"VArmor1x2Corner4","dir":0},{"pos":[-70,-20],"type":"VArmor1x2Corner4","dir":0},{"pos":[-50,-50],"type":"Wing1x1Round","dir":0},{"pos":[50,-50],"type":"Wing1x1Round","dir":0},{"pos":[0,40],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Weaker","Less Range",1000],["Stay in #m range of slot # units",500,2],["When #% of energy, @chargeTypes",50,"Find recharger"],["Avoid #dps danger areas",10],["Avoid over #damage shots",20],["Field # for # of @needTypes at priority #",1,5,"Fighter Counter Need",2],["Try to field # every # seconds",1,45]]},"",{"parts":[],"name":"","aiRules":[]},{"parts":[],"name":"","aiRules":[]},{"parts":[],"name":"","aiRules":[]},"",{"parts":[{"pos":[120,-40],"type":"EnergyTransfer","dir":0},{"pos":[120,40],"type":"EnergyTransfer","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[40,40],"type":"Reactor2x2","dir":0},{"pos":[-40,40],"type":"Reactor2x2","dir":0},{"pos":[40,-40],"type":"Reactor2x2","dir":0},{"pos":[-40,-40],"type":"Reactor2x2","dir":0},{"pos":[0,-60],"type":"Reactor2x2","dir":0},{"pos":[0,60],"type":"Reactor2x2","dir":0},{"pos":[-60,0],"type":"Reactor2x2","dir":0},{"pos":[60,0],"type":"Reactor2x2","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[0,30],"type":"Battery2x1","dir":0},{"pos":[0,-30],"type":"Battery2x1","dir":0},{"pos":[0,100],"type":"EnergyTransfer","dir":0},{"pos":[-100,0],"type":"EnergyTransfer","dir":0},{"pos":[100,0],"type":"EnergyTransfer","dir":0},{"pos":[-40,80],"type":"EnergyTransfer","dir":0},{"pos":[-80,40],"type":"EnergyTransfer","dir":0},{"pos":[40,80],"type":"EnergyTransfer","dir":0},{"pos":[-80,-40],"type":"EnergyTransfer","dir":0},{"pos":[-40,-80],"type":"EnergyTransfer","dir":0},{"pos":[0,-100],"type":"EnergyTransfer","dir":0},{"pos":[-120,-40],"type":"EnergyTransfer","dir":0},{"pos":[40,-80],"type":"EnergyTransfer","dir":0},{"pos":[80,40],"type":"EnergyTransfer","dir":0},{"pos":[80,-40],"type":"EnergyTransfer","dir":0},{"pos":[-120,40],"type":"EnergyTransfer","dir":0},{"pos":[-40,120],"type":"EnergyTransfer","dir":0},{"pos":[40,120],"type":"EnergyTransfer","dir":0},{"pos":[40,-120],"type":"EnergyTransfer","dir":0},{"pos":[-40,-120],"type":"EnergyTransfer","dir":0},{"pos":[80,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-80,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-80,80],"type":"HArmor2x2Angle","dir":0},{"pos":[80,80],"type":"HArmor2x2Angle","dir":0},{"pos":[0,-140],"type":"ShieldGen2x2","dir":0},{"pos":[0,140],"type":"ShieldGen2x2","dir":0},{"pos":[-130,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-150,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-150,10],"type":"ShieldGen1x1","dir":0},{"pos":[-130,10],"type":"ShieldGen1x1","dir":0},{"pos":[130,10],"type":"ShieldGen1x1","dir":0},{"pos":[150,10],"type":"ShieldGen1x1","dir":0},{"pos":[150,-10],"type":"ShieldGen1x1","dir":0},{"pos":[130,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,110],"type":"HArmor1x1Angle","dir":0},{"pos":[70,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-110,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[110,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[70,110],"type":"HArmor1x1Angle","dir":0},{"pos":[30,150],"type":"HArmor1x1Angle","dir":0},{"pos":[150,30],"type":"HArmor1x1Angle","dir":0},{"pos":[150,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-150,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-150,-30],"type":"HArmor1x1AngleBack","dir":0}],"name":"","aiRules":[]}];
  ais.all.DeltaSwarm = ["","","","","","","",{"parts":[{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[-50,-30],"type":"Wing1x1Round","dir":0},{"pos":[30,-30],"type":"VArmor1x1Corner2","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at start",5],["Field # at priority #",12,4],["@attackTypes enemy within #m","Attack",300],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Spread to",10000]]},{"parts":[{"pos":[-30,-30],"type":"Battery1x1","dir":0},{"pos":[30,-20],"type":"VArmor1x1Corner3","dir":0},{"pos":[-50,-20],"type":"VArmor1x1Corner3","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[-30,-50],"type":"Wing1x1Round","dir":0},{"pos":[10,-50],"type":"VArmor1x1Corner2","dir":0},{"pos":[-10,-60],"type":"Engine03","dir":0},{"pos":[0,-20],"type":"Mount180","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at start",3],["Field # at priority #",3,2],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","Less Arc",200,2000],["@attackTypes enemy within #m","Attack",3000],["@capTypes Command Points within #m","Capture",10000]]},{"parts":[{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[10,10],"type":"VArmor1x1Corner1","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at start",30],["Field # at priority #",5,3],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Attack",300],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","---",2000],["Goto @locationTypes","Enemy Home Point"]]}];
  ais.all.Dodgey = [{"parts":[{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[30,-20],"type":"Engine04","dir":0},{"pos":[30,10],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Spread to",10000],["Field # at start",3],["Try to field # every # seconds",3,30]]},{"parts":[{"pos":[-80,-50],"type":"Reactor2x1","dir":0},{"pos":[0,30],"type":"Reactor2x1","dir":0},{"pos":[30,-100],"type":"Engine04","dir":0},{"pos":[-40,-60],"type":"Mount30","dir":0},{"pos":[40,-60],"type":"Mount30","dir":0},{"pos":[0,-40],"type":"Mount30","dir":0},{"pos":[-40,20],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,-100],"type":"Engine04","dir":0},{"pos":[0,-80],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"HArmor2x2Angle","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[-80,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-10],"type":"Reactor2x1","dir":0},{"pos":[-40,-10],"type":"Reactor2x1","dir":0},{"pos":[80,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[80,-50],"type":"Reactor2x1","dir":0},{"pos":[-40,-30],"type":"HArmor2x1","dir":0},{"pos":[40,-30],"type":"HArmor2x1","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0},{"pos":[-40,-60],"type":"PlasmaTurret","dir":0},{"pos":[40,-60],"type":"PlasmaTurret","dir":0},{"pos":[0,-40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Guard",10000],["Field # at priority #",1,1],["Field # at priority #",2,3]]},"","","","","","","",""];
  ais.all.DoomTrain = ["",{"parts":[{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[30,10],"type":"Wing1x1Notch","dir":0},{"pos":[-10,10],"type":"Wing1x1Notch","dir":0}],"name":"","aiRules":[["Field # at start",3],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Flee",1400],["@attackTypes enemy within #m","Circle",1600],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",2,1],["Field # at priority #",2,2],["Field # at priority #",1,3],["Field # at priority #",1,4],["Field # at priority #",1,5]]},{"parts":[{"pos":[10,-30],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[10,30],"type":"Battery1x1","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[-10,30],"type":"Wing1x1Round","dir":0},{"pos":[30,-10],"type":"UArmor1x1","dir":0},{"pos":[30,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[30,10],"type":"Wing1x1Notch","dir":0},{"pos":[0,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["Stay in #m range of friendly units",3500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","---","---",260],["@attackTypes enemy within #m","Bomb",700],["Stay in #m range of slot # units",500,3],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More expensive",140,2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","---",2000],["@attackTypes enemy within #m","Backstab",2000],["@capTypes Command Points within #m","Capture",2500],["Stay in #m range of slot # units",600,4],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",8,2,5,3]]},{"parts":[{"pos":[-90,0],"type":"Wing1x2","dir":0},{"pos":[30,-30],"type":"Battery1x1","dir":0},{"pos":[0,60],"type":"TargetingMod","dir":0},{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[-30,-30],"type":"HArmor1x1","dir":0},{"pos":[-70,110],"type":"Wing1x1Angle","dir":0},{"pos":[0,100],"type":"Reactor2x2","dir":0},{"pos":[40,70],"type":"HArmor2x1","dir":0},{"pos":[-40,70],"type":"HArmor2x1","dir":0},{"pos":[50,-30],"type":"HArmor1x1","dir":0},{"pos":[0,-20],"type":"TargetingMod","dir":0},{"pos":[-50,-30],"type":"HArmor1x1","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[10,-70],"type":"Engine02","dir":0},{"pos":[-10,-70],"type":"Engine02","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[0,130],"type":"HArmor2x1","dir":0},{"pos":[-40,130],"type":"HArmor2x1","dir":0},{"pos":[-70,-10],"type":"Battery1x1","dir":0},{"pos":[80,-70],"type":"Battery2x1","dir":0},{"pos":[70,-10],"type":"Battery1x1","dir":0},{"pos":[90,0],"type":"Wing1x2","dir":0},{"pos":[40,130],"type":"HArmor2x1","dir":0},{"pos":[70,110],"type":"Battery1x1","dir":0},{"pos":[40,100],"type":"Mount30","dir":0},{"pos":[-40,100],"type":"Mount30","dir":0},{"pos":[-80,80],"type":"Mount30","dir":0},{"pos":[-80,-30],"type":"Battery2x1","dir":0},{"pos":[-70,-70],"type":"Engine02","dir":0},{"pos":[-90,-60],"type":"HArmor1x2","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[-80,40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[70,130],"type":"HArmor1x1Angle","dir":0},{"pos":[90,110],"type":"HArmor1x1Angle","dir":0},{"pos":[80,80],"type":"Mount360Micro","dir":0},{"pos":[70,10],"type":"Battery1x1","dir":0},{"pos":[-70,10],"type":"HArmor1x1","dir":0},{"pos":[40,-60],"type":"Mount90","dir":0},{"pos":[80,-40],"type":"Mount30","dir":0},{"pos":[0,20],"type":"HeavyBeamTurret","dir":0},{"pos":[80,80],"type":"PDTurret","dir":0},{"pos":[-80,80],"type":"TorpTurret","dir":0},{"pos":[80,-40],"type":"TorpTurret","dir":0},{"pos":[40,-60],"type":"FlackTurret","dir":0},{"pos":[40,100],"type":"RingTurret","dir":0},{"pos":[-40,100],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["@attackTypes enemy within #m","Attack",350],["When #% of energy, @chargeTypes",5,"Flee enemies"],["@attackTypes enemy within #m","Ram",800],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More Range","Slower",1100],["Avoid over #damage shots",50],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Range","More DPS",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","More Brawling Value","Less expensive",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Range","More DPS",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More Range","Less DPS",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","---","Less Brawling Value",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","---",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More expensive","---",1500],["@attackTypes enemy within #m","Ram",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","---",3000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","---","More expensive",3000],["@attackTypes enemy within #m","Backstab",3000],["Stay in #m range of slot # units",400,4],["@capTypes Command Points within #m","Capture",10000],["Field # at start",2],["Field # at priority #",1,1],["Try to field # every # seconds",1,120],["Field # at priority #",1,3]]},{"parts":[{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[10,-50],"type":"Battery1x1","dir":0},{"pos":[-10,10],"type":"Wing1x1Angle","dir":0},{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[30,-50],"type":"Wing1x1Angle","dir":0},{"pos":[-10,-60],"type":"Engine03","dir":0},{"pos":[0,-20],"type":"BombGun","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy within #m","Ram",100],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Slower",80,800],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Slower",100,800],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Slower",125,800],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Less Range","Faster",700],["@capTypes Command Points within #m","Capture",1200],["Stay in #m range of slot # units",400,4],["@attackTypes enemy @unitTypes within #m","Bomb","Carrier",1600],["@attackTypes enemy @unitTypes within #m","Bomb","Battleship",1600],["@attackTypes enemy @unitTypes within #m","Bomb","Cruiser",1500],["@attackTypes enemy @unitTypes within #m","Bomb","Destroyer",1500],["@attackTypes enemy @unitTypes within #m","Bomb","Brick",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Slower","---",1500],["@attackTypes enemy within #m","Flee",1500],["@capTypes Command Points within #m","Capture",4000],["Stay in #m range of slot # units",500,4],["Try to field # every # seconds",2,44],["Field # for # of ship in slot # at priority #",1,1,8,1]]},{"parts":[{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[-10,10],"type":"Wing1x1Angle","dir":0},{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[10,-50],"type":"HArmor1x1","dir":0},{"pos":[30,-30],"type":"Wing1x1Notch","dir":0},{"pos":[30,-50],"type":"UArmor1x1","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy within #m","Attack",360],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","More Range",1200],["@capTypes Command Points within #m","Capture",1500],["@attackTypes enemy @unitTypes within #m","Attack","Scout",3000],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",3000],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",3000],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",3000],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",3000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Faster","---",3000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,2,4,4],["Field # for # of ship in slot # at priority #",1,2,4,4],["Field # for # of ship in slot # at priority #",2,2,5,3]]},{"parts":[{"pos":[-20,20],"type":"Mount30","dir":0},{"pos":[-30,50],"type":"Wing1x1Round","dir":0},{"pos":[-10,50],"type":"Battery1x1","dir":0},{"pos":[-10,-10],"type":"Battery1x1","dir":0},{"pos":[10,-10],"type":"Wing1x1Round","dir":0},{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[-20,20],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",29],["@attackTypes enemy within #m","Ram",500],["@attackTypes enemy @unitTypes within #m","Ram","Carrier",1000],["@attackTypes enemy @unitTypes within #m","Ram","Battleship",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Faster","More DPS",600],["@attackTypes enemy @unitTypes within #m","Ram","Cruiser",1000],["@attackTypes enemy @unitTypes within #m","Ram","Destroyer",1000],["@attackTypes enemy within #m","Ram",750],["@capTypes Command Points within #m","Capture",2000],["Stay in #m range of slot # units",500,4],["Field # for # of ship in slot # at priority #",3,2,5,3]]},{"parts":[{"pos":[-40,130],"type":"HArmor2x1","dir":0},{"pos":[-30,150],"type":"HArmor1x1","dir":0},{"pos":[0,100],"type":"Reactor2x2","dir":0},{"pos":[40,70],"type":"HArmor2x1","dir":0},{"pos":[-40,70],"type":"HArmor2x1","dir":0},{"pos":[50,-30],"type":"HArmor1x1","dir":0},{"pos":[-50,-30],"type":"HArmor1x1","dir":0},{"pos":[-50,-60],"type":"HArmor1x2","dir":0},{"pos":[-70,10],"type":"HArmor1x1","dir":0},{"pos":[-70,40],"type":"HArmor1x2","dir":0},{"pos":[70,10],"type":"HArmor1x1","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[10,-70],"type":"Engine02","dir":0},{"pos":[-10,-70],"type":"Engine02","dir":0},{"pos":[70,-10],"type":"Battery1x1","dir":0},{"pos":[-70,-10],"type":"Battery1x1","dir":0},{"pos":[-80,-70],"type":"Battery2x1","dir":0},{"pos":[-30,-30],"type":"HArmor1x1","dir":0},{"pos":[90,0],"type":"Wing1x2","dir":0},{"pos":[-80,-40],"type":"Mount30","dir":0},{"pos":[-90,0],"type":"Wing1x2","dir":0},{"pos":[-90,40],"type":"HArmor1x2","dir":0},{"pos":[70,110],"type":"Battery1x1","dir":0},{"pos":[0,60],"type":"Mount30","dir":0},{"pos":[30,-30],"type":"Battery1x1","dir":0},{"pos":[-40,0],"type":"Mount30","dir":0},{"pos":[40,40],"type":"Mount30","dir":0},{"pos":[40,0],"type":"Mount30","dir":0},{"pos":[0,150],"type":"HArmor2x1","dir":0},{"pos":[40,150],"type":"HArmor2x1","dir":0},{"pos":[60,130],"type":"Battery2x1","dir":0},{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[20,130],"type":"Battery2x1","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[40,100],"type":"Mount30","dir":0},{"pos":[80,80],"type":"Mount30","dir":0},{"pos":[90,120],"type":"HArmor1x2","dir":0},{"pos":[80,40],"type":"Mount360Micro","dir":0},{"pos":[70,150],"type":"HArmor1x1Angle","dir":0},{"pos":[40,-60],"type":"Mount30","dir":0},{"pos":[70,-70],"type":"Engine02","dir":0},{"pos":[90,-70],"type":"Engine02","dir":0},{"pos":[80,-30],"type":"Battery2x1","dir":0},{"pos":[-10,130],"type":"Battery1x1","dir":0},{"pos":[-40,40],"type":"Mount360Micro","dir":0},{"pos":[-40,100],"type":"Mount30","dir":0},{"pos":[-80,80],"type":"Mount30","dir":0},{"pos":[-80,120],"type":"Mount30","dir":0},{"pos":[-50,150],"type":"Wing1x1Angle","dir":0},{"pos":[0,20],"type":"HeavyBeamTurret","dir":0},{"pos":[-40,40],"type":"PDTurret","dir":0},{"pos":[40,-60],"type":"LightBeamTurret","dir":0},{"pos":[40,0],"type":"TorpTurret","dir":0},{"pos":[0,60],"type":"TorpTurret","dir":0},{"pos":[-80,-40],"type":"TorpTurret","dir":0},{"pos":[-40,0],"type":"TorpTurret","dir":0},{"pos":[-40,100],"type":"TorpTurret","dir":0},{"pos":[80,40],"type":"TorpTurret","dir":0},{"pos":[0,-20],"type":"TorpTurret","dir":0},{"pos":[40,40],"type":"TorpTurret","dir":0},{"pos":[-80,80],"type":"EMPGun","dir":0},{"pos":[-80,120],"type":"EMPGun","dir":0},{"pos":[40,100],"type":"RingTurret","dir":0},{"pos":[80,80],"type":"BombGun","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["@attackTypes enemy within #m","Ram",75],["@attackTypes enemy within #m","Ram",350],["@attackTypes enemy within #m","Ram",850],["Avoid over #damage shots",50],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Range","More DPS",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","More Brawling Value","Less expensive",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Range","More Brawling Value",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More Range","Less DPS",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Less Brawling Value","---",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Weaker",1500],["@attackTypes enemy within #m","Ram",1500],["@capTypes Command Points within #m","Capture",500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","---",3000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","More expensive","---",3000],["@attackTypes enemy within #m","Backstab",3000],["Stay in #m range of slot # units",400,4],["@attackTypes enemy within #m","Attack",6000],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,3]]},"",""];
  ais.all.Dreadnaught = [{"parts":[{"pos":[30,-130],"type":"HArmor1x1","dir":0},{"pos":[90,-80],"type":"HArmor1x2","dir":0},{"pos":[-90,-80],"type":"HArmor1x2","dir":0},{"pos":[-70,-100],"type":"HArmor1x2","dir":0},{"pos":[-60,-160],"type":"HArmor2x2AngleBack","dir":0},{"pos":[60,-160],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-90,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[90,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[90,-110],"type":"HArmor1x1","dir":0},{"pos":[90,-40],"type":"HArmor1x2","dir":0},{"pos":[-90,-40],"type":"HArmor1x2","dir":0},{"pos":[-90,-110],"type":"HArmor1x1","dir":0},{"pos":[-90,-130],"type":"HArmor1x1","dir":0},{"pos":[-40,140],"type":"Mount90","dir":0},{"pos":[0,160],"type":"Mount90","dir":0},{"pos":[40,140],"type":"Mount90","dir":0},{"pos":[70,100],"type":"HArmor1x2","dir":0},{"pos":[-70,100],"type":"HArmor1x2","dir":0},{"pos":[-70,60],"type":"HArmor1x2","dir":0},{"pos":[-40,60],"type":"Mount180","dir":0},{"pos":[40,60],"type":"Mount180","dir":0},{"pos":[70,60],"type":"HArmor1x2","dir":0},{"pos":[30,-170],"type":"Engine02","dir":0},{"pos":[90,-130],"type":"HArmor1x1","dir":0},{"pos":[90,0],"type":"HArmor1x2","dir":0},{"pos":[-90,0],"type":"HArmor1x2","dir":0},{"pos":[-90,40],"type":"HArmor1x2","dir":0},{"pos":[90,40],"type":"HArmor1x2","dir":0},{"pos":[-60,-130],"type":"HArmor2x1","dir":0},{"pos":[60,-130],"type":"HArmor2x1","dir":0},{"pos":[-30,-170],"type":"Engine02","dir":0},{"pos":[-90,70],"type":"HArmor1x1","dir":0},{"pos":[-70,180],"type":"Wing1x2","dir":0},{"pos":[70,180],"type":"Wing1x2","dir":0},{"pos":[90,70],"type":"HArmor1x1","dir":0},{"pos":[10,-150],"type":"HArmor1x1","dir":0},{"pos":[-90,110],"type":"Wing1x1Angle","dir":0},{"pos":[-10,-150],"type":"Battery1x1","dir":0},{"pos":[-90,90],"type":"HArmor1x1","dir":0},{"pos":[90,110],"type":"Wing1x1Angle","dir":0},{"pos":[90,90],"type":"HArmor1x1","dir":0},{"pos":[-30,-130],"type":"HArmor1x1","dir":0},{"pos":[70,-100],"type":"HArmor1x2","dir":0},{"pos":[40,180],"type":"Reactor2x2","dir":0},{"pos":[-40,180],"type":"Reactor2x2","dir":0},{"pos":[-50,-100],"type":"HArmor1x2","dir":0},{"pos":[-30,-100],"type":"HArmor1x2","dir":0},{"pos":[30,-100],"type":"HArmor1x2","dir":0},{"pos":[50,-100],"type":"HArmor1x2","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[-20,0],"type":"Mount180","dir":0},{"pos":[20,0],"type":"Mount180","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[0,120],"type":"ReloaderMod","dir":0},{"pos":[-40,100],"type":"BulletSpeedMod","dir":0},{"pos":[0,80],"type":"ReloaderMod","dir":0},{"pos":[40,100],"type":"BulletSpeedMod","dir":0},{"pos":[-40,-60],"type":"Mount360Micro","dir":0},{"pos":[-60,-20],"type":"BulletSpeedMod","dir":0},{"pos":[40,-60],"type":"Mount360Micro","dir":0},{"pos":[60,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-60,20],"type":"ReloaderMod","dir":0},{"pos":[60,20],"type":"ReloaderMod","dir":0},{"pos":[-70,-60],"type":"HArmor1x2","dir":0},{"pos":[70,-60],"type":"HArmor1x2","dir":0},{"pos":[-30,-30],"type":"HArmor1x1","dir":0},{"pos":[-30,30],"type":"HArmor1x1","dir":0},{"pos":[30,30],"type":"HArmor1x1","dir":0},{"pos":[30,-30],"type":"HArmor1x1","dir":0},{"pos":[-70,140],"type":"Reactor1x2","dir":0},{"pos":[70,140],"type":"Reactor1x2","dir":0},{"pos":[0,190],"type":"HArmor2x1","dir":0},{"pos":[0,-80],"type":"ShieldGen2x2","dir":0},{"pos":[0,-120],"type":"HArmor2x2","dir":0},{"pos":[-40,140],"type":"TorpTurret","dir":0},{"pos":[0,160],"type":"TorpTurret","dir":0},{"pos":[40,140],"type":"TorpTurret","dir":0},{"pos":[-40,60],"type":"TorpTurret","dir":0},{"pos":[40,60],"type":"TorpTurret","dir":0},{"pos":[-20,0],"type":"TorpTurret","dir":0},{"pos":[20,0],"type":"TorpTurret","dir":0},{"pos":[-40,-60],"type":"TorpTurret","dir":0},{"pos":[40,-60],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More Range",1000,2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","No PD","Weaker",1000],["When Shields down to #%, flee",10],["@attackTypes enemy within #m","Attack",1000],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,1],["Field # at priority #",3,3]]},{"parts":[{"pos":[0,100],"type":"ShieldGen2x2","dir":0},{"pos":[-80,20],"type":"HArmor2x2","dir":0},{"pos":[0,170],"type":"HArmor2x1","dir":0},{"pos":[60,170],"type":"Wing2x1","dir":0},{"pos":[-40,140],"type":"Mount90","dir":0},{"pos":[-30,170],"type":"HArmor1x1","dir":0},{"pos":[90,130],"type":"Wing1x1Angle","dir":0},{"pos":[30,170],"type":"HArmor1x1","dir":0},{"pos":[70,140],"type":"HArmor1x2","dir":0},{"pos":[-90,130],"type":"Wing1x1Angle","dir":0},{"pos":[-70,140],"type":"HArmor1x2","dir":0},{"pos":[-40,100],"type":"BulletSpeedMod","dir":0},{"pos":[-60,170],"type":"Wing2x1","dir":0},{"pos":[-60,-90],"type":"Battery2x1","dir":0},{"pos":[60,-90],"type":"Battery2x1","dir":0},{"pos":[40,100],"type":"BulletSpeedMod","dir":0},{"pos":[-90,-20],"type":"HArmor1x2","dir":0},{"pos":[60,-20],"type":"BulletSpeedMod","dir":0},{"pos":[90,-20],"type":"HArmor1x2","dir":0},{"pos":[-60,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-90,-80],"type":"HArmor1x2","dir":0},{"pos":[90,-50],"type":"HArmor1x1","dir":0},{"pos":[90,-80],"type":"HArmor1x2","dir":0},{"pos":[30,-130],"type":"Engine02","dir":0},{"pos":[90,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-60,-120],"type":"HArmor2x2AngleBack","dir":0},{"pos":[60,-120],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-90,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-90,-50],"type":"HArmor1x1","dir":0},{"pos":[-20,-20],"type":"ReloaderMod","dir":0},{"pos":[80,20],"type":"HArmor2x2","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[0,140],"type":"Reactor2x2","dir":0},{"pos":[0,-120],"type":"HArmor2x2","dir":0},{"pos":[0,-60],"type":"Mount360Micro","dir":0},{"pos":[-40,-60],"type":"Mount270","dir":0},{"pos":[-70,-60],"type":"HArmor1x2","dir":0},{"pos":[40,-60],"type":"Mount270","dir":0},{"pos":[-40,20],"type":"BulletSpeedMod","dir":0},{"pos":[20,-20],"type":"ReloaderMod","dir":0},{"pos":[-20,60],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[20,60],"type":"ReloaderMod","dir":0},{"pos":[-60,60],"type":"Mount180","dir":0},{"pos":[40,140],"type":"Mount90","dir":0},{"pos":[60,60],"type":"Mount180","dir":0},{"pos":[80,100],"type":"Reactor2x2","dir":0},{"pos":[-80,100],"type":"Reactor2x2","dir":0},{"pos":[-90,60],"type":"HArmor1x2","dir":0},{"pos":[90,60],"type":"HArmor1x2","dir":0},{"pos":[70,-60],"type":"HArmor1x2","dir":0},{"pos":[-30,-90],"type":"HArmor1x1","dir":0},{"pos":[30,-90],"type":"HArmor1x1","dir":0},{"pos":[0,-90],"type":"HArmor2x1","dir":0},{"pos":[-30,-130],"type":"Engine02","dir":0},{"pos":[-40,140],"type":"TorpTurret","dir":0},{"pos":[0,-60],"type":"TorpTurret","dir":0},{"pos":[-40,-60],"type":"TorpTurret","dir":0},{"pos":[40,-60],"type":"TorpTurret","dir":0},{"pos":[-60,60],"type":"TorpTurret","dir":0},{"pos":[40,140],"type":"TorpTurret","dir":0},{"pos":[60,60],"type":"TorpTurret","dir":0},{"pos":[0,20],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",500],["When Shields down to #%, flee",10],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Less HP",100,1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More Range","No PD",1500],["Field # at priority #",1,1],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",3,3]]},{"parts":[{"pos":[-20,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-50,-10],"type":"Battery1x1","dir":0},{"pos":[-50,10],"type":"Battery1x1","dir":0},{"pos":[-50,30],"type":"Wing1x1Round","dir":0},{"pos":[-50,-40],"type":"Engine03","dir":0},{"pos":[-20,20],"type":"Mount360Micro","dir":0},{"pos":[-70,-30],"type":"UArmor1x1Angle","dir":0},{"pos":[10,-30],"type":"UArmor1x1Angle","dir":0},{"pos":[-20,20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["Avoid #dps danger areas",1000],["@attackTypes enemy within #m","Stay at range",600],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less Range",900],["@capTypes Command Points within #m","Spread to",2000],["When #% of energy, @chargeTypes",50,"Rest"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",2000],["Field # at priority #",3,2],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",3]]},"","","","","","",""];
  ais.all.Electro = [{"parts":[{"pos":[110,-60],"type":"HArmor1x2","dir":0},{"pos":[-110,-60],"type":"HArmor1x2","dir":0},{"pos":[0,-100],"type":"ReloaderMod","dir":0},{"pos":[0,-60],"type":"Mount360","dir":0},{"pos":[-40,-80],"type":"DamageMod","dir":0},{"pos":[40,-80],"type":"DamageMod","dir":0},{"pos":[40,-40],"type":"DamageMod","dir":0},{"pos":[-40,-40],"type":"DamageMod","dir":0},{"pos":[-40,0],"type":"DamageMod","dir":0},{"pos":[40,0],"type":"DamageMod","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[-70,-110],"type":"Engine02","dir":0},{"pos":[100,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[70,-110],"type":"Engine02","dir":0},{"pos":[-80,-60],"type":"Reactor2x2","dir":0},{"pos":[80,-20],"type":"ShieldGen2x2","dir":0},{"pos":[-80,-20],"type":"ShieldGen2x2","dir":0},{"pos":[-110,-20],"type":"HArmor1x2","dir":0},{"pos":[-100,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-100,20],"type":"HArmor2x2Angle","dir":0},{"pos":[80,-60],"type":"Reactor2x2","dir":0},{"pos":[110,-20],"type":"HArmor1x2","dir":0},{"pos":[100,20],"type":"HArmor2x2Angle","dir":0},{"pos":[80,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,-120],"type":"HArmor2x2AngleBack","dir":0},{"pos":[40,-120],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-40,80],"type":"HArmor2x2Angle","dir":0},{"pos":[40,80],"type":"HArmor2x2Angle","dir":0},{"pos":[30,110],"type":"Wing1x1Round","dir":0},{"pos":[-30,110],"type":"Wing1x1Round","dir":0},{"pos":[0,-20],"type":"TargetingMod","dir":0},{"pos":[0,60],"type":"DamageMod","dir":0},{"pos":[0,90],"type":"Reactor2x1","dir":0},{"pos":[-70,30],"type":"ShieldGen1x1","dir":0},{"pos":[70,30],"type":"ShieldGen1x1","dir":0},{"pos":[0,110],"type":"Reactor2x1","dir":0},{"pos":[0,-140],"type":"EnergyTransfer","dir":0},{"pos":[-70,10],"type":"Battery1x1","dir":0},{"pos":[70,10],"type":"Battery1x1","dir":0},{"pos":[0,20],"type":"EMPGun","dir":0},{"pos":[0,-60],"type":"EMPGun","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",2,1],["Field # when money over # at priority #",1,900,1]]},{"parts":[{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[-30,30],"type":"Wing1x1Round","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[30,30],"type":"UArmor1x1Angle","dir":0},{"pos":[30,-10],"type":"UArmor1x1","dir":0},{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[0,0],"type":"EMPGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage @bulletTypes shots",20,"Any"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","---",1000],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",1,20],["Field # at start",2]]},{"parts":[],"name":"","aiRules":[]},"","","","","","",""];
  ais.all.Ficon = [{"parts":[{"pos":[-40,-30],"type":"Battery2x1","dir":0},{"pos":[0,-60],"type":"Reactor2x2","dir":0},{"pos":[-80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-60,70],"type":"Wing2x1","dir":0},{"pos":[80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,80],"type":"Wing1x2","dir":0},{"pos":[60,70],"type":"Wing2x1","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[30,80],"type":"Wing1x2","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[-90,-50],"type":"Engine01","dir":0},{"pos":[70,-50],"type":"Engine01","dir":0},{"pos":[90,-50],"type":"Engine01","dir":0},{"pos":[80,0],"type":"Reactor2x2","dir":0},{"pos":[-80,0],"type":"Reactor2x2","dir":0},{"pos":[-70,-50],"type":"Engine01","dir":0},{"pos":[0,-20],"type":"ReloaderMod","dir":0},{"pos":[40,-30],"type":"Battery2x1","dir":0},{"pos":[0,90],"type":"Battery2x1","dir":0},{"pos":[0,60],"type":"TargetingMod","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"BulletSpeedMod","dir":0},{"pos":[40,40],"type":"DamageMod","dir":0},{"pos":[-20,-100],"type":"Mount360Micro","dir":0},{"pos":[20,-100],"type":"Mount360Micro","dir":0},{"pos":[40,-60],"type":"Mount360Micro","dir":0},{"pos":[-40,-60],"type":"Mount360Micro","dir":0},{"pos":[-40,-60],"type":"WavePushTurret","dir":0},{"pos":[40,-60],"type":"WavePushTurret","dir":0},{"pos":[-20,-100],"type":"AutoTurret","dir":0},{"pos":[20,-100],"type":"AutoTurret","dir":0},{"pos":[0,20],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["Try to field # every # seconds",2,30],["Avoid over #damage shots",20],["Stay in #m range of slot # units",1000,1],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","less range","slower",1200],["@capTypes command points within #m","Capture",10000],["Field # at priority #",1,1]]},{"parts":[{"pos":[-70,-20],"type":"HArmor1x2","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[-40,0],"type":"HArmor2x2Angle","dir":0},{"pos":[20,0],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-10,-30],"type":"Engine02","dir":0},{"pos":[20,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[50,-20],"type":"HArmor1x2","dir":0},{"pos":[-10,30],"type":"HArmor1x1","dir":0},{"pos":[-30,30],"type":"HArmor1x1","dir":0},{"pos":[10,30],"type":"HArmor1x1","dir":0},{"pos":[10,-70],"type":"HArmor1x1","dir":0},{"pos":[-30,-70],"type":"HArmor1x1","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,15],["@capTypes command points within #m","Guard",10000],["Field # for # of @needTypes at priority #",1,2,"fighter counter need",3]]},{"parts":[{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[-10,0],"type":"VArmor1x2SideBarFilled","dir":0},{"pos":[30,0],"type":"VArmor1x2SideBarFilled","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,15],["Avoid over #damage shots",20],["Avoid #dps danger areas",15],["Field # at start",3],["@capTypes command points within #m","Spread to",10000]]},"","","","","","",""];
  ais.all.Fighter = [{"parts":[],"name":"","aiRules":[]},"","","","","","",{"parts":[{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[-10,-30],"type":"Battery1x1","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[-30,-10],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at start",4],["Try to field # every # seconds",3,30],["When #% of energy, @chargeTypes",10,"Rest"],["@attackTypes enemy within #m","Run-by",275],["Avoid everything"],["@capTypes Command Points within #m","Guard",10000]]},{"parts":[{"pos":[-10,30],"type":"Battery1x1","dir":0},{"pos":[-20,0],"type":"Mount90","dir":0},{"pos":[30,-30],"type":"Battery1x1","dir":0},{"pos":[-30,30],"type":"Wing1x1Round","dir":0},{"pos":[30,30],"type":"Wing1x1Round","dir":0},{"pos":[-30,-30],"type":"Battery1x1","dir":0},{"pos":[20,0],"type":"Mount90","dir":0},{"pos":[10,30],"type":"Battery1x1","dir":0},{"pos":[-50,-20],"type":"Engine04","dir":0},{"pos":[50,-20],"type":"Engine04","dir":0},{"pos":[0,-40],"type":"Mount90","dir":0},{"pos":[-20,0],"type":"LightBeamTurret","dir":0},{"pos":[20,0],"type":"LightBeamTurret","dir":0},{"pos":[0,-40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at start",3],["Try to field # every # seconds",3,30],["When #% of energy, @chargeTypes",10,"Rest"],["@attackTypes enemy within #m","Ram",1200],["@capTypes Command Points within #m","Spread to",10000]]},{"parts":[{"pos":[-50,-10],"type":"Wing1x1Round","dir":0},{"pos":[50,-10],"type":"Wing1x1Round","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[30,-20],"type":"Engine04","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at start",4],["Try to field # every # seconds",3,30],["When #% of energy, @chargeTypes",10,"Rest"],["@attackTypes enemy within #m","Attack",300],["@attackTypes enemy within #m","Circle",500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","More Brawling Value",1000],["Stay in #m range of slot # units",500,10],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Less HP",40,1000],["@capTypes Command Points within #m","Capture",10000]]}];
  ais.all.FighterBomber = [{"parts":[{"pos":[0,20],"type":"Mount180","dir":0},{"pos":[-30,30],"type":"Wing1x1Round","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[-10,-20],"type":"Engine03","dir":0},{"pos":[0,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",10],["When #% of energy, @chargeTypes",30,"Find recharger"],["@attackTypes enemy within #m","Stay at range",400],["@attackTypes enemy within #m","Circle",700],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less Range",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",2000],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",2,1],["Field # at priority #",100,4],["Field # at start",7]]},{"parts":[{"pos":[0,20],"type":"Mount180","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[-10,-10],"type":"OverKillAi","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[30,-20],"type":"Engine03","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[0,20],"type":"BombGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",30,"Find recharger"],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Bomb",500],["@attackTypes enemy within #m","Attack",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",100,3000],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,1],["Field # at priority #",2,3],["Field # at start",1]]},"","","","","","","",{"parts":[{"pos":[0,80],"type":"Mount90","dir":0},{"pos":[60,100],"type":"HArmor2x2Angle","dir":0},{"pos":[0,0],"type":"ReloaderMod","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-40,60],"type":"Reactor2x2","dir":0},{"pos":[-40,20],"type":"EnergyTransfer","dir":0},{"pos":[40,20],"type":"EnergyTransfer","dir":0},{"pos":[40,60],"type":"Reactor2x2","dir":0},{"pos":[0,110],"type":"ShieldGen2x1","dir":0},{"pos":[-40,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-60,100],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[70,60],"type":"HArmor1x2","dir":0},{"pos":[70,10],"type":"Engine01","dir":0},{"pos":[-70,60],"type":"HArmor1x2","dir":0},{"pos":[-70,10],"type":"Engine01","dir":0},{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[-30,110],"type":"Wing1x1Round","dir":0},{"pos":[30,110],"type":"Wing1x1Round","dir":0},{"pos":[-30,90],"type":"Battery1x1","dir":0},{"pos":[30,90],"type":"Battery1x1","dir":0},{"pos":[0,40],"type":"PDTurret","dir":0},{"pos":[0,80],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less HP","Weaker",500],["Avoid everything"],["Avoid over #damage shots",20],["Find units that are out of energy"],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,2]]}];
  ais.all.FireFly = [{"parts":[{"pos":[0,-20],"type":"Engine07","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[-30,-20],"type":"Battery1x2","dir":0},{"pos":[30,-20],"type":"Battery1x2","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[30,10],"type":"Wing1x1Round","dir":0},{"pos":[0,20],"type":"RingTurret","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Capture",200],["When #% of energy, @chargeTypes",25,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Slower","Less Brawling Value",500],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Less HP",100,500],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",2],["Try to field # every # seconds",2,35]]},{"parts":[{"pos":[0,0],"type":"EnergyTransfer","dir":0},{"pos":[-30,-10],"type":"Engine02","dir":0},{"pos":[-50,0],"type":"Reactor1x2","dir":0},{"pos":[-40,30],"type":"Reactor2x1","dir":0},{"pos":[0,30],"type":"Reactor2x1","dir":0},{"pos":[-70,10],"type":"Wing1x1Round","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",1400,2],["Stayaway in #m range from slot # units",550,2],["Stay in #m range of slot # units",1400,1],["Stay in #m range of slot # units",750,5],["Find units that are out of energy"],["Field # for # of ship in slot # at priority #",1,1,3,2],["Field # for # of ship in slot # at priority #",1,1,4,1],["Field # for # of ship in slot # at priority #",1,2,1,1]]},{"parts":[{"pos":[-20,20],"type":"Mount360Micro","dir":0},{"pos":[20,20],"type":"Mount360Micro","dir":0},{"pos":[0,60],"type":"Mount360Micro","dir":0},{"pos":[0,-20],"type":"Engine07","dir":0},{"pos":[-40,-10],"type":"Battery2x1","dir":0},{"pos":[40,-10],"type":"Battery2x1","dir":0},{"pos":[-50,10],"type":"Wing1x1Round","dir":0},{"pos":[50,10],"type":"Wing1x1Round","dir":0},{"pos":[-20,20],"type":"LightBeamTurret","dir":0},{"pos":[20,20],"type":"LightBeamTurret","dir":0},{"pos":[0,60],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Ram",300],["When #% of energy, @chargeTypes",50,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Less Brawling Value",1000],["Stay in #m range of slot # units",400,5],["Field # at start",1],["Try to field # every # seconds",1,45],["Field # when money over # at priority #",1,500,1]]},{"parts":[{"pos":[0,-40],"type":"Engine07","dir":0},{"pos":[-50,0],"type":"Battery1x2","dir":0},{"pos":[40,40],"type":"DamageMod","dir":0},{"pos":[-40,40],"type":"DamageMod","dir":0},{"pos":[0,40],"type":"Mount270","dir":0},{"pos":[20,0],"type":"DamageMod","dir":0},{"pos":[-20,0],"type":"DamageMod","dir":0},{"pos":[50,0],"type":"Battery1x2","dir":0},{"pos":[-40,-30],"type":"Battery2x1","dir":0},{"pos":[40,-30],"type":"Battery2x1","dir":0},{"pos":[-30,-60],"type":"Wing1x2","dir":0},{"pos":[30,-60],"type":"Wing1x2","dir":0},{"pos":[0,40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",25,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","More HP",2000],["Stay in #m range of slot # units",300,5],["Field # at start",1],["Try to field # every # seconds",1,34],["Stay in #m range of slot # units",800,2],["@attackTypes enemy within #m","Flee",1000]]},{"parts":[{"pos":[-60,0],"type":"HArmor2x2","dir":0},{"pos":[-20,0],"type":"HArmor2x2","dir":0},{"pos":[-20,40],"type":"HArmor2x2","dir":0},{"pos":[-60,40],"type":"HArmor2x2","dir":0},{"pos":[-90,30],"type":"Battery1x1","dir":0},{"pos":[-90,-10],"type":"Engine02","dir":0},{"pos":[-90,50],"type":"Wing1x1Round","dir":0},{"pos":[20,40],"type":"HArmor2x2","dir":0},{"pos":[20,0],"type":"HArmor2x2","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",800,2],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,1]]},"","","","",""];
  ais.all.FireShower = [{"parts":[{"pos":[20,20],"type":"Mount90","dir":0},{"pos":[10,50],"type":"Wing1x1Angle","dir":0},{"pos":[-20,30],"type":"HArmor1x2Font1","dir":0},{"pos":[50,0],"type":"HArmor1x2","dir":0},{"pos":[-10,10],"type":"Reactor1x1","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[20,-20],"type":"CloakGenerator","dir":0},{"pos":[20,20],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",40],["@attackTypes enemy within #m","Ram",450],["@capTypes Command Points within #m","Guard",10000],["Try to field # every # seconds",1,81],["Field # at priority #",1,0],["Field # at priority #",2,7],["Field # at priority #",3,9]]},{"parts":[{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[-10,-30],"type":"Battery1x1","dir":0},{"pos":[-10,-50],"type":"Wing1x1Notch","dir":0},{"pos":[-30,-20],"type":"VArmor1x2SideBar","dir":0},{"pos":[-10,-30],"type":"Stripe1x1Corner","dir":1},{"pos":[-30,-20],"type":"Stripe1x2","dir":2},{"pos":[0,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",3,99],["When #% of energy, @chargeTypes",30,"Find recharger"],["Avoid over #damage shots",29],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Slower","Less Range",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Cloaked","Slower",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Less DPS",1000],["@attackTypes enemy within #m","Attack",500],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,7],["Field # at start",2]]},{"parts":[{"pos":[20,20],"type":"Mount30","dir":0},{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[30,-20],"type":"Battery1x2","dir":0},{"pos":[-20,20],"type":"Mount30","dir":0},{"pos":[0,-20],"type":"CloakGenerator","dir":0},{"pos":[-50,-10],"type":"UArmor1x1Angle","dir":0},{"pos":[-50,10],"type":"Wing1x1Angle","dir":0},{"pos":[50,-10],"type":"Wing1x1Notch","dir":0},{"pos":[20,20],"type":"EMPGun","dir":0},{"pos":[-20,20],"type":"EMPGun","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,80],["When #% of energy, @chargeTypes",63,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More expensive","Cloaked",700],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","---",500],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Slower",100,1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Cloaked","More expensive",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Less DPS",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","More expensive",3000],["@capTypes Command Points within #m","Protect",2000],["When #% of energy, @chargeTypes",85,"Find recharger"],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of @needTypes at priority #",1,4,"Cloak Counter Need",5],["Field # at priority #",1,4],["Field # when money over # at priority #",1,1000,1],["Field # at priority #",2,6]]},{"parts":[{"pos":[-30,60],"type":"Wing1x2","dir":0},{"pos":[0,60],"type":"CloakGenerator","dir":0},{"pos":[40,-20],"type":"DamageMod","dir":0},{"pos":[-40,20],"type":"DamageMod","dir":0},{"pos":[0,0],"type":"Mount10Range","dir":0},{"pos":[40,20],"type":"DamageMod","dir":0},{"pos":[-40,-20],"type":"DamageMod","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[-20,-60],"type":"CloakGenerator","dir":0},{"pos":[20,-60],"type":"CloakGenerator","dir":0},{"pos":[-70,-10],"type":"Engine01","dir":0},{"pos":[70,0],"type":"Reactor1x2","dir":2},{"pos":[-50,50],"type":"VArmor1x1","dir":0},{"pos":[-70,30],"type":"VArmor1x1","dir":0},{"pos":[50,-50],"type":"VArmor1x1","dir":0},{"pos":[-50,-50],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"TeslaTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",40,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Slower","More DPS",500],["Avoid over #damage shots",50],["Stay in #m range of slot # units",1900,10],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Faster","More expensive",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",230,1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Faster",150,1000],["@capTypes Command Points within #m","Protect",800],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",800,2500],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Faster",230,2500],["Stay in #m range of slot # units",-100,10],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",4000],["Field # at priority #",1,3],["Field # at priority #",3,7],["Field # for # of @needTypes at priority #",2,3,"Fighter Counter Need",2]]},{"parts":[{"pos":[-40,-60],"type":"Mount30","dir":0},{"pos":[30,80],"type":"Battery2x1","dir":3},{"pos":[40,-20],"type":"DamageMod","dir":0},{"pos":[0,40],"type":"DamageMod","dir":0},{"pos":[30,-70],"type":"Engine01","dir":0},{"pos":[30,50],"type":"OverKillAi","dir":0},{"pos":[0,-40],"type":"Mount30","dir":0},{"pos":[-40,20],"type":"Mount30","dir":0},{"pos":[40,20],"type":"Mount30","dir":0},{"pos":[0,0],"type":"DamageMod","dir":0},{"pos":[-40,-20],"type":"DamageMod","dir":0},{"pos":[-30,50],"type":"OverKillAi","dir":0},{"pos":[70,-30],"type":"Engine01","dir":0},{"pos":[-30,80],"type":"Battery2x1","dir":3},{"pos":[0,80],"type":"StasisField","dir":0},{"pos":[50,-50],"type":"Wing1x1Angle","dir":3},{"pos":[-90,-20],"type":"Wing1x2","dir":0},{"pos":[-60,60],"type":"VArmor2x2Angle","dir":0},{"pos":[-80,20],"type":"VArmor2x2Angle","dir":0},{"pos":[60,60],"type":"VArmor2x2Angle","dir":0},{"pos":[80,20],"type":"VArmor2x2Angle","dir":0},{"pos":[90,-20],"type":"VArmor1x2Corner4","dir":0},{"pos":[-70,-30],"type":"Engine01","dir":0},{"pos":[0,-80],"type":"Mount360Micro","dir":0},{"pos":[-40,-60],"type":"WavePullTurret","dir":0},{"pos":[0,-80],"type":"PDTurret","dir":0},{"pos":[-40,20],"type":"BombGun","dir":0},{"pos":[0,-40],"type":"BombGun","dir":0},{"pos":[40,20],"type":"BombGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",32,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","Less Arc",50,500],["Avoid over #damage shots",140],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More HP",1100,1200],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More HP",600,1200],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More HP",400,1200],["When #% of energy, @chargeTypes",30,"Find recharger"],["Avoid over #damage shots",40],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More HP",1100,3000],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Slower",110,2300],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More HP",600,3200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Run-by","Cloaked","Slower",3000],["Stay in #m range of slot # units",0,10],["When #% of energy, @chargeTypes",90,"Find recharger"],["Field # at priority #",1,5]]},{"parts":[{"pos":[-20,-40],"type":"CloakGenerator","dir":0},{"pos":[-40,40],"type":"CloakGenerator","dir":0},{"pos":[0,40],"type":"CloakGenerator","dir":0},{"pos":[-20,0],"type":"Reactor2x2","dir":3},{"pos":[20,0],"type":"EnergyTransfer","dir":0},{"pos":[40,40],"type":"Reactor2x2","dir":3},{"pos":[-50,-10],"type":"Engine02","dir":0},{"pos":[-70,-10],"type":"Engine02","dir":0},{"pos":[50,10],"type":"Wing1x1Angle","dir":3},{"pos":[50,-20],"type":"Wing1x2","dir":0},{"pos":[20,-40],"type":"EnergyTransfer","dir":0}],"name":"support1","aiRules":[["Stay in #m range of slot # units",700,10],["Avoid over #damage shots",30],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More DPS","More expensive",1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",700,2000],["Stay in #m range of slot # units",0,10],["Find units that are out of energy"],["Goto @locationTypes","Friendly Home Point"],["Field # at priority #",1,9]]},{"parts":[{"pos":[-50,-10],"type":"ShieldGen1x1","dir":0},{"pos":[50,-10],"type":"ShieldGen1x1","dir":0},{"pos":[0,20],"type":"StasisField","dir":0},{"pos":[-120,-10],"type":"Wing1x2","dir":1},{"pos":[-90,-10],"type":"Reactor1x1","dir":0},{"pos":[-70,-10],"type":"Engine02","dir":0},{"pos":[90,-10],"type":"ShieldGen1x1","dir":0},{"pos":[120,-10],"type":"Wing1x2","dir":3},{"pos":[30,-10],"type":"ShieldGen1x1","dir":0},{"pos":[30,10],"type":"ShieldGen1x1","dir":0},{"pos":[50,10],"type":"ShieldGen1x1","dir":0},{"pos":[-30,10],"type":"ShieldGen1x1","dir":0},{"pos":[-50,10],"type":"ShieldGen1x1","dir":0},{"pos":[-30,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-10,-10],"type":"ShieldGen1x1","dir":0},{"pos":[10,-10],"type":"ShieldGen1x1","dir":0},{"pos":[10,-30],"type":"ShieldGen1x1","dir":0},{"pos":[-10,-30],"type":"ShieldGen1x1","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[-40,30],"type":"HArmor2x1","dir":0},{"pos":[40,30],"type":"HArmor2x1","dir":0},{"pos":[-70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[70,30],"type":"HArmor1x1Angle","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","More DPS",30,1500],["Avoid over #damage shots",100],["When Shields down to #%, flee",35],["When #% of energy, @chargeTypes",90,"Find recharger"],["Stay in #m range of slot # units",800,9],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Wiggle","More expensive","---",2200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More expensive","---",10000],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More expensive",300,10000],["Field # at priority #",1,6]]},{"parts":[{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[50,50],"type":"Wing1x1Angle","dir":0},{"pos":[0,60],"type":"Reactor2x2","dir":0},{"pos":[-30,60],"type":"Wing1x2","dir":0},{"pos":[-50,50],"type":"Wing1x1Angle","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[-40,0],"type":"Mount10Range","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[40,0],"type":"Mount10Range","dir":0},{"pos":[80,20],"type":"DamageMod","dir":0},{"pos":[70,-60],"type":"VArmor1x2","dir":0},{"pos":[-70,-60],"type":"VArmor1x2","dir":0},{"pos":[0,-20],"type":"TargetingMod","dir":0},{"pos":[10,-50],"type":"Battery1x1","dir":0},{"pos":[-10,-50],"type":"VArmor1x1","dir":0},{"pos":[-80,20],"type":"DamageMod","dir":0},{"pos":[80,-20],"type":"DamageMod","dir":0},{"pos":[0,-80],"type":"Mount360Micro","dir":0},{"pos":[-80,-20],"type":"DamageMod","dir":0},{"pos":[0,-80],"type":"PDTurret","dir":0},{"pos":[-40,0],"type":"MissileTurret","dir":0},{"pos":[40,0],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",40],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More DPS",40,1500],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","No PD","Slower",1800],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","No PD","---",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",140,1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",200,2400],["Stay in #m range of slot # units",0,10],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,6],["Field # at priority #",2,8]]},{"parts":[{"pos":[0,30],"type":"Reactor2x1","dir":2},{"pos":[80,-20],"type":"EnergyTransfer","dir":0},{"pos":[40,-20],"type":"Mount360Micro","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[0,-80],"type":"Reactor2x2","dir":0},{"pos":[-40,-20],"type":"Mount360Micro","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[40,20],"type":"Reactor2x2","dir":0},{"pos":[-80,-20],"type":"EnergyTransfer","dir":0},{"pos":[-80,-60],"type":"Wing2x2","dir":1},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[-40,20],"type":"Reactor2x2","dir":0},{"pos":[-80,20],"type":"HArmor2x2","dir":0},{"pos":[80,20],"type":"HArmor2x2","dir":0},{"pos":[0,0],"type":"Mount360Micro","dir":0},{"pos":[80,-60],"type":"Wing2x2","dir":3},{"pos":[-40,50],"type":"HArmor2x1","dir":0},{"pos":[0,50],"type":"HArmor2x1","dir":0},{"pos":[40,50],"type":"HArmor2x1","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"PDTurret","dir":0},{"pos":[-40,-20],"type":"PDTurret","dir":0},{"pos":[0,0],"type":"PDTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",350,10],["Avoid over #damage shots",45],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",800,1850],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","More expensive",1850],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More DPS","---",1850],["Stay in #m range of slot # units",-500,10],["Field # at priority #",1,2],["Goto @locationTypes","Friendly Spawn"]]},{"parts":[{"pos":[-80,20],"type":"TargetingMod","dir":0},{"pos":[80,20],"type":"TargetingMod","dir":0},{"pos":[-120,40],"type":"Mount10Range","dir":0},{"pos":[-160,20],"type":"TargetingMod","dir":0},{"pos":[120,40],"type":"Mount10Range","dir":0},{"pos":[160,60],"type":"TargetingMod","dir":0},{"pos":[160,20],"type":"TargetingMod","dir":0},{"pos":[40,40],"type":"Mount10Range","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[0,90],"type":"Reactor2x1","dir":0},{"pos":[-80,100],"type":"HArmor2x2","dir":0},{"pos":[80,100],"type":"HArmor2x2","dir":0},{"pos":[80,-20],"type":"Reactor2x2","dir":0},{"pos":[-80,-20],"type":"Reactor2x2","dir":0},{"pos":[40,-100],"type":"HArmor2x2","dir":0},{"pos":[-40,-100],"type":"HArmor2x2","dir":0},{"pos":[40,130],"type":"HArmor2x1","dir":0},{"pos":[-40,130],"type":"HArmor2x1","dir":0},{"pos":[80,130],"type":"HArmor2x1","dir":0},{"pos":[-120,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-120,-20],"type":"HArmor2x2","dir":0},{"pos":[-80,130],"type":"HArmor2x1","dir":0},{"pos":[-80,-60],"type":"HArmor2x2","dir":0},{"pos":[120,-20],"type":"HArmor2x2","dir":0},{"pos":[80,-60],"type":"HArmor2x2","dir":0},{"pos":[-170,-20],"type":"Wing2x1","dir":1},{"pos":[120,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[150,-30],"type":"Engine02","dir":0},{"pos":[-150,-30],"type":"Engine02","dir":0},{"pos":[170,-20],"type":"Wing2x1","dir":3},{"pos":[-100,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,-140],"type":"HArmor2x2AngleBack","dir":0},{"pos":[100,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[40,-140],"type":"HArmor2x2","dir":0},{"pos":[-40,-140],"type":"HArmor2x2","dir":0},{"pos":[-80,-140],"type":"HArmor2x2AngleBack","dir":0},{"pos":[120,100],"type":"HArmor2x2Angle","dir":0},{"pos":[-120,100],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,100],"type":"HArmor2x2","dir":0},{"pos":[-70,-100],"type":"HArmor1x2","dir":0},{"pos":[40,100],"type":"HArmor2x2","dir":0},{"pos":[70,-100],"type":"HArmor1x2","dir":0},{"pos":[40,-40],"type":"Mount10Range","dir":0},{"pos":[-40,40],"type":"Mount10Range","dir":0},{"pos":[-160,60],"type":"TargetingMod","dir":0},{"pos":[0,-140],"type":"HArmor2x2","dir":0},{"pos":[0,120],"type":"Mount360Micro","dir":0},{"pos":[0,-60],"type":"ReloaderMod","dir":0},{"pos":[0,-20],"type":"Mount90","dir":0},{"pos":[-40,-40],"type":"Mount10Range","dir":0},{"pos":[0,-100],"type":"Mount30","dir":0},{"pos":[-70,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-40,160],"type":"Wing2x2","dir":0},{"pos":[70,150],"type":"HArmor1x1Angle","dir":0},{"pos":[40,160],"type":"Wing2x2","dir":0},{"pos":[-80,60],"type":"DamageMod","dir":0},{"pos":[80,60],"type":"DamageMod","dir":0},{"pos":[0,60],"type":"TargetingMod","dir":0},{"pos":[0,-170],"type":"HArmor2x1","dir":0},{"pos":[-30,-170],"type":"HArmor1x1Angle","dir":1},{"pos":[30,-170],"type":"HArmor1x1Angle","dir":3},{"pos":[-120,-60],"type":"SymbolDecal3","dir":3},{"pos":[40,-140],"type":"SymbolDecal3","dir":0},{"pos":[-120,100],"type":"SymbolDecal2","dir":1},{"pos":[-80,-60],"type":"SymbolDecal3","dir":3},{"pos":[80,-140],"type":"SymbolDecal3","dir":1},{"pos":[-120,-20],"type":"SymbolDecal3","dir":3},{"pos":[80,-60],"type":"SymbolDecal3","dir":1},{"pos":[120,100],"type":"SymbolDecal2","dir":3},{"pos":[-80,100],"type":"SymbolDecal2","dir":1},{"pos":[-40,-140],"type":"SymbolDecal3","dir":0},{"pos":[-80,-100],"type":"SymbolDecal3","dir":3},{"pos":[40,100],"type":"SymbolDecal3","dir":1},{"pos":[80,100],"type":"SymbolDecal2","dir":3},{"pos":[-80,-140],"type":"SymbolDecal3","dir":3},{"pos":[80,-100],"type":"SymbolDecal3","dir":1},{"pos":[120,-60],"type":"SymbolDecal3","dir":1},{"pos":[120,-20],"type":"SymbolDecal3","dir":1},{"pos":[-40,100],"type":"SymbolDecal3","dir":3},{"pos":[-40,-100],"type":"SymbolDecal3","dir":0},{"pos":[40,-100],"type":"SymbolDecal3","dir":0},{"pos":[0,-140],"type":"SymbolDecal3","dir":0},{"pos":[-40,-40],"type":"WavePushTurret","dir":0},{"pos":[40,-40],"type":"WavePushTurret","dir":0},{"pos":[0,-100],"type":"WavePushTurret","dir":0},{"pos":[-120,40],"type":"TeslaTurret","dir":0},{"pos":[120,40],"type":"TeslaTurret","dir":0},{"pos":[0,120],"type":"PDTurret","dir":0},{"pos":[0,-20],"type":"HeavyPDTurret","dir":0},{"pos":[-40,40],"type":"PlasmaTurret","dir":0},{"pos":[40,40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More DPS",60,1300],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",400,1900],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More DPS",35,1800],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",800,4000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More DPS",10,1260],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",650,5000],["@capTypes Command Points within #m","Protect",1800],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Not Cloaked","---",1650],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",800,10000],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,1]]}];
  ais.all.FlamethrowerArmadillo = [{"parts":[{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[-50,0],"type":"HArmor1x2","dir":0},{"pos":[-40,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[40,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-10,-50],"type":"Engine02","dir":0},{"pos":[40,40],"type":"HArmor2x2Angle","dir":0},{"pos":[10,-50],"type":"Engine02","dir":0},{"pos":[-40,40],"type":"HArmor2x2Angle","dir":0},{"pos":[0,40],"type":"Mount90","dir":0},{"pos":[0,0],"type":"Mount360Micro","dir":0},{"pos":[50,0],"type":"HArmor1x2","dir":0},{"pos":[-30,-10],"type":"HArmor1x1","dir":0},{"pos":[30,-10],"type":"HArmor1x1","dir":0},{"pos":[30,10],"type":"HArmor1x1","dir":0},{"pos":[-70,-10],"type":"Wing1x1Round","dir":0},{"pos":[70,-10],"type":"Wing1x1Round","dir":0},{"pos":[0,40],"type":"FlameTurret","dir":0},{"pos":[0,0],"type":"PDTurret","dir":0}],"name":"","aiRules":[["Field # at start",3],["@attackTypes enemy within #m","Ram",340],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",3,30]]},{"parts":[{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[40,80],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[40,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[10,-70],"type":"Engine02","dir":0},{"pos":[0,20],"type":"Mount10Range","dir":0},{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[-10,-70],"type":"Engine02","dir":0},{"pos":[0,80],"type":"EnergyTransfer","dir":0},{"pos":[-40,80],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[70,50],"type":"Wing1x1Round","dir":0},{"pos":[-70,50],"type":"Wing1x1Round","dir":0},{"pos":[-70,20],"type":"Reactor1x2","dir":0},{"pos":[70,20],"type":"Reactor1x2","dir":0},{"pos":[-90,20],"type":"HArmor1x2","dir":0},{"pos":[90,20],"type":"HArmor1x2","dir":0},{"pos":[-80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[0,20],"type":"FlameTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More HP",1000,3000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More HP",100,1300],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[-70,-50],"type":"Wing1x1Round","dir":0},{"pos":[70,-50],"type":"Wing1x1Round","dir":0},{"pos":[40,0],"type":"VArmor2x2Angle","dir":0},{"pos":[-10,-70],"type":"Engine01","dir":0},{"pos":[-40,-40],"type":"VArmor2x2","dir":0},{"pos":[-40,0],"type":"VArmor2x2Angle","dir":0},{"pos":[40,-40],"type":"VArmor2x2","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[0,-30],"type":"Battery2x1","dir":0},{"pos":[-50,-80],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-30,-80],"type":"VArmor1x1CornerBack","dir":0},{"pos":[30,-80],"type":"VArmor1x1CornerBack","dir":0},{"pos":[50,-80],"type":"VArmor1x1CornerBack","dir":0},{"pos":[10,-60],"type":"VArmor1x2","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",10],["Field # at start",4],["Try to field # every # seconds",2,30],["@capTypes Command Points within #m","Protect",10000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less Brawling Value",1500],["Goto @locationTypes","Friendly Army Middle"]]},{"parts":[{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount180","dir":0},{"pos":[-40,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[40,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-40,40],"type":"HArmor2x2Angle","dir":0},{"pos":[40,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-10,-50],"type":"Engine02","dir":0},{"pos":[10,-50],"type":"Engine02","dir":0},{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[0,30],"type":"Battery2x1","dir":0},{"pos":[0,50],"type":"HArmor2x1","dir":0},{"pos":[-70,-10],"type":"Wing1x1Round","dir":0},{"pos":[70,-10],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,30],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","More HP","More expensive",10000],["Goto @locationTypes","Enemy Spawn"],["Field # for # of @needTypes at priority #",1,2,"Fighter Counter Need",3]]},{"parts":[],"name":"","aiRules":[]},"",{"parts":[{"pos":[-30,30],"type":"Wing1x1Round","dir":0},{"pos":[-30,-30],"type":"Engine01","dir":0},{"pos":[30,-30],"type":"Engine01","dir":0},{"pos":[0,-30],"type":"Battery2x1","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[30,30],"type":"Wing1x1Round","dir":0},{"pos":[0,30],"type":"HArmor2x1","dir":0},{"pos":[-30,10],"type":"HArmor1x1","dir":0},{"pos":[30,10],"type":"HArmor1x1","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[]},"","",""];
  ais.all.Flydo = [{"parts":[{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[30,-10],"type":"Engine02","dir":0},{"pos":[0,40],"type":"EnergyTransfer","dir":0},{"pos":[30,40],"type":"HArmor1x2","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[-30,40],"type":"HArmor1x2","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,2,2,1],["Find units that are out of energy"],["Stay in #m range of slot # units",500,2]]},{"parts":[{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[50,-30],"type":"Battery1x1","dir":0},{"pos":[20,-40],"type":"TargetingMod","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[20,40],"type":"BulletSpeedMod","dir":0},{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[-50,-50],"type":"Engine02","dir":0},{"pos":[-20,40],"type":"DamageMod","dir":0},{"pos":[-20,-40],"type":"ReloaderMod","dir":0},{"pos":[-50,40],"type":"HArmor1x2","dir":0},{"pos":[50,40],"type":"HArmor1x2","dir":0},{"pos":[50,-50],"type":"HArmor1x1","dir":0},{"pos":[0,0],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Field # at start",2],["Try to field # every # seconds",1,30],["@attackTypes enemy within #m","Attack",2700],["@capTypes Command Points within #m","Spread to",10000]]},{"parts":[{"pos":[10,-50],"type":"Engine02","dir":0},{"pos":[-40,30],"type":"Wing2x1","dir":0},{"pos":[40,0],"type":"Mount30","dir":0},{"pos":[-40,-30],"type":"Battery2x1","dir":0},{"pos":[0,0],"type":"ReloaderMod","dir":0},{"pos":[40,-30],"type":"Battery2x1","dir":0},{"pos":[40,30],"type":"Wing2x1","dir":0},{"pos":[-40,0],"type":"Mount30","dir":0},{"pos":[-10,-50],"type":"Engine02","dir":0},{"pos":[-40,-50],"type":"HArmor2x1","dir":0},{"pos":[40,-50],"type":"HArmor2x1","dir":0},{"pos":[0,30],"type":"HArmor2x1","dir":0},{"pos":[-40,0],"type":"LightBeamTurret","dir":0},{"pos":[40,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,2,1],["When #% of energy, @chargeTypes",50,"Find recharger"],["@capTypes Command Points within #m","Protect",1000],["@capTypes Command Points within #m","Capture",10000],["Goto @locationTypes","Friendly Army Middle"]]},"","","","","","",""];
  ais.all.Furia = [{"parts":[{"pos":[-70,-20],"type":"Battery1x2","dir":0},{"pos":[-100,20],"type":"VArmor2x2Angle","dir":0},{"pos":[70,60],"type":"Wing1x2","dir":0},{"pos":[-70,20],"type":"Battery1x2","dir":0},{"pos":[70,20],"type":"Battery1x2","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[0,-20],"type":"ReloaderMod","dir":0},{"pos":[-70,60],"type":"Wing1x2","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[70,-20],"type":"Battery1x2","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[-40,-80],"type":"Engine07","dir":0},{"pos":[40,-80],"type":"Engine07","dir":0},{"pos":[0,-60],"type":"Battery2x2","dir":0},{"pos":[40,90],"type":"Wing2x1","dir":0},{"pos":[-40,90],"type":"Wing2x1","dir":0},{"pos":[-100,-20],"type":"VArmor2x2Angle","dir":0},{"pos":[-80,-60],"type":"VArmor2x2Angle","dir":0},{"pos":[80,-60],"type":"VArmor2x2Angle","dir":0},{"pos":[100,-20],"type":"VArmor2x2Angle","dir":0},{"pos":[100,20],"type":"VArmor2x2Angle","dir":0},{"pos":[-90,-100],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-70,-100],"type":"VArmor1x1CornerBack","dir":0},{"pos":[70,-100],"type":"VArmor1x1CornerBack","dir":0},{"pos":[90,-100],"type":"VArmor1x1CornerBack","dir":0},{"pos":[0,60],"type":"ReloaderMod","dir":0},{"pos":[40,-40],"type":"Battery2x2","dir":0},{"pos":[-40,-40],"type":"Battery2x2","dir":0},{"pos":[-40,70],"type":"Battery2x1","dir":0},{"pos":[40,70],"type":"Battery2x1","dir":0},{"pos":[10,-140],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-10,-140],"type":"VArmor1x1CornerBack","dir":0},{"pos":[0,-100],"type":"VArmor2x2","dir":0},{"pos":[-10,100],"type":"VArmor1x2Corner4","dir":0},{"pos":[10,100],"type":"VArmor1x2Corner4","dir":0},{"pos":[0,20],"type":"HeavyBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",10],["@attackTypes enemy within #m","Kite",1000],["Stay in #m range of slot # units",150,5],["When #% of energy, @chargeTypes",80,"Find recharger"],["Field # at start",1],["Try to field # every # seconds",2,20],["@capTypes command points within #m","Guard",10000]]},{"parts":[{"pos":[100,80],"type":"HArmor2x2","dir":0},{"pos":[20,80],"type":"HArmor2x2","dir":0},{"pos":[100,-40],"type":"BulletSpeedMod","dir":0},{"pos":[40,0],"type":"Mount30","dir":0},{"pos":[-80,0],"type":"Mount30","dir":0},{"pos":[-40,0],"type":"Mount30","dir":0},{"pos":[-100,-40],"type":"BulletSpeedMod","dir":0},{"pos":[-20,40],"type":"BulletSpeedMod","dir":0},{"pos":[20,40],"type":"BulletSpeedMod","dir":0},{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[-140,40],"type":"BulletSpeedMod","dir":0},{"pos":[80,0],"type":"Mount30","dir":0},{"pos":[170,40],"type":"HArmor1x2","dir":0},{"pos":[140,40],"type":"BulletSpeedMod","dir":0},{"pos":[-170,80],"type":"Wing1x2","dir":0},{"pos":[170,80],"type":"Wing1x2","dir":0},{"pos":[-140,80],"type":"HArmor2x2","dir":0},{"pos":[-170,40],"type":"HArmor1x2","dir":0},{"pos":[-100,80],"type":"HArmor2x2","dir":0},{"pos":[-60,80],"type":"HArmor2x2","dir":0},{"pos":[60,80],"type":"HArmor2x2","dir":0},{"pos":[-20,80],"type":"HArmor2x2","dir":0},{"pos":[140,80],"type":"HArmor2x2","dir":0},{"pos":[0,-40],"type":"HArmor2x2","dir":0},{"pos":[-120,0],"type":"Mount30","dir":0},{"pos":[120,0],"type":"Mount30","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[-100,40],"type":"BulletSpeedMod","dir":0},{"pos":[-60,40],"type":"BulletSpeedMod","dir":0},{"pos":[60,40],"type":"BulletSpeedMod","dir":0},{"pos":[100,40],"type":"BulletSpeedMod","dir":0},{"pos":[140,-40],"type":"BulletSpeedMod","dir":0},{"pos":[60,-40],"type":"BulletSpeedMod","dir":0},{"pos":[-60,-40],"type":"BulletSpeedMod","dir":0},{"pos":[-140,-40],"type":"BulletSpeedMod","dir":0},{"pos":[-170,-10],"type":"Engine02","dir":0},{"pos":[170,-10],"type":"Engine02","dir":0},{"pos":[-150,0],"type":"Battery1x2","dir":0},{"pos":[150,0],"type":"Battery1x2","dir":0},{"pos":[-120,0],"type":"ArtilleryTurret","dir":0},{"pos":[-80,0],"type":"ArtilleryTurret","dir":0},{"pos":[-40,0],"type":"ArtilleryTurret","dir":0},{"pos":[0,0],"type":"ArtilleryTurret","dir":0},{"pos":[40,0],"type":"ArtilleryTurret","dir":0},{"pos":[80,0],"type":"ArtilleryTurret","dir":0},{"pos":[120,0],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["Try to field # every # seconds",1,60],["When #% of energy, @chargeTypes",20,"find recharger"],["Stay in #m range of friendly units",1000],["@attackTypes enemy within #m","Attack",3000],["Goto @locationTypes","Enemy Home Point"],["Field # for # of ship in slot # at priority #",1,1,1,3]]},{"parts":[{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[50,-10],"type":"Wing1x1Round","dir":0},{"pos":[0,40],"type":"Mount90","dir":0},{"pos":[0,-40],"type":"EnergyTransfer","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[-50,-10],"type":"Wing1x1Round","dir":0},{"pos":[-40,20],"type":"Mount30","dir":0},{"pos":[40,20],"type":"Mount30","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[-30,-10],"type":"Solar1x1","dir":0},{"pos":[30,-10],"type":"Solar1x1","dir":0},{"pos":[0,40],"type":"PDTurret","dir":0},{"pos":[-40,20],"type":"TorpTurret","dir":0},{"pos":[40,20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage @bulletTypes shots",20,"PD immune"],["Find units that are out of energy"],["Stay in #m range of slot # units",600,1],["Stayaway in #m range from slot # units",400,3],["Field # for # of ship in slot # at priority #",1,2,1,2],["Field # at start",2],["Field # for # of ship in slot # at priority #",1,1,2,2],["Try to field # every # seconds",1,50]]},{"parts":[{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[0,-30],"type":"UArmor2x1","dir":0},{"pos":[30,-40],"type":"Engine03","dir":0},{"pos":[30,0],"type":"Wing1x2","dir":0},{"pos":[-30,-20],"type":"Battery1x2","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",3,90],["Avoid over #damage shots",30],["@capTypes command points within #m","Capture",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","---","less brawling value",400],["When #% of energy, @chargeTypes",10,"find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","stronger","more brawling value",3000],["@capTypes command points within #m","Spread to",10000],["Field # at start",1]]},{"parts":[{"pos":[-50,0],"type":"Battery1x2","dir":0},{"pos":[50,0],"type":"Battery1x2","dir":0},{"pos":[40,40],"type":"Mount30","dir":0},{"pos":[-40,80],"type":"Mount30","dir":0},{"pos":[40,80],"type":"Mount30","dir":0},{"pos":[-40,40],"type":"Mount30","dir":0},{"pos":[0,60],"type":"Mount30","dir":0},{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[0,-20],"type":"Engine07","dir":0},{"pos":[80,0],"type":"HArmor2x2","dir":0},{"pos":[80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,0],"type":"HArmor2x2","dir":0},{"pos":[-80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-10,90],"type":"Wing1x1Round","dir":0},{"pos":[10,90],"type":"Wing1x1Round","dir":0},{"pos":[-40,80],"type":"LightBeamTurret","dir":0},{"pos":[0,60],"type":"LightBeamTurret","dir":0},{"pos":[40,80],"type":"LightBeamTurret","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0},{"pos":[40,40],"type":"LightBeamTurret","dir":0},{"pos":[-40,40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","slower","more HP",5000],["Field # for # of ship in slot # at priority #",1,3,1,1],["Field # for # of ship in slot # at priority #",1,3,1,1],["Field # for # of ship in slot # at priority #",1,3,1,1],["Goto @locationTypes","friendly army middle"]]},"","","","",""];
  ais.all.Keystone = [{"parts":[{"pos":[50,0],"type":"HArmor1x2","dir":0},{"pos":[50,30],"type":"Wing1x1Angle","dir":0},{"pos":[20,0],"type":"Mount30","dir":0},{"pos":[-30,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,-30],"type":"HArmor1x1","dir":0},{"pos":[-50,30],"type":"Wing1x1Angle","dir":0},{"pos":[-50,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,50],"type":"Wing1x1Angle","dir":0},{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[30,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,0],"type":"HArmor1x2","dir":0},{"pos":[30,30],"type":"HArmor1x1","dir":0},{"pos":[0,40],"type":"Mount360Micro","dir":0},{"pos":[50,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,-50],"type":"HArmor2x1","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[0,70],"type":"HArmor1x2Font1","dir":0},{"pos":[0,-70],"type":"HArmor1x2Back1","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[70,0],"type":"HArmor1x2","dir":0},{"pos":[-20,0],"type":"Mount90","dir":0},{"pos":[-30,30],"type":"HArmor1x1","dir":0},{"pos":[0,40],"type":"PDTurret","dir":0},{"pos":[-20,0],"type":"TorpTurret","dir":0},{"pos":[20,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Ram",300],["Avoid over #damage shots",160],["@attackTypes enemy within #m","Attack",600],["Avoid over #damage shots",59],["@attackTypes enemy within #m","Attack",800],["Avoid over #damage shots",50],["@attackTypes enemy within #m","Attack",1000],["@capTypes Command Points within #m","Capture",1000],["Stay in #m range of slot # units",100,1],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",10,10],["Field # for # of ship in slot # at priority #",1,1,3,3],["Field # for # of ship in slot # at priority #",1,1,7,3],["Field # for # of ship in slot # at priority #",1,9,3,1]]},{"parts":[{"pos":[-10,-10],"type":"Reactor1x1","dir":0},{"pos":[10,-30],"type":"Wing1x1Notch","dir":0},{"pos":[-30,-30],"type":"Wing1x1Notch","dir":0},{"pos":[-10,-40],"type":"Engine03","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","Less Range",500,750],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","Less Range",760,850],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","Less Range",1001,1100],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","Less Range",1400,1450],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More Range",1400,1500],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Capture",750],["@attackTypes enemy within #m","Circle",1800],["@attackTypes enemy within #m","Flee",1300],["@attackTypes enemy within #m","Flee",750],["@capTypes Command Points within #m","Spread to",90000],["Try to field # every # seconds",1,30],["Field # at start",2]]},{"parts":[{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[0,30],"type":"Wing2x1","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[-30,20],"type":"VArmor1x2Corner4","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy within #m","Ram",150],["@attackTypes enemy within #m","Backstab",250],["@attackTypes enemy within #m","Attack",550],["Avoid over #damage shots",20],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","---",1300],["@capTypes Command Points within #m","Capture",2000],["Stay in #m range of slot # units",500,7],["Stay in #m range of slot # units",100,9],["Stay in #m range of slot # units",100,10],["@capTypes Command Points within #m","Spread to",5000],["Field # for # of ship in slot # at priority #",30,1,7,2],["Field # for # of ship in slot # at priority #",2,1,10,2]]},{"parts":[{"pos":[-30,60],"type":"Wing1x2","dir":0},{"pos":[30,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[70,-20],"type":"HArmor1x2","dir":0},{"pos":[20,20],"type":"DamageMod","dir":0},{"pos":[50,20],"type":"HArmor1x2","dir":0},{"pos":[-70,-20],"type":"HArmor1x2","dir":0},{"pos":[-50,20],"type":"HArmor1x2","dir":0},{"pos":[0,-20],"type":"Mount270","dir":0},{"pos":[20,-60],"type":"ReloaderMod","dir":0},{"pos":[-80,-60],"type":"Mount30","dir":0},{"pos":[80,20],"type":"Mount30","dir":0},{"pos":[-80,20],"type":"Mount30","dir":0},{"pos":[80,-60],"type":"Mount30","dir":0},{"pos":[-80,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-110,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,20],"type":"HArmor1x2","dir":0},{"pos":[100,-20],"type":"Mount90","dir":0},{"pos":[80,60],"type":"HArmor2x2Angle","dir":0},{"pos":[110,20],"type":"HArmor1x2","dir":0},{"pos":[-30,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[110,50],"type":"HArmor1x1Angle","dir":0},{"pos":[110,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-20,20],"type":"DamageMod","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[-110,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[90,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,50],"type":"Battery1x1","dir":0},{"pos":[50,50],"type":"Battery1x1","dir":0},{"pos":[-90,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-40,-20],"type":"DamageMod","dir":0},{"pos":[0,50],"type":"Battery2x1","dir":0},{"pos":[0,-100],"type":"Reactor2x2","dir":0},{"pos":[0,80],"type":"Mount30","dir":0},{"pos":[40,-20],"type":"DamageMod","dir":0},{"pos":[-20,-60],"type":"DamageMod","dir":0},{"pos":[-100,-20],"type":"Mount180","dir":0},{"pos":[100,-20],"type":"PDTurret","dir":0},{"pos":[-100,-20],"type":"PDTurret","dir":0},{"pos":[80,-60],"type":"TorpTurret","dir":0},{"pos":[-80,20],"type":"TorpTurret","dir":0},{"pos":[80,20],"type":"TorpTurret","dir":0},{"pos":[-80,-60],"type":"TorpTurret","dir":0},{"pos":[0,80],"type":"TorpTurret","dir":0},{"pos":[0,-20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",150],["When #% of energy, @chargeTypes",10,"Rest"],["@attackTypes enemy within #m","Ram",450],["@attackTypes enemy @unitTypes within #m","Ram","Carrier",630],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Less Brawling Value","---",630],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Less HP","---",630],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Less DPS","---",630],["@attackTypes enemy within #m","Ram",730],["Avoid over #damage shots",59],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Less Brawling Value","---",850],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","---",1600],["@capTypes Command Points within #m","Spread to",90000],["Field # for # of ship in slot # at priority #",1,1,8,4],["Field # at start",2],["Field # for # of ship in slot # at priority #",2,1,7,4],["Field # at priority #",1,10]]},{"parts":[{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[-40,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-50,20],"type":"Wing1x2","dir":0},{"pos":[40,-20],"type":"BulletSpeedMod","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[50,20],"type":"Wing1x2","dir":0},{"pos":[20,-60],"type":"TargetingMod","dir":0},{"pos":[0,50],"type":"Reactor2x1","dir":0},{"pos":[-20,-60],"type":"TargetingMod","dir":0},{"pos":[-20,20],"type":"DamageMod","dir":0},{"pos":[0,-20],"type":"Mount270","dir":0},{"pos":[20,20],"type":"TargetingMod","dir":0},{"pos":[30,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[-80,-60],"type":"Mount90","dir":0},{"pos":[0,-20],"type":"MissileTurret","dir":0},{"pos":[-80,-60],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",5,"Flee enemies"],["Avoid over #damage shots",150],["@attackTypes enemy within #m","Attack",270],["Avoid over #damage shots",50],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More DPS",10,1600],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","---",1600],["Avoid over #damage shots",20],["@attackTypes enemy @unitTypes within #m","Attack","Scout",1800],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",1800],["Stay in #m range of slot # units",500,7],["@capTypes Command Points within #m","Spread to",90000],["Field # for # of ship in slot # at priority #",1,4,1,4],["Field # for # of ship in slot # at priority #",1,6,1,6],["Field # for # of ship in slot # at priority #",1,1,7,5],["Field # at start",1],["Field # for # of ship in slot # at priority #",1,2,6,4],["Field # at priority #",1,9]]},{"parts":[{"pos":[-50,-70],"type":"Engine01","dir":0},{"pos":[-70,-70],"type":"Engine02","dir":0},{"pos":[20,-60],"type":"ReloaderMod","dir":0},{"pos":[-20,-60],"type":"ReloaderMod","dir":0},{"pos":[20,20],"type":"BulletSpeedMod","dir":0},{"pos":[50,20],"type":"VArmor1x2IBeam","dir":0},{"pos":[0,-20],"type":"Mount360","dir":0},{"pos":[0,60],"type":"Reactor2x2","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[50,-70],"type":"Engine01","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[-30,60],"type":"VArmor1x2IBeam","dir":0},{"pos":[-20,20],"type":"BulletSpeedMod","dir":0},{"pos":[-50,20],"type":"VArmor1x2IBeam","dir":0},{"pos":[-50,60],"type":"VArmor1x2IBeam","dir":0},{"pos":[-70,-20],"type":"VArmor1x2IBeam","dir":0},{"pos":[-90,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-90,-70],"type":"Wing1x1Angle","dir":0},{"pos":[70,-70],"type":"Wing1x1Angle","dir":0},{"pos":[-80,60],"type":"Wing2x2","dir":0},{"pos":[-20,-90],"type":"Reactor2x1","dir":0},{"pos":[20,-90],"type":"HArmor2x1","dir":0},{"pos":[-20,-120],"type":"Mount360","dir":0},{"pos":[20,-120],"type":"Mount360Micro","dir":0},{"pos":[-70,20],"type":"VArmor1x2IBeam","dir":0},{"pos":[-90,20],"type":"VArmor1x2IBeam","dir":0},{"pos":[30,60],"type":"Battery1x2","dir":0},{"pos":[50,60],"type":"VArmor1x2Corner4","dir":0},{"pos":[-20,-120],"type":"PDTurret","dir":0},{"pos":[20,-120],"type":"AutoTurret","dir":0},{"pos":[0,-20],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",10,"Flee enemies"],["@attackTypes enemy within #m","Ram",280],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","---","---",1300],["Avoid over #damage shots",150],["Avoid over #damage shots",50],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Capture",1000],["@attackTypes enemy @unitTypes within #m","Attack","Carrier",2000],["@attackTypes enemy @unitTypes within #m","Attack","Battleship",2000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",100,2000],["Stay in #m range of slot # units",300,7],["Stay in #m range of slot # units",300,5],["Stay in #m range of slot # units",300,4],["@capTypes Command Points within #m","Spread to",90000],["Field # for # of ship in slot # at priority #",1,1,8,3],["Field # for # of ship in slot # at priority #",2,1,7,5],["Field # for # of ship in slot # at priority #",1,2,4,6],["Field # for # of ship in slot # at priority #",1,2,10,2]]},{"parts":[{"pos":[-10,-50],"type":"Engine02","dir":0},{"pos":[80,0],"type":"Mount180","dir":0},{"pos":[80,80],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,40],"type":"Reactor2x2","dir":0},{"pos":[80,40],"type":"Reactor2x2","dir":0},{"pos":[-40,120],"type":"Wing2x2","dir":0},{"pos":[40,120],"type":"Wing2x2","dir":0},{"pos":[70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[40,80],"type":"ReloaderMod","dir":0},{"pos":[-40,80],"type":"ReloaderMod","dir":0},{"pos":[0,60],"type":"Mount360","dir":0},{"pos":[0,100],"type":"ReloaderMod","dir":0},{"pos":[-80,80],"type":"HArmor2x2Angle","dir":0},{"pos":[0,130],"type":"Battery2x1","dir":0},{"pos":[-80,0],"type":"Mount360","dir":0},{"pos":[10,-50],"type":"Engine01","dir":0},{"pos":[70,120],"type":"Wing1x2","dir":0},{"pos":[-70,120],"type":"Wing1x2","dir":0},{"pos":[-90,110],"type":"Wing1x1Round","dir":0},{"pos":[90,110],"type":"Wing1x1Round","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[50,-50],"type":"Engine02","dir":0},{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[-50,-50],"type":"Engine02","dir":0},{"pos":[40,0],"type":"EnergyTransfer","dir":0},{"pos":[0,-10],"type":"Reactor2x1","dir":0},{"pos":[-40,0],"type":"HArmor2x2","dir":0},{"pos":[-80,0],"type":"PDTurret","dir":0},{"pos":[80,0],"type":"PDTurret","dir":0},{"pos":[0,60],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Flee enemies"],["Avoid over #damage shots",150],["Avoid #dps danger areas",60],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","---",550],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Faster","More DPS",550],["@attackTypes enemy @unitTypes within #m","Attack","Carrier",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Less Brawling Value","Slower",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","More Brawling Value","No PD",1300],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","More Brawling Value","Weaker",1300],["@capTypes Command Points within #m","Capture",1000],["When #% of energy, @chargeTypes",30,"Rest"],["Stay in #m range of slot # units",1000,3],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","More Brawling Value",2000],["@attackTypes enemy @unitTypes within #m","Attack","Carrier",5000],["@capTypes Command Points within #m","Spread to",90000],["Field # for # of ship in slot # at priority #",1,1,5,4],["Field # for # of ship in slot # at priority #",1,1,8,5]]},{"parts":[{"pos":[-60,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-100,20],"type":"Wing2x2","dir":0},{"pos":[-60,-10],"type":"Battery2x1","dir":0},{"pos":[60,-10],"type":"Battery2x1","dir":0},{"pos":[60,60],"type":"HArmor2x2Angle","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[50,-50],"type":"Engine01","dir":0},{"pos":[30,80],"type":"Wing1x2","dir":0},{"pos":[-50,-50],"type":"Engine01","dir":0},{"pos":[-30,80],"type":"Wing1x2","dir":0},{"pos":[100,20],"type":"Wing2x2","dir":0},{"pos":[20,-20],"type":"Mount30","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[20,10],"type":"Battery2x1","dir":0},{"pos":[-20,40],"type":"Mount30","dir":0},{"pos":[-30,10],"type":"HArmor1x1","dir":0},{"pos":[20,40],"type":"Mount30","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[-90,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-70,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[70,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[90,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-30,-60],"type":"VArmor1x2End","dir":0},{"pos":[30,-60],"type":"VArmor1x2End","dir":0},{"pos":[-110,-20],"type":"VArmor1x2SideBarFilled","dir":0},{"pos":[110,-20],"type":"VArmor1x2SideBarFilled","dir":0},{"pos":[-20,-20],"type":"Mount360","dir":0},{"pos":[-60,20],"type":"Mount90","dir":0},{"pos":[60,20],"type":"Mount90","dir":0},{"pos":[-20,-20],"type":"PDTurret","dir":0},{"pos":[-20,40],"type":"LightBeamTurret","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0},{"pos":[-60,20],"type":"LightBeamTurret","dir":0},{"pos":[20,-20],"type":"LightBeamTurret","dir":0},{"pos":[60,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",8,"Flee enemies"],["@attackTypes enemy within #m","Attack",200],["Avoid over #damage shots",150],["@attackTypes enemy @unitTypes within #m","Ram","Carrier",450],["@attackTypes enemy within #m","Ram",450],["Avoid over #damage shots",50],["@capTypes Command Points within #m","Capture",500],["@attackTypes enemy @unitTypes within #m","Backstab","Carrier",1300],["Avoid over #damage shots",20],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","Less Brawling Value",1300],["When #% of energy, @chargeTypes",35,"Rest"],["Stay in #m range of slot # units",100,9],["Stay in #m range of slot # units",400,4],["@attackTypes enemy @unitTypes within #m","Backstab","Carrier",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","Less Brawling Value",2000],["@capTypes Command Points within #m","Capture",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",120,2000],["@attackTypes enemy within #m","Backstab",2000],["Stay in #m range of slot # units",1000,7],["When #% of energy, @chargeTypes",60,"Rest"],["Goto @locationTypes","Enemy Army Middle"],["Goto @locationTypes","Enemy Spawn"],["Avoid over #damage shots",20],["Field # for # of ship in slot # at priority #",1,1,7,3],["Field # at start",1],["Field # for # of ship in slot # at priority #",1,1,6,4]]},{"parts":[{"pos":[120,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-110,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,130],"type":"HArmor1x1","dir":0},{"pos":[30,130],"type":"HArmor1x1","dir":0},{"pos":[-50,130],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[-80,-50],"type":"HArmor2x1","dir":0},{"pos":[80,-50],"type":"HArmor2x1","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-60,20],"type":"Mount360","dir":0},{"pos":[60,20],"type":"Mount360","dir":0},{"pos":[30,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[0,100],"type":"Mount360","dir":0},{"pos":[50,130],"type":"HArmor1x1Angle","dir":0},{"pos":[-40,100],"type":"ReloaderMod","dir":0},{"pos":[40,100],"type":"ReloaderMod","dir":0},{"pos":[80,100],"type":"Wing2x2","dir":0},{"pos":[-80,-70],"type":"HArmor2x1","dir":0},{"pos":[-130,70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[130,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[-80,-90],"type":"HArmor1x2Back1","dir":0},{"pos":[80,-90],"type":"HArmor1x2Back1","dir":0},{"pos":[80,-70],"type":"HArmor2x1","dir":0},{"pos":[-130,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[-120,120],"type":"HArmor2x2Angle","dir":0},{"pos":[-120,90],"type":"HArmor2x1","dir":0},{"pos":[110,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[120,120],"type":"HArmor2x2Angle","dir":0},{"pos":[120,90],"type":"HArmor2x1","dir":0},{"pos":[-120,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-120,-50],"type":"HArmor2x1","dir":0},{"pos":[120,-50],"type":"HArmor2x1","dir":0},{"pos":[130,70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-110,150],"type":"HArmor1x1Angle","dir":0},{"pos":[110,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-20,20],"type":"TargetingMod","dir":0},{"pos":[20,20],"type":"TargetingMod","dir":0},{"pos":[-80,-20],"type":"ReloaderMod","dir":0},{"pos":[-40,60],"type":"ReloaderMod","dir":0},{"pos":[-80,60],"type":"ReloaderMod","dir":0},{"pos":[-100,20],"type":"ReloaderMod","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[80,-20],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[100,20],"type":"ReloaderMod","dir":0},{"pos":[80,60],"type":"ReloaderMod","dir":0},{"pos":[0,60],"type":"Reactor2x2","dir":0},{"pos":[40,60],"type":"ReloaderMod","dir":0},{"pos":[-110,60],"type":"Battery1x2","dir":0},{"pos":[-110,-20],"type":"Battery1x2","dir":0},{"pos":[110,60],"type":"Battery1x2","dir":0},{"pos":[110,-20],"type":"Battery1x2","dir":0},{"pos":[-80,100],"type":"Wing2x2","dir":0},{"pos":[-10,-70],"type":"Engine02","dir":0},{"pos":[10,-70],"type":"Engine02","dir":0},{"pos":[0,-20],"type":"Battery2x2","dir":0},{"pos":[0,100],"type":"PDTurret","dir":0},{"pos":[-60,20],"type":"AutoTurret","dir":0},{"pos":[60,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",59],["When #% of energy, @chargeTypes",10,"Flee enemies"],["@attackTypes enemy within #m","Circle",470],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","---",1000],["When #% of energy, @chargeTypes",30,"Rest"],["@capTypes Command Points within #m","Capture",1000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,2,10,1]]},{"parts":[{"pos":[-90,10],"type":"HArmor1x1","dir":0},{"pos":[50,10],"type":"HArmor1x1","dir":0},{"pos":[-60,60],"type":"TargetingMod","dir":0},{"pos":[-60,20],"type":"TargetingMod","dir":0},{"pos":[-20,0],"type":"ReloaderMod","dir":0},{"pos":[-20,40],"type":"Mount360","dir":0},{"pos":[-20,-30],"type":"HArmor2x1","dir":0},{"pos":[-20,80],"type":"TargetingMod","dir":0},{"pos":[20,20],"type":"ReloaderMod","dir":0},{"pos":[-50,-20],"type":"VArmor1x2IBeam","dir":0},{"pos":[10,-20],"type":"VArmor1x2IBeam","dir":0},{"pos":[-80,-20],"type":"Reactor2x2","dir":0},{"pos":[20,60],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"Reactor2x2","dir":0},{"pos":[-60,90],"type":"Wing2x1","dir":0},{"pos":[20,90],"type":"Wing2x1","dir":0},{"pos":[-90,40],"type":"Wing1x2","dir":0},{"pos":[50,40],"type":"Wing1x2","dir":0},{"pos":[10,-70],"type":"Engine01","dir":0},{"pos":[-50,-70],"type":"Engine01","dir":0},{"pos":[-70,-70],"type":"Engine01","dir":0},{"pos":[-90,-70],"type":"Engine01","dir":0},{"pos":[40,-60],"type":"Reactor2x2","dir":0},{"pos":[-20,-60],"type":"Mount360Micro","dir":0},{"pos":[-20,-60],"type":"PDTurret","dir":0},{"pos":[-20,40],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",50],["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Flee enemies"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","---","---",1300],["@attackTypes enemy within #m","Attack",2000],["Stay in #m range of slot # units",1700,9],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,2,9,2],["Field # for # of ship in slot # at priority #",1,1,3,2],["Field # for # of ship in slot # at priority #",1,4,1,2],["Field # for # of ship in slot # at priority #",1,1,1,3]]}];
  ais.all.Kornine = [{"parts":[{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[-60,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-80,0],"type":"Mount360Micro","dir":0},{"pos":[40,0],"type":"Reactor2x2","dir":0},{"pos":[80,0],"type":"Mount360Micro","dir":0},{"pos":[-40,40],"type":"HArmor2x2Angle","dir":0},{"pos":[40,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,0],"type":"Reactor2x2","dir":0},{"pos":[60,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-70,30],"type":"Wing1x1Round","dir":0},{"pos":[70,30],"type":"Wing1x1Round","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[10,-70],"type":"Engine02","dir":0},{"pos":[-10,-70],"type":"Engine02","dir":0},{"pos":[0,60],"type":"EnergyTransfer","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[0,20],"type":"MissileTurret","dir":0},{"pos":[-80,0],"type":"HeavyPDTurret","dir":0},{"pos":[80,0],"type":"HeavyPDTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",1,1],["Stay in #m range of slot # units",700,2],["@attackTypes enemy within #m","Kite",1000],["Field # for # of ship in slot # at priority #",2,6,2,1]]},{"parts":[{"pos":[0,60],"type":"Mount90","dir":0},{"pos":[-30,20],"type":"Battery1x2","dir":0},{"pos":[-30,50],"type":"Wing1x1Round","dir":0},{"pos":[-10,10],"type":"Engine01","dir":0},{"pos":[20,20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[30,50],"type":"Wing1x1Round","dir":0},{"pos":[0,60],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",30,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",350],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",1000],["@attackTypes enemy within #m","Attack",600],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,2],["Try to field # every # seconds",2,30],["Field # at priority #",1,3],["Field # at start",4]]},{"parts":[{"pos":[10,30],"type":"Battery1x1","dir":0},{"pos":[40,20],"type":"Mount30","dir":0},{"pos":[-10,30],"type":"Wing1x1Round","dir":0},{"pos":[-10,10],"type":"Wing1x1Round","dir":0},{"pos":[10,0],"type":"Engine04","dir":0},{"pos":[70,0],"type":"Engine04","dir":0},{"pos":[30,-10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[50,-10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[50,50],"type":"UArmor1x1Angle","dir":0},{"pos":[70,30],"type":"UArmor1x1Angle","dir":0},{"pos":[40,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid #dps danger areas",5],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Weaker","Weaker",1000],["@attackTypes enemy within #m","Flee",1000],["Field # at priority #",1,2],["Try to field # every # seconds",1,30],["@capTypes Command Points within #m","Spread to",10000]]},{"parts":[{"pos":[30,-30],"type":"Engine02","dir":0},{"pos":[-60,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[40,20],"type":"Mount30","dir":0},{"pos":[-10,-10],"type":"Battery1x1","dir":0},{"pos":[10,-10],"type":"Reactor1x1","dir":0},{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[-30,-30],"type":"Engine02","dir":0},{"pos":[-40,20],"type":"Mount30","dir":0},{"pos":[60,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[0,-30],"type":"HArmor2x1","dir":0},{"pos":[-70,20],"type":"Wing1x2","dir":0},{"pos":[70,20],"type":"Wing1x2","dir":0},{"pos":[0,20],"type":"RingTurret","dir":0},{"pos":[-40,20],"type":"RingTurret","dir":0},{"pos":[40,20],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",1,2],["Stay in #m range of slot # units",700,1],["@attackTypes enemy within #m","Attack",900],["Try to field # every # seconds",1,35],["Stay in #m range of slot # units",300,1]]},"","","","","",""];
  ais.all.LazerBlade = [{"parts":[{"pos":[-70,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,-20],"type":"HArmor1x2","dir":0},{"pos":[30,110],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,110],"type":"HArmor1x1Angle","dir":0},{"pos":[-20,80],"type":"Mount90","dir":0},{"pos":[-50,60],"type":"HArmor1x2","dir":0},{"pos":[-50,90],"type":"HArmor1x1Angle","dir":0},{"pos":[60,20],"type":"Mount90","dir":0},{"pos":[50,60],"type":"HArmor1x2","dir":0},{"pos":[-60,20],"type":"Mount90","dir":0},{"pos":[20,80],"type":"Mount90","dir":0},{"pos":[50,90],"type":"HArmor1x1Angle","dir":0},{"pos":[20,10],"type":"Reactor2x1","dir":0},{"pos":[-30,40],"type":"HArmor1x2","dir":0},{"pos":[110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-20,10],"type":"Reactor2x1","dir":0},{"pos":[-110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[30,40],"type":"HArmor1x2","dir":0},{"pos":[30,-40],"type":"HArmor1x2","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[0,40],"type":"Mount270","dir":0},{"pos":[130,10],"type":"HArmor1x1Angle","dir":0},{"pos":[-130,10],"type":"HArmor1x1Angle","dir":0},{"pos":[70,70],"type":"HArmor1x1Angle","dir":0},{"pos":[70,-10],"type":"Battery1x1","dir":0},{"pos":[-70,-10],"type":"Battery1x1","dir":0},{"pos":[-30,-40],"type":"HArmor1x2","dir":0},{"pos":[50,-20],"type":"HArmor1x2","dir":0},{"pos":[0,-50],"type":"Reactor2x1","dir":0},{"pos":[-10,-80],"type":"Engine04","dir":0},{"pos":[10,-80],"type":"Engine04","dir":0},{"pos":[30,-70],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,-70],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-20],"type":"Mount270","dir":0},{"pos":[-110,-20],"type":"Engine04","dir":0},{"pos":[-90,0],"type":"HArmor1x2","dir":0},{"pos":[-110,10],"type":"Battery1x1","dir":0},{"pos":[-90,-40],"type":"Engine04","dir":0},{"pos":[90,0],"type":"HArmor1x2","dir":0},{"pos":[110,10],"type":"Battery1x1","dir":0},{"pos":[110,-20],"type":"Engine04","dir":0},{"pos":[90,-40],"type":"Engine04","dir":0},{"pos":[-60,20],"type":"LightBeamTurret","dir":0},{"pos":[-20,80],"type":"LightBeamTurret","dir":0},{"pos":[20,80],"type":"LightBeamTurret","dir":0},{"pos":[60,20],"type":"LightBeamTurret","dir":0},{"pos":[0,40],"type":"LightBeamTurret","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",10,1],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",100,1000],["@attackTypes enemy within #m","Attack",500],["@capTypes Command Points within #m","Capture",10000]]},"","","","","","","","",""];
  ais.all.Lazur = [{"parts":[{"pos":[-30,130],"type":"HArmor1x1Angle","dir":0},{"pos":[90,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-80,-60],"type":"HArmor2x2","dir":0},{"pos":[80,-60],"type":"HArmor2x2","dir":0},{"pos":[40,-60],"type":"Reactor2x2","dir":0},{"pos":[-40,-60],"type":"Reactor2x2","dir":0},{"pos":[0,-140],"type":"Engine07","dir":0},{"pos":[0,20],"type":"ReloaderMod","dir":0},{"pos":[-40,20],"type":"Mount90","dir":0},{"pos":[40,20],"type":"Mount90","dir":0},{"pos":[-40,-100],"type":"Battery2x2","dir":0},{"pos":[40,-100],"type":"Battery2x2","dir":0},{"pos":[80,-100],"type":"HArmor2x2","dir":0},{"pos":[-80,-100],"type":"HArmor2x2","dir":0},{"pos":[0,-100],"type":"Battery2x2","dir":0},{"pos":[-160,-100],"type":"Wing2x2","dir":0},{"pos":[160,-100],"type":"Wing2x2","dir":0},{"pos":[-110,-20],"type":"HArmor1x2","dir":0},{"pos":[110,-20],"type":"HArmor1x2","dir":0},{"pos":[-120,-60],"type":"HArmor2x2","dir":0},{"pos":[-120,-100],"type":"HArmor2x2","dir":0},{"pos":[120,-60],"type":"HArmor2x2","dir":0},{"pos":[120,-100],"type":"HArmor2x2","dir":0},{"pos":[-80,-130],"type":"HArmor2x1","dir":0},{"pos":[80,-130],"type":"HArmor2x1","dir":0},{"pos":[-70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[-90,50],"type":"HArmor1x1Angle","dir":0},{"pos":[30,130],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,10],"type":"HArmor1x1Angle","dir":0},{"pos":[110,10],"type":"HArmor1x1Angle","dir":0},{"pos":[70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[-80,20],"type":"Mount30","dir":0},{"pos":[-60,60],"type":"Mount30","dir":0},{"pos":[-40,100],"type":"Mount30","dir":0},{"pos":[0,120],"type":"Mount30","dir":0},{"pos":[40,100],"type":"Mount30","dir":0},{"pos":[60,60],"type":"Mount30","dir":0},{"pos":[80,20],"type":"Mount30","dir":0},{"pos":[0,90],"type":"HArmor2x1","dir":0},{"pos":[0,-60],"type":"Battery2x2","dir":0},{"pos":[-40,-20],"type":"Battery2x2","dir":0},{"pos":[40,-20],"type":"Battery2x2","dir":0},{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[-130,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[130,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[-40,-130],"type":"Battery2x1","dir":0},{"pos":[40,-130],"type":"Battery2x1","dir":0},{"pos":[-20,60],"type":"ReloaderMod","dir":0},{"pos":[20,60],"type":"ReloaderMod","dir":0},{"pos":[-80,-20],"type":"HArmor2x2","dir":0},{"pos":[80,-20],"type":"HArmor2x2","dir":0},{"pos":[80,20],"type":"HeavyBeamTurret","dir":0},{"pos":[40,100],"type":"HeavyBeamTurret","dir":0},{"pos":[-40,100],"type":"HeavyBeamTurret","dir":0},{"pos":[60,60],"type":"HeavyBeamTurret","dir":0},{"pos":[-80,20],"type":"HeavyBeamTurret","dir":0},{"pos":[-60,60],"type":"HeavyBeamTurret","dir":0},{"pos":[40,20],"type":"PDTurret","dir":0},{"pos":[-40,20],"type":"PDTurret","dir":0},{"pos":[0,120],"type":"HeavyPDTurret","dir":0},{"pos":[0,-20],"type":"HeavyPDTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",500],["@capTypes Command Points within #m","Capture",10000],["Field # at start",1],["Try to field # every # seconds",1,60],["Field # at priority #",1,1]]},{"parts":[{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[-10,50],"type":"Wing1x1Notch","dir":0},{"pos":[0,20],"type":"EMPGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",4],["Try to field # every # seconds",1,30]]},"","","","","","","",{"parts":[{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,0],"type":"Battery1x2","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[-30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,-30],"type":"Wing1x1Notch","dir":0},{"pos":[50,-30],"type":"Wing1x1Notch","dir":0},{"pos":[0,-20],"type":"EnergyTransfer","dir":0},{"pos":[0,20],"type":"Reactor2x2","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,1,5],["Stay in #m range of slot # units",500,1]]}];
  ais.all.Liberty = ["",{"parts":[{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[10,10],"type":"Battery1x1","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy within #m","Flee",2000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,1,4,2],["Field # for # of ship in slot # at priority #",1,2,4,2],["Field # for # of ship in slot # at priority #",1,1,1,3],["Field # for # of ship in slot # at priority #",1,2,1,4],["Field # for # of ship in slot # at priority #",4,1,8,5],["Field # at priority #",1,1]]},{"parts":[{"pos":[20,0],"type":"Mount30","dir":0},{"pos":[10,30],"type":"Battery1x1","dir":0},{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[-10,0],"type":"HArmor1x2","dir":0},{"pos":[-10,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-10,30],"type":"Wing1x1Angle","dir":0},{"pos":[30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[20,0],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Attack",400],["Avoid over #damage shots",22],["Stay in #m range of slot # units",1000,4],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",800],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",800],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",800],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",800],["@attackTypes enemy @unitTypes within #m","Flee","Carrier",1000],["@attackTypes enemy @unitTypes within #m","Flee","Battleship",1000],["@attackTypes enemy @unitTypes within #m","Flee","Cruiser",1000],["@attackTypes enemy @unitTypes within #m","Flee","Destroyer",1000],["@capTypes Command Points within #m","Capture",1000],["Stay in #m range of slot # units",500,4],["Stay in #m range of friendly units",500],["Goto @locationTypes","Friendly Spawn"],["Field # for # of ship in slot # at priority #",1,2,4,1],["Field # at priority #",2,2]]},{"parts":[{"pos":[-80,20],"type":"Reactor2x2","dir":0},{"pos":[-50,60],"type":"Battery1x2","dir":0},{"pos":[110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[110,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,10],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,-10],"type":"HArmor1x1Angle","dir":0},{"pos":[110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[110,-10],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[110,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,-50],"type":"HArmor1x1Angle","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[110,10],"type":"HArmor1x1Angle","dir":0},{"pos":[110,-50],"type":"HArmor1x1Angle","dir":0},{"pos":[0,100],"type":"Mount360","dir":0},{"pos":[-40,-40],"type":"ReloaderMod","dir":0},{"pos":[40,-40],"type":"TargetingMod","dir":0},{"pos":[0,-20],"type":"Mount360","dir":0},{"pos":[40,-80],"type":"Reactor2x2","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[-40,-80],"type":"EnergyTransfer","dir":0},{"pos":[-110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-60,140],"type":"HArmor2x2Angle","dir":0},{"pos":[-20,140],"type":"ReloaderMod","dir":0},{"pos":[-40,100],"type":"ReloaderMod","dir":0},{"pos":[20,60],"type":"BulletSpeedMod","dir":0},{"pos":[-20,60],"type":"BulletSpeedMod","dir":0},{"pos":[80,20],"type":"Reactor2x2","dir":0},{"pos":[60,140],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,30],"type":"Battery2x1","dir":0},{"pos":[40,30],"type":"Battery2x1","dir":0},{"pos":[-90,100],"type":"Wing1x2","dir":0},{"pos":[90,100],"type":"Wing1x2","dir":0},{"pos":[-70,100],"type":"HArmor1x2","dir":0},{"pos":[70,100],"type":"HArmor1x2","dir":0},{"pos":[-70,-90],"type":"Engine02","dir":0},{"pos":[-90,-70],"type":"Engine02","dir":0},{"pos":[70,-90],"type":"Engine02","dir":0},{"pos":[90,-70],"type":"Engine02","dir":0},{"pos":[70,-50],"type":"HArmor1x1","dir":0},{"pos":[-70,-50],"type":"HArmor1x1","dir":0},{"pos":[-80,-20],"type":"HArmor2x2","dir":0},{"pos":[80,-20],"type":"HArmor2x2","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[-110,90],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-120],"type":"Mount90","dir":0},{"pos":[0,-60],"type":"DamageMod","dir":0},{"pos":[20,140],"type":"ReloaderMod","dir":0},{"pos":[40,100],"type":"TargetingMod","dir":0},{"pos":[50,50],"type":"Battery1x1","dir":0},{"pos":[50,70],"type":"HArmor1x1","dir":0},{"pos":[-80,60],"type":"HArmor2x2","dir":0},{"pos":[80,60],"type":"HArmor2x2","dir":0},{"pos":[-40,-120],"type":"Mount90","dir":0},{"pos":[40,-120],"type":"Mount90","dir":0},{"pos":[40,-120],"type":"PDTurret","dir":0},{"pos":[-40,-120],"type":"PDTurret","dir":0},{"pos":[0,-120],"type":"FlackTurret","dir":0},{"pos":[0,100],"type":"PlasmaTurret","dir":0},{"pos":[0,-20],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["@attackTypes enemy within #m","Ram",500],["@capTypes Command Points within #m","Capture",500],["@attackTypes enemy @unitTypes within #m","Attack","Carrier",1200],["@attackTypes enemy @unitTypes within #m","Attack","Battleship",1200],["@attackTypes enemy @unitTypes within #m","Attack","Cruiser",1200],["@attackTypes enemy @unitTypes within #m","Attack","Destroyer",1200],["Avoid over #damage shots",59],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","---",3000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","---","More expensive",3000],["@attackTypes enemy within #m","Attack",1200],["Stay in #m range of slot # units",400,4],["@capTypes Command Points within #m","Capture",2000],["Goto @locationTypes","Enemy Army Middle"],["@capTypes Command Points within #m","Capture",10000],["Field # at start",2],["Field # at priority #",1,1],["Field # at priority #",1,5]]},{"parts":[{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[-10,-30],"type":"UArmor1x1","dir":0},{"pos":[10,-30],"type":"Battery1x1","dir":0},{"pos":[-10,30],"type":"Battery1x1","dir":0},{"pos":[10,-60],"type":"Engine03","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[30,-50],"type":"Wing1x1Notch","dir":0},{"pos":[10,30],"type":"Wing1x1Notch","dir":0},{"pos":[-30,-50],"type":"Wing1x1Notch","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy within #m","Attack",350],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","More Brawling Value",1600],["Stay in #m range of slot # units",4000,4],["@attackTypes enemy @unitTypes within #m","Attack","Scout",1500],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",1500],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",1500],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",1500],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less DPS","Less Brawling Value",1500],["@attackTypes enemy within #m","Flee",1500],["@capTypes Command Points within #m","Capture",1000],["@capTypes Command Points within #m","Protect",4000],["Field # for # of ship in slot # at priority #",1,2,4,1],["@capTypes Command Points within #m","Spread to",10000]]},{"parts":[{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[-10,-30],"type":"UArmor1x1","dir":0},{"pos":[10,-40],"type":"Engine03","dir":0},{"pos":[20,30],"type":"Wing2x1","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[-10,30],"type":"UArmor1x1Angle","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[30,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[30,-30],"type":"UArmor1x1","dir":0},{"pos":[-10,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-30,-30],"type":"UArmor1x1Angle","dir":0},{"pos":[50,-30],"type":"UArmor1x1Angle","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy within #m","Attack",350],["Stay in #m range of slot # units",2600,4],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","More expensive",1200],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",1500],["Stay in #m range of slot # units",500,6],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",1500],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",1500],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",1250],["@attackTypes enemy @unitTypes within #m","Attack","Scout",1250],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Faster","---",1250],["@capTypes Command Points within #m","Capture",1500],["@capTypes Command Points within #m","Protect",2500],["Stay in #m range of slot # units",500,4],["Stay in #m range of slot # units",500,8],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",3,2,4,2],["Field # for # of ship in slot # at priority #",2,1,4,4],["Field # for # of ship in slot # at priority #",3,1,8,4]]},{"parts":[{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[10,-40],"type":"Engine03","dir":0},{"pos":[20,30],"type":"Wing2x1","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[-10,30],"type":"UArmor1x1Angle","dir":0},{"pos":[-10,-30],"type":"UArmor1x1","dir":0},{"pos":[30,-30],"type":"UArmor1x1","dir":0},{"pos":[0,0],"type":"BombGun","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",21],["When #% of energy, @chargeTypes",25,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Slower",100,1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Slower",120,1300],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Slower",150,1100],["@attackTypes enemy within #m","Flee",1600],["@capTypes Command Points within #m","Capture",2000],["Stay in #m range of slot # units",500,4],["Stay in #m range of slot # units",500,8],["Field # for # of ship in slot # at priority #",1,1,8,2]]},{"parts":[{"pos":[-30,-90],"type":"Engine02","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[-20,60],"type":"ReloaderMod","dir":0},{"pos":[-50,60],"type":"Battery1x2","dir":0},{"pos":[-20,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-50,-10],"type":"HArmor1x1","dir":0},{"pos":[-30,-50],"type":"HArmor1x1","dir":0},{"pos":[0,90],"type":"HArmor2x1","dir":0},{"pos":[30,-50],"type":"HArmor1x1","dir":0},{"pos":[50,60],"type":"Battery1x2","dir":0},{"pos":[50,-10],"type":"HArmor1x1","dir":0},{"pos":[20,60],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"DamageMod","dir":0},{"pos":[20,-20],"type":"BulletSpeedMod","dir":0},{"pos":[0,-80],"type":"Mount360Micro","dir":0},{"pos":[30,-90],"type":"Engine02","dir":0},{"pos":[60,-80],"type":"HArmor2x2Angle","dir":0},{"pos":[-60,-80],"type":"HArmor2x2Angle","dir":0},{"pos":[50,-40],"type":"HArmor1x2","dir":0},{"pos":[-50,-40],"type":"HArmor1x2","dir":0},{"pos":[-30,90],"type":"Wing1x1Angle","dir":0},{"pos":[30,90],"type":"Wing1x1Angle","dir":0},{"pos":[50,90],"type":"Wing1x1Notch","dir":0},{"pos":[-50,90],"type":"Wing1x1Notch","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[10,-50],"type":"Reactor1x1","dir":0},{"pos":[-10,-50],"type":"Battery1x1","dir":0},{"pos":[0,-80],"type":"PDTurret","dir":0},{"pos":[0,20],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["@attackTypes enemy within #m","Ram",300],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More DPS","Less Range",900],["@capTypes Command Points within #m","Capture",500],["Stay in #m range of slot # units",700,4],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",1700],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",1700],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",1700],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",1700],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Faster","---",1700],["@attackTypes enemy within #m","Attack",2000],["@capTypes Command Points within #m","Capture",2000],["Goto @locationTypes","Friendly Spawn"],["Field # at priority #",1,2],["Field # at priority #",1,3],["Field # at priority #",3,5]]},"",""];
  ais.all.LightShower = [{"parts":[{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-50,-50],"type":"Wing1x1Round","dir":0},{"pos":[50,-50],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"HeavyBeamTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",1400,2],["@attackTypes enemy within #m","Kite",2000],["Field # at priority #",1,1],["Avoid everything"],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[-40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[70,30],"type":"Wing1x1Round","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[-70,30],"type":"Wing1x1Round","dir":0},{"pos":[-70,-10],"type":"Engine02","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[0,0],"type":"HeavyBeamTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of friendly units",500],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Kite",1500],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,35]]},{"parts":[{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[0,0],"type":"Mount360Micro","dir":0},{"pos":[10,-30],"type":"Battery1x1","dir":0},{"pos":[-30,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[-30,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,0],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",3,1,4,1],["Stay in #m range of slot # units",800,4],["@attackTypes enemy within #m","Attack",1500],["Stay in #m range of slot # units",400,4],["Avoid everything"],["Try to field # every # seconds",1,20],["Goto @locationTypes","Friendly Army Middle"]]},{"parts":[{"pos":[-50,-50],"type":"Wing1x1Round","dir":0},{"pos":[40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[50,-50],"type":"Wing1x1Round","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[-80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,10],"type":"Reactor2x1","dir":0},{"pos":[80,10],"type":"Reactor2x1","dir":0},{"pos":[0,-80],"type":"EnergyTransfer","dir":0},{"pos":[0,100],"type":"Mount360","dir":0},{"pos":[0,0],"type":"HeavyBeamTurret","dir":0},{"pos":[0,100],"type":"PDTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",1500,1],["Avoid everything"],["Stay in #m range of slot # units",1400,2],["Field # at priority #",1,2],["Try to field # every # seconds",1,40]]},{"parts":[{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[-30,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[30,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[0,10],"type":"Battery2x1","dir":0},{"pos":[-40,20],"type":"Mount30","dir":0},{"pos":[40,20],"type":"Mount30","dir":0},{"pos":[10,30],"type":"Wing1x1Round","dir":0},{"pos":[-10,40],"type":"VArmor1x1Corner3","dir":0},{"pos":[-40,20],"type":"LightBeamTurret","dir":0},{"pos":[40,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",1,1],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",1000],["Avoid #dps danger areas",5],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,25]]},"","","","",""];
  ais.all.LongPoint = [{"parts":[{"pos":[40,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-30,-60],"type":"Engine04","dir":0},{"pos":[-70,20],"type":"Wing1x2","dir":0},{"pos":[0,40],"type":"Mount30","dir":0},{"pos":[0,80],"type":"Mount30","dir":0},{"pos":[70,20],"type":"Wing1x2","dir":0},{"pos":[70,-20],"type":"Engine04","dir":0},{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[50,-60],"type":"Engine04","dir":0},{"pos":[30,-60],"type":"Engine04","dir":0},{"pos":[-70,-20],"type":"Engine04","dir":0},{"pos":[-50,-60],"type":"Engine04","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[-40,-20],"type":"BulletSpeedMod","dir":0},{"pos":[40,20],"type":"BulletSpeedMod","dir":0},{"pos":[-40,20],"type":"BulletSpeedMod","dir":0},{"pos":[40,60],"type":"BulletSpeedMod","dir":0},{"pos":[-40,60],"type":"BulletSpeedMod","dir":0},{"pos":[-40,100],"type":"BulletSpeedMod","dir":0},{"pos":[40,100],"type":"BulletSpeedMod","dir":0},{"pos":[0,-50],"type":"Battery2x1","dir":0},{"pos":[0,120],"type":"BulletSpeedMod","dir":0},{"pos":[-10,-70],"type":"Solar1x1","dir":0},{"pos":[10,-70],"type":"Solar1x1","dir":0},{"pos":[0,0],"type":"ArtilleryTurret","dir":0},{"pos":[0,80],"type":"ArtilleryTurret","dir":0},{"pos":[0,40],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["Avoid everything"],["Stay in #m range of slot # units",2500,2],["@attackTypes enemy within #m","Attack",10000],["When #% of energy, @chargeTypes",20,"Rest"],["Field # for # of ship in slot # at priority #",2,1,2,2]]},{"parts":[{"pos":[-170,-110],"type":"Engine02","dir":0},{"pos":[-80,40],"type":"Battery2x2","dir":0},{"pos":[-40,60],"type":"BulletSpeedMod","dir":0},{"pos":[40,60],"type":"BulletSpeedMod","dir":0},{"pos":[80,80],"type":"Mount30","dir":0},{"pos":[120,100],"type":"BulletSpeedMod","dir":0},{"pos":[120,60],"type":"BulletSpeedMod","dir":0},{"pos":[-120,100],"type":"BulletSpeedMod","dir":0},{"pos":[80,120],"type":"Wing2x2","dir":0},{"pos":[-80,120],"type":"Wing2x2","dir":0},{"pos":[-80,80],"type":"Mount30","dir":0},{"pos":[-100,-60],"type":"BulletSpeedMod","dir":0},{"pos":[-180,-60],"type":"BulletSpeedMod","dir":0},{"pos":[100,-60],"type":"BulletSpeedMod","dir":0},{"pos":[180,-60],"type":"BulletSpeedMod","dir":0},{"pos":[140,-10],"type":"HArmor2x1","dir":0},{"pos":[-140,-10],"type":"HArmor2x1","dir":0},{"pos":[-180,40],"type":"Mount30","dir":0},{"pos":[-180,10],"type":"HArmor2x1","dir":0},{"pos":[-140,20],"type":"HArmor2x2","dir":0},{"pos":[180,10],"type":"HArmor2x1","dir":0},{"pos":[140,20],"type":"HArmor2x2","dir":0},{"pos":[-110,20],"type":"HArmor1x2","dir":0},{"pos":[-150,50],"type":"HArmor1x1","dir":0},{"pos":[110,20],"type":"HArmor1x2","dir":0},{"pos":[40,140],"type":"BulletSpeedMod","dir":0},{"pos":[180,40],"type":"Mount30","dir":0},{"pos":[-180,-20],"type":"BulletSpeedMod","dir":0},{"pos":[180,-20],"type":"BulletSpeedMod","dir":0},{"pos":[80,10],"type":"HArmor2x1","dir":0},{"pos":[150,50],"type":"HArmor1x1","dir":0},{"pos":[-40,140],"type":"BulletSpeedMod","dir":0},{"pos":[80,40],"type":"Battery2x2","dir":0},{"pos":[110,-110],"type":"Engine02","dir":0},{"pos":[170,-110],"type":"Engine02","dir":0},{"pos":[-110,-110],"type":"Engine02","dir":0},{"pos":[-80,10],"type":"HArmor2x1","dir":0},{"pos":[-120,60],"type":"BulletSpeedMod","dir":0},{"pos":[-100,-20],"type":"BulletSpeedMod","dir":0},{"pos":[100,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-40,100],"type":"BulletSpeedMod","dir":0},{"pos":[40,100],"type":"BulletSpeedMod","dir":0},{"pos":[0,80],"type":"Mount90","dir":0},{"pos":[0,40],"type":"BulletSpeedMod","dir":0},{"pos":[0,120],"type":"Mount30","dir":0},{"pos":[0,160],"type":"BulletSpeedMod","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[-140,-40],"type":"Mount90","dir":0},{"pos":[140,-40],"type":"Mount90","dir":0},{"pos":[-40,20],"type":"HArmor2x2","dir":0},{"pos":[40,20],"type":"HArmor2x2","dir":0},{"pos":[-40,-20],"type":"Mount30","dir":0},{"pos":[40,-20],"type":"Mount30","dir":0},{"pos":[0,-40],"type":"HArmor2x2","dir":0},{"pos":[140,-80],"type":"BulletSpeedMod","dir":0},{"pos":[-140,-80],"type":"BulletSpeedMod","dir":0},{"pos":[-30,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-150,70],"type":"HArmor1x1Angle","dir":0},{"pos":[150,70],"type":"HArmor1x1Angle","dir":0},{"pos":[180,40],"type":"PDTurret","dir":0},{"pos":[-40,-20],"type":"PDTurret","dir":0},{"pos":[40,-20],"type":"PDTurret","dir":0},{"pos":[-180,40],"type":"PDTurret","dir":0},{"pos":[-80,80],"type":"ArtilleryTurret","dir":0},{"pos":[140,-40],"type":"ArtilleryTurret","dir":0},{"pos":[80,80],"type":"ArtilleryTurret","dir":0},{"pos":[0,80],"type":"ArtilleryTurret","dir":0},{"pos":[-140,-40],"type":"ArtilleryTurret","dir":0},{"pos":[0,120],"type":"BombGun","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,30],["Field # at start",2],["Field # at priority #",2,1],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","more brawling value","less range",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","slower","more range",3000],["Stay in #m range of friendly units",500],["@capTypes command points within #m","Capture",10000]]},{"parts":[{"pos":[30,10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[10,10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-10,50],"type":"Wing1x1Notch","dir":0},{"pos":[50,50],"type":"Wing1x1Notch","dir":0},{"pos":[20,40],"type":"Mount30","dir":0},{"pos":[50,30],"type":"Battery1x1","dir":0},{"pos":[50,10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-30,30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-10,0],"type":"Engine03","dir":0},{"pos":[-10,30],"type":"Solar1x1","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Weaker","slower",350],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","more range","more brawling value",2000],["Field # at start",2],["Try to field # every # seconds",3,30],["@capTypes command points within #m","Spread to",10000]]},{"parts":[{"pos":[70,50],"type":"Wing1x1Round","dir":0},{"pos":[-30,80],"type":"Battery1x2","dir":0},{"pos":[0,-20],"type":"BulletSpeedMod","dir":0},{"pos":[40,0],"type":"Mount360Micro","dir":0},{"pos":[0,60],"type":"Mount360Micro","dir":0},{"pos":[40,40],"type":"BulletSpeedMod","dir":0},{"pos":[-40,0],"type":"Mount360Micro","dir":0},{"pos":[0,20],"type":"BulletSpeedMod","dir":0},{"pos":[-40,40],"type":"BulletSpeedMod","dir":0},{"pos":[0,100],"type":"BulletSpeedMod","dir":0},{"pos":[80,20],"type":"BulletSpeedMod","dir":0},{"pos":[-80,20],"type":"BulletSpeedMod","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[30,80],"type":"Battery1x2","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[-70,50],"type":"Wing1x1Round","dir":0},{"pos":[-50,80],"type":"VArmor1x2","dir":0},{"pos":[50,80],"type":"VArmor1x2","dir":0},{"pos":[-70,-20],"type":"VArmor1x2","dir":0},{"pos":[70,-20],"type":"VArmor1x2","dir":0},{"pos":[50,-40],"type":"VArmor1x2","dir":0},{"pos":[-50,-40],"type":"VArmor1x2","dir":0},{"pos":[0,-60],"type":"Solar2x2","dir":0},{"pos":[-40,0],"type":"FlackTurret","dir":0},{"pos":[0,60],"type":"FlackTurret","dir":0},{"pos":[40,0],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["Stay in #m range of slot # units",300,2],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","less expensive",200,900],["Avoid everything"],["Field # for # of @needTypes at priority #",1,3,"fighter counter need",1]]},"","","","","",""];
  ais.all.MBT = [{"parts":[{"pos":[80,-10],"type":"Battery2x1","dir":0},{"pos":[10,150],"type":"HArmor1x1Angle","dir":0},{"pos":[20,20],"type":"BulletSpeedMod","dir":0},{"pos":[0,-20],"type":"Mount360","dir":0},{"pos":[-20,-60],"type":"ReloaderMod","dir":0},{"pos":[40,60],"type":"ReloaderMod","dir":0},{"pos":[0,80],"type":"Mount360","dir":0},{"pos":[-40,60],"type":"ReloaderMod","dir":0},{"pos":[100,-40],"type":"Mount30","dir":0},{"pos":[100,80],"type":"Mount30","dir":0},{"pos":[-100,-40],"type":"Mount30","dir":0},{"pos":[40,100],"type":"HArmor2x2Angle","dir":0},{"pos":[-50,20],"type":"HArmor1x2","dir":0},{"pos":[50,20],"type":"HArmor1x2","dir":0},{"pos":[-100,80],"type":"Mount30","dir":0},{"pos":[-40,100],"type":"HArmor2x2Angle","dir":0},{"pos":[-70,80],"type":"HArmor1x2","dir":0},{"pos":[160,0],"type":"Mount30","dir":0},{"pos":[-160,0],"type":"Mount30","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[30,130],"type":"HArmor1x1Angle","dir":0},{"pos":[20,-60],"type":"ReloaderMod","dir":0},{"pos":[160,40],"type":"Wing2x2","dir":0},{"pos":[-70,-30],"type":"Battery1x1","dir":0},{"pos":[-160,40],"type":"Wing2x2","dir":0},{"pos":[-30,130],"type":"HArmor1x1Angle","dir":0},{"pos":[70,-30],"type":"Battery1x1","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[-80,50],"type":"Battery2x1","dir":0},{"pos":[80,50],"type":"Battery2x1","dir":0},{"pos":[-10,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-80,-10],"type":"Battery2x1","dir":0},{"pos":[70,80],"type":"HArmor1x2","dir":0},{"pos":[-130,-40],"type":"HArmor1x2","dir":0},{"pos":[130,-40],"type":"HArmor1x2","dir":0},{"pos":[-100,-80],"type":"BulletSpeedMod","dir":0},{"pos":[100,-80],"type":"BulletSpeedMod","dir":0},{"pos":[-160,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[160,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-100,120],"type":"HArmor2x2Angle","dir":0},{"pos":[100,120],"type":"HArmor2x2Angle","dir":0},{"pos":[-140,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[140,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[0,-100],"type":"Reactor2x2","dir":0},{"pos":[-30,-110],"type":"Engine02","dir":0},{"pos":[30,-110],"type":"Engine02","dir":0},{"pos":[70,-70],"type":"Engine02","dir":0},{"pos":[-70,-70],"type":"Engine02","dir":0},{"pos":[80,20],"type":"Mount90","dir":0},{"pos":[-80,20],"type":"Mount90","dir":0},{"pos":[-20,20],"type":"BulletSpeedMod","dir":0},{"pos":[0,120],"type":"ReloaderMod","dir":0},{"pos":[-120,0],"type":"Mount90","dir":0},{"pos":[120,0],"type":"Mount90","dir":0},{"pos":[0,50],"type":"Reactor2x1","dir":0},{"pos":[-50,-50],"type":"Battery1x1","dir":0},{"pos":[50,-50],"type":"HArmor1x1","dir":0},{"pos":[0,80],"type":"PDTurret","dir":0},{"pos":[-80,20],"type":"LightBeamTurret","dir":0},{"pos":[80,20],"type":"LightBeamTurret","dir":0},{"pos":[100,-40],"type":"TorpTurret","dir":0},{"pos":[-160,0],"type":"TorpTurret","dir":0},{"pos":[-100,80],"type":"TorpTurret","dir":0},{"pos":[100,80],"type":"TorpTurret","dir":0},{"pos":[-100,-40],"type":"TorpTurret","dir":0},{"pos":[160,0],"type":"TorpTurret","dir":0},{"pos":[120,0],"type":"FlackTurret","dir":0},{"pos":[-120,0],"type":"AutoTurret","dir":0},{"pos":[0,-20],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Ram",300],["Avoid over #damage shots",150],["@attackTypes enemy within #m","Attack",500],["@attackTypes enemy within #m","Ram",650],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Less Brawling Value","---",800],["@attackTypes enemy within #m","Attack",800],["@capTypes Command Points within #m","Capture",500],["Stay in #m range of slot # units",700,2],["@attackTypes enemy within #m","Attack",1500],["Goto @locationTypes","Enemy Army Middle"],["Field # at priority #",1,3],["Field # at priority #",3,6],["Field # at priority #",5,7]]},{"parts":[{"pos":[0,60],"type":"Reactor2x2","dir":0},{"pos":[-50,10],"type":"HArmor1x1","dir":0},{"pos":[40,-80],"type":"DamageMod","dir":0},{"pos":[0,-60],"type":"Mount270","dir":0},{"pos":[-40,-80],"type":"DamageMod","dir":0},{"pos":[0,-100],"type":"TargetingMod","dir":0},{"pos":[0,-20],"type":"TargetingMod","dir":0},{"pos":[-40,-40],"type":"BulletSpeedMod","dir":0},{"pos":[40,-40],"type":"BulletSpeedMod","dir":0},{"pos":[50,10],"type":"HArmor1x1","dir":0},{"pos":[40,-10],"type":"Reactor2x1","dir":0},{"pos":[0,20],"type":"EnergyTransfer","dir":0},{"pos":[-50,40],"type":"Wing1x2","dir":0},{"pos":[-30,20],"type":"HArmor1x2","dir":0},{"pos":[30,20],"type":"HArmor1x2","dir":0},{"pos":[50,40],"type":"Wing1x2","dir":0},{"pos":[90,-10],"type":"Engine02","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[-80,0],"type":"Mount270","dir":0},{"pos":[-40,-10],"type":"Reactor2x1","dir":0},{"pos":[0,-60],"type":"MissileTurret","dir":0},{"pos":[-80,0],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",650],["Avoid over #damage shots",150],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","---",800],["Stay in #m range of slot # units",100,1],["Avoid over #damage shots",20],["Stay in #m range of slot # units",100,8],["Stay in #m range of slot # units",100,7],["Avoid over #damage shots",50],["@attackTypes enemy within #m","Flee",1600],["Goto @locationTypes","Friendly Spawn"],["Field # for # of ship in slot # at priority #",1,1,1,3]]},{"parts":[{"pos":[-50,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[-50,10],"type":"Battery1x1","dir":0},{"pos":[10,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[-20,50],"type":"Wing2x1","dir":0},{"pos":[-20,20],"type":"Mount30","dir":0},{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[-20,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy within #m","Ram",350],["When #% of energy, @chargeTypes",25,"Find recharger"],["Avoid over #damage shots",50],["Stay in #m range of slot # units",5000,1],["@attackTypes enemy within #m","Run-by",650],["Avoid over #damage shots",20],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","Slower",1500],["@capTypes Command Points within #m","Capture",700],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Circle","More Brawling Value","More Range",1700],["@capTypes Command Points within #m","Protect",1500],["@capTypes Command Points within #m","Capture",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","Slower",2000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Less DPS",20,2000],["@capTypes Command Points within #m","Protect",3000],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",2],["Try to field # every # seconds",1,80],["Field # for # of ship in slot # at priority #",1,1,8,5],["Try to field # every # seconds",1,40]]},{"parts":[{"pos":[0,20],"type":"EnergyTransfer","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[-30,-30],"type":"Engine02","dir":0},{"pos":[-30,20],"type":"Wing1x2","dir":0},{"pos":[0,-50],"type":"Reactor2x1","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Flee",400],["Stay in #m range of slot # units",50,1],["Avoid over #damage shots",50],["Stay in #m range of slot # units",50,8],["Goto @locationTypes","Friendly Spawn"],["Field # at start",1],["Field # for # of ship in slot # at priority #",1,1,1,2],["Field # for # of ship in slot # at priority #",1,2,2,4],["Field # for # of ship in slot # at priority #",1,1,6,2]]},{"parts":[{"pos":[50,-50],"type":"Engine02","dir":0},{"pos":[50,40],"type":"Wing1x2","dir":0},{"pos":[20,40],"type":"DamageMod","dir":0},{"pos":[-40,0],"type":"DamageMod","dir":0},{"pos":[40,0],"type":"DamageMod","dir":0},{"pos":[-20,40],"type":"DamageMod","dir":0},{"pos":[0,0],"type":"Mount270","dir":0},{"pos":[20,-40],"type":"ReloaderMod","dir":0},{"pos":[-20,-40],"type":"DamageMod","dir":0},{"pos":[-50,40],"type":"Wing1x2","dir":0},{"pos":[-50,-50],"type":"Engine02","dir":0},{"pos":[-30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,-70],"type":"HArmor2x1","dir":0},{"pos":[30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,0],"type":"VArmor1x2SideBarFilled","dir":0},{"pos":[0,70],"type":"Battery2x1","dir":0},{"pos":[-30,70],"type":"HArmor1x1Angle","dir":0},{"pos":[30,70],"type":"HArmor1x1Angle","dir":0},{"pos":[70,0],"type":"VArmor1x2SideBarFilled","dir":0},{"pos":[0,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",50],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Circle",500],["@capTypes Command Points within #m","Capture",500],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","Less DPS",100,1300],["Stay in #m range of slot # units",1600,8],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Spread to",3000],["Goto @locationTypes","Enemy Spawn"],["Field # for # of ship in slot # at priority #",1,1,2,3],["Field # for # of ship in slot # at priority #",1,2,1,3],["Field # for # of ship in slot # at priority #",1,1,8,3]]},{"parts":[{"pos":[100,20],"type":"Wing2x2","dir":0},{"pos":[-70,-40],"type":"HArmor1x2","dir":0},{"pos":[-20,40],"type":"Mount30","dir":0},{"pos":[20,40],"type":"Mount30","dir":0},{"pos":[-60,-10],"type":"Battery2x1","dir":0},{"pos":[60,-10],"type":"Battery2x1","dir":0},{"pos":[-60,60],"type":"HArmor2x2Angle","dir":0},{"pos":[60,60],"type":"HArmor2x2Angle","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[60,20],"type":"Mount30","dir":0},{"pos":[70,-40],"type":"HArmor1x2","dir":0},{"pos":[-60,20],"type":"Mount30","dir":0},{"pos":[50,-50],"type":"Engine01","dir":0},{"pos":[30,80],"type":"Wing1x2","dir":0},{"pos":[-50,-50],"type":"Engine01","dir":0},{"pos":[-30,80],"type":"Wing1x2","dir":0},{"pos":[-100,20],"type":"Wing2x2","dir":0},{"pos":[20,-20],"type":"Mount30","dir":0},{"pos":[20,10],"type":"Battery2x1","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[-30,10],"type":"HArmor1x1","dir":0},{"pos":[-20,-20],"type":"Mount30","dir":0},{"pos":[-60,20],"type":"LightBeamTurret","dir":0},{"pos":[-20,40],"type":"LightBeamTurret","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0},{"pos":[60,20],"type":"LightBeamTurret","dir":0},{"pos":[-20,-20],"type":"LightBeamTurret","dir":0},{"pos":[20,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",10,"Find recharger"],["@attackTypes enemy within #m","Attack",200],["@attackTypes enemy within #m","Ram",500],["Avoid over #damage shots",50],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More DPS",1,1000],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Capture",500],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More DPS",1,2000],["@capTypes Command Points within #m","Capture",3000],["Goto @locationTypes","Enemy Spawn"],["Field # for # of ship in slot # at priority #",1,1,5,4],["Field # for # of ship in slot # at priority #",1,2,1,5]]},{"parts":[{"pos":[40,-20],"type":"BulletSpeedMod","dir":0},{"pos":[0,-20],"type":"Mount180","dir":0},{"pos":[80,-60],"type":"Mount90","dir":0},{"pos":[70,-20],"type":"Battery1x2","dir":0},{"pos":[-20,20],"type":"TargetingMod","dir":0},{"pos":[0,50],"type":"HArmor2x1","dir":0},{"pos":[-50,20],"type":"HArmor1x2","dir":0},{"pos":[70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[70,10],"type":"Battery1x1","dir":0},{"pos":[-40,-20],"type":"BulletSpeedMod","dir":0},{"pos":[50,20],"type":"HArmor1x2","dir":0},{"pos":[20,20],"type":"TargetingMod","dir":0},{"pos":[-10,-70],"type":"Engine02","dir":0},{"pos":[-40,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[40,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[30,50],"type":"Wing1x1Round","dir":0},{"pos":[-30,50],"type":"Wing1x1Round","dir":0},{"pos":[-80,-20],"type":"Wing2x2","dir":0},{"pos":[10,-70],"type":"Engine02","dir":0},{"pos":[80,-60],"type":"AutoTurret","dir":0},{"pos":[0,-20],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Ram",300],["Avoid over #damage shots",50],["@attackTypes enemy within #m","Attack",600],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",170,1100],["Stay in #m range of slot # units",2000,1],["@capTypes Command Points within #m","Capture",1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",100,1400],["Stay in #m range of slot # units",200,1],["Stay in #m range of slot # units",200,8],["Goto @locationTypes","Friendly Spawn"],["Field # at start",2],["Field # for # of ship in slot # at priority #",1,1,2,4],["Field # for # of ship in slot # at priority #",1,1,8,4]]},{"parts":[{"pos":[-100,120],"type":"HArmor2x2Angle","dir":0},{"pos":[100,10],"type":"HArmor2x1","dir":0},{"pos":[-60,60],"type":"Mount360","dir":0},{"pos":[60,60],"type":"Mount360","dir":0},{"pos":[-60,100],"type":"BulletSpeedMod","dir":0},{"pos":[-20,80],"type":"TargetingMod","dir":0},{"pos":[-20,40],"type":"ReloaderMod","dir":0},{"pos":[-100,40],"type":"TargetingMod","dir":0},{"pos":[-60,20],"type":"ReloaderMod","dir":0},{"pos":[20,40],"type":"ReloaderMod","dir":0},{"pos":[60,20],"type":"ReloaderMod","dir":0},{"pos":[20,80],"type":"BulletSpeedMod","dir":0},{"pos":[100,40],"type":"TargetingMod","dir":0},{"pos":[60,100],"type":"ReloaderMod","dir":0},{"pos":[100,80],"type":"ReloaderMod","dir":0},{"pos":[-100,80],"type":"ReloaderMod","dir":0},{"pos":[-20,0],"type":"Reactor2x2","dir":0},{"pos":[20,0],"type":"Reactor2x2","dir":0},{"pos":[20,-80],"type":"Battery2x2","dir":0},{"pos":[-20,-80],"type":"Battery2x2","dir":0},{"pos":[-50,-90],"type":"Engine02","dir":0},{"pos":[70,-90],"type":"Engine02","dir":0},{"pos":[50,-90],"type":"Engine02","dir":0},{"pos":[-100,10],"type":"HArmor2x1","dir":0},{"pos":[-70,-90],"type":"Engine02","dir":0},{"pos":[100,120],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,110],"type":"HArmor1x1","dir":0},{"pos":[30,110],"type":"HArmor1x1","dir":0},{"pos":[0,130],"type":"Battery2x1","dir":0},{"pos":[0,110],"type":"HArmor2x1","dir":0},{"pos":[-30,130],"type":"HArmor1x1Angle","dir":0},{"pos":[30,130],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[110,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-90,150],"type":"HArmor1x1Angle","dir":0},{"pos":[90,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-40,-50],"type":"Wing2x1","dir":0},{"pos":[40,-50],"type":"Wing2x1","dir":0},{"pos":[-100,-20],"type":"Mount180","dir":0},{"pos":[100,-20],"type":"Mount180","dir":0},{"pos":[0,-40],"type":"Mount360","dir":0},{"pos":[100,-100],"type":"Wing2x2","dir":0},{"pos":[-100,-100],"type":"Wing2x2","dir":0},{"pos":[0,-40],"type":"PDTurret","dir":0},{"pos":[-100,-20],"type":"LightBeamTurret","dir":0},{"pos":[100,-20],"type":"LightBeamTurret","dir":0},{"pos":[60,60],"type":"TorpTurret","dir":0},{"pos":[-60,60],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",150],["Avoid over #damage shots",50],["@attackTypes enemy within #m","Stay at range",700],["@attackTypes enemy within #m","Flee",1000],["@capTypes Command Points within #m","Capture",600],["@attackTypes enemy within #m","Circle",1300],["@capTypes Command Points within #m","Capture",1000],["@capTypes Command Points within #m","Capture",3000],["Goto @locationTypes","Enemy Spawn"],["Field # for # of ship in slot # at priority #",1,1,9,1],["Field # at priority #",1,5],["Field # for # of ship in slot # at priority #",1,1,6,4]]},{"parts":[{"pos":[30,-50],"type":"Engine01","dir":0},{"pos":[-40,-10],"type":"Battery2x1","dir":0},{"pos":[20,40],"type":"Mount30","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[60,20],"type":"Mount30","dir":0},{"pos":[-60,20],"type":"Mount30","dir":0},{"pos":[-20,40],"type":"Mount30","dir":0},{"pos":[20,10],"type":"Battery2x1","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[-30,10],"type":"HArmor1x1","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[0,-20],"type":"Mount270","dir":0},{"pos":[-30,-50],"type":"Engine01","dir":0},{"pos":[-50,-40],"type":"HArmor1x2","dir":0},{"pos":[50,-40],"type":"HArmor1x2","dir":0},{"pos":[40,-10],"type":"Battery2x1","dir":0},{"pos":[80,-20],"type":"Wing2x2","dir":0},{"pos":[-80,-20],"type":"Wing2x2","dir":0},{"pos":[100,20],"type":"HArmor2x2Angle","dir":0},{"pos":[-100,20],"type":"HArmor2x2Angle","dir":0},{"pos":[30,80],"type":"Wing1x2","dir":0},{"pos":[-30,80],"type":"Wing1x2","dir":0},{"pos":[0,-20],"type":"PDTurret","dir":0},{"pos":[-60,20],"type":"LightBeamTurret","dir":0},{"pos":[-20,40],"type":"LightBeamTurret","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0},{"pos":[60,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",10,"Find recharger"],["@attackTypes enemy within #m","Attack",200],["@attackTypes enemy within #m","Ram",400],["Avoid over #damage shots",50],["Stay in #m range of slot # units",100,8],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More DPS",1,1000],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Guard",1000],["Field # for # of ship in slot # at priority #",1,1,8,2],["Field # at priority #",1,4],["Field # for # of ship in slot # at priority #",1,5,3,2],["Try to field # every # seconds",1,200],["Field # for # of ship in slot # at priority #",1,1,6,1]]},{"parts":[{"pos":[-10,-10],"type":"Wing1x1Notch","dir":0},{"pos":[30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[10,-20],"type":"Engine03","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More Range",200,600],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More Range",490,800],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More Range",800,1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More Range",999,1000],["Avoid #dps danger areas",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More Range",1200,1250],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More Range",1400,1350],["@capTypes Command Points within #m","Spread to",1000],["Goto @locationTypes","Enemy Army Middle"],["Try to field # every # seconds",1,25],["Field # at start",2],["Field # for # of ship in slot # at priority #",2,1,8,3]]}];
  ais.all.MasterMind = [{"parts":[{"pos":[90,90],"type":"Reactor1x1","dir":0},{"pos":[-90,110],"type":"Reactor1x1","dir":0},{"pos":[-30,-30],"type":"Reactor1x1","dir":0},{"pos":[-10,-10],"type":"Reactor1x1","dir":0},{"pos":[10,-10],"type":"Reactor1x1","dir":0},{"pos":[30,-30],"type":"Reactor1x1","dir":0},{"pos":[-60,20],"type":"Mount360Micro","dir":0},{"pos":[60,20],"type":"Mount360Micro","dir":0},{"pos":[0,30],"type":"ShieldGen2x1","dir":0},{"pos":[0,10],"type":"ShieldGen2x1","dir":0},{"pos":[-30,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-30,10],"type":"ShieldGen1x1","dir":0},{"pos":[-30,30],"type":"ShieldGen1x1","dir":0},{"pos":[30,30],"type":"ShieldGen1x1","dir":0},{"pos":[30,10],"type":"ShieldGen1x1","dir":0},{"pos":[30,-10],"type":"ShieldGen1x1","dir":0},{"pos":[30,50],"type":"ShieldGen1x1","dir":0},{"pos":[-30,50],"type":"ShieldGen1x1","dir":0},{"pos":[-30,70],"type":"Reactor1x1","dir":0},{"pos":[-90,-10],"type":"Reactor1x1","dir":0},{"pos":[30,70],"type":"Reactor1x1","dir":0},{"pos":[-90,-30],"type":"Reactor1x1","dir":0},{"pos":[-90,10],"type":"Reactor1x1","dir":0},{"pos":[-90,50],"type":"Reactor1x1","dir":0},{"pos":[-90,70],"type":"Reactor1x1","dir":0},{"pos":[90,70],"type":"Reactor1x1","dir":0},{"pos":[-90,30],"type":"Reactor1x1","dir":0},{"pos":[90,50],"type":"Reactor1x1","dir":0},{"pos":[90,30],"type":"Reactor1x1","dir":0},{"pos":[90,-30],"type":"Reactor1x1","dir":0},{"pos":[90,10],"type":"Reactor1x1","dir":0},{"pos":[-110,70],"type":"Wing1x1Notch","dir":0},{"pos":[-110,50],"type":"Wing1x1Notch","dir":0},{"pos":[-110,30],"type":"Wing1x1Notch","dir":0},{"pos":[-110,-10],"type":"Wing1x1Notch","dir":0},{"pos":[-110,-50],"type":"Wing1x1Notch","dir":0},{"pos":[-110,10],"type":"Wing1x1Notch","dir":0},{"pos":[-110,-30],"type":"Wing1x1Notch","dir":0},{"pos":[110,-10],"type":"Wing1x1Notch","dir":0},{"pos":[110,-50],"type":"Wing1x1Notch","dir":0},{"pos":[110,30],"type":"Wing1x1Notch","dir":0},{"pos":[110,50],"type":"Wing1x1Notch","dir":0},{"pos":[110,70],"type":"Wing1x1Notch","dir":0},{"pos":[110,-80],"type":"Engine03","dir":0},{"pos":[-110,-80],"type":"Engine03","dir":0},{"pos":[0,-40],"type":"CloakGenerator","dir":0},{"pos":[110,10],"type":"Wing1x1Notch","dir":0},{"pos":[110,-30],"type":"Wing1x1Notch","dir":0},{"pos":[-90,90],"type":"Reactor1x1","dir":0},{"pos":[90,110],"type":"Reactor1x1","dir":0},{"pos":[-110,90],"type":"Wing1x1Notch","dir":0},{"pos":[110,90],"type":"Wing1x1Notch","dir":0},{"pos":[90,-10],"type":"Reactor1x1","dir":0},{"pos":[-90,-80],"type":"Engine03","dir":0},{"pos":[-90,-50],"type":"Reactor1x1","dir":0},{"pos":[90,-80],"type":"Engine03","dir":0},{"pos":[90,-50],"type":"Reactor1x1","dir":0},{"pos":[30,130],"type":"Wing1x1Notch","dir":0},{"pos":[10,130],"type":"Wing1x1Notch","dir":0},{"pos":[-10,130],"type":"Wing1x1Notch","dir":0},{"pos":[-30,130],"type":"Wing1x1Notch","dir":0},{"pos":[-50,130],"type":"Wing1x1Notch","dir":0},{"pos":[50,130],"type":"Wing1x1Notch","dir":0},{"pos":[0,60],"type":"Mount270","dir":0},{"pos":[-10,-120],"type":"Engine03","dir":0},{"pos":[10,-120],"type":"Engine03","dir":0},{"pos":[30,-120],"type":"Engine03","dir":0},{"pos":[-30,-120],"type":"Engine03","dir":0},{"pos":[-70,-100],"type":"Engine03","dir":0},{"pos":[70,-100],"type":"Engine03","dir":0},{"pos":[20,-80],"type":"CloakGenerator","dir":0},{"pos":[-20,-80],"type":"CloakGenerator","dir":0},{"pos":[-30,-50],"type":"Reactor1x1","dir":0},{"pos":[30,-50],"type":"Reactor1x1","dir":0},{"pos":[60,-60],"type":"CloakGenerator","dir":0},{"pos":[-60,-60],"type":"CloakGenerator","dir":0},{"pos":[-50,50],"type":"Reactor1x1","dir":0},{"pos":[-70,50],"type":"Reactor1x1","dir":0},{"pos":[-50,70],"type":"Reactor1x1","dir":0},{"pos":[-70,70],"type":"Reactor1x1","dir":0},{"pos":[50,50],"type":"Reactor1x1","dir":0},{"pos":[70,50],"type":"Reactor1x1","dir":0},{"pos":[70,70],"type":"Reactor1x1","dir":0},{"pos":[50,70],"type":"Reactor1x1","dir":0},{"pos":[60,-20],"type":"CloakGenerator","dir":0},{"pos":[-60,-20],"type":"CloakGenerator","dir":0},{"pos":[-50,-100],"type":"Engine03","dir":0},{"pos":[50,-100],"type":"Engine03","dir":0},{"pos":[-60,110],"type":"UArmor2x1","dir":0},{"pos":[-20,110],"type":"UArmor2x1","dir":0},{"pos":[20,110],"type":"UArmor2x1","dir":0},{"pos":[60,110],"type":"UArmor2x1","dir":0},{"pos":[60,90],"type":"UArmor2x1","dir":0},{"pos":[20,90],"type":"UArmor2x1","dir":0},{"pos":[-20,90],"type":"UArmor2x1","dir":0},{"pos":[-60,90],"type":"UArmor2x1","dir":0},{"pos":[0,60],"type":"FlackTurret","dir":0},{"pos":[-60,20],"type":"AutoTurret","dir":0},{"pos":[60,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["Stay in #m range of friendly units",1200],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","Less Range",500,1000],["Goto @locationTypes","Friendly Army Middle"]]},{"parts":[{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[10,10],"type":"Battery1x1","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Cloaked","---",2000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,1,4,2],["Field # for # of ship in slot # at priority #",1,2,4,2],["Field # for # of ship in slot # at priority #",1,1,1,3],["Field # for # of ship in slot # at priority #",1,2,1,4],["Field # for # of ship in slot # at priority #",4,1,8,5],["Field # at priority #",1,1]]},{"parts":[],"name":"","aiRules":[]},{"parts":[{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[-20,40],"type":"TargetingMod","dir":0},{"pos":[110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[110,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,10],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,-10],"type":"HArmor1x1Angle","dir":0},{"pos":[110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[110,-10],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,50],"type":"HArmor1x1Angle","dir":0},{"pos":[110,10],"type":"HArmor1x1Angle","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[-110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-60,140],"type":"HArmor2x2Angle","dir":0},{"pos":[80,20],"type":"Reactor2x2","dir":0},{"pos":[60,140],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,20],"type":"Reactor2x2","dir":0},{"pos":[-70,100],"type":"HArmor1x2","dir":0},{"pos":[70,100],"type":"HArmor1x2","dir":0},{"pos":[-90,-70],"type":"Engine02","dir":0},{"pos":[-70,-90],"type":"Engine02","dir":0},{"pos":[70,-90],"type":"Engine02","dir":0},{"pos":[90,-70],"type":"Engine02","dir":0},{"pos":[90,100],"type":"Wing1x2","dir":0},{"pos":[-70,-50],"type":"HArmor1x1","dir":0},{"pos":[80,-20],"type":"HArmor2x2","dir":0},{"pos":[70,-50],"type":"HArmor1x1","dir":0},{"pos":[-80,-20],"type":"HArmor2x2","dir":0},{"pos":[-90,100],"type":"Wing1x2","dir":0},{"pos":[-80,60],"type":"HArmor2x2","dir":0},{"pos":[80,60],"type":"HArmor2x2","dir":0},{"pos":[-110,90],"type":"HArmor1x1Angle","dir":0},{"pos":[0,80],"type":"Mount360","dir":0},{"pos":[20,40],"type":"BulletSpeedMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-50,40],"type":"Battery1x2","dir":0},{"pos":[-20,120],"type":"ReloaderMod","dir":0},{"pos":[40,80],"type":"TargetingMod","dir":0},{"pos":[20,120],"type":"ReloaderMod","dir":0},{"pos":[-20,-40],"type":"ReloaderMod","dir":0},{"pos":[20,-40],"type":"TargetingMod","dir":0},{"pos":[-40,80],"type":"DamageMod","dir":0},{"pos":[0,-80],"type":"EnergyTransfer","dir":0},{"pos":[40,-80],"type":"Mount90","dir":0},{"pos":[-40,-80],"type":"Mount90","dir":0},{"pos":[0,-120],"type":"Mount360Micro","dir":0},{"pos":[-40,-120],"type":"Mount360Micro","dir":0},{"pos":[40,-120],"type":"Mount360Micro","dir":0},{"pos":[110,-70],"type":"Engine02","dir":0},{"pos":[-110,-70],"type":"Engine02","dir":0},{"pos":[0,150],"type":"Reactor2x1","dir":0},{"pos":[50,40],"type":"Battery1x2","dir":0},{"pos":[50,-40],"type":"HArmor1x2","dir":0},{"pos":[-50,-40],"type":"HArmor1x2","dir":0},{"pos":[50,110],"type":"HArmor1x1","dir":0},{"pos":[30,150],"type":"HArmor1x1","dir":0},{"pos":[-30,150],"type":"HArmor1x1","dir":0},{"pos":[-50,110],"type":"HArmor1x1","dir":0},{"pos":[-110,-30],"type":"Wing1x1Angle","dir":0},{"pos":[110,-30],"type":"Wing1x1Angle","dir":0},{"pos":[40,-80],"type":"PDTurret","dir":0},{"pos":[-40,-80],"type":"PDTurret","dir":0},{"pos":[40,-120],"type":"PDTurret","dir":0},{"pos":[-40,-120],"type":"PDTurret","dir":0},{"pos":[0,-120],"type":"FlackTurret","dir":0},{"pos":[0,0],"type":"PlasmaTurret","dir":0},{"pos":[0,80],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["Stay in #m range of slot # units",3000,8],["@attackTypes enemy within #m","Ram",500],["@capTypes Command Points within #m","Capture",500],["Avoid over #damage shots",59],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","---",3000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","---","More expensive",3000],["@attackTypes enemy within #m","Attack",1200],["Stay in #m range of slot # units",400,4],["@capTypes Command Points within #m","Capture",2000],["Goto @locationTypes","Enemy Army Middle"],["@capTypes Command Points within #m","Capture",10000],["Field # at start",2],["Field # at priority #",1,1],["Field # at priority #",1,2]]},{"parts":[{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[-30,-10],"type":"UArmor1x1","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[0,-40],"type":"Mount30","dir":0},{"pos":[30,-40],"type":"Engine03","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[30,10],"type":"Wing1x1Angle","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0},{"pos":[0,-40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy within #m","Attack",350],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","More Brawling Value",1600],["Stay in #m range of slot # units",4000,4],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Less expensive",100,1700],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less DPS","Less Brawling Value",1500],["@attackTypes enemy within #m","Flee",1500],["@capTypes Command Points within #m","Capture",1000],["@capTypes Command Points within #m","Protect",4000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,2,4,1]]},{"parts":[{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[10,-40],"type":"Engine03","dir":0},{"pos":[20,30],"type":"Wing2x1","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[-10,30],"type":"UArmor1x1Angle","dir":0},{"pos":[-10,-30],"type":"UArmor1x1","dir":0},{"pos":[30,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[30,-30],"type":"UArmor1x1","dir":0},{"pos":[-10,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-30,-30],"type":"UArmor1x1Angle","dir":0},{"pos":[50,-30],"type":"UArmor1x1Angle","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy within #m","Attack",400],["Avoid over #damage shots",20],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Cloaked",1000],["Stay in #m range of slot # units",2600,4],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","More expensive",1200],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Less expensive",150,1000],["Stay in #m range of slot # units",500,6],["@capTypes Command Points within #m","Capture",1500],["@capTypes Command Points within #m","Protect",2500],["Stay in #m range of slot # units",500,4],["Stay in #m range of slot # units",500,8],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",2,2,4,2],["Field # for # of ship in slot # at priority #",1,1,4,4],["Field # for # of ship in slot # at priority #",3,1,7,4]]},{"parts":[{"pos":[0,40],"type":"BulletSpeedMod","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[-40,-20],"type":"DamageMod","dir":0},{"pos":[40,-20],"type":"DamageMod","dir":0},{"pos":[40,20],"type":"DamageMod","dir":0},{"pos":[-40,20],"type":"DamageMod","dir":0},{"pos":[-30,-60],"type":"Battery1x2","dir":0},{"pos":[30,-60],"type":"Battery1x2","dir":0},{"pos":[0,-40],"type":"Engine07","dir":0},{"pos":[-50,-60],"type":"Wing1x2","dir":0},{"pos":[50,-60],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"BombGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage shots",21],["When #% of energy, @chargeTypes",50,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Slower",100,1700],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Slower",120,1400],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","Slower",150,1200],["@attackTypes enemy within #m","Flee",1600],["@capTypes Command Points within #m","Capture",2000],["Stay in #m range of slot # units",500,4],["Stay in #m range of slot # units",500,8],["Field # for # of ship in slot # at priority #",1,2,8,1],["Try to field # every # seconds",1,40]]},{"parts":[{"pos":[70,-80],"type":"VArmor1x2","dir":0},{"pos":[-70,-80],"type":"VArmor1x2","dir":0},{"pos":[0,20],"type":"Mount10Range","dir":0},{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"Mount30","dir":0},{"pos":[40,-40],"type":"Mount30","dir":0},{"pos":[-40,-40],"type":"Mount30","dir":0},{"pos":[20,-80],"type":"Mount30","dir":0},{"pos":[0,-40],"type":"DamageMod","dir":0},{"pos":[40,40],"type":"Mount30","dir":0},{"pos":[-50,-90],"type":"Engine01","dir":0},{"pos":[-70,-40],"type":"Battery1x2","dir":0},{"pos":[70,-40],"type":"Battery1x2","dir":0},{"pos":[50,-90],"type":"Engine01","dir":0},{"pos":[-20,-80],"type":"Mount30","dir":0},{"pos":[70,30],"type":"Wing1x1Round","dir":0},{"pos":[70,0],"type":"Battery1x2","dir":0},{"pos":[-70,0],"type":"Battery1x2","dir":0},{"pos":[-70,30],"type":"Wing1x1Round","dir":0},{"pos":[0,80],"type":"StasisField","dir":0},{"pos":[-20,-120],"type":"VArmor2x2","dir":0},{"pos":[20,-120],"type":"VArmor2x2","dir":0},{"pos":[-100,-40],"type":"VArmor2x2","dir":0},{"pos":[100,-40],"type":"VArmor2x2","dir":0},{"pos":[90,0],"type":"VArmor1x2Corner4","dir":0},{"pos":[-90,0],"type":"VArmor1x2Corner4","dir":0},{"pos":[-110,0],"type":"VArmor1x2Corner4","dir":0},{"pos":[110,0],"type":"VArmor1x2Corner4","dir":0},{"pos":[-100,-80],"type":"VArmor2x2","dir":0},{"pos":[100,-80],"type":"VArmor2x2","dir":0},{"pos":[-40,40],"type":"WavePullTurret","dir":0},{"pos":[0,20],"type":"WavePullTurret","dir":0},{"pos":[40,40],"type":"WavePullTurret","dir":0},{"pos":[40,-40],"type":"BombGun","dir":0},{"pos":[20,-80],"type":"BombGun","dir":0},{"pos":[-20,-80],"type":"BombGun","dir":0},{"pos":[-40,-40],"type":"BombGun","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,2,4,2],["Stay in #m range of slot # units",2000,4],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Slower",100,2000],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Slower",150,1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","---","More HP",1300],["Avoid over #damage shots",20],["Stay in #m range of slot # units",500,4]]},"",{"parts":[{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[80,-20],"type":"TargetingMod","dir":0},{"pos":[0,-60],"type":"Reactor2x2","dir":0},{"pos":[-130,100],"type":"VArmor1x2SideBar","dir":0},{"pos":[-130,60],"type":"VArmor1x2SideBar","dir":0},{"pos":[-130,20],"type":"VArmor1x2SideBar","dir":0},{"pos":[-130,-20],"type":"VArmor1x2SideBar","dir":0},{"pos":[130,-20],"type":"VArmor1x2SideBar","dir":0},{"pos":[130,20],"type":"VArmor1x2SideBar","dir":0},{"pos":[130,100],"type":"VArmor1x2SideBar","dir":0},{"pos":[130,60],"type":"VArmor1x2SideBar","dir":0},{"pos":[-100,120],"type":"TargetingMod","dir":0},{"pos":[-60,100],"type":"Mount10Range","dir":0},{"pos":[-30,160],"type":"HArmor1x2","dir":0},{"pos":[-100,80],"type":"TargetingMod","dir":0},{"pos":[-20,120],"type":"TargetingMod","dir":0},{"pos":[30,160],"type":"HArmor1x2","dir":0},{"pos":[20,120],"type":"TargetingMod","dir":0},{"pos":[20,80],"type":"TargetingMod","dir":0},{"pos":[100,120],"type":"TargetingMod","dir":0},{"pos":[60,100],"type":"Mount10Range","dir":0},{"pos":[-20,80],"type":"TargetingMod","dir":0},{"pos":[100,80],"type":"TargetingMod","dir":0},{"pos":[0,160],"type":"Reactor2x2","dir":0},{"pos":[-150,100],"type":"Wing1x2","dir":0},{"pos":[-150,-20],"type":"Wing1x2","dir":0},{"pos":[-150,60],"type":"Wing1x2","dir":0},{"pos":[0,-20],"type":"TargetingMod","dir":0},{"pos":[150,60],"type":"Wing1x2","dir":0},{"pos":[150,-20],"type":"Wing1x2","dir":0},{"pos":[150,100],"type":"Wing1x2","dir":0},{"pos":[150,20],"type":"Wing1x2","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[-40,0],"type":"Mount360","dir":0},{"pos":[-80,20],"type":"TargetingMod","dir":0},{"pos":[-150,20],"type":"Wing1x2","dir":0},{"pos":[40,0],"type":"Mount360","dir":0},{"pos":[40,-40],"type":"TargetingMod","dir":0},{"pos":[80,20],"type":"TargetingMod","dir":0},{"pos":[-80,-20],"type":"TargetingMod","dir":0},{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[-40,-40],"type":"TargetingMod","dir":0},{"pos":[-80,50],"type":"HArmor2x1","dir":0},{"pos":[80,50],"type":"HArmor2x1","dir":0},{"pos":[0,50],"type":"HArmor2x1","dir":0},{"pos":[-80,-60],"type":"ShieldGen2x2","dir":0},{"pos":[80,-60],"type":"ShieldGen2x2","dir":0},{"pos":[-50,-70],"type":"ShieldGen1x1","dir":0},{"pos":[-30,-70],"type":"ShieldGen1x1","dir":0},{"pos":[30,-70],"type":"ShieldGen1x1","dir":0},{"pos":[50,-70],"type":"ShieldGen1x1","dir":0},{"pos":[-110,50],"type":"ShieldGen1x1","dir":0},{"pos":[110,50],"type":"ShieldGen1x1","dir":0},{"pos":[-110,20],"type":"HArmor1x2","dir":0},{"pos":[110,20],"type":"HArmor1x2","dir":0},{"pos":[-110,-20],"type":"HArmor1x2","dir":0},{"pos":[110,-20],"type":"HArmor1x2","dir":0},{"pos":[-60,160],"type":"Solar2x2","dir":0},{"pos":[60,160],"type":"Solar2x2","dir":0},{"pos":[-90,150],"type":"Solar1x1","dir":0},{"pos":[90,150],"type":"Solar1x1","dir":0},{"pos":[-110,-50],"type":"Solar1x1","dir":0},{"pos":[110,-50],"type":"Solar1x1","dir":0},{"pos":[-90,170],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,150],"type":"HArmor1x1Angle","dir":0},{"pos":[90,170],"type":"HArmor1x1Angle","dir":0},{"pos":[110,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[110,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,200],"type":"Solar2x2","dir":0},{"pos":[30,190],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,190],"type":"HArmor1x1Angle","dir":0},{"pos":[50,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-20,-100],"type":"Solar2x2","dir":0},{"pos":[20,-100],"type":"Solar2x2","dir":0},{"pos":[-50,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[60,100],"type":"FlackTurret","dir":0},{"pos":[-60,100],"type":"FlackTurret","dir":0},{"pos":[-40,0],"type":"FlackTurret","dir":0},{"pos":[40,0],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",1000]]}];
  ais.all.MeteorShower = [{"parts":[{"pos":[-50,30],"type":"Battery1x1","dir":0},{"pos":[0,40],"type":"Mount90","dir":0},{"pos":[-40,50],"type":"HArmor1x2Font1","dir":0},{"pos":[30,20],"type":"HArmor1x2","dir":0},{"pos":[-30,30],"type":"Reactor1x1","dir":0},{"pos":[-10,70],"type":"Wing1x1Angle","dir":0},{"pos":[-30,0],"type":"Engine04","dir":0},{"pos":[0,0],"type":"CloakGenerator","dir":0},{"pos":[30,20],"type":"Stripe1x2","dir":2},{"pos":[0,40],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",40],["@attackTypes enemy within #m","Ram",450],["@capTypes Command Points within #m","Guard",10000],["Field # at priority #",1,3],["Try to field # every # seconds",1,67]]},{"parts":[{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[0,-20],"type":"CloakGenerator","dir":0},{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[30,10],"type":"Wing1x1Notch","dir":0},{"pos":[-30,10],"type":"Wing1x1Notch","dir":0},{"pos":[-30,30],"type":"Wing1x1Notch","dir":0},{"pos":[30,30],"type":"UArmor1x1Angle","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[0,20],"type":"BombGun","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,50],["When #% of energy, @chargeTypes",70,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Less expensive","---",600],["Avoid over #damage shots",40],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Slower",120,2000],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Slower",140,2000],["@capTypes Command Points within #m","Protect",2000],["When #% of energy, @chargeTypes",96,"Find recharger"],["@capTypes Command Points within #m","Spread to",10000]]},{"parts":[{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[-10,-30],"type":"Battery1x1","dir":0},{"pos":[-10,-50],"type":"Wing1x1Notch","dir":0},{"pos":[-30,-20],"type":"VArmor1x2SideBar","dir":0},{"pos":[-10,-30],"type":"Stripe1x1Corner","dir":1},{"pos":[-30,-20],"type":"Stripe1x2","dir":2},{"pos":[0,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",3,99],["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage shots",29],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Slower","Less Range",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Cloaked","Slower",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Less DPS",1000],["@attackTypes enemy within #m","Attack",500],["@capTypes Command Points within #m","Spread to",10000],["Field # when money over # at priority #",1,700,10],["Field # at priority #",1,6],["Field # at start",2]]},{"parts":[{"pos":[-30,60],"type":"Wing1x2","dir":0},{"pos":[0,60],"type":"CloakGenerator","dir":0},{"pos":[40,-20],"type":"DamageMod","dir":0},{"pos":[-40,20],"type":"DamageMod","dir":0},{"pos":[0,0],"type":"Mount10Range","dir":0},{"pos":[40,20],"type":"DamageMod","dir":0},{"pos":[-40,-20],"type":"DamageMod","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[-20,-60],"type":"CloakGenerator","dir":0},{"pos":[20,-60],"type":"CloakGenerator","dir":0},{"pos":[-70,-10],"type":"Engine01","dir":0},{"pos":[-50,50],"type":"VArmor1x1","dir":0},{"pos":[-70,30],"type":"VArmor1x1","dir":0},{"pos":[50,-50],"type":"VArmor1x1","dir":0},{"pos":[-50,-50],"type":"Battery1x1","dir":0},{"pos":[70,0],"type":"Reactor1x2","dir":0},{"pos":[0,0],"type":"TeslaTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",40,"Find recharger"],["Avoid over #damage shots",50],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Has PD","More expensive",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Slower",230,1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Faster",150,1000],["@capTypes Command Points within #m","Protect",800],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",800,2500],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Faster",230,1500],["Stay in #m range of slot # units",-100,10],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",4000],["Field # at priority #",1,5],["Field # at priority #",2,7],["Field # for # of @needTypes at priority #",1,2,"Fighter Counter Need",4]]},{"parts":[{"pos":[50,-10],"type":"Wing1x1Notch","dir":0},{"pos":[20,20],"type":"Mount30","dir":0},{"pos":[30,-20],"type":"Battery1x2","dir":0},{"pos":[-20,20],"type":"Mount30","dir":0},{"pos":[0,-20],"type":"CloakGenerator","dir":0},{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[-50,10],"type":"Wing1x1Notch","dir":0},{"pos":[50,10],"type":"Wing1x1Notch","dir":0},{"pos":[-50,-10],"type":"UArmor1x1Angle","dir":0},{"pos":[20,20],"type":"EMPGun","dir":0},{"pos":[-20,20],"type":"EMPGun","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,80],["When #% of energy, @chargeTypes",60,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More expensive","Cloaked",700],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","---",500],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Slower",100,1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Cloaked","More expensive",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Less DPS",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","More expensive",3000],["@capTypes Command Points within #m","Protect",2000],["When #% of energy, @chargeTypes",96,"Find recharger"],["Field # for # of ship in slot # at priority #",2,2,10,5],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of @needTypes at priority #",1,4,"Cloak Counter Need",5]]},{"parts":[{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[0,-20],"type":"Mount360Micro","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[0,-60],"type":"Reactor2x2","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[-70,0],"type":"ShieldGen2x1","dir":3},{"pos":[50,-40],"type":"Wing1x2","dir":0},{"pos":[-50,-40],"type":"Wing1x2","dir":0},{"pos":[40,40],"type":"BulletSpeedMod","dir":0},{"pos":[0,60],"type":"DamageMod","dir":0},{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[0,-20],"type":"PDTurret","dir":0},{"pos":[0,20],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["When Shields down to #%, flee",20],["@attackTypes enemy within #m","Flee",800],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More DPS",10,1000],["Avoid over #damage shots",40],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","No PD",2400],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","More expensive",2200],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Slower",120,2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","Not Cloaked",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","More expensive","---",1800],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,6]]},{"parts":[{"pos":[40,-40],"type":"HArmor2x2","dir":0},{"pos":[-20,0],"type":"Mount360Micro","dir":0},{"pos":[20,0],"type":"Mount360Micro","dir":0},{"pos":[60,0],"type":"EnergyTransfer","dir":0},{"pos":[-30,-40],"type":"Wing1x2","dir":0},{"pos":[-10,-50],"type":"Engine02","dir":0},{"pos":[10,-50],"type":"Engine02","dir":0},{"pos":[-20,40],"type":"Reactor2x2","dir":0},{"pos":[20,40],"type":"Reactor2x2","dir":0},{"pos":[40,-40],"type":"SymbolDecal9","dir":0},{"pos":[-20,0],"type":"PDTurret","dir":0},{"pos":[20,0],"type":"PDTurret","dir":0}],"name":"support1","aiRules":[["Stay in #m range of slot # units",700,10],["Avoid over #damage shots",30],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More DPS","More expensive",1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",700,2000],["Stay in #m range of slot # units",200,10],["Find units that are out of energy"],["Goto @locationTypes","Friendly Home Point"],["Field # at priority #",1,4],["Field # for # of ship in slot # at priority #",2,4,5,5]]},{"parts":[{"pos":[0,60],"type":"CloakGenerator","dir":0},{"pos":[-20,-60],"type":"CloakGenerator","dir":0},{"pos":[40,-20],"type":"DamageMod","dir":0},{"pos":[-40,20],"type":"DamageMod","dir":0},{"pos":[0,0],"type":"Mount10Range","dir":0},{"pos":[40,20],"type":"DamageMod","dir":0},{"pos":[-40,-20],"type":"DamageMod","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[-30,60],"type":"Wing1x2","dir":0},{"pos":[20,-60],"type":"CloakGenerator","dir":0},{"pos":[-70,-10],"type":"Engine01","dir":0},{"pos":[-50,50],"type":"VArmor1x1","dir":0},{"pos":[-70,30],"type":"VArmor1x1","dir":0},{"pos":[50,-50],"type":"VArmor1x1","dir":0},{"pos":[70,0],"type":"Reactor1x2","dir":0},{"pos":[-50,-50],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",40,"Find recharger"],["Avoid over #damage shots",50],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Has PD","More expensive",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Slower",230,1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Faster",150,1000],["@capTypes Command Points within #m","Protect",800],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",800,2500],["Stay in #m range of slot # units",-100,10],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",4000],["Field # at priority #",1,6]]},{"parts":[{"pos":[0,80],"type":"Reactor2x2","dir":0},{"pos":[80,60],"type":"Wing2x2","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[-80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-80,60],"type":"Wing2x2","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[-70,-60],"type":"HArmor1x2","dir":0},{"pos":[70,-60],"type":"HArmor1x2","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[-80,20],"type":"HArmor2x2","dir":0},{"pos":[80,20],"type":"HArmor2x2","dir":0},{"pos":[-40,60],"type":"Mount360Micro","dir":0},{"pos":[40,60],"type":"Mount360Micro","dir":0},{"pos":[0,-80],"type":"HArmor2x2","dir":0},{"pos":[-40,90],"type":"HArmor2x1","dir":0},{"pos":[40,90],"type":"Reactor2x1","dir":0},{"pos":[-80,-20],"type":"SymbolDecal3","dir":3},{"pos":[-80,20],"type":"SymbolDecal3","dir":3},{"pos":[80,20],"type":"SymbolDecal3","dir":1},{"pos":[80,-20],"type":"SymbolDecal3","dir":1},{"pos":[0,-80],"type":"SymbolDecal15","dir":0},{"pos":[-40,60],"type":"PDTurret","dir":0},{"pos":[40,60],"type":"PDTurret","dir":0},{"pos":[0,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",1,1],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","More Brawling Value","Not Cloaked",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","---","Stronger",1000],["Avoid over #damage shots",40],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","No PD",2000],["Stay in #m range of slot # units",800,10],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","No PD",10000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","No PD","More expensive",10000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Stronger","Not Cloaked",3000],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",2,9]]},{"parts":[{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-70,-50],"type":"Battery1x1","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[0,-80],"type":"EnergyTransfer","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[80,20],"type":"Reactor2x2","dir":0},{"pos":[80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[70,-50],"type":"Battery1x1","dir":0},{"pos":[70,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-80,20],"type":"Reactor2x2","dir":0},{"pos":[-80,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,60],"type":"Wing2x2","dir":0},{"pos":[-80,60],"type":"Wing2x2","dir":0},{"pos":[-70,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-40,60],"type":"Mount360Micro","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[0,-40],"type":"DamageMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[0,80],"type":"HArmor2x2","dir":0},{"pos":[-30,90],"type":"HArmor1x1Angle","dir":0},{"pos":[30,90],"type":"HArmor1x1Angle","dir":0},{"pos":[40,60],"type":"Mount360Micro","dir":0},{"pos":[-80,-20],"type":"SymbolDecal3","dir":3},{"pos":[80,-20],"type":"SymbolDecal3","dir":1},{"pos":[0,80],"type":"SymbolDecal15","dir":0},{"pos":[-40,60],"type":"PDTurret","dir":0},{"pos":[40,60],"type":"PDTurret","dir":0},{"pos":[0,0],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",2,0],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More DPS",10,1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","---",1200],["When #% of energy, @chargeTypes",20,"Flee enemies"],["Avoid over #damage shots",40],["Stay in #m range of slot # units",1000,10],["Stayaway in #m range from slot # units",400,10],["Stayaway in #m range from slot # units",400,9],["Stay in #m range of slot # units",1200,7],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","No PD","Slower",10000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","No PD","More expensive",3000],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Slower",200,2000],["@capTypes Command Points within #m","Capture",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","More expensive","Slower",10000],["Goto @locationTypes","Enemy Home Point"]]}];
  ais.all.Micor = [{"parts":[{"pos":[10,-20],"type":"Battery1x2","dir":0},{"pos":[-50,-60],"type":"Engine04","dir":0},{"pos":[10,10],"type":"Wing1x1Round","dir":0},{"pos":[-50,-20],"type":"Battery1x2","dir":0},{"pos":[-20,-70],"type":"Reactor2x1","dir":0},{"pos":[-50,10],"type":"Wing1x1Round","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[-20,0],"type":"Mount180","dir":0},{"pos":[-20,-40],"type":"Mount180","dir":0},{"pos":[-20,0],"type":"PDTurret","dir":0},{"pos":[-20,-40],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","less arc",100,650],["@attackTypes enemy within #m","Circle",800],["@capTypes command points within #m","Capture",10000],["When #% of energy, @chargeTypes",20,"Rest"],["Field # at start",2],["Try to field # every # seconds",2,30]]},{"parts":[{"pos":[0,-60],"type":"Mount180","dir":0},{"pos":[-40,-80],"type":"TargetingMod","dir":0},{"pos":[40,-80],"type":"DamageMod","dir":0},{"pos":[-40,-120],"type":"Reactor2x2","dir":0},{"pos":[40,-120],"type":"Reactor2x2","dir":0},{"pos":[0,-100],"type":"ReloaderMod","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[70,-60],"type":"Wing1x2","dir":0},{"pos":[-40,-40],"type":"TargetingMod","dir":0},{"pos":[40,-40],"type":"BulletSpeedMod","dir":0},{"pos":[-70,-60],"type":"Wing1x2","dir":0},{"pos":[0,-20],"type":"DamageMod","dir":0},{"pos":[-40,20],"type":"Mount180","dir":0},{"pos":[40,20],"type":"Mount180","dir":0},{"pos":[-70,-100],"type":"Engine04","dir":0},{"pos":[70,-100],"type":"Engine04","dir":0},{"pos":[-10,-140],"type":"Engine04","dir":0},{"pos":[10,-140],"type":"Engine04","dir":0},{"pos":[0,20],"type":"Mount180","dir":0},{"pos":[40,20],"type":"PDTurret","dir":0},{"pos":[-40,20],"type":"PDTurret","dir":0},{"pos":[0,20],"type":"PDTurret","dir":0},{"pos":[0,-60],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Circle",1200],["@capTypes command points within #m","Capture",10000],["When #% of energy, @chargeTypes",20,"Rest"],["Field # at start",2],["Try to field # every # seconds",2,30]]},{"parts":[{"pos":[-10,0],"type":"Engine04","dir":0},{"pos":[-10,30],"type":"Battery1x1","dir":0}],"name":"","aiRules":[["Avoid everything"],["Field # at start",4],["Try to field # every # seconds",1,30],["@capTypes command points within #m","Spread to",10000]]},"","","","","","",""];
  ais.all.MiniCharger = [{"parts":[{"pos":[-30,-50],"type":"HArmor1x1","dir":0},{"pos":[40,30],"type":"VArmor1x2","dir":3},{"pos":[-90,0],"type":"HArmor1x2Font1","dir":1},{"pos":[90,0],"type":"HArmor1x2Font1","dir":3},{"pos":[0,90],"type":"HArmor1x2Font1","dir":0},{"pos":[-30,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,50],"type":"HArmor1x1","dir":0},{"pos":[0,70],"type":"HArmor2x1","dir":0},{"pos":[0,-70],"type":"HArmor1x2","dir":3},{"pos":[0,0],"type":"EnergyTransfer","dir":0},{"pos":[0,-40],"type":"Reactor2x2","dir":0},{"pos":[0,40],"type":"Reactor2x2","dir":0},{"pos":[-40,30],"type":"Battery2x1","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[-40,-30],"type":"VArmor1x2","dir":3},{"pos":[40,-30],"type":"Battery2x1","dir":0},{"pos":[-40,0],"type":"VArmor2x2","dir":0},{"pos":[40,0],"type":"VArmor2x2","dir":0},{"pos":[30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-50],"type":"HArmor1x1","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-90],"type":"HArmor1x2Font1","dir":2},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[40,20],"type":"Stripe2x2Corner","dir":0},{"pos":[-40,30],"type":"StripeDouble2x1","dir":0},{"pos":[40,-30],"type":"StripeDouble2x1","dir":0},{"pos":[40,-10],"type":"Stripe2x1","dir":0},{"pos":[-40,10],"type":"Stripe2x1","dir":0},{"pos":[0,80],"type":"StripeDouble2x2","dir":2},{"pos":[-40,-20],"type":"Stripe2x2Corner","dir":1},{"pos":[-80,0],"type":"StripeDouble2x2","dir":3},{"pos":[90,0],"type":"StripeDouble2x1","dir":3},{"pos":[0,-80],"type":"StripeDouble2x2","dir":0}],"name":"","aiRules":[["Field # when money over # at priority #",1,600,1],["@attackTypes enemy within #m","Stay at range",3000],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More DPS",1,2000],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",300,2000],["Find units that are out of energy"],["Goto @locationTypes","Friendly Army Middle"]]},{"parts":[{"pos":[0,40],"type":"BulletSpeedMod","dir":0},{"pos":[-90,0],"type":"HArmor1x2Font1","dir":1},{"pos":[90,0],"type":"HArmor1x2Font1","dir":3},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,90],"type":"HArmor1x2Font1","dir":0},{"pos":[-30,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[0,70],"type":"HArmor2x1","dir":0},{"pos":[-30,-50],"type":"HArmor1x1","dir":0},{"pos":[-30,50],"type":"HArmor1x1","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[-30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"BulletSpeedMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-50],"type":"HArmor1x1","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-90],"type":"HArmor1x2Font1","dir":2},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,1,2],["Avoid over #damage shots",100],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","more range",10,3000],["@capTypes Command Points within #m","Spread to",10000],["@attackTypes enemy within #m","Kite",3000]]},{"parts":[{"pos":[-70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,70],"type":"HArmor2x1","dir":0},{"pos":[-90,0],"type":"HArmor1x2Font1","dir":1},{"pos":[90,0],"type":"HArmor1x2Font1","dir":3},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,90],"type":"HArmor1x2Font1","dir":0},{"pos":[-30,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,50],"type":"HArmor1x1","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[-30,-50],"type":"HArmor1x1","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[0,40],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"HArmor1x1Angle","dir":3},{"pos":[50,-50],"type":"HArmor1x1Angle","dir":3},{"pos":[30,-50],"type":"HArmor1x1","dir":0},{"pos":[50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-90],"type":"HArmor1x2Font1","dir":2},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,1,2],["Avoid over #damage shots",100],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","more range",10,3000],["@capTypes Command Points within #m","Spread to",10000],["@attackTypes enemy within #m","Kite",3000]]},{"parts":[{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[-90,0],"type":"HArmor1x2Font1","dir":1},{"pos":[90,0],"type":"HArmor1x2Font1","dir":3},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,90],"type":"HArmor1x2Font1","dir":0},{"pos":[-30,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,40],"type":"TargetingMod","dir":0},{"pos":[-50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[-30,50],"type":"HArmor1x1","dir":0},{"pos":[-30,-50],"type":"HArmor1x1","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[0,70],"type":"HArmor2x1","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"BulletSpeedMod","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-50],"type":"HArmor1x1","dir":0},{"pos":[50,50],"type":"HArmor1x1AngleBack","dir":1},{"pos":[-50,50],"type":"HArmor1x1AngleBack","dir":3},{"pos":[0,-90],"type":"HArmor1x2Font1","dir":2},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,1,2],["Avoid over #damage shots",100],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","more range",10,3000],["@capTypes Command Points within #m","Spread to",10000],["@attackTypes enemy within #m","Kite",3000]]},{"parts":[{"pos":[-90,0],"type":"HArmor1x2Font1","dir":1},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[90,0],"type":"HArmor1x2Font1","dir":3},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,90],"type":"HArmor1x2Font1","dir":0},{"pos":[-30,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,40],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[-30,50],"type":"HArmor1x1","dir":0},{"pos":[-30,-50],"type":"HArmor1x1","dir":0},{"pos":[-50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,70],"type":"HArmor2x1","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[-40,20],"type":"BulletSpeedMod","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"HArmor1x1Angle","dir":3},{"pos":[50,-50],"type":"HArmor1x1Angle","dir":3},{"pos":[30,-50],"type":"HArmor1x1","dir":0},{"pos":[50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[0,-90],"type":"HArmor1x2Font1","dir":2},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,1,2],["Avoid over #damage shots",100],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","more range",10,3000],["@capTypes Command Points within #m","Spread to",10000],["@attackTypes enemy within #m","Kite",3000]]},{"parts":[{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[90,0],"type":"HArmor1x2Font1","dir":3},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,90],"type":"HArmor1x2Font1","dir":0},{"pos":[-30,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[70,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,40],"type":"TargetingMod","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[-70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,50],"type":"HArmor1x1","dir":0},{"pos":[-30,-50],"type":"HArmor1x1","dir":0},{"pos":[-30,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-90,0],"type":"HArmor1x2Font1","dir":1},{"pos":[0,70],"type":"HArmor2x1","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[-40,20],"type":"DampenerMod","dir":0},{"pos":[30,-70],"type":"HArmor1x1Angle","dir":3},{"pos":[50,-50],"type":"HArmor1x1Angle","dir":3},{"pos":[50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[30,-50],"type":"HArmor1x1","dir":0},{"pos":[-50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[0,-90],"type":"HArmor1x2Font1","dir":2},{"pos":[0,0],"type":"EMPGun2","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,1,2],["Avoid over #damage shots",100],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","more range",10,3000],["@capTypes Command Points within #m","Spread to",10000],["@attackTypes enemy within #m","Kite",3000]]},{"parts":[{"pos":[0,50],"type":"HArmor1x2Font1","dir":0},{"pos":[-30,-30],"type":"HArmor1x1Angle","dir":1},{"pos":[-50,0],"type":"HArmor1x2Font1","dir":1},{"pos":[30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-30],"type":"HArmor2x1","dir":0},{"pos":[0,-50],"type":"HArmor1x2Font1","dir":2},{"pos":[0,30],"type":"Battery2x1","dir":0},{"pos":[-30,0],"type":"HArmor1x2","dir":0},{"pos":[50,0],"type":"HArmor1x2Font1","dir":3},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[30,-10],"type":"Engine02","dir":0},{"pos":[-30,30],"type":"Wing1x1Angle","dir":0},{"pos":[0,-30],"type":"Stripe2x1","dir":0},{"pos":[0,-50],"type":"Stripe2x1","dir":0},{"pos":[-30,0],"type":"Stripe2x1","dir":3},{"pos":[-50,0],"type":"Stripe2x1","dir":3},{"pos":[0,30],"type":"Stripe2x1","dir":2},{"pos":[0,50],"type":"Stripe2x1","dir":2},{"pos":[50,0],"type":"Stripe2x1","dir":1},{"pos":[0,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",51],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Attack",500],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,1,1,3]]},{"parts":[{"pos":[30,50],"type":"HArmor1x1","dir":0},{"pos":[40,20],"type":"Mount360Micro","dir":0},{"pos":[50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,0],"type":"HArmor1x2Font1","dir":3},{"pos":[-30,50],"type":"HArmor1x1","dir":0},{"pos":[-50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,0],"type":"HArmor1x2Font1","dir":1},{"pos":[0,70],"type":"HArmor1x2Font1","dir":0},{"pos":[0,50],"type":"Reactor2x1","dir":0},{"pos":[-30,-50],"type":"HArmor1x1","dir":0},{"pos":[-40,20],"type":"Mount360Micro","dir":0},{"pos":[-40,-20],"type":"Mount360Micro","dir":0},{"pos":[40,-20],"type":"Mount360Micro","dir":0},{"pos":[0,0],"type":"DampenerMod","dir":2},{"pos":[0,30],"type":"Reactor2x1","dir":0},{"pos":[0,-40],"type":"Engine09","dir":0},{"pos":[30,-50],"type":"HArmor1x1","dir":0},{"pos":[-50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[50,50],"type":"HArmor1x1Angle","dir":0},{"pos":[40,20],"type":"PDTurret","dir":0},{"pos":[40,-20],"type":"PDTurret","dir":0},{"pos":[-40,20],"type":"PDTurret","dir":0},{"pos":[-40,-20],"type":"PDTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",15,"Find recharger"],["Field # for # of @needTypes at priority #",1,8,"Point Defense Need",1],["Stay in #m range of slot # units",250,1],["Avoid over #damage @bulletTypes shots",50,"PD immune"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","More expensive","Not Cloaked",2500]]},{"parts":[{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[10,10],"type":"Battery1x1","dir":3},{"pos":[30,-10],"type":"Wing1x1Notch","dir":2},{"pos":[10,10],"type":"Stripe1x1","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",5],["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid #dps danger areas",10],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",1],["Field # at priority #",2,2]]},{"parts":[{"pos":[0,70],"type":"VArmor1x2SideBarFilled","dir":1},{"pos":[0,-30],"type":"VArmor1x2SideBarFilled","dir":3},{"pos":[20,20],"type":"Mount30","dir":0},{"pos":[-20,20],"type":"Mount30","dir":0},{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[0,50],"type":"Battery2x1","dir":0},{"pos":[-50,20],"type":"VArmor1x2SideBarFilled","dir":0},{"pos":[30,-20],"type":"Engine03","dir":0},{"pos":[0,-10],"type":"VArmor1x2IBeam","dir":3},{"pos":[50,20],"type":"VArmor1x2SideBarFilled","dir":0},{"pos":[30,50],"type":"Wing1x1Angle","dir":0},{"pos":[-30,50],"type":"VArmor1x1Corner2","dir":0},{"pos":[-50,20],"type":"StripeDouble2x1","dir":3},{"pos":[50,20],"type":"StripeDouble2x1","dir":3},{"pos":[0,-30],"type":"StripeDouble2x1","dir":2},{"pos":[0,70],"type":"StripeDouble2x1","dir":2},{"pos":[-20,20],"type":"LightBeamTurret","dir":0},{"pos":[20,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["When #% of energy, @chargeTypes",10,"find recharger"],["Avoid over #damage shots",30],["@attackTypes enemy within #m","Attack",200],["When #% of energy, @chargeTypes",20,"find recharger"],["@attackTypes enemy within #m","Attack",500],["@capTypes command points within #m","Protect",2000],["Field # for # of ship in slot # at priority #",1,1,1,5],["@capTypes command points within #m","Capture",10000]]}];
  ais.all.Nayenne = [{"parts":[{"pos":[-10,-20],"type":"Engine03","dir":0},{"pos":[-30,-10],"type":"Wing1x1Angle","dir":0},{"pos":[-30,-30],"type":"Battery1x1","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",25,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",40,1500],["@capTypes Command Points within #m","Spread to",10000],["@attackTypes enemy that is @absoluteTypes then # within #m","Circle","More Range",1200,1150],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More Range",1200,3000],["Field # at priority #",3,4],["Field # for # of ship in slot # at priority #",2,1,5,3],["Field # for # of ship in slot # at priority #",1,1,5,1],["Field # at start",2],["Field # for # of ship in slot # at priority #",1,2,7,2]]},{"parts":[{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[-30,-10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[-30,10],"type":"Wing1x1Angle","dir":0},{"pos":[0,20],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",55,"Find recharger"],["@attackTypes enemy within #m","Attack",600],["Stayaway in #m range from slot # units",400,21],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Less HP",100,800],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",90,1200],["Avoid over #damage shots",60],["@capTypes Command Points within #m","Capture",10000],["@capTypes Command Points within #m","Protect",10000],["Field # at priority #",4,3],["Field # at priority #",6,4],["Field # for # of ship in slot # at priority #",3,1,5,2],["Field # for # of ship in slot # at priority #",4,1,7,2]]},{"parts":[{"pos":[-30,-30],"type":"Battery1x1","dir":0},{"pos":[50,-10],"type":"HArmor1x1","dir":0},{"pos":[-50,-10],"type":"HArmor1x1","dir":0},{"pos":[-50,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,10],"type":"HArmor1x1","dir":0},{"pos":[10,50],"type":"HArmor1x1","dir":0},{"pos":[50,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-10],"type":"HArmor1x1","dir":0},{"pos":[-50,10],"type":"HArmor1x1","dir":0},{"pos":[-30,-10],"type":"HArmor1x1","dir":0},{"pos":[30,-30],"type":"Battery1x1","dir":0},{"pos":[-10,50],"type":"HArmor1x1","dir":0},{"pos":[30,50],"type":"HArmor1x1Angle","dir":0},{"pos":[50,30],"type":"Wing1x1Angle","dir":0},{"pos":[-50,30],"type":"Wing1x1Angle","dir":0},{"pos":[-30,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[20,20],"type":"Mount30","dir":0},{"pos":[-20,20],"type":"Mount30","dir":0},{"pos":[-20,20],"type":"AutoTurret","dir":0},{"pos":[20,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Attack",600],["Avoid over #damage shots",80],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",600,1400],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,1,7,2],["Field # for # of ship in slot # at priority #",1,1,5,2],["Field # at priority #",2,3],["Field # at start",1]]},{"parts":[{"pos":[20,40],"type":"Mount30","dir":0},{"pos":[-20,40],"type":"Mount30","dir":0},{"pos":[-30,70],"type":"Wing1x1Angle","dir":0},{"pos":[-10,0],"type":"Battery1x2","dir":0},{"pos":[30,70],"type":"Wing1x1Angle","dir":0},{"pos":[-30,-10],"type":"Engine01","dir":0},{"pos":[20,0],"type":"CloakGenerator","dir":0},{"pos":[-20,40],"type":"RingTurret","dir":0},{"pos":[20,40],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",60,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",600,1600],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",400,1900],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More Range",1200,1900],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More DPS",40,2500],["Stay in #m range of slot # units",2000,7],["Stay in #m range of slot # units",2000,6],["Stay in #m range of slot # units",2000,5],["@capTypes Command Points within #m","Guard",10000],["Field # for # of ship in slot # at priority #",2,1,7,2],["Field # for # of ship in slot # at priority #",2,1,5,2],["Field # at start",1]]},{"parts":[{"pos":[-80,0],"type":"HArmor2x2Front2","dir":0},{"pos":[80,-70],"type":"HArmor2x1","dir":0},{"pos":[-50,-130],"type":"Engine02","dir":0},{"pos":[30,-150],"type":"Engine02","dir":0},{"pos":[50,-130],"type":"Engine02","dir":0},{"pos":[-110,70],"type":"Engine02","dir":0},{"pos":[50,-90],"type":"HArmor1x1","dir":0},{"pos":[-50,-90],"type":"HArmor1x1","dir":0},{"pos":[20,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-30,-150],"type":"Engine02","dir":0},{"pos":[110,70],"type":"Engine02","dir":0},{"pos":[-20,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[10,-170],"type":"Engine02","dir":0},{"pos":[10,-130],"type":"HArmor1x1","dir":0},{"pos":[-10,-130],"type":"HArmor1x1","dir":0},{"pos":[-10,-170],"type":"Engine02","dir":0},{"pos":[130,80],"type":"Wing1x2","dir":0},{"pos":[50,-60],"type":"Wing1x2","dir":0},{"pos":[-130,80],"type":"Wing1x2","dir":0},{"pos":[-50,-60],"type":"Wing1x2","dir":0},{"pos":[40,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-130,40],"type":"Battery1x2","dir":0},{"pos":[130,40],"type":"Battery1x2","dir":0},{"pos":[-110,130],"type":"HArmor1x1Angle","dir":0},{"pos":[-40,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-110,110],"type":"HArmor1x1","dir":0},{"pos":[110,110],"type":"HArmor1x1","dir":0},{"pos":[110,130],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,20],"type":"HArmor1x2","dir":0},{"pos":[50,20],"type":"HArmor1x2","dir":0},{"pos":[-130,0],"type":"HArmor1x2","dir":0},{"pos":[-30,20],"type":"Battery1x2","dir":0},{"pos":[130,0],"type":"HArmor1x2","dir":0},{"pos":[30,20],"type":"Battery1x2","dir":0},{"pos":[0,-70],"type":"HArmor2x1","dir":0},{"pos":[-90,-110],"type":"Engine02","dir":0},{"pos":[90,-110],"type":"Engine02","dir":0},{"pos":[-70,-90],"type":"HArmor1x1","dir":0},{"pos":[-70,-130],"type":"Engine02","dir":0},{"pos":[70,-130],"type":"Engine02","dir":0},{"pos":[90,-40],"type":"HArmor1x2","dir":0},{"pos":[70,-90],"type":"HArmor1x1","dir":0},{"pos":[80,0],"type":"HArmor2x2Front2","dir":0},{"pos":[-90,-40],"type":"HArmor1x2","dir":0},{"pos":[-70,-40],"type":"HArmor1x2","dir":0},{"pos":[70,-40],"type":"HArmor1x2","dir":0},{"pos":[0,40],"type":"Mount30","dir":0},{"pos":[-40,60],"type":"Mount30","dir":0},{"pos":[-80,-70],"type":"HArmor2x1","dir":0},{"pos":[40,60],"type":"Mount30","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[80,170],"type":"HArmor1x2Font1","dir":0},{"pos":[80,100],"type":"Mount30","dir":0},{"pos":[-80,170],"type":"HArmor1x2Font1","dir":0},{"pos":[-80,140],"type":"Mount30","dir":0},{"pos":[-80,100],"type":"Mount30","dir":0},{"pos":[50,130],"type":"HArmor1x1","dir":0},{"pos":[-50,130],"type":"HArmor1x1","dir":0},{"pos":[80,140],"type":"Mount30","dir":0},{"pos":[0,80],"type":"Mount30","dir":0},{"pos":[-30,-70],"type":"Battery1x1","dir":0},{"pos":[30,-70],"type":"Battery1x1","dir":0},{"pos":[-30,-50],"type":"HArmor1x1","dir":0},{"pos":[30,-50],"type":"HArmor1x1","dir":0},{"pos":[80,40],"type":"HArmor2x2Back1","dir":0},{"pos":[-80,40],"type":"HArmor2x2Back1","dir":0},{"pos":[-80,70],"type":"HArmor2x1","dir":0},{"pos":[80,70],"type":"HArmor2x1","dir":0},{"pos":[-20,180],"type":"Mount30","dir":0},{"pos":[20,180],"type":"Mount30","dir":0},{"pos":[-50,160],"type":"HArmor1x2","dir":0},{"pos":[50,160],"type":"HArmor1x2","dir":0},{"pos":[-40,100],"type":"Mount30","dir":0},{"pos":[40,100],"type":"Mount30","dir":0},{"pos":[20,140],"type":"Mount30","dir":0},{"pos":[-20,140],"type":"Mount30","dir":0},{"pos":[10,110],"type":"HArmor1x1Angle","dir":0},{"pos":[-10,110],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-40],"type":"Reactor2x2","dir":0},{"pos":[130,-40],"type":"Engine04","dir":0},{"pos":[-130,-40],"type":"Engine04","dir":0},{"pos":[-40,60],"type":"WavePullTurret","dir":0},{"pos":[-20,180],"type":"WavePullTurret","dir":0},{"pos":[40,60],"type":"WavePullTurret","dir":0},{"pos":[20,180],"type":"WavePullTurret","dir":0},{"pos":[0,0],"type":"WavePullTurret","dir":0},{"pos":[0,80],"type":"HeavyPDTurret","dir":0},{"pos":[40,100],"type":"RingTurret","dir":0},{"pos":[80,140],"type":"RingTurret","dir":0},{"pos":[-80,140],"type":"RingTurret","dir":0},{"pos":[-40,100],"type":"RingTurret","dir":0},{"pos":[0,40],"type":"BombGun","dir":0},{"pos":[80,100],"type":"BombGun","dir":0},{"pos":[-80,100],"type":"BombGun","dir":0},{"pos":[-20,140],"type":"BombGun","dir":0},{"pos":[20,140],"type":"BombGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",15,"Rest"],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",500,350],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",150,250],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More expensive",600,900],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More expensive",300,1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More expensive",500,1200],["@attackTypes enemy within #m","Attack",650],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","More Range",5000],["Stay in #m range of slot # units",500,7],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,1,5,2],["Field # at priority #",1,1]]},{"parts":[{"pos":[-50,50],"type":"HArmor1x1","dir":0},{"pos":[-50,-10],"type":"HArmor1x1","dir":0},{"pos":[-30,80],"type":"Wing1x2","dir":0},{"pos":[30,-30],"type":"HArmor1x1","dir":0},{"pos":[-30,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,-30],"type":"HArmor1x1","dir":0},{"pos":[30,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,80],"type":"Wing1x2","dir":0},{"pos":[30,40],"type":"HArmor1x2","dir":0},{"pos":[-30,40],"type":"HArmor1x2","dir":0},{"pos":[50,20],"type":"HArmor1x2","dir":0},{"pos":[-50,20],"type":"HArmor1x2","dir":0},{"pos":[50,-10],"type":"HArmor1x1","dir":0},{"pos":[0,80],"type":"EnergyTransfer","dir":0},{"pos":[50,50],"type":"HArmor1x1","dir":0},{"pos":[50,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[10,-50],"type":"Engine02","dir":0},{"pos":[-10,-50],"type":"Engine02","dir":0},{"pos":[0,40],"type":"Reactor2x2","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[-30,0],"type":"HArmor1x2","dir":0},{"pos":[30,0],"type":"HArmor1x2","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",700,7],["Stay in #m range of slot # units",700,5],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",42,2000],["Avoid over #damage shots",20],["Avoid #dps danger areas",5],["Find units that are out of energy"],["Goto @locationTypes","Friendly Army Middle"],["Field # for # of ship in slot # at priority #",1,1,7,2],["Field # for # of ship in slot # at priority #",2,1,7,3],["Field # for # of ship in slot # at priority #",4,1,7,4],["Field # for # of ship in slot # at priority #",1,2,7,2],["Field # for # of ship in slot # at priority #",1,1,5,2]]},{"parts":[{"pos":[140,-100],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-40,180],"type":"Mount30","dir":0},{"pos":[-30,-170],"type":"Engine02","dir":0},{"pos":[30,-170],"type":"Engine02","dir":0},{"pos":[70,60],"type":"HArmor1x2","dir":0},{"pos":[-70,60],"type":"HArmor1x2","dir":0},{"pos":[-70,-60],"type":"HArmor1x2","dir":0},{"pos":[70,-60],"type":"HArmor1x2","dir":0},{"pos":[-110,20],"type":"HArmor1x2","dir":0},{"pos":[110,20],"type":"HArmor1x2","dir":0},{"pos":[90,-60],"type":"HArmor1x2","dir":0},{"pos":[-90,-60],"type":"HArmor1x2","dir":0},{"pos":[-70,-110],"type":"Engine02","dir":0},{"pos":[-110,-60],"type":"Wing1x2","dir":0},{"pos":[-100,60],"type":"Mount30","dir":0},{"pos":[100,60],"type":"Mount30","dir":0},{"pos":[110,-60],"type":"Wing1x2","dir":0},{"pos":[-130,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-130,-20],"type":"HArmor1x2","dir":0},{"pos":[70,-20],"type":"HArmor1x2","dir":0},{"pos":[-70,-20],"type":"HArmor1x2","dir":0},{"pos":[70,20],"type":"Battery1x2","dir":0},{"pos":[-70,20],"type":"Battery1x2","dir":0},{"pos":[-160,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[90,20],"type":"HArmor1x2","dir":0},{"pos":[-90,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-90,20],"type":"HArmor1x2","dir":0},{"pos":[90,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-100,-120],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-40,150],"type":"HArmor2x1","dir":0},{"pos":[-80,100],"type":"Reactor2x2","dir":0},{"pos":[80,100],"type":"Reactor2x2","dir":0},{"pos":[-130,-130],"type":"HArmor1x1AngleBack","dir":0},{"pos":[100,-120],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-100,-90],"type":"HArmor2x1","dir":0},{"pos":[-130,10],"type":"HArmor1x1","dir":0},{"pos":[100,-90],"type":"HArmor2x1","dir":0},{"pos":[130,10],"type":"HArmor1x1","dir":0},{"pos":[130,40],"type":"Wing1x2","dir":0},{"pos":[-130,40],"type":"Wing1x2","dir":0},{"pos":[40,180],"type":"Mount30","dir":0},{"pos":[130,-20],"type":"HArmor1x2","dir":0},{"pos":[70,-110],"type":"Engine02","dir":0},{"pos":[160,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,-130],"type":"HArmor2x1","dir":0},{"pos":[-40,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-140,-100],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-130],"type":"HArmor2x1","dir":0},{"pos":[130,-130],"type":"HArmor1x1AngleBack","dir":0},{"pos":[130,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,-170],"type":"Engine02","dir":0},{"pos":[-50,-170],"type":"Engine02","dir":0},{"pos":[0,-140],"type":"Mount30","dir":0},{"pos":[0,-110],"type":"HArmor2x1","dir":0},{"pos":[0,-80],"type":"DamageMod","dir":0},{"pos":[40,-60],"type":"DamageMod","dir":0},{"pos":[-40,-60],"type":"DamageMod","dir":0},{"pos":[0,-40],"type":"Mount30","dir":0},{"pos":[40,-20],"type":"DamageMod","dir":0},{"pos":[0,0],"type":"ReloaderMod","dir":0},{"pos":[-40,-20],"type":"DamageMod","dir":0},{"pos":[40,20],"type":"HArmor2x2","dir":0},{"pos":[-40,20],"type":"HArmor2x2","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[40,60],"type":"DamageMod","dir":0},{"pos":[-40,60],"type":"DamageMod","dir":0},{"pos":[40,100],"type":"DamageMod","dir":0},{"pos":[-40,100],"type":"DamageMod","dir":0},{"pos":[0,120],"type":"ReloaderMod","dir":0},{"pos":[0,150],"type":"Battery2x1","dir":0},{"pos":[40,130],"type":"HArmor2x1","dir":0},{"pos":[-40,130],"type":"HArmor2x1","dir":0},{"pos":[40,150],"type":"HArmor2x1","dir":0},{"pos":[0,180],"type":"Mount30","dir":0},{"pos":[0,80],"type":"Mount30","dir":0},{"pos":[-80,180],"type":"HArmor2x2Angle","dir":0},{"pos":[80,180],"type":"HArmor2x2Angle","dir":0},{"pos":[0,-180],"type":"Mount90","dir":0},{"pos":[-100,-20],"type":"Mount30","dir":0},{"pos":[100,-20],"type":"Mount30","dir":0},{"pos":[100,140],"type":"HArmor2x2Angle","dir":0},{"pos":[70,140],"type":"HArmor1x2","dir":0},{"pos":[-100,140],"type":"HArmor2x2Angle","dir":0},{"pos":[-70,140],"type":"HArmor1x2","dir":0},{"pos":[0,-140],"type":"WavePullTurret","dir":0},{"pos":[100,60],"type":"WavePullTurret","dir":0},{"pos":[-40,180],"type":"WavePullTurret","dir":0},{"pos":[-100,60],"type":"WavePullTurret","dir":0},{"pos":[40,180],"type":"WavePullTurret","dir":0},{"pos":[0,-180],"type":"AutoTurret","dir":0},{"pos":[-100,-20],"type":"AutoTurret","dir":0},{"pos":[100,-20],"type":"AutoTurret","dir":0},{"pos":[0,180],"type":"HeavyPDTurret","dir":0},{"pos":[0,80],"type":"BombGun","dir":0},{"pos":[0,-40],"type":"BombGun","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",350,350],["When #% of energy, @chargeTypes",20,"Rest"],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More expensive",700,1200],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More expensive",400,1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Weaker",10000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More Range","Slower",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","More expensive","Slower",10000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",50,800],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,2],["Field # for # of ship in slot # at priority #",1,1,7,4],["Field # at start",1]]},{"parts":[{"pos":[30,10],"type":"Engine02","dir":0},{"pos":[-30,10],"type":"Engine02","dir":0},{"pos":[0,40],"type":"Reactor2x2","dir":0},{"pos":[0,0],"type":"EnergyTransfer","dir":0},{"pos":[10,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-10,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-50,10],"type":"Wing1x1Angle","dir":0},{"pos":[50,10],"type":"Wing1x1Angle","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More expensive",40,1600],["Avoid over #damage shots",20],["Avoid #dps danger areas",5],["Find units that are out of energy"],["Stay in #m range of slot # units",500,5],["Stay in #m range of slot # units",500,7],["Stay in #m range of slot # units",500,2],["Goto @locationTypes","Friendly Army Middle"],["Field # at priority #",3,3],["Field # for # of ship in slot # at priority #",3,1,5,2],["Field # for # of ship in slot # at priority #",2,1,7,2],["Field # at start",1]]},{"parts":[{"pos":[-30,-60],"type":"Wing1x2","dir":0},{"pos":[-30,-90],"type":"Battery1x1","dir":0},{"pos":[0,-60],"type":"Mount30","dir":0},{"pos":[-10,-140],"type":"Engine04","dir":0},{"pos":[10,-140],"type":"VArmor1x1CornerBack","dir":0},{"pos":[0,-100],"type":"Mount30","dir":0},{"pos":[-30,-140],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-30,-110],"type":"Battery1x1","dir":0},{"pos":[0,-60],"type":"RingTurret","dir":0},{"pos":[0,-100],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",40,"Find recharger"],["@attackTypes enemy within #m","Attack",400],["Stay in #m range of slot # units",500,7],["Stayaway in #m range from slot # units",250,9],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Less Range",600,1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Stronger",1000],["Stay in #m range of slot # units",500,5],["Avoid over #damage shots",12],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","Less DPS",35,1000],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",2,3],["Field # at priority #",3,4],["Field # for # of ship in slot # at priority #",3,1,7,2],["Field # for # of ship in slot # at priority #",3,1,5,2]]},{"parts":[{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[-30,10],"type":"Wing1x1Angle","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",350],["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",25,"Find recharger"],["Stayaway in #m range from slot # units",300,10],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","Less Arc",270,1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","More expensive",300,1000],["@attackTypes enemy within #m","Attack",1000],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",4,3],["Field # at priority #",6,4],["Field # at priority #",15,7],["Field # for # of ship in slot # at priority #",4,1,5,2],["Field # for # of ship in slot # at priority #",4,1,7,2],["Field # at start",5]]}];
  ais.all.NodeSwarm = [{"parts":[{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[-30,30],"type":"Wing1x1Notch","dir":0},{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[0,20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",25,"Find recharger"],["Field # at priority #",1,3],["Avoid over #damage shots",24],["Avoid everything"],["@capTypes Command Points within #m","Spread to",100],["@attackTypes enemy within #m","Kite",1000],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,4],["Field # for # of ship in slot # at priority #",1,1,8,1]]},{"parts":[{"pos":[0,90],"type":"ShieldGen2x1","dir":0},{"pos":[10,-10],"type":"Reactor1x1","dir":0},{"pos":[40,40],"type":"Mount360","dir":0},{"pos":[0,20],"type":"DamageMod","dir":0},{"pos":[0,60],"type":"DamageMod","dir":0},{"pos":[40,0],"type":"DamageMod","dir":0},{"pos":[-40,0],"type":"DamageMod","dir":0},{"pos":[-80,60],"type":"DamageMod","dir":0},{"pos":[-80,20],"type":"DamageMod","dir":0},{"pos":[80,60],"type":"DamageMod","dir":0},{"pos":[80,20],"type":"DamageMod","dir":0},{"pos":[-40,80],"type":"DamageMod","dir":0},{"pos":[40,80],"type":"DamageMod","dir":0},{"pos":[-110,-20],"type":"Engine04","dir":0},{"pos":[-50,-40],"type":"Engine04","dir":0},{"pos":[-40,40],"type":"Mount360","dir":0},{"pos":[50,-40],"type":"Engine04","dir":0},{"pos":[-10,-10],"type":"Battery1x1","dir":0},{"pos":[-80,90],"type":"Battery2x1","dir":0},{"pos":[80,90],"type":"Battery2x1","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[30,-60],"type":"Engine04","dir":0},{"pos":[-30,-60],"type":"Engine04","dir":0},{"pos":[20,-30],"type":"UArmor2x1","dir":0},{"pos":[-20,-30],"type":"UArmor2x1","dir":0},{"pos":[20,110],"type":"Wing2x1","dir":0},{"pos":[-20,110],"type":"Wing2x1","dir":0},{"pos":[-70,-40],"type":"Engine04","dir":0},{"pos":[70,-40],"type":"Engine04","dir":0},{"pos":[90,-40],"type":"Engine04","dir":0},{"pos":[110,-20],"type":"Engine04","dir":0},{"pos":[-90,-40],"type":"Engine04","dir":0},{"pos":[110,20],"type":"Wing1x2","dir":0},{"pos":[-110,20],"type":"Wing1x2","dir":0},{"pos":[-80,-10],"type":"Battery2x1","dir":0},{"pos":[80,-10],"type":"Battery2x1","dir":0},{"pos":[-40,40],"type":"AutoTurret","dir":0},{"pos":[40,40],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",15,"Find recharger"],["Avoid over #damage shots",45],["Avoid #dps danger areas",25],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Weaker","Less Brawling Value",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Less Brawling Value","More expensive",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Weaker","---",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Less Brawling Value","Weaker",10000],["Find units that are out of energy"],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,1,5,3],["Field # for # of ship in slot # at priority #",1,2,6,1]]},{"parts":[{"pos":[-20,0],"type":"EnergyTransfer","dir":0},{"pos":[20,0],"type":"Reactor2x2","dir":0},{"pos":[-20,30],"type":"Wing2x1","dir":0},{"pos":[-20,-30],"type":"Reactor2x1","dir":0},{"pos":[-50,-10],"type":"Engine02","dir":0},{"pos":[10,-30],"type":"HArmor1x1","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,5,7,2],["Stay in #m range of slot # units",300,7],["Stayaway in #m range from slot # units",250,3],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Stronger","More expensive",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","---","---",1000],["Field # for # of ship in slot # at priority #",1,3,7,4],["Field # for # of ship in slot # at priority #",1,8,7,3],["Field # for # of ship in slot # at priority #",1,1,5,2],["Field # for # of ship in slot # at priority #",1,4,1,3]]},{"parts":[{"pos":[-190,40],"type":"Wing1x2","dir":0},{"pos":[180,0],"type":"Mount30","dir":0},{"pos":[-80,40],"type":"Mount30","dir":0},{"pos":[80,40],"type":"Mount30","dir":0},{"pos":[40,40],"type":"Mount30","dir":0},{"pos":[-40,40],"type":"Mount30","dir":0},{"pos":[0,40],"type":"Mount30","dir":0},{"pos":[-160,40],"type":"Mount30","dir":0},{"pos":[-120,40],"type":"Mount30","dir":0},{"pos":[160,40],"type":"Mount30","dir":0},{"pos":[120,40],"type":"Mount30","dir":0},{"pos":[-180,0],"type":"Mount30","dir":0},{"pos":[190,40],"type":"Wing1x2","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[10,-10],"type":"Engine02","dir":0},{"pos":[-10,0],"type":"Battery1x2","dir":0},{"pos":[-160,40],"type":"TorpTurret","dir":0},{"pos":[0,40],"type":"TorpTurret","dir":0},{"pos":[-40,40],"type":"TorpTurret","dir":0},{"pos":[40,40],"type":"TorpTurret","dir":0},{"pos":[-80,40],"type":"TorpTurret","dir":0},{"pos":[80,40],"type":"TorpTurret","dir":0},{"pos":[180,0],"type":"TorpTurret","dir":0},{"pos":[-120,40],"type":"TorpTurret","dir":0},{"pos":[120,40],"type":"TorpTurret","dir":0},{"pos":[160,40],"type":"TorpTurret","dir":0},{"pos":[-180,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",300,7],["@attackTypes enemy within #m","Attack",1500],["Field # for # of ship in slot # at priority #",1,4,3,4],["Field # for # of ship in slot # at priority #",1,7,7,2],["Goto @locationTypes","Enemy Army Middle"],["@capTypes Command Points within #m","Capture",10000]]},{"parts":[{"pos":[70,40],"type":"UArmor1x2","dir":0},{"pos":[0,-40],"type":"Engine07","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-20,0],"type":"ReloaderMod","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[20,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[-20,80],"type":"TargetingMod","dir":0},{"pos":[-50,0],"type":"Battery1x2","dir":0},{"pos":[50,0],"type":"Battery1x2","dir":0},{"pos":[70,0],"type":"UArmor1x2","dir":0},{"pos":[-70,40],"type":"UArmor1x2","dir":0},{"pos":[-70,0],"type":"UArmor1x2","dir":0},{"pos":[-60,-30],"type":"Wing2x1","dir":0},{"pos":[60,-30],"type":"Wing2x1","dir":0},{"pos":[-30,-40],"type":"Engine03","dir":0},{"pos":[30,-40],"type":"Engine03","dir":0},{"pos":[-50,70],"type":"Battery1x1","dir":0},{"pos":[50,70],"type":"Battery1x1","dir":0},{"pos":[20,80],"type":"TargetingMod","dir":0},{"pos":[0,40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",50,"Find recharger"],["Avoid over #damage shots",20],["Avoid everything"],["@attackTypes enemy within #m","Circle",1500],["Stay in #m range of slot # units",500,7],["Field # for # of ship in slot # at priority #",1,4,3,1],["@capTypes Command Points within #m","Capture",10000]]},{"parts":[{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[0,110],"type":"ShieldGen2x1","dir":0},{"pos":[20,0],"type":"ReloaderMod","dir":0},{"pos":[-40,-40],"type":"Engine07","dir":0},{"pos":[40,110],"type":"Wing2x1","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-20,80],"type":"DamageMod","dir":0},{"pos":[40,-40],"type":"Engine07","dir":0},{"pos":[-40,110],"type":"Wing2x1","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[50,80],"type":"Battery1x2","dir":0},{"pos":[-50,80],"type":"Battery1x2","dir":0},{"pos":[-20,0],"type":"ReloaderMod","dir":0},{"pos":[20,80],"type":"DamageMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[50,0],"type":"UArmor1x2","dir":0},{"pos":[-50,0],"type":"UArmor1x2","dir":0},{"pos":[70,40],"type":"Wing1x2","dir":0},{"pos":[-70,40],"type":"Wing1x2","dir":0},{"pos":[-70,10],"type":"Battery1x1","dir":0},{"pos":[70,10],"type":"Battery1x1","dir":0},{"pos":[0,40],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",45,"Find recharger"],["Avoid over #damage shots",25],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","More HP",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Weaker","More Range",1000],["Field # for # of ship in slot # at priority #",1,5,7,3],["When #% of energy, @chargeTypes",100,"Find recharger"],["Goto @locationTypes","Enemy Spawn"]]},{"parts":[{"pos":[-40,0],"type":"EnergyTransfer","dir":0},{"pos":[-10,0],"type":"Battery1x2","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[-110,10],"type":"Wing1x1Round","dir":0},{"pos":[-90,-10],"type":"Engine02","dir":0},{"pos":[-40,30],"type":"HArmor1x2Front2","dir":0},{"pos":[-40,60],"type":"HArmor2x2Front1","dir":0},{"pos":[-40,-30],"type":"HArmor1x2Back2","dir":0},{"pos":[-40,-60],"type":"HArmor2x2Back1","dir":0}],"name":"","aiRules":[["Avoid #dps danger areas",10],["Stayaway in #m range from slot # units",250,7],["Stay in #m range of slot # units",2000,1],["Find units that are out of energy"],["Field # at priority #",1,1],["When #% of energy, @chargeTypes",70,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","More expensive","---",1000],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,3],["Field # at priority #",1,4],["Try to field # every # seconds",1,35],["Try to field # every # seconds",1,50],["Try to field # every # seconds",1,80],["Try to field # every # seconds",1,110],["Try to field # every # seconds",1,95],["Field # at priority #",1,5]]},{"parts":[{"pos":[-40,-60],"type":"HArmor2x2Back1","dir":0},{"pos":[-90,-10],"type":"Engine02","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[-60,40],"type":"DamageMod","dir":0},{"pos":[-20,40],"type":"DamageMod","dir":0},{"pos":[-40,-30],"type":"HArmor1x2Back2","dir":0},{"pos":[-90,30],"type":"Wing1x1Round","dir":0},{"pos":[10,30],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"TargetingMod","dir":0},{"pos":[-40,0],"type":"Mount90","dir":0},{"pos":[-40,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",800,7],["@attackTypes enemy within #m","Attack",1000],["Stay in #m range of slot # units",400,10],["Stayaway in #m range from slot # units",400,7],["Field # for # of ship in slot # at priority #",1,3,7,4],["When #% of energy, @chargeTypes",50,"Find recharger"],["Field # for # of ship in slot # at priority #",1,3,7,5],["Field # for # of ship in slot # at priority #",1,3,7,6]]},{"parts":[{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[0,10],"type":"Battery2x1","dir":0},{"pos":[-20,40],"type":"Mount90","dir":0},{"pos":[20,40],"type":"Mount90","dir":0},{"pos":[30,-20],"type":"Engine03","dir":0},{"pos":[-30,10],"type":"Wing1x1Notch","dir":0},{"pos":[30,10],"type":"Wing1x1Notch","dir":0},{"pos":[-20,40],"type":"LightBeamTurret","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage shots",30],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Stronger","More Brawling Value",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Weaker","Less Brawling Value",1000],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,6,7,2]]},{"parts":[{"pos":[180,30],"type":"HArmor1x2Front2","dir":0},{"pos":[120,0],"type":"HArmor2x2","dir":0},{"pos":[0,80],"type":"Mount360","dir":0},{"pos":[-40,60],"type":"ReloaderMod","dir":0},{"pos":[0,120],"type":"TargetingMod","dir":0},{"pos":[-40,100],"type":"ReloaderMod","dir":0},{"pos":[0,40],"type":"TargetingMod","dir":0},{"pos":[40,130],"type":"Wing2x1","dir":0},{"pos":[-40,130],"type":"Wing2x1","dir":0},{"pos":[-40,-10],"type":"Battery2x1","dir":0},{"pos":[40,-10],"type":"Battery2x1","dir":0},{"pos":[-40,20],"type":"HArmor2x2","dir":0},{"pos":[-80,20],"type":"HArmor2x2","dir":0},{"pos":[40,20],"type":"HArmor2x2","dir":0},{"pos":[80,20],"type":"HArmor2x2","dir":0},{"pos":[-120,0],"type":"HArmor2x2","dir":0},{"pos":[40,100],"type":"ReloaderMod","dir":0},{"pos":[-180,0],"type":"HArmor2x2","dir":0},{"pos":[-180,30],"type":"HArmor1x2Front2","dir":0},{"pos":[-180,60],"type":"HArmor2x2Front1","dir":0},{"pos":[-180,-60],"type":"HArmor2x2Back1","dir":0},{"pos":[-150,0],"type":"HArmor1x2","dir":0},{"pos":[-180,-30],"type":"HArmor1x2Back2","dir":0},{"pos":[180,60],"type":"HArmor2x2Front1","dir":0},{"pos":[180,-30],"type":"HArmor1x2Back2","dir":0},{"pos":[180,-60],"type":"HArmor2x2Back1","dir":0},{"pos":[180,0],"type":"HArmor2x2","dir":0},{"pos":[150,0],"type":"HArmor1x2","dir":0},{"pos":[110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-150,-80],"type":"Wing1x2","dir":0},{"pos":[150,-80],"type":"Wing1x2","dir":0},{"pos":[-130,-90],"type":"Engine02","dir":0},{"pos":[130,-90],"type":"Engine02","dir":0},{"pos":[-100,-60],"type":"DamageMod","dir":0},{"pos":[-100,-100],"type":"TargetingMod","dir":0},{"pos":[-60,-120],"type":"TargetingMod","dir":0},{"pos":[-60,-40],"type":"DamageMod","dir":0},{"pos":[-20,-60],"type":"TargetingMod","dir":0},{"pos":[-20,-100],"type":"BulletSpeedMod","dir":0},{"pos":[60,-120],"type":"TargetingMod","dir":0},{"pos":[100,-100],"type":"TargetingMod","dir":0},{"pos":[20,-60],"type":"TargetingMod","dir":0},{"pos":[60,-40],"type":"DamageMod","dir":0},{"pos":[100,-60],"type":"DamageMod","dir":0},{"pos":[60,-80],"type":"Mount270","dir":0},{"pos":[20,-100],"type":"ReloaderMod","dir":0},{"pos":[-60,-80],"type":"Mount360","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[-80,-10],"type":"HArmor2x1","dir":0},{"pos":[80,-10],"type":"HArmor2x1","dir":0},{"pos":[40,60],"type":"BulletSpeedMod","dir":0},{"pos":[0,80],"type":"HeavyPDTurret","dir":0},{"pos":[60,-80],"type":"PlasmaTurret","dir":0},{"pos":[-60,-80],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,3,8,2],["Stay in #m range of friendly units",600],["Goto @locationTypes","Enemy Army Middle"]]}];
  ais.all.Novice = [{"parts":[{"pos":[30,-20],"type":"Engine04","dir":0},{"pos":[50,30],"type":"Wing1x1Round","dir":0},{"pos":[-50,0],"type":"Engine04","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[-50,30],"type":"Wing1x1Round","dir":0},{"pos":[30,20],"type":"HArmor1x2","dir":0},{"pos":[50,0],"type":"Engine04","dir":0},{"pos":[-30,20],"type":"HArmor1x2","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[0,30],"type":"Battery2x1","dir":0},{"pos":[0,-30],"type":"Battery2x1","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Backstab",400],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",2],["Try to field # every # seconds",2,30]]},{"parts":[{"pos":[50,-80],"type":"HArmor1x2","dir":0},{"pos":[-70,-40],"type":"HArmor1x2","dir":0},{"pos":[30,40],"type":"HArmor1x2","dir":0},{"pos":[-30,70],"type":"Wing1x1Round","dir":0},{"pos":[0,30],"type":"Reactor2x1","dir":0},{"pos":[-20,0],"type":"Mount90","dir":0},{"pos":[20,0],"type":"Mount90","dir":0},{"pos":[-50,30],"type":"Wing1x1Round","dir":0},{"pos":[-50,0],"type":"HArmor1x2","dir":0},{"pos":[-40,-40],"type":"Mount90","dir":0},{"pos":[50,30],"type":"Wing1x1Round","dir":0},{"pos":[50,0],"type":"HArmor1x2","dir":0},{"pos":[-30,40],"type":"HArmor1x2","dir":0},{"pos":[0,60],"type":"Mount90","dir":0},{"pos":[40,-40],"type":"Mount90","dir":0},{"pos":[-50,-80],"type":"HArmor1x2","dir":0},{"pos":[30,70],"type":"Wing1x1Round","dir":0},{"pos":[-70,-10],"type":"Wing1x1Round","dir":0},{"pos":[70,-10],"type":"Wing1x1Round","dir":0},{"pos":[70,-40],"type":"HArmor1x2","dir":0},{"pos":[-70,-80],"type":"Engine04","dir":0},{"pos":[70,-80],"type":"Engine04","dir":0},{"pos":[-20,-70],"type":"Reactor2x1","dir":0},{"pos":[0,-90],"type":"Reactor2x1","dir":0},{"pos":[20,-70],"type":"Reactor2x1","dir":0},{"pos":[-10,-40],"type":"HArmor1x2","dir":0},{"pos":[10,-40],"type":"HArmor1x2","dir":0},{"pos":[-30,-100],"type":"Engine04","dir":0},{"pos":[30,-100],"type":"Engine04","dir":0},{"pos":[-20,0],"type":"LightBeamTurret","dir":0},{"pos":[20,0],"type":"LightBeamTurret","dir":0},{"pos":[-40,-40],"type":"LightBeamTurret","dir":0},{"pos":[40,-40],"type":"LightBeamTurret","dir":0},{"pos":[0,60],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",300],["@capTypes Command Points within #m","Capture",10000],["Field # at start",1],["Try to field # every # seconds",1,30]]},"","","","","","","",""];
  ais.all.NukeSwarm = [{"parts":[{"pos":[-10,-20],"type":"Engine03","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[-30,10],"type":"Wing1x1Notch","dir":0},{"pos":[0,20],"type":"AOEWarhead","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",10,2],["@attackTypes enemy within #m","Ram",200]]},{"parts":[{"pos":[30,10],"type":"Wing1x1Notch","dir":0},{"pos":[-10,-20],"type":"Engine03","dir":0},{"pos":[10,-10],"type":"Battery1x1","dir":0},{"pos":[0,20],"type":"AOEWarhead","dir":0}],"name":"","aiRules":[["Goto @locationTypes","Enemy Home Point"],["@attackTypes enemy within #m","Ram",400],["Try to field # every # seconds",2,30]]},{"parts":[{"pos":[-30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,0],"type":"Engine03","dir":0},{"pos":[30,30],"type":"HArmor1x1Angle","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[0,20],"type":"AOEWarhead","dir":0}],"name":"","aiRules":[["Field # at priority #",8,3],["@capTypes Command Points within #m","Guard",10000]]},{"parts":[{"pos":[-30,30],"type":"Wing1x1Notch","dir":0},{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[30,30],"type":"Wing1x1Notch","dir":0},{"pos":[0,-10],"type":"Battery2x1","dir":0},{"pos":[30,-20],"type":"Engine03","dir":0},{"pos":[-30,10],"type":"UArmor1x1","dir":0},{"pos":[30,10],"type":"UArmor1x1","dir":0},{"pos":[0,20],"type":"ShapedWarhead","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",10],["@attackTypes enemy within #m","Ram",10000],["Try to field # every # seconds",2,30],["Field # at start",2]]},"","","","","",""];
  ais.all.Orbiter = [{"parts":[{"pos":[-20,-40],"type":"VArmor2x2","dir":0},{"pos":[80,-60],"type":"VArmor2x2","dir":0},{"pos":[-40,0],"type":"Mount180","dir":0},{"pos":[40,0],"type":"Mount180","dir":0},{"pos":[-20,40],"type":"Mount180","dir":0},{"pos":[20,40],"type":"Mount180","dir":0},{"pos":[50,-40],"type":"Battery1x2","dir":0},{"pos":[-10,-90],"type":"Engine01","dir":0},{"pos":[-50,-40],"type":"Battery1x2","dir":0},{"pos":[-80,-60],"type":"VArmor2x2","dir":0},{"pos":[-80,-20],"type":"VArmor2x2","dir":0},{"pos":[80,-20],"type":"VArmor2x2","dir":0},{"pos":[10,-90],"type":"Engine01","dir":0},{"pos":[20,-40],"type":"VArmor2x2","dir":0},{"pos":[-40,-80],"type":"Mount360Micro","dir":0},{"pos":[40,-80],"type":"Mount360Micro","dir":0},{"pos":[-50,-130],"type":"Solar3x3","dir":0},{"pos":[50,-130],"type":"Solar3x3","dir":0},{"pos":[-70,-90],"type":"Solar1x1","dir":0},{"pos":[70,-90],"type":"Solar1x1","dir":0},{"pos":[-80,10],"type":"Wing2x1","dir":0},{"pos":[80,10],"type":"Wing2x1","dir":0},{"pos":[0,0],"type":"BulletSpeedMod","dir":0},{"pos":[-40,0],"type":"TorpTurret","dir":0},{"pos":[-20,40],"type":"TorpTurret","dir":0},{"pos":[20,40],"type":"TorpTurret","dir":0},{"pos":[40,0],"type":"TorpTurret","dir":0},{"pos":[-40,-80],"type":"FlackTurret","dir":0},{"pos":[40,-80],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","slower","has PD",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Circle","slower","no PD",2000],["@attackTypes enemy within #m","Circle",1100],["@capTypes command points within #m","Capture",10000],["Field # at priority #",10,2]]},{"parts":[{"pos":[0,-90],"type":"Battery2x1","dir":0},{"pos":[30,-100],"type":"HArmor1x2","dir":0},{"pos":[-40,-20],"type":"HArmor2x2","dir":0},{"pos":[40,-20],"type":"HArmor2x2","dir":0},{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[-40,20],"type":"HArmor2x2Angle","dir":0},{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[40,20],"type":"HArmor2x2Angle","dir":0},{"pos":[20,-60],"type":"Mount30","dir":0},{"pos":[-60,-60],"type":"Mount30","dir":0},{"pos":[-20,-60],"type":"Mount30","dir":0},{"pos":[60,-60],"type":"Mount30","dir":0},{"pos":[-30,-110],"type":"Engine02","dir":0},{"pos":[0,-120],"type":"Solar2x2","dir":0},{"pos":[-70,-90],"type":"Wing1x1Round","dir":0},{"pos":[-50,-100],"type":"HArmor1x2","dir":0},{"pos":[50,-100],"type":"HArmor1x2","dir":0},{"pos":[70,-20],"type":"HArmor1x2","dir":0},{"pos":[-70,-20],"type":"HArmor1x2","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0},{"pos":[-60,-60],"type":"PDTurret","dir":0},{"pos":[-20,-60],"type":"PDTurret","dir":0},{"pos":[20,-60],"type":"PDTurret","dir":0},{"pos":[60,-60],"type":"PDTurret","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,30],["@capTypes command points within #m","Capture",2000],["@attackTypes enemy within #m","Attack",400],["@capTypes command points within #m","Guard",1000],["Field # at start",1],["Field # for # of @needTypes at priority #",1,3,"fighter counter need",1]]},{"parts":[],"name":"","aiRules":[]},{"parts":[],"name":"","aiRules":[]},{"parts":[],"name":"","aiRules":[]},"","","","",""];
  ais.all.Orblin = [{"parts":[{"pos":[30,-70],"type":"HArmor1x1","dir":0},{"pos":[-30,-70],"type":"HArmor1x1","dir":0},{"pos":[0,-40],"type":"DamageMod","dir":0},{"pos":[-20,0],"type":"Mount90","dir":0},{"pos":[50,0],"type":"Wing1x2","dir":0},{"pos":[-50,0],"type":"Wing1x2","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[20,0],"type":"Mount90","dir":0},{"pos":[30,-40],"type":"Battery1x2","dir":0},{"pos":[-30,-40],"type":"Battery1x2","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[0,-90],"type":"HArmor2x1","dir":0},{"pos":[30,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-60,-30],"type":"HArmor2x1","dir":0},{"pos":[60,-30],"type":"HArmor2x1","dir":0},{"pos":[-20,0],"type":"PlasmaTurret","dir":0},{"pos":[20,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","less brawling value","slower",850],["Try to field # every # seconds",1,15],["Field # at priority #",2,1],["@attackTypes enemy within #m","Attack",600],["@capTypes command points within #m","Capture",10000]]},{"parts":[{"pos":[-30,-50],"type":"UArmor1x1","dir":0},{"pos":[-10,30],"type":"OverKillAi","dir":0},{"pos":[70,-20],"type":"Battery1x2","dir":0},{"pos":[0,0],"type":"Mount270","dir":0},{"pos":[-40,-20],"type":"DamageMod","dir":0},{"pos":[40,-20],"type":"DamageMod","dir":0},{"pos":[40,20],"type":"DamageMod","dir":0},{"pos":[30,-50],"type":"UArmor1x1","dir":0},{"pos":[0,50],"type":"Battery2x1","dir":0},{"pos":[-40,20],"type":"DamageMod","dir":0},{"pos":[10,30],"type":"UArmor1x1","dir":0},{"pos":[-30,50],"type":"Wing1x1Round","dir":0},{"pos":[30,50],"type":"Wing1x1Round","dir":0},{"pos":[-70,-20],"type":"Battery1x2","dir":0},{"pos":[-50,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[50,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[0,-80],"type":"Engine07","dir":0},{"pos":[0,-40],"type":"DamageMod","dir":0},{"pos":[0,0],"type":"BombGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",40,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","more HP",400,1250],["Avoid over #damage shots",22],["@attackTypes enemy that is @absoluteTypes then # within #m","Circle","more HP",280,3000],["Goto @locationTypes","Friendly Army Middle"],["Field # for # of ship in slot # at priority #",1,1,1,3]]},{"parts":[{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[-30,-10],"type":"Wing1x1Notch","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["Field # at start",3],["Try to field # every # seconds",1,30],["@capTypes command points within #m","Spread to",10000]]},{"parts":[{"pos":[-20,20],"type":"Mount90","dir":0},{"pos":[20,20],"type":"Mount90","dir":0},{"pos":[0,-10],"type":"Battery2x1","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[-10,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[10,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[-20,20],"type":"LightBeamTurret","dir":0},{"pos":[20,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # for # of @needTypes at priority #",1,1,"fighter counter need",2],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","---","less brawling value",500],["Stay in #m range of slot # units",500,1],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","---","less brawling value",1500],["Field # for # of ship in slot # at priority #",1,2,1,1]]},{"parts":[],"name":"","aiRules":[]},"","","","",{"parts":[{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[-50,30],"type":"Wing1x1Round","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[0,-50],"type":"HArmor2x1","dir":0},{"pos":[-40,0],"type":"EnergyTransfer","dir":0},{"pos":[-30,30],"type":"Battery1x1","dir":0},{"pos":[50,30],"type":"Wing1x1Round","dir":0},{"pos":[30,30],"type":"Battery1x1","dir":0},{"pos":[40,0],"type":"EnergyTransfer","dir":0},{"pos":[0,20],"type":"Battery2x2","dir":0}],"name":"","aiRules":[["Avoid everything"],["Field # for # of ship in slot # at priority #",1,2,1,2],["Find units that are out of energy"],["Goto @locationTypes","Friendly Army Middle"]]}];
  ais.all.Parity = [{"parts":[{"pos":[0,40],"type":"Mount90","dir":0},{"pos":[30,20],"type":"Engine04","dir":0},{"pos":[0,10],"type":"Battery2x1","dir":0},{"pos":[-30,20],"type":"Engine04","dir":0},{"pos":[30,50],"type":"UArmor1x1Angle","dir":0},{"pos":[-30,50],"type":"UArmor1x1Angle","dir":0},{"pos":[0,70],"type":"UArmor2x1","dir":0},{"pos":[-10,-10],"type":"Wing1x1Round","dir":0},{"pos":[10,-10],"type":"Wing1x1Round","dir":0},{"pos":[0,40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",10],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Attack",300],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","---",1600],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","More Range",1500,1800],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",2],["Field # at priority #",1,2],["Field # at priority #",3,7]]},{"parts":[{"pos":[0,60],"type":"Reactor2x2","dir":0},{"pos":[50,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,40],"type":"Battery1x2","dir":0},{"pos":[30,40],"type":"Battery1x2","dir":0},{"pos":[-10,-100],"type":"Wing1x2","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[10,-100],"type":"Wing1x2","dir":0},{"pos":[-40,-40],"type":"ReloaderMod","dir":0},{"pos":[0,-60],"type":"TargetingMod","dir":0},{"pos":[40,-40],"type":"ReloaderMod","dir":0},{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[0,-20],"type":"Mount360","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[-50,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,-90],"type":"Engine02","dir":0},{"pos":[30,-90],"type":"Engine02","dir":0},{"pos":[-90,-30],"type":"Engine02","dir":0},{"pos":[90,-30],"type":"Engine02","dir":0},{"pos":[-70,10],"type":"Wing1x1Round","dir":0},{"pos":[70,10],"type":"Wing1x1Round","dir":0},{"pos":[-70,-20],"type":"HArmor1x2","dir":0},{"pos":[70,-20],"type":"HArmor1x2","dir":0},{"pos":[-50,-70],"type":"HArmor1x1","dir":0},{"pos":[50,-70],"type":"HArmor1x1","dir":0},{"pos":[-50,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,-20],"type":"HeavyBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",10],["Stay in #m range of slot # units",400,3],["Goto @locationTypes","Friendly Spawn"],["Field # at priority #",1,6]]},{"parts":[{"pos":[-40,50],"type":"ShieldGen2x1","dir":0},{"pos":[40,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-40,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[40,-50],"type":"Reactor2x1","dir":0},{"pos":[-40,-50],"type":"Reactor2x1","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[40,50],"type":"ShieldGen2x1","dir":0},{"pos":[-70,30],"type":"Wing1x1Round","dir":0},{"pos":[70,30],"type":"Wing1x1Round","dir":0},{"pos":[70,10],"type":"Wing1x1Round","dir":0},{"pos":[70,-30],"type":"Engine02","dir":0},{"pos":[-70,10],"type":"Wing1x1Round","dir":0},{"pos":[-70,-30],"type":"Engine02","dir":0},{"pos":[0,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When Shields down to #%, flee",30],["@attackTypes enemy within #m","Flee",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Slower",120,1500],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,1]]},{"parts":[{"pos":[-50,30],"type":"HArmor1x1Angle","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[60,-20],"type":"ReloaderMod","dir":0},{"pos":[-60,-20],"type":"ReloaderMod","dir":0},{"pos":[30,0],"type":"Wing1x2","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-30,0],"type":"Wing1x2","dir":0},{"pos":[20,-80],"type":"BulletSpeedMod","dir":0},{"pos":[-20,-80],"type":"BulletSpeedMod","dir":0},{"pos":[20,-40],"type":"ReloaderMod","dir":0},{"pos":[-60,-60],"type":"Mount360","dir":0},{"pos":[-20,-40],"type":"ReloaderMod","dir":0},{"pos":[60,-60],"type":"Mount360","dir":0},{"pos":[-50,10],"type":"HArmor1x1","dir":0},{"pos":[-70,10],"type":"HArmor1x1Angle","dir":0},{"pos":[70,10],"type":"HArmor1x1Angle","dir":0},{"pos":[50,10],"type":"HArmor1x1","dir":0},{"pos":[30,40],"type":"HArmor1x2","dir":0},{"pos":[-30,40],"type":"HArmor1x2","dir":0},{"pos":[50,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-60,-100],"type":"DamageMod","dir":0},{"pos":[60,-100],"type":"DamageMod","dir":0},{"pos":[-100,-80],"type":"TargetingMod","dir":0},{"pos":[100,-80],"type":"TargetingMod","dir":0},{"pos":[-100,-40],"type":"ReloaderMod","dir":0},{"pos":[100,-40],"type":"ReloaderMod","dir":0},{"pos":[-90,-10],"type":"Wing1x1Round","dir":0},{"pos":[90,-10],"type":"Wing1x1Round","dir":0},{"pos":[-30,-130],"type":"Engine02","dir":0},{"pos":[-10,-130],"type":"Engine02","dir":0},{"pos":[10,-130],"type":"Engine02","dir":0},{"pos":[30,-130],"type":"Engine02","dir":0},{"pos":[90,-110],"type":"HArmor1x1","dir":0},{"pos":[-90,-110],"type":"HArmor1x1","dir":0},{"pos":[0,40],"type":"PDTurret","dir":0},{"pos":[-60,-60],"type":"TorpTurret","dir":0},{"pos":[60,-60],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy within #m","Flee",700],["Stay in #m range of slot # units",300,3],["Goto @locationTypes","Friendly Spawn"],["Field # at start",1],["Field # at priority #",1,4],["Field # at priority #",3,11],["Field # at priority #",50,14]]},{"parts":[{"pos":[-70,30],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"BulletSpeedMod","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[20,80],"type":"BulletSpeedMod","dir":0},{"pos":[-20,80],"type":"BulletSpeedMod","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[70,-10],"type":"HArmor1x1","dir":0},{"pos":[-70,-10],"type":"HArmor1x1","dir":0},{"pos":[70,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[0,-40],"type":"EnergyTransfer","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[70,30],"type":"Wing1x1Round","dir":0},{"pos":[70,10],"type":"Wing1x1Round","dir":0},{"pos":[10,-70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,10],"type":"Wing1x1Round","dir":0},{"pos":[-40,0],"type":"Reactor2x2","dir":0},{"pos":[40,0],"type":"Reactor2x2","dir":0},{"pos":[-70,50],"type":"Wing1x1Round","dir":0},{"pos":[70,50],"type":"Wing1x1Round","dir":0},{"pos":[-50,-50],"type":"Engine02","dir":0},{"pos":[50,-50],"type":"Engine02","dir":0},{"pos":[-10,-70],"type":"HArmor1x1Angle","dir":0},{"pos":[0,40],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy within #m","Flee",1000],["Stay in #m range of slot # units",400,3],["Goto @locationTypes","Friendly Spawn"],["Field # at priority #",1,5]]},{"parts":[{"pos":[-90,20],"type":"Wing1x2","dir":0},{"pos":[-80,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[80,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[80,-60],"type":"Reactor2x2","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[70,20],"type":"HArmor1x2","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[-70,20],"type":"HArmor1x2","dir":0},{"pos":[-40,60],"type":"HArmor2x2","dir":0},{"pos":[-70,60],"type":"Wing1x2","dir":0},{"pos":[70,60],"type":"Wing1x2","dir":0},{"pos":[40,60],"type":"HArmor2x2","dir":0},{"pos":[90,20],"type":"Wing1x2","dir":0},{"pos":[0,80],"type":"HArmor2x2Front1","dir":0},{"pos":[-80,-60],"type":"Reactor2x2","dir":0},{"pos":[-50,-70],"type":"Engine01","dir":0},{"pos":[50,-70],"type":"Engine01","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[10,-80],"type":"Wing1x2","dir":0},{"pos":[-10,-80],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[0,40],"type":"DamageMod","dir":0},{"pos":[0,0],"type":"HeavyBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy within #m","Flee",500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Circle","---","Less Range",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","---","More Range",1500],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,9],["Field # at priority #",2,12]]},{"parts":[{"pos":[50,0],"type":"HArmor1x2","dir":0},{"pos":[70,60],"type":"Wing1x2","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[-40,80],"type":"ReloaderMod","dir":0},{"pos":[40,80],"type":"ReloaderMod","dir":0},{"pos":[30,-10],"type":"Engine01","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[0,60],"type":"Mount360","dir":0},{"pos":[-30,-10],"type":"Engine01","dir":0},{"pos":[-50,0],"type":"HArmor1x2","dir":0},{"pos":[-70,60],"type":"Wing1x2","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[-70,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-80,20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-90,50],"type":"HArmor1x1","dir":0},{"pos":[90,50],"type":"HArmor1x1","dir":0},{"pos":[70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[0,100],"type":"ReloaderMod","dir":0},{"pos":[-30,110],"type":"Battery1x1","dir":0},{"pos":[30,110],"type":"Battery1x1","dir":0},{"pos":[0,60],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["Stay in #m range of slot # units",150,3],["Goto @locationTypes","Friendly Spawn"],["Field # at priority #",1,3]]},{"parts":[{"pos":[40,-80],"type":"ReloaderMod","dir":0},{"pos":[0,-80],"type":"Mount360","dir":0},{"pos":[30,0],"type":"Wing1x2","dir":0},{"pos":[-30,40],"type":"Reactor1x2","dir":0},{"pos":[30,40],"type":"Reactor1x2","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-70,-110],"type":"Engine02","dir":0},{"pos":[-30,0],"type":"Wing1x2","dir":0},{"pos":[70,-110],"type":"Engine02","dir":0},{"pos":[-90,-70],"type":"Engine02","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[90,-70],"type":"Engine02","dir":0},{"pos":[-20,-120],"type":"BulletSpeedMod","dir":0},{"pos":[20,-120],"type":"BulletSpeedMod","dir":0},{"pos":[-50,-130],"type":"Engine02","dir":0},{"pos":[50,-130],"type":"Engine02","dir":0},{"pos":[-20,-40],"type":"DamageMod","dir":0},{"pos":[-40,-80],"type":"ReloaderMod","dir":0},{"pos":[20,-40],"type":"DamageMod","dir":0},{"pos":[-60,-40],"type":"HArmor2x2Angle","dir":0},{"pos":[60,-40],"type":"HArmor2x2Angle","dir":0},{"pos":[60,-10],"type":"Battery2x1","dir":0},{"pos":[-60,-10],"type":"Battery2x1","dir":0},{"pos":[-90,-20],"type":"Wing1x2","dir":0},{"pos":[90,-20],"type":"Wing1x2","dir":0},{"pos":[-50,20],"type":"HArmor1x2","dir":0},{"pos":[50,20],"type":"HArmor1x2","dir":0},{"pos":[-70,-70],"type":"HArmor1x1","dir":0},{"pos":[70,-70],"type":"HArmor1x1","dir":0},{"pos":[-70,10],"type":"Wing1x1Round","dir":0},{"pos":[70,10],"type":"Wing1x1Round","dir":0},{"pos":[0,-160],"type":"EnergyTransfer","dir":0},{"pos":[0,40],"type":"PDTurret","dir":0},{"pos":[0,-80],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy within #m","Flee",1000],["Stay in #m range of slot # units",300,3],["Goto @locationTypes","Friendly Spawn"],["Field # at priority #",2,10]]},{"parts":[{"pos":[-40,80],"type":"HArmor2x2Angle","dir":0},{"pos":[-20,-40],"type":"Battery2x2","dir":0},{"pos":[-40,40],"type":"Mount90","dir":0},{"pos":[-80,70],"type":"HArmor2x1","dir":0},{"pos":[80,70],"type":"HArmor2x1","dir":0},{"pos":[90,90],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[110,-40],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[50,110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-40,0],"type":"Mount30","dir":0},{"pos":[40,0],"type":"Mount30","dir":0},{"pos":[0,40],"type":"Mount30","dir":0},{"pos":[90,-40],"type":"Battery1x2","dir":0},{"pos":[-90,-40],"type":"Battery1x2","dir":0},{"pos":[-70,-50],"type":"Engine01","dir":0},{"pos":[70,-50],"type":"Engine01","dir":0},{"pos":[-110,-40],"type":"Wing1x2","dir":0},{"pos":[-50,-50],"type":"Engine01","dir":0},{"pos":[50,-50],"type":"Engine01","dir":0},{"pos":[40,40],"type":"Mount90","dir":0},{"pos":[-20,120],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,-90],"type":"Engine01","dir":0},{"pos":[30,-90],"type":"Engine01","dir":0},{"pos":[20,120],"type":"HArmor2x2Angle","dir":0},{"pos":[-50,110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,80],"type":"Battery2x2","dir":0},{"pos":[0,-80],"type":"HArmor2x2","dir":0},{"pos":[20,-40],"type":"Battery2x2","dir":0},{"pos":[40,80],"type":"HArmor2x2Angle","dir":0},{"pos":[110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-130,-50],"type":"HArmor1x1Angle","dir":0},{"pos":[-100,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[100,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-110,40],"type":"Wing1x2","dir":0},{"pos":[-120,0],"type":"HArmor2x2AngleBack","dir":0},{"pos":[110,40],"type":"Wing1x2","dir":0},{"pos":[-90,90],"type":"HArmor1x1Angle","dir":0},{"pos":[130,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-130,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[120,0],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-130,30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[130,-50],"type":"HArmor1x1Angle","dir":0},{"pos":[130,30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-80,0],"type":"HArmor2x2","dir":0},{"pos":[-80,40],"type":"HArmor2x2","dir":0},{"pos":[80,40],"type":"HArmor2x2","dir":0},{"pos":[80,0],"type":"HArmor2x2","dir":0},{"pos":[-150,10],"type":"HArmor1x1Angle","dir":0},{"pos":[150,10],"type":"HArmor1x1Angle","dir":0},{"pos":[-10,-110],"type":"Wing1x1Round","dir":0},{"pos":[10,-110],"type":"Wing1x1Round","dir":0},{"pos":[0,40],"type":"LightBeamTurret","dir":0},{"pos":[-40,0],"type":"LightBeamTurret","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0},{"pos":[40,0],"type":"LightBeamTurret","dir":0},{"pos":[-40,40],"type":"LightBeamTurret","dir":0},{"pos":[40,40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","---","More expensive",10000],["Stay in #m range of slot # units",300,3],["Field # at priority #",2,13]]},{"parts":[{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[70,-20],"type":"Reactor1x2","dir":0},{"pos":[-70,-20],"type":"Reactor1x2","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[-10,-90],"type":"Wing1x1Round","dir":0},{"pos":[10,-90],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-50,10],"type":"Wing1x1Round","dir":0},{"pos":[50,10],"type":"Wing1x1Round","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-50,-60],"type":"Engine04","dir":0},{"pos":[50,-60],"type":"Engine04","dir":0},{"pos":[-30,20],"type":"Battery1x2","dir":0},{"pos":[30,20],"type":"Battery1x2","dir":0},{"pos":[0,-70],"type":"ShieldGen2x1","dir":0},{"pos":[0,0],"type":"PDTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",35],["@attackTypes enemy within #m","Flee",1000],["Stay in #m range of slot # units",200,3],["Goto @locationTypes","Friendly Spawn"],["Field # at priority #",1,8]]}];
  ais.all.Podlings = [{"parts":[{"pos":[80,20],"type":"Battery2x2","dir":0},{"pos":[40,110],"type":"Wing2x1","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[40,80],"type":"ReloaderMod","dir":0},{"pos":[0,100],"type":"ReloaderMod","dir":0},{"pos":[90,50],"type":"Battery1x1","dir":0},{"pos":[0,60],"type":"Mount360","dir":0},{"pos":[70,60],"type":"Battery1x2","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[-70,60],"type":"Battery1x2","dir":0},{"pos":[-40,110],"type":"Wing2x1","dir":0},{"pos":[0,20],"type":"ReloaderMod","dir":0},{"pos":[-40,80],"type":"ReloaderMod","dir":0},{"pos":[80,-20],"type":"Battery2x2","dir":0},{"pos":[80,-60],"type":"Engine07","dir":0},{"pos":[120,10],"type":"Reactor2x1","dir":0},{"pos":[120,-10],"type":"Reactor2x1","dir":0},{"pos":[120,-40],"type":"Engine07","dir":0},{"pos":[90,70],"type":"Wing1x1Notch","dir":0},{"pos":[70,90],"type":"Wing1x1Notch","dir":0},{"pos":[-70,90],"type":"Wing1x1Notch","dir":0},{"pos":[120,30],"type":"HArmor1x2Front2","dir":0},{"pos":[0,60],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",15],["Avoid #dps danger areas",1],["When #% of energy, @chargeTypes",10,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","More HP",1200],["@capTypes Command Points within #m","Capture",250],["@capTypes Command Points within #m","Protect",3000],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,13]]},{"parts":[{"pos":[-10,-10],"type":"Reactor1x1","dir":0},{"pos":[-10,10],"type":"Wing1x1Notch","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[-40,-20],"type":"Mount30","dir":0},{"pos":[-40,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",1],["Avoid everything"],["Avoid #dps danger areas",1],["@capTypes Command Points within #m","Capture",250],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",2,3],["Field # at priority #",1,7],["Field # at priority #",1,10]]},{"parts":[{"pos":[70,30],"type":"Wing1x1Notch","dir":0},{"pos":[40,30],"type":"Reactor2x1","dir":0},{"pos":[0,40],"type":"Mount30","dir":0},{"pos":[-30,10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-110,30],"type":"ShieldGen1x1","dir":0},{"pos":[-80,70],"type":"HArmor1x2Font1","dir":0},{"pos":[-80,10],"type":"HArmor1x2Back1","dir":0},{"pos":[30,10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-80,40],"type":"Mount360Micro","dir":0},{"pos":[-80,-20],"type":"Engine07","dir":0},{"pos":[-110,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-110,60],"type":"VArmor1x1Hook","dir":0},{"pos":[50,50],"type":"Wing1x1Notch","dir":0},{"pos":[30,50],"type":"UArmor1x1","dir":0},{"pos":[0,0],"type":"Battery2x2","dir":0},{"pos":[-40,40],"type":"Mount180","dir":0},{"pos":[0,40],"type":"HeavyBeamTurret","dir":0},{"pos":[-80,40],"type":"PDTurret","dir":0},{"pos":[-40,40],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",1],["When #% of energy, @chargeTypes",10,"Find recharger"],["@attackTypes enemy within #m","Stay at range",400],["@attackTypes enemy @unitTypes within #m","Attack","Scout",500],["@attackTypes enemy @unitTypes within #m","Attack","Brick",500],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",500],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",600],["Stay in #m range of slot # units",500,6],["Stay in #m range of slot # units",500,7],["@capTypes Command Points within #m","Spread to",2000],["Field # for # of ship in slot # at priority #",2,1,6,7],["Field # at priority #",2,7],["Field # at priority #",3,10]]},{"parts":[{"pos":[-40,170],"type":"HArmor1x2Font1","dir":0},{"pos":[190,150],"type":"Wing1x1Notch","dir":0},{"pos":[20,50],"type":"Battery2x1","dir":0},{"pos":[20,80],"type":"Mount360","dir":0},{"pos":[90,70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[20,150],"type":"HArmor1x2Font1","dir":0},{"pos":[20,-10],"type":"HArmor1x2Back1","dir":0},{"pos":[20,10],"type":"Battery2x1","dir":0},{"pos":[10,30],"type":"Reactor1x1","dir":0},{"pos":[30,30],"type":"Battery1x1","dir":0},{"pos":[190,90],"type":"Wing1x1Notch","dir":0},{"pos":[190,70],"type":"UArmor1x1Angle","dir":0},{"pos":[190,50],"type":"Wing1x1Notch","dir":0},{"pos":[80,130],"type":"HArmor1x2Font1","dir":0},{"pos":[170,-10],"type":"Engine02","dir":0},{"pos":[160,170],"type":"HArmor1x2Font1","dir":0},{"pos":[160,30],"type":"HArmor1x2Back1","dir":0},{"pos":[120,90],"type":"Wing2x1","dir":0},{"pos":[80,100],"type":"Mount180","dir":0},{"pos":[150,-10],"type":"Engine01","dir":0},{"pos":[-40,140],"type":"Mount180","dir":0},{"pos":[-70,150],"type":"Wing1x1Notch","dir":0},{"pos":[-70,130],"type":"Wing1x1Notch","dir":0},{"pos":[-40,110],"type":"ShieldGen2x1","dir":0},{"pos":[-40,90],"type":"HArmor1x2Back1","dir":0},{"pos":[-10,130],"type":"Battery1x1","dir":0},{"pos":[160,80],"type":"Mount270","dir":0},{"pos":[160,140],"type":"Mount270","dir":0},{"pos":[20,120],"type":"ReloaderMod","dir":0},{"pos":[-10,110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[60,70],"type":"Reactor2x1","dir":0},{"pos":[160,110],"type":"HArmor2x1","dir":0},{"pos":[160,50],"type":"Battery2x1","dir":0},{"pos":[80,100],"type":"MissileTurret","dir":0},{"pos":[160,140],"type":"FlackTurret","dir":0},{"pos":[160,80],"type":"HeavyPDTurret","dir":0},{"pos":[20,80],"type":"PlasmaTurret","dir":0},{"pos":[-40,140],"type":"BombGun","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",10,"Rest"],["@capTypes Command Points within #m","Protect",800],["@capTypes Command Points within #m","Guard",5000],["Stay in #m range of slot # units",400,7],["Stay in #m range of slot # units",800,8],["Stay in #m range of slot # units",800,6],["Field # at priority #",1,5],["Field # at priority #",2,8],["Field # at priority #",3,9]]},{"parts":[{"pos":[40,60],"type":"ReloaderMod","dir":0},{"pos":[0,-90],"type":"HArmor1x2Back1","dir":0},{"pos":[0,80],"type":"Mount360","dir":0},{"pos":[0,120],"type":"ReloaderMod","dir":0},{"pos":[40,100],"type":"ReloaderMod","dir":0},{"pos":[-40,140],"type":"Mount360Micro","dir":0},{"pos":[0,10],"type":"ShieldGen2x1","dir":0},{"pos":[-40,170],"type":"HArmor1x2Font1","dir":0},{"pos":[140,140],"type":"Reactor2x2","dir":0},{"pos":[100,150],"type":"Wing2x1","dir":0},{"pos":[140,170],"type":"HArmor1x2Font1","dir":0},{"pos":[70,140],"type":"HArmor1x2","dir":0},{"pos":[150,70],"type":"Engine01","dir":0},{"pos":[130,70],"type":"Engine01","dir":0},{"pos":[140,110],"type":"HArmor1x2Back1","dir":0},{"pos":[0,150],"type":"Wing2x1","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[0,-60],"type":"Battery2x2","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[-40,100],"type":"ReloaderMod","dir":0},{"pos":[-80,80],"type":"ReloaderMod","dir":0},{"pos":[-160,60],"type":"Reactor2x2","dir":0},{"pos":[-160,90],"type":"HArmor1x2Font1","dir":0},{"pos":[-160,30],"type":"HArmor1x2Back1","dir":0},{"pos":[-170,-10],"type":"Engine01","dir":0},{"pos":[-150,-10],"type":"Engine01","dir":0},{"pos":[-110,60],"type":"HArmor1x2","dir":0},{"pos":[-130,70],"type":"Wing1x1Notch","dir":0},{"pos":[40,170],"type":"HArmor1x2Font1","dir":0},{"pos":[40,140],"type":"Mount90","dir":0},{"pos":[-40,60],"type":"Mount90","dir":0},{"pos":[-80,40],"type":"ReloaderMod","dir":0},{"pos":[40,140],"type":"HeavyBeamTurret","dir":0},{"pos":[-40,140],"type":"FlackTurret","dir":0},{"pos":[0,80],"type":"PlasmaTurret","dir":0},{"pos":[-40,60],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",10],["When #% of energy, @chargeTypes",10,"Find recharger"],["@capTypes Command Points within #m","Guard",10000],["Field # at priority #",1,7],["Field # at priority #",2,9],["Field # at priority #",3,13]]},{"parts":[{"pos":[-90,-90],"type":"HArmor1x1","dir":0},{"pos":[-10,10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[140,-110],"type":"HArmor1x2Back1","dir":0},{"pos":[140,-50],"type":"HArmor1x2Font1","dir":0},{"pos":[150,-150],"type":"Engine01","dir":0},{"pos":[140,-30],"type":"HArmor1x2Back1","dir":0},{"pos":[-180,-50],"type":"HArmor1x2Back1","dir":0},{"pos":[140,0],"type":"HArmor2x2","dir":0},{"pos":[110,-90],"type":"HArmor1x1","dir":0},{"pos":[-170,-90],"type":"Engine01","dir":0},{"pos":[-190,-90],"type":"Engine01","dir":0},{"pos":[0,-170],"type":"HArmor1x2Back1","dir":0},{"pos":[-110,-10],"type":"HArmor1x1","dir":0},{"pos":[-130,-10],"type":"HArmor1x1","dir":0},{"pos":[0,70],"type":"HArmor1x2Back1","dir":0},{"pos":[0,-30],"type":"Wing2x1","dir":0},{"pos":[0,-50],"type":"Reactor2x1","dir":0},{"pos":[0,-70],"type":"Wing2x1","dir":0},{"pos":[90,10],"type":"HArmor1x1","dir":0},{"pos":[110,10],"type":"HArmor1x1","dir":0},{"pos":[0,-100],"type":"HArmor2x2","dir":0},{"pos":[80,-140],"type":"HArmor2x2Angle","dir":0},{"pos":[80,-170],"type":"HArmor1x2Back1","dir":0},{"pos":[0,-140],"type":"Mount360Micro","dir":0},{"pos":[60,-20],"type":"HArmor2x2","dir":0},{"pos":[0,190],"type":"HArmor1x2Font1","dir":0},{"pos":[0,40],"type":"Reactor2x2","dir":0},{"pos":[140,-80],"type":"Battery2x2","dir":0},{"pos":[-150,-10],"type":"HArmor1x1","dir":0},{"pos":[0,90],"type":"HArmor2x1","dir":0},{"pos":[-70,10],"type":"Engine01","dir":0},{"pos":[-90,20],"type":"HArmor1x2","dir":0},{"pos":[-90,-20],"type":"HArmor1x2","dir":0},{"pos":[90,-90],"type":"HArmor1x1","dir":0},{"pos":[-90,-60],"type":"HArmor1x2","dir":0},{"pos":[-30,30],"type":"HArmor1x1","dir":0},{"pos":[-50,30],"type":"HArmor1x1","dir":0},{"pos":[170,-10],"type":"Wing1x1Notch","dir":0},{"pos":[30,150],"type":"OverKillAi","dir":0},{"pos":[10,10],"type":"HArmor1x1Angle","dir":0},{"pos":[90,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[60,180],"type":"HArmor2x2Front1","dir":0},{"pos":[-110,70],"type":"Wing1x1Notch","dir":0},{"pos":[170,-90],"type":"Wing1x1Notch","dir":0},{"pos":[30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[-80,130],"type":"HArmor1x2Font1","dir":0},{"pos":[70,60],"type":"HArmor1x2","dir":0},{"pos":[50,60],"type":"HArmor1x2","dir":0},{"pos":[60,20],"type":"HArmor2x2","dir":0},{"pos":[70,-60],"type":"HArmor1x2","dir":0},{"pos":[-170,-20],"type":"HArmor1x2","dir":0},{"pos":[-190,-20],"type":"HArmor1x2","dir":0},{"pos":[-180,10],"type":"Battery2x1","dir":0},{"pos":[90,30],"type":"Wing1x1Round","dir":0},{"pos":[-100,-120],"type":"HArmor2x2Angle","dir":0},{"pos":[-100,-150],"type":"HArmor1x2Back1","dir":0},{"pos":[70,-100],"type":"HArmor1x2","dir":0},{"pos":[-40,-30],"type":"Wing2x1","dir":0},{"pos":[170,-70],"type":"Wing1x1Notch","dir":0},{"pos":[-110,10],"type":"HArmor1x1Angle","dir":0},{"pos":[-180,40],"type":"HArmor2x2","dir":0},{"pos":[-80,60],"type":"HArmor2x2","dir":0},{"pos":[0,120],"type":"HArmor2x2","dir":0},{"pos":[60,100],"type":"HArmor2x2","dir":0},{"pos":[0,160],"type":"Mount360","dir":0},{"pos":[140,40],"type":"HArmor2x2","dir":0},{"pos":[140,70],"type":"HArmor1x2Font1","dir":0},{"pos":[-180,70],"type":"HArmor1x2Font1","dir":0},{"pos":[60,140],"type":"Mount270","dir":0},{"pos":[-40,-50],"type":"Wing2x1","dir":0},{"pos":[-40,-110],"type":"Wing2x1","dir":0},{"pos":[-40,-130],"type":"Wing2x1","dir":0},{"pos":[130,-150],"type":"Engine01","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[-80,100],"type":"HArmor2x2","dir":0},{"pos":[0,-140],"type":"PDTurret","dir":0},{"pos":[0,160],"type":"MissileTurret","dir":0},{"pos":[60,140],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",70],["When #% of energy, @chargeTypes",5,"Find recharger"],["@attackTypes enemy @unitTypes within #m","Stay at range","Cruiser",800],["@capTypes Command Points within #m","Capture",300],["@capTypes Command Points within #m","Protect",400],["@capTypes Command Points within #m","Spread to",10000],["Stay in #m range of friendly units",400],["Stay in #m range of slot # units",900,7],["Field # at start",1],["Field # at priority #",1,7],["Field # at priority #",2,14],["Field # for # of ship in slot # at priority #",1,1,6,4]]},{"parts":[{"pos":[110,30],"type":"Battery1x1","dir":0},{"pos":[110,60],"type":"Battery1x2","dir":0},{"pos":[40,80],"type":"ReloaderMod","dir":0},{"pos":[-160,40],"type":"HArmor2x2","dir":0},{"pos":[-160,10],"type":"Battery2x1","dir":0},{"pos":[-150,-50],"type":"Engine01","dir":0},{"pos":[-160,-10],"type":"HArmor1x2Back1","dir":0},{"pos":[0,-50],"type":"Battery2x1","dir":0},{"pos":[40,150],"type":"HArmor1x2Font1","dir":0},{"pos":[0,-70],"type":"HArmor1x2Back1","dir":0},{"pos":[-40,150],"type":"HArmor1x2Font1","dir":0},{"pos":[-170,-50],"type":"Engine01","dir":0},{"pos":[10,-100],"type":"Engine04","dir":0},{"pos":[0,-20],"type":"Battery2x2","dir":0},{"pos":[0,60],"type":"Mount360","dir":0},{"pos":[-10,-110],"type":"Engine02","dir":0},{"pos":[-160,150],"type":"HArmor1x2Front2","dir":0},{"pos":[-80,60],"type":"Mount180","dir":0},{"pos":[180,130],"type":"HArmor1x2Font1","dir":0},{"pos":[180,110],"type":"UArmor2x1","dir":0},{"pos":[180,30],"type":"HArmor2x1","dir":0},{"pos":[180,90],"type":"Reactor2x1","dir":0},{"pos":[190,-50],"type":"Engine01","dir":0},{"pos":[180,60],"type":"Mount360Micro","dir":0},{"pos":[180,0],"type":"HArmor2x2Back1","dir":0},{"pos":[80,60],"type":"Mount180","dir":0},{"pos":[-120,50],"type":"Wing2x1","dir":0},{"pos":[140,50],"type":"Wing2x1","dir":0},{"pos":[170,-50],"type":"Engine01","dir":0},{"pos":[30,-90],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[70,90],"type":"HArmor1x1Angle","dir":0},{"pos":[130,30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[-70,130],"type":"Wing1x1Notch","dir":0},{"pos":[-70,110],"type":"Wing1x1Notch","dir":0},{"pos":[130,70],"type":"HArmor1x1Angle","dir":0},{"pos":[40,120],"type":"Mount180","dir":0},{"pos":[-160,80],"type":"HArmor2x2","dir":0},{"pos":[-40,120],"type":"Mount360Micro","dir":0},{"pos":[-160,120],"type":"Reactor2x2","dir":0},{"pos":[-40,80],"type":"TargetingMod","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[0,100],"type":"TargetingMod","dir":0},{"pos":[0,20],"type":"ReloaderMod","dir":0},{"pos":[180,60],"type":"PDTurret","dir":0},{"pos":[-80,60],"type":"MissileTurret","dir":0},{"pos":[80,60],"type":"MissileTurret","dir":0},{"pos":[0,60],"type":"MissileTurret","dir":0},{"pos":[-40,120],"type":"FlackTurret","dir":0},{"pos":[40,120],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",50],["When #% of energy, @chargeTypes",5,"Find recharger"],["@attackTypes enemy @unitTypes within #m","Attack","Carrier",900],["@capTypes Command Points within #m","Capture",400],["@capTypes Command Points within #m","Protect",1800],["Stay in #m range of slot # units",800,6],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,5],["Field # at priority #",2,9],["Field # at priority #",3,14]]},{"parts":[{"pos":[-170,-10],"type":"Engine01","dir":0},{"pos":[40,10],"type":"Battery2x1","dir":0},{"pos":[40,80],"type":"TargetingMod","dir":0},{"pos":[-40,80],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[0,100],"type":"ReloaderMod","dir":0},{"pos":[0,130],"type":"Battery2x1","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[0,-130],"type":"HArmor1x2Back1","dir":0},{"pos":[0,190],"type":"HArmor1x2Font1","dir":0},{"pos":[10,-60],"type":"HArmor1x2","dir":0},{"pos":[-10,-60],"type":"HArmor1x2","dir":0},{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[0,-100],"type":"HArmor2x2","dir":0},{"pos":[0,160],"type":"Mount360","dir":0},{"pos":[-40,10],"type":"Battery2x1","dir":0},{"pos":[-160,90],"type":"HArmor2x1","dir":0},{"pos":[-160,110],"type":"HArmor2x1","dir":0},{"pos":[-150,-10],"type":"Engine01","dir":0},{"pos":[-160,60],"type":"Reactor2x2","dir":0},{"pos":[-160,30],"type":"HArmor1x2Back1","dir":0},{"pos":[0,60],"type":"Mount360","dir":0},{"pos":[-120,60],"type":"Wing2x2","dir":0},{"pos":[150,-30],"type":"Engine01","dir":0},{"pos":[170,-30],"type":"Engine01","dir":0},{"pos":[160,10],"type":"HArmor1x2Back1","dir":0},{"pos":[160,30],"type":"HArmor2x1","dir":0},{"pos":[160,90],"type":"HArmor1x2Front2","dir":0},{"pos":[160,60],"type":"Mount180","dir":0},{"pos":[-80,60],"type":"Mount270","dir":0},{"pos":[-40,120],"type":"Mount180","dir":0},{"pos":[-160,130],"type":"HArmor1x2Font1","dir":0},{"pos":[80,60],"type":"Mount90","dir":0},{"pos":[80,20],"type":"Battery2x2","dir":0},{"pos":[120,40],"type":"Wing2x2","dir":0},{"pos":[0,160],"type":"PDTurret","dir":0},{"pos":[160,60],"type":"FlackTurret","dir":0},{"pos":[0,60],"type":"PlasmaTurret","dir":0},{"pos":[-80,60],"type":"PlasmaTurret","dir":0},{"pos":[-40,120],"type":"PlasmaTurret","dir":0},{"pos":[80,60],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",50],["@capTypes Command Points within #m","Capture",200],["When #% of energy, @chargeTypes",10,"Find recharger"],["Stay in #m range of slot # units",600,6],["Stay in #m range of slot # units",600,7],["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","Slower",150,750],["@capTypes Command Points within #m","Protect",2000],["@capTypes Command Points within #m","Guard",10000],["Field # at start",1],["Field # for # of ship in slot # at priority #",1,1,6,5],["Field # at priority #",2,10],["Field # at priority #",3,14]]},{"parts":[{"pos":[-150,-10],"type":"Engine01","dir":0},{"pos":[-160,30],"type":"HArmor1x2Back1","dir":0},{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[0,60],"type":"Mount360","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[40,80],"type":"TargetingMod","dir":0},{"pos":[-40,120],"type":"Mount30","dir":0},{"pos":[-40,80],"type":"ReloaderMod","dir":0},{"pos":[40,120],"type":"Mount30","dir":0},{"pos":[-80,60],"type":"Mount360","dir":0},{"pos":[0,100],"type":"ReloaderMod","dir":0},{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[-40,0],"type":"Mount30","dir":0},{"pos":[0,140],"type":"Mount30","dir":0},{"pos":[-80,100],"type":"Mount30","dir":0},{"pos":[-80,130],"type":"Battery2x1","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[120,100],"type":"Mount30","dir":0},{"pos":[110,-10],"type":"Engine01","dir":0},{"pos":[120,30],"type":"HArmor1x2Back1","dir":0},{"pos":[150,50],"type":"Wing1x1Notch","dir":0},{"pos":[130,-10],"type":"Engine01","dir":0},{"pos":[80,60],"type":"Wing2x2","dir":0},{"pos":[-130,50],"type":"Wing1x1Notch","dir":0},{"pos":[-110,50],"type":"HArmor1x1","dir":0},{"pos":[-160,60],"type":"HArmor2x2","dir":0},{"pos":[80,120],"type":"Wing2x2","dir":0},{"pos":[-170,-10],"type":"Engine01","dir":0},{"pos":[-110,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-80,150],"type":"HArmor2x1","dir":0},{"pos":[-80,20],"type":"Reactor2x2","dir":0},{"pos":[-80,-10],"type":"Battery2x1","dir":0},{"pos":[-80,-40],"type":"Reactor2x2","dir":0},{"pos":[-80,-70],"type":"HArmor1x2Back1","dir":0},{"pos":[-160,100],"type":"Mount360Micro","dir":0},{"pos":[-160,130],"type":"HArmor1x2Front2","dir":0},{"pos":[-110,30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,-100],"type":"HArmor2x2Back2","dir":0},{"pos":[120,170],"type":"HArmor1x2Font1","dir":0},{"pos":[0,170],"type":"HArmor1x2Font1","dir":0},{"pos":[-80,170],"type":"HArmor1x2Front2","dir":0},{"pos":[120,60],"type":"Battery2x2","dir":0},{"pos":[40,0],"type":"Mount360Micro","dir":0},{"pos":[120,140],"type":"Mount30","dir":0},{"pos":[0,-70],"type":"Battery2x1","dir":0},{"pos":[0,-50],"type":"HArmor2x1","dir":0},{"pos":[40,0],"type":"PDTurret","dir":0},{"pos":[40,120],"type":"TorpTurret","dir":0},{"pos":[120,140],"type":"TorpTurret","dir":0},{"pos":[120,100],"type":"TorpTurret","dir":0},{"pos":[0,140],"type":"TorpTurret","dir":0},{"pos":[-40,0],"type":"TorpTurret","dir":0},{"pos":[-80,100],"type":"TorpTurret","dir":0},{"pos":[-40,120],"type":"TorpTurret","dir":0},{"pos":[0,-20],"type":"TorpTurret","dir":0},{"pos":[0,60],"type":"MissileTurret","dir":0},{"pos":[-80,60],"type":"MissileTurret","dir":0},{"pos":[-160,100],"type":"FlackTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",50],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Weaker",400],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","More HP","---",1100],["Stay in #m range of slot # units",500,6],["Stay in #m range of slot # units",450,7],["@capTypes Command Points within #m","Capture",200],["@capTypes Command Points within #m","Protect",2000],["@capTypes Command Points within #m","Guard",10000],["Field # at priority #",1,8],["Field # at priority #",2,11],["Field # at priority #",2,15]]},{"parts":[{"pos":[-140,60],"type":"Mount360","dir":0},{"pos":[150,-50],"type":"Engine02","dir":0},{"pos":[40,40],"type":"Mount360","dir":0},{"pos":[0,40],"type":"EnergyTransfer","dir":0},{"pos":[10,100],"type":"Battery1x2","dir":0},{"pos":[20,70],"type":"ShieldGen2x1","dir":0},{"pos":[80,30],"type":"Wing2x1","dir":0},{"pos":[20,-60],"type":"Battery2x2","dir":0},{"pos":[110,30],"type":"Wing1x1Notch","dir":0},{"pos":[20,-140],"type":"Reactor2x2","dir":0},{"pos":[20,-100],"type":"Reactor2x2","dir":0},{"pos":[140,20],"type":"Battery2x2","dir":0},{"pos":[140,60],"type":"Mount360","dir":0},{"pos":[20,-180],"type":"Engine07","dir":0},{"pos":[140,-10],"type":"HArmor1x2Back1","dir":0},{"pos":[140,90],"type":"HArmor1x2Font1","dir":0},{"pos":[-140,20],"type":"Battery2x2","dir":0},{"pos":[-140,90],"type":"HArmor1x2Font1","dir":0},{"pos":[-10,10],"type":"Wing1x1Notch","dir":0},{"pos":[-140,-50],"type":"HArmor1x2Back1","dir":0},{"pos":[-140,-20],"type":"Reactor2x2","dir":0},{"pos":[-100,10],"type":"Wing2x1","dir":0},{"pos":[-60,10],"type":"HArmor2x1","dir":0},{"pos":[-30,10],"type":"Wing1x1Notch","dir":0},{"pos":[10,10],"type":"Wing1x1Notch","dir":0},{"pos":[10,-20],"type":"Battery1x2","dir":0},{"pos":[10,170],"type":"Wing1x1Notch","dir":0},{"pos":[10,140],"type":"Battery1x2","dir":0},{"pos":[30,-30],"type":"Wing1x1Notch","dir":0},{"pos":[-150,-90],"type":"Engine02","dir":0},{"pos":[40,40],"type":"HeavyBeamTurret","dir":0},{"pos":[140,60],"type":"FlackTurret","dir":0},{"pos":[-140,60],"type":"HeavyPDTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",1],["Avoid #dps danger areas",1],["When #% of energy, @chargeTypes",10,"Flee enemies"],["When #% of energy, @chargeTypes",10,"Rest"],["Find units that are out of energy"],["Stay in #m range of friendly units",900],["Field # at priority #",1,6],["Field # at priority #",2,9]]}];
  ais.all.PointDefender = [{"parts":[{"pos":[70,-70],"type":"Wing1x1Round","dir":0},{"pos":[-50,-70],"type":"Battery1x1","dir":0},{"pos":[-40,-50],"type":"Reactor2x1","dir":0},{"pos":[40,-50],"type":"Reactor2x1","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[-30,20],"type":"HArmor1x2","dir":0},{"pos":[30,70],"type":"Wing1x1Round","dir":0},{"pos":[-30,70],"type":"Wing1x1Round","dir":0},{"pos":[-30,50],"type":"Battery1x1","dir":0},{"pos":[30,50],"type":"Battery1x1","dir":0},{"pos":[30,20],"type":"HArmor1x2","dir":0},{"pos":[-50,10],"type":"HArmor1x1Angle","dir":0},{"pos":[50,10],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-20],"type":"Mount90","dir":0},{"pos":[0,-60],"type":"Mount270","dir":0},{"pos":[-40,-20],"type":"Mount90","dir":0},{"pos":[40,-20],"type":"Mount90","dir":0},{"pos":[0,50],"type":"Reactor2x1","dir":0},{"pos":[50,-70],"type":"Battery1x1","dir":0},{"pos":[-70,-70],"type":"Wing1x1Round","dir":0},{"pos":[70,-30],"type":"Wing1x1Round","dir":0},{"pos":[-70,-30],"type":"Wing1x1Round","dir":0},{"pos":[-30,-90],"type":"Engine02","dir":0},{"pos":[30,-90],"type":"Engine02","dir":0},{"pos":[-10,-100],"type":"Engine04","dir":0},{"pos":[10,-100],"type":"Engine04","dir":0},{"pos":[50,-100],"type":"Engine04","dir":0},{"pos":[70,-100],"type":"Engine04","dir":0},{"pos":[-50,-100],"type":"Engine04","dir":0},{"pos":[-70,-100],"type":"Engine04","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[0,-60],"type":"PDTurret","dir":0},{"pos":[0,20],"type":"PDTurret","dir":0},{"pos":[40,-20],"type":"TorpTurret","dir":0},{"pos":[0,-20],"type":"TorpTurret","dir":0},{"pos":[-40,-20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Flee",700],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Bomb",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","More HP",3000],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",2,1],["Field # at priority #",5,2]]},{"parts":[{"pos":[-20,90],"type":"HArmor2x1","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[-60,20],"type":"Mount90","dir":0},{"pos":[60,20],"type":"Mount90","dir":0},{"pos":[0,60],"type":"Mount270","dir":0},{"pos":[-110,-20],"type":"Engine04","dir":0},{"pos":[-40,60],"type":"Mount90","dir":0},{"pos":[0,-20],"type":"Mount90","dir":0},{"pos":[40,60],"type":"Mount90","dir":0},{"pos":[110,-20],"type":"Engine04","dir":0},{"pos":[90,-40],"type":"Engine04","dir":0},{"pos":[80,-10],"type":"Battery2x1","dir":0},{"pos":[-90,-40],"type":"Engine04","dir":0},{"pos":[30,20],"type":"Reactor1x2","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[-50,90],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,20],"type":"Reactor1x2","dir":0},{"pos":[100,10],"type":"HArmor2x1","dir":0},{"pos":[-80,-10],"type":"Battery2x1","dir":0},{"pos":[50,90],"type":"HArmor1x1Angle","dir":0},{"pos":[-100,10],"type":"HArmor2x1","dir":0},{"pos":[20,90],"type":"HArmor2x1","dir":0},{"pos":[130,10],"type":"HArmor1x1Angle","dir":0},{"pos":[110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[70,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,70],"type":"HArmor1x1Angle","dir":0},{"pos":[-130,10],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,110],"type":"HArmor1x1Angle","dir":0},{"pos":[30,110],"type":"HArmor1x1Angle","dir":0},{"pos":[40,-30],"type":"Wing2x1","dir":0},{"pos":[40,-10],"type":"Battery2x1","dir":0},{"pos":[-40,-30],"type":"Wing2x1","dir":0},{"pos":[-40,-10],"type":"Battery2x1","dir":0},{"pos":[0,110],"type":"Reactor2x1","dir":0},{"pos":[60,20],"type":"PDTurret","dir":0},{"pos":[-60,20],"type":"PDTurret","dir":0},{"pos":[0,60],"type":"PDTurret","dir":0},{"pos":[0,-20],"type":"TorpTurret","dir":0},{"pos":[-40,60],"type":"TorpTurret","dir":0},{"pos":[40,60],"type":"TorpTurret","dir":0},{"pos":[0,20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",2,1],["@attackTypes enemy within #m","Attack",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",300,2000],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,40]]},"","","","","","","",""];
  ais.all.PushForce = [{"parts":[{"pos":[90,-120],"type":"HArmor1x2","dir":0},{"pos":[90,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-80,0],"type":"Mount10Range","dir":0},{"pos":[80,0],"type":"Mount10Range","dir":0},{"pos":[0,0],"type":"Mount10Range","dir":0},{"pos":[40,80],"type":"Mount10Range","dir":0},{"pos":[-40,80],"type":"Mount10Range","dir":0},{"pos":[80,100],"type":"ReloaderMod","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[120,20],"type":"TargetingMod","dir":0},{"pos":[-120,-20],"type":"DamageMod","dir":0},{"pos":[120,-20],"type":"DamageMod","dir":0},{"pos":[-120,20],"type":"TargetingMod","dir":0},{"pos":[-60,140],"type":"Mount90","dir":0},{"pos":[60,140],"type":"Mount90","dir":0},{"pos":[0,160],"type":"Mount30","dir":0},{"pos":[0,-50],"type":"Battery2x1","dir":0},{"pos":[-40,-60],"type":"Reactor2x2","dir":0},{"pos":[0,-70],"type":"Battery2x1","dir":0},{"pos":[40,-60],"type":"Reactor2x2","dir":0},{"pos":[-20,130],"type":"HArmor2x1","dir":0},{"pos":[20,130],"type":"HArmor2x1","dir":0},{"pos":[-150,50],"type":"HArmor1x1Angle","dir":0},{"pos":[150,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-120,50],"type":"HArmor2x1","dir":0},{"pos":[-150,20],"type":"HArmor1x2","dir":0},{"pos":[-90,140],"type":"Wing1x2","dir":0},{"pos":[90,140],"type":"Wing1x2","dir":0},{"pos":[140,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-140,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-160,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[160,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[120,50],"type":"HArmor2x1","dir":0},{"pos":[-130,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[170,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-170,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-100,-80],"type":"HArmor2x2","dir":0},{"pos":[130,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-100,-50],"type":"HArmor2x1","dir":0},{"pos":[150,20],"type":"HArmor1x2","dir":0},{"pos":[100,-80],"type":"HArmor2x2","dir":0},{"pos":[-110,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-90,-120],"type":"HArmor1x2","dir":0},{"pos":[-90,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[100,-50],"type":"HArmor2x1","dir":0},{"pos":[110,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-40,-100],"type":"HArmor2x2","dir":0},{"pos":[0,-100],"type":"HArmor2x2","dir":0},{"pos":[40,-100],"type":"HArmor2x2","dir":0},{"pos":[-20,-140],"type":"HArmor2x2","dir":0},{"pos":[20,-140],"type":"HArmor2x2","dir":0},{"pos":[-130,110],"type":"Wing1x1Notch","dir":0},{"pos":[130,110],"type":"Wing1x1Notch","dir":0},{"pos":[-110,130],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,110],"type":"HArmor1x1","dir":0},{"pos":[-120,80],"type":"HArmor2x2","dir":0},{"pos":[120,80],"type":"HArmor2x2","dir":0},{"pos":[110,130],"type":"HArmor1x1Angle","dir":0},{"pos":[110,110],"type":"HArmor1x1","dir":0},{"pos":[-70,-150],"type":"Engine02","dir":0},{"pos":[70,-150],"type":"Engine02","dir":0},{"pos":[50,-170],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,-170],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,-140],"type":"HArmor1x2","dir":0},{"pos":[50,-140],"type":"HArmor1x2","dir":0},{"pos":[70,-100],"type":"HArmor1x2","dir":0},{"pos":[70,-60],"type":"HArmor1x2","dir":0},{"pos":[-70,-60],"type":"HArmor1x2","dir":0},{"pos":[-70,-100],"type":"HArmor1x2","dir":0},{"pos":[0,-170],"type":"Battery2x1","dir":0},{"pos":[-30,-170],"type":"HArmor1x1","dir":0},{"pos":[30,-170],"type":"HArmor1x1","dir":0},{"pos":[-50,170],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,180],"type":"Wing1x2","dir":0},{"pos":[30,180],"type":"Wing1x2","dir":0},{"pos":[0,190],"type":"HArmor1x2Font1","dir":0},{"pos":[50,170],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,150],"type":"HArmor1x1","dir":0},{"pos":[30,150],"type":"HArmor1x1","dir":0},{"pos":[0,-190],"type":"HArmor1x2Back1","dir":0},{"pos":[0,60],"type":"ReloaderMod","dir":0},{"pos":[-80,100],"type":"ReloaderMod","dir":0},{"pos":[80,60],"type":"DamageMod","dir":0},{"pos":[-80,60],"type":"BulletSpeedMod","dir":0},{"pos":[0,100],"type":"DampenerMod","dir":0},{"pos":[-40,80],"type":"WavePushTurret","dir":0},{"pos":[40,80],"type":"WavePushTurret","dir":0},{"pos":[-60,140],"type":"PDTurret","dir":0},{"pos":[60,140],"type":"PDTurret","dir":0},{"pos":[0,0],"type":"HeavyBeamTurret","dir":0},{"pos":[0,160],"type":"HeavyPDTurret","dir":0},{"pos":[80,0],"type":"PlasmaTurret","dir":0},{"pos":[-80,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["Field # when money over # at priority #",1,2000,999],["Field # at priority #",2,5],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","more expensive",300,2000],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","more expensive",100,2000],["@attackTypes enemy within #m","Attack",2000],["Stay in #m range of slot # units",500,1],["@capTypes Command Points within #m","Capture",10000]]},{"parts":[{"pos":[-40,0],"type":"EnergyTransfer","dir":0},{"pos":[40,0],"type":"Reactor2x2","dir":0},{"pos":[-40,40],"type":"CloakGenerator","dir":0},{"pos":[40,40],"type":"CloakGenerator","dir":0},{"pos":[-10,20],"type":"Reactor1x2","dir":0},{"pos":[10,10],"type":"Engine02","dir":0},{"pos":[0,50],"type":"Wing2x1","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",150],["Stay in #m range of slot # units",175,1],["Field # for # of ship in slot # at priority #",1,2,1,6],["Avoid #dps danger areas",10],["Goto @locationTypes","friendly spawn"],["Field # for # of ship in slot # at priority #",2,2,1,9],["Field # for # of ship in slot # at priority #",1,3,6,5]]},{"parts":[{"pos":[60,50],"type":"HArmor2x1","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[0,60],"type":"Mount90","dir":0},{"pos":[0,0],"type":"Mount10Range","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[-80,20],"type":"Reactor2x2","dir":0},{"pos":[-30,50],"type":"Battery1x1","dir":0},{"pos":[80,20],"type":"Reactor2x2","dir":0},{"pos":[-90,50],"type":"HArmor1x1Angle","dir":0},{"pos":[90,50],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,70],"type":"Wing1x1Round","dir":0},{"pos":[-60,50],"type":"HArmor2x1","dir":0},{"pos":[0,-60],"type":"EnergyTransfer","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[-60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[90,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[90,-10],"type":"HArmor1x1","dir":0},{"pos":[70,-20],"type":"HArmor1x2","dir":0},{"pos":[-70,-20],"type":"HArmor1x2","dir":0},{"pos":[-90,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-90,-10],"type":"HArmor1x1","dir":0},{"pos":[0,0],"type":"HeavyBeamTurret","dir":0},{"pos":[0,60],"type":"HeavyPDTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",50],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","more expensive",100,2000],["@attackTypes enemy within #m","Attack",2000],["Stay in #m range of slot # units",600,1],["Field # for # of ship in slot # at priority #",1,2,1,6]]},{"parts":[{"pos":[60,40],"type":"VArmor2x2","dir":0},{"pos":[-60,70],"type":"Wing2x1","dir":0},{"pos":[-20,-40],"type":"ReloaderMod","dir":0},{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[0,-80],"type":"Mount360Micro","dir":0},{"pos":[40,-80],"type":"Reactor2x2","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[20,70],"type":"HArmor2x1","dir":0},{"pos":[-40,-80],"type":"Mount360Micro","dir":0},{"pos":[-20,70],"type":"Reactor2x1","dir":0},{"pos":[-20,40],"type":"ReloaderMod","dir":0},{"pos":[60,70],"type":"Wing2x1","dir":0},{"pos":[20,40],"type":"BulletSpeedMod","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[-50,-40],"type":"HArmor1x2","dir":0},{"pos":[50,-40],"type":"HArmor1x2","dir":0},{"pos":[70,0],"type":"HArmor1x2","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[70,-90],"type":"Engine02","dir":0},{"pos":[-70,-90],"type":"Engine02","dir":0},{"pos":[70,-40],"type":"HArmor1x2","dir":0},{"pos":[-70,-40],"type":"HArmor1x2","dir":0},{"pos":[-60,40],"type":"HArmor2x2","dir":0},{"pos":[20,-40],"type":"ReloaderMod","dir":0},{"pos":[0,-80],"type":"PDTurret","dir":0},{"pos":[0,0],"type":"ArtilleryTurret","dir":0},{"pos":[-40,-80],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,2,1,7],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","more arc",1,2300],["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","more arc",1,2000],["Stayaway in #m range from slot # units",1900,1],["@capTypes Command Points within #m","Capture",1000],["@attackTypes enemy that is @absoluteTypes then # within #m","Circle","more expensive",100,10000],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",2,2,1,10],["Field # for # of ship in slot # at priority #",3,2,1,13]]},{"parts":[{"pos":[0,60],"type":"HArmor2x2","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[80,-20],"type":"BulletSpeedMod","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[0,-20],"type":"TargetingMod","dir":0},{"pos":[40,0],"type":"Mount10Range","dir":0},{"pos":[80,20],"type":"TargetingMod","dir":0},{"pos":[-40,0],"type":"Mount10Range","dir":0},{"pos":[-80,20],"type":"TargetingMod","dir":0},{"pos":[40,70],"type":"Wing2x1","dir":0},{"pos":[-40,70],"type":"Wing2x1","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-40,50],"type":"HArmor2x1","dir":0},{"pos":[-90,50],"type":"HArmor1x1Angle","dir":0},{"pos":[90,50],"type":"HArmor1x1Angle","dir":0},{"pos":[40,50],"type":"HArmor2x1","dir":0},{"pos":[-70,50],"type":"HArmor1x1","dir":0},{"pos":[70,50],"type":"HArmor1x1","dir":0},{"pos":[-80,-20],"type":"TargetingMod","dir":0},{"pos":[0,-50],"type":"Reactor2x1","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[40,0],"type":"PlasmaTurret","dir":0},{"pos":[-40,0],"type":"BombGun","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,2,1,8],["Field # for # of ship in slot # at priority #",2,2,1,12],["Field # for # of ship in slot # at priority #",3,2,1,15],["Avoid over #damage shots",50],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","more expensive",500,2000],["@attackTypes enemy within #m","Attack",2000],["Stay in #m range of slot # units",600,1]]},{"parts":[{"pos":[30,30],"type":"Battery1x1","dir":0},{"pos":[-40,0],"type":"Mount30","dir":0},{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[0,-20],"type":"CloakGenerator","dir":0},{"pos":[-40,30],"type":"Battery2x1","dir":0},{"pos":[40,0],"type":"Mount30","dir":0},{"pos":[-30,-40],"type":"Engine03","dir":0},{"pos":[30,-30],"type":"Wing1x1Notch","dir":0},{"pos":[50,30],"type":"Wing1x1Round","dir":0},{"pos":[-40,0],"type":"EMPGun","dir":0},{"pos":[0,20],"type":"EMPGun","dir":0},{"pos":[40,0],"type":"EMPGun","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",33,"Find recharger"],["Stay in #m range of slot # units",1750,1],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","cloaked","---",1500],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","more expensive",100,1000],["@attackTypes enemy within #m","Kite",1000],["Stay in #m range of slot # units",1250,1],["When #% of energy, @chargeTypes",60,"Find recharger"],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",2,2,1,11],["Field # for # of ship in slot # at priority #",4,2,1,14],["Field # for # of @needTypes at priority #",1,3,"cloak counter need",6]]},{"parts":[{"pos":[-20,-40],"type":"CloakGenerator","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[-30,0],"type":"Reactor1x2","dir":0},{"pos":[10,-60],"type":"Engine03","dir":0},{"pos":[10,-30],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"RingTurret","dir":0}],"name":"","aiRules":[]},{"parts":[{"pos":[-80,-20],"type":"CloakGenerator","dir":0},{"pos":[0,-60],"type":"Engine07","dir":0},{"pos":[-80,20],"type":"Battery2x2","dir":0},{"pos":[80,20],"type":"Wing2x2","dir":0},{"pos":[80,-20],"type":"CloakGenerator","dir":0},{"pos":[0,-20],"type":"AOEWarhead","dir":0},{"pos":[-40,40],"type":"AOEWarhead","dir":0},{"pos":[0,20],"type":"AOEWarhead","dir":0},{"pos":[40,40],"type":"AOEWarhead","dir":0},{"pos":[-40,0],"type":"AOEWarhead","dir":0},{"pos":[-40,-40],"type":"AOEWarhead","dir":0},{"pos":[40,-40],"type":"AOEWarhead","dir":0},{"pos":[40,0],"type":"AOEWarhead","dir":0},{"pos":[0,60],"type":"ShapedWarhead","dir":0}],"name":"","aiRules":[]},{"parts":[{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[-40,0],"type":"Mount30","dir":0},{"pos":[40,0],"type":"Mount30","dir":0},{"pos":[-40,-30],"type":"Reactor2x1","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[0,-20],"type":"CloakGenerator","dir":0},{"pos":[-40,0],"type":"AutoTurret","dir":0},{"pos":[0,20],"type":"AutoTurret","dir":0},{"pos":[40,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,2,1,8],["Field # at start",1],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Guard",10000]]},{"parts":[{"pos":[0,-20],"type":"CloakGenerator","dir":0},{"pos":[0,20],"type":"Mount360Micro","dir":0},{"pos":[30,30],"type":"Wing1x1Notch","dir":0},{"pos":[-30,30],"type":"Wing1x1Notch","dir":0},{"pos":[-30,10],"type":"Reactor1x1","dir":0},{"pos":[30,10],"type":"Reactor1x1","dir":0},{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","more arc",1,600],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","---","---",600],["@attackTypes enemy within #m","Attack",600],["@capTypes Command Points within #m","Capture",1000],["@attackTypes enemy within #m","Circle",1100],["@capTypes Command Points within #m","Capture",10000],["Field # at start",1],["Try to field # every # seconds",1,100]]}];
  ais.all.Razorback = [{"parts":[{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[-10,-10],"type":"Battery1x1","dir":0},{"pos":[30,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,-10],"type":"HArmor1x1Angle","dir":0}],"name":"","aiRules":[["Avoid everything"],["Avoid over #damage shots",20],["Field # at start",1],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,5]]},{"parts":[{"pos":[-10,-40],"type":"Engine03","dir":0},{"pos":[10,0],"type":"Battery1x2","dir":0},{"pos":[10,30],"type":"Wing1x1Round","dir":0},{"pos":[-20,0],"type":"Mount90","dir":0},{"pos":[30,-10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-50,-10],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-30,30],"type":"UArmor1x1Angle","dir":0},{"pos":[-20,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Attack",350],["@attackTypes enemy @unitTypes within #m","Attack","Scout",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",1000],["Field # at priority #",1,5],["Field # for # of enemy @unitTypes at priority #",1,1,"Fighter",2],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",1000],["When #% of energy, @chargeTypes",70,"Find recharger"],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of enemy @unitTypes at priority #",1,1,"Scout",3],["Try to field # every # seconds",1,30],["Field # at start",1]]},{"parts":[{"pos":[0,-60],"type":"Mount180","dir":0},{"pos":[90,90],"type":"HArmor1x1Angle","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"BulletSpeedMod","dir":0},{"pos":[40,100],"type":"Reactor2x2","dir":0},{"pos":[-40,100],"type":"EnergyTransfer","dir":0},{"pos":[40,60],"type":"TargetingMod","dir":0},{"pos":[-40,60],"type":"TargetingMod","dir":0},{"pos":[80,60],"type":"HArmor2x2","dir":0},{"pos":[-90,90],"type":"HArmor1x1Angle","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[0,80],"type":"BulletSpeedMod","dir":0},{"pos":[80,20],"type":"HArmor2x2","dir":0},{"pos":[-80,60],"type":"HArmor2x2","dir":0},{"pos":[-80,20],"type":"HArmor2x2","dir":0},{"pos":[-50,130],"type":"Wing1x1Round","dir":0},{"pos":[50,130],"type":"Wing1x1Round","dir":0},{"pos":[-110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[110,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-90,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[90,-10],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,-30],"type":"HArmor2x1","dir":0},{"pos":[0,110],"type":"Battery2x1","dir":0},{"pos":[0,-60],"type":"PDTurret","dir":0},{"pos":[0,40],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,3,2,1],["Avoid over #damage shots",180],["Stay in #m range of slot # units",400,5],["@attackTypes enemy within #m","Kite",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less HP",2500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less Range",2500],["Find units that are out of energy"],["@capTypes Command Points within #m","Capture",1000],["Field # for # of ship in slot # at priority #",1,2,5,3],["Field # at priority #",1,5]]},{"parts":[{"pos":[30,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[50,10],"type":"UArmor1x1Angle","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[10,-20],"type":"Engine03","dir":0},{"pos":[-10,-20],"type":"Engine03","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[-30,10],"type":"OverKillAi","dir":0},{"pos":[-50,10],"type":"UArmor1x1Angle","dir":0},{"pos":[-30,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[30,30],"type":"Wing1x1Notch","dir":0},{"pos":[-30,30],"type":"Wing1x1Notch","dir":0},{"pos":[0,20],"type":"BombGun","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage shots",20],["@attackTypes enemy @unitTypes within #m","Bomb","Battleship",800],["When #% of energy, @chargeTypes",80,"Find recharger"],["@attackTypes enemy @unitTypes within #m","Bomb","Battleship",10000],["@attackTypes enemy @unitTypes within #m","Bomb","Cruiser",10000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","More HP","Slower",1000],["Field # for # of enemy @unitTypes at priority #",1,1,"Battleship",1],["@capTypes Command Points within #m","Capture",10000],["Field # for # of enemy @unitTypes at priority #",1,1,"Cruiser",1],["Stay in #m range of slot # units",500,3],["Field # at priority #",1,3]]},{"parts":[{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[40,60],"type":"Reactor2x2","dir":0},{"pos":[-90,-50],"type":"Engine02","dir":0},{"pos":[-70,140],"type":"Wing1x2","dir":0},{"pos":[80,60],"type":"Mount30","dir":0},{"pos":[0,-40],"type":"Mount360","dir":0},{"pos":[70,140],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"ReloaderMod","dir":0},{"pos":[40,-60],"type":"TargetingMod","dir":0},{"pos":[-40,-60],"type":"TargetingMod","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[-80,60],"type":"Mount90","dir":0},{"pos":[100,-40],"type":"HArmor2x2","dir":0},{"pos":[-90,130],"type":"HArmor1x1Angle","dir":0},{"pos":[0,-80],"type":"TargetingMod","dir":0},{"pos":[90,130],"type":"HArmor1x1Angle","dir":0},{"pos":[110,110],"type":"HArmor1x1Angle","dir":0},{"pos":[-110,110],"type":"HArmor1x1Angle","dir":0},{"pos":[110,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-110,-40],"type":"HArmor1x2","dir":0},{"pos":[-110,-70],"type":"HArmor1x1AngleBack","dir":0},{"pos":[80,100],"type":"Reactor2x2","dir":0},{"pos":[0,120],"type":"Mount360","dir":0},{"pos":[-80,100],"type":"Reactor2x2","dir":0},{"pos":[-40,100],"type":"TargetingMod","dir":0},{"pos":[-40,140],"type":"ReloaderMod","dir":0},{"pos":[0,80],"type":"ReloaderMod","dir":0},{"pos":[40,140],"type":"TargetingMod","dir":0},{"pos":[40,100],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[100,0],"type":"HArmor2x2","dir":0},{"pos":[-100,0],"type":"HArmor2x2","dir":0},{"pos":[50,170],"type":"Wing1x1Round","dir":0},{"pos":[-50,170],"type":"Wing1x1Round","dir":0},{"pos":[50,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-130,-50],"type":"HArmor1x1Angle","dir":0},{"pos":[130,-50],"type":"HArmor1x1Angle","dir":0},{"pos":[-100,30],"type":"HArmor2x1","dir":0},{"pos":[100,30],"type":"HArmor2x1","dir":0},{"pos":[130,30],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,30],"type":"Battery1x1","dir":0},{"pos":[70,30],"type":"Battery1x1","dir":0},{"pos":[40,20],"type":"HArmor2x2","dir":0},{"pos":[-40,60],"type":"Battery2x2","dir":0},{"pos":[130,-10],"type":"HArmor1x1Angle","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[-70,-50],"type":"Engine02","dir":0},{"pos":[70,0],"type":"HArmor1x2","dir":0},{"pos":[70,-50],"type":"Engine02","dir":0},{"pos":[0,160],"type":"DamageMod","dir":0},{"pos":[-130,-10],"type":"HArmor1x1Angle","dir":0},{"pos":[-130,30],"type":"HArmor1x1Angle","dir":0},{"pos":[0,120],"type":"MissileTurret","dir":0},{"pos":[-80,60],"type":"FlackTurret","dir":0},{"pos":[0,40],"type":"HeavyPDTurret","dir":0},{"pos":[0,-40],"type":"PlasmaTurret","dir":0},{"pos":[80,60],"type":"BombGun","dir":0}],"name":"","aiRules":[["Field # at start",1],["Avoid over #damage shots",180],["Field # at priority #",2,2],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Weaker",1000],["When #% of energy, @chargeTypes",5,"Find recharger"],["@attackTypes enemy within #m","Attack",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","Less Range",1200],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Less Range","Stronger",1200],["@attackTypes enemy within #m","Ram",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less DPS",10000],["@attackTypes enemy within #m","Attack",1500],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,60]]},"","","","",""];
  ais.all.Rearguard = [{"parts":[{"pos":[-30,-10],"type":"Battery1x1","dir":0},{"pos":[10,-10],"type":"Reactor1x1","dir":0},{"pos":[-50,-20],"type":"Engine03","dir":0},{"pos":[50,-20],"type":"Engine03","dir":0},{"pos":[-10,-10],"type":"Reactor1x1","dir":0},{"pos":[20,-40],"type":"Mount360Micro","dir":0},{"pos":[-20,-40],"type":"Mount360Micro","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[30,-10],"type":"UArmor1x1","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[30,10],"type":"Wing1x1Round","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0},{"pos":[-20,-40],"type":"TorpTurret","dir":0},{"pos":[20,-40],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",5,"Rest"],["When #% of energy, @chargeTypes",10,"Find recharger"],["@attackTypes enemy within #m","Kite",510],["When #% of energy, @chargeTypes",20,"Rest"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","Less Brawling Value",1000],["@capTypes Command Points within #m","Capture",10000],["Field # at start",2],["Field # at priority #",1,2],["Try to field # every # seconds",2,30]]},{"parts":[{"pos":[40,-60],"type":"Mount360Micro","dir":0},{"pos":[0,-50],"type":"Battery2x1","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[0,80],"type":"Mount30","dir":0},{"pos":[0,-20],"type":"TargetingMod","dir":0},{"pos":[-40,-60],"type":"Mount360Micro","dir":0},{"pos":[-70,10],"type":"Engine02","dir":0},{"pos":[90,10],"type":"Engine02","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[0,50],"type":"Reactor2x1","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[70,10],"type":"Engine02","dir":0},{"pos":[40,70],"type":"Reactor2x1","dir":0},{"pos":[-40,70],"type":"Reactor2x1","dir":0},{"pos":[-90,10],"type":"Engine02","dir":0},{"pos":[-70,60],"type":"Wing1x2","dir":0},{"pos":[70,60],"type":"Wing1x2","dir":0},{"pos":[-40,100],"type":"Mount90","dir":0},{"pos":[40,100],"type":"Mount90","dir":0},{"pos":[-40,100],"type":"PDTurret","dir":0},{"pos":[40,100],"type":"PDTurret","dir":0},{"pos":[0,80],"type":"TorpTurret","dir":0},{"pos":[-40,-60],"type":"FlackTurret","dir":0},{"pos":[40,-60],"type":"FlackTurret","dir":0},{"pos":[0,20],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Faster","Less Brawling Value",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","Less Range",2000],["@attackTypes enemy within #m","Attack",1500],["@capTypes Command Points within #m","Capture",10000],["Field # at start",1],["Try to field # every # seconds",1,25]]},{"parts":[{"pos":[-10,-90],"type":"Engine02","dir":0},{"pos":[-80,0],"type":"Mount360Micro","dir":0},{"pos":[-20,40],"type":"HArmor2x2","dir":0},{"pos":[20,40],"type":"HArmor2x2","dir":0},{"pos":[-20,-40],"type":"HArmor2x2","dir":0},{"pos":[40,0],"type":"HArmor2x2","dir":0},{"pos":[20,-40],"type":"HArmor2x2","dir":0},{"pos":[-40,0],"type":"HArmor2x2","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[-40,-80],"type":"Mount360Micro","dir":0},{"pos":[40,-80],"type":"Mount360Micro","dir":0},{"pos":[40,80],"type":"Mount360Micro","dir":0},{"pos":[-40,80],"type":"Mount360Micro","dir":0},{"pos":[80,0],"type":"Mount360Micro","dir":0},{"pos":[10,-90],"type":"Engine02","dir":0},{"pos":[-60,40],"type":"Reactor2x2","dir":0},{"pos":[60,40],"type":"Reactor2x2","dir":0},{"pos":[0,80],"type":"EnergyTransfer","dir":0},{"pos":[-50,-40],"type":"Wing1x2","dir":0},{"pos":[50,-40],"type":"Wing1x2","dir":0},{"pos":[-40,-80],"type":"AutoTurret","dir":0},{"pos":[40,-80],"type":"AutoTurret","dir":0},{"pos":[80,0],"type":"AutoTurret","dir":0},{"pos":[40,80],"type":"AutoTurret","dir":0},{"pos":[-40,80],"type":"AutoTurret","dir":0},{"pos":[-80,0],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","Slower",2000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","---",1000],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,6,1,1]]},{"parts":[{"pos":[0,0],"type":"Mount360Micro","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"PDTurret","dir":0}],"name":"","aiRules":[["Stayaway in #m range from slot # units",200,4],["Stay in #m range of slot # units",500,3],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More Range",899,2000],["Field # for # of ship in slot # at priority #",2,1,3,1],["Try to field # every # seconds",1,33],["@capTypes Command Points within #m","Capture",10000]]},"","","","","",""];
  ais.all.RocketMan = [{"parts":[{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[80,-90],"type":"Reactor2x1","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[-30,-50],"type":"Battery1x1","dir":0},{"pos":[-50,-100],"type":"Engine04","dir":0},{"pos":[30,-80],"type":"Engine04","dir":0},{"pos":[50,-100],"type":"Engine04","dir":0},{"pos":[-30,-80],"type":"Engine04","dir":0},{"pos":[30,-50],"type":"Battery1x1","dir":0},{"pos":[-90,-70],"type":"Battery1x1","dir":0},{"pos":[-60,-60],"type":"Mount90","dir":0},{"pos":[90,-70],"type":"Battery1x1","dir":0},{"pos":[60,-60],"type":"Mount90","dir":0},{"pos":[-80,-90],"type":"Reactor2x1","dir":0},{"pos":[-90,-50],"type":"Wing1x1Round","dir":0},{"pos":[90,-50],"type":"Wing1x1Round","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[40,-20],"type":"Mount90","dir":0},{"pos":[-40,-20],"type":"Mount90","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[0,30],"type":"Reactor2x1","dir":0},{"pos":[-30,30],"type":"Wing1x1Round","dir":0},{"pos":[30,30],"type":"Wing1x1Round","dir":0},{"pos":[-50,10],"type":"Wing1x1Round","dir":0},{"pos":[50,10],"type":"Wing1x1Round","dir":0},{"pos":[10,-30],"type":"Battery1x1","dir":0},{"pos":[-10,-30],"type":"Battery1x1","dir":0},{"pos":[-60,-60],"type":"TorpTurret","dir":0},{"pos":[60,-60],"type":"TorpTurret","dir":0},{"pos":[40,-20],"type":"TorpTurret","dir":0},{"pos":[-40,-20],"type":"TorpTurret","dir":0},{"pos":[0,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",100,1],["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","Slower",250,800],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",250,1200],["@capTypes Command Points within #m","Spread to",10000]]},"","","","","","","","",""];
  ais.all.RushDown = [{"parts":[{"pos":[40,-30],"type":"Battery2x1","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[50,-60],"type":"Engine04","dir":0},{"pos":[-50,-60],"type":"Engine04","dir":0},{"pos":[-30,-60],"type":"Engine04","dir":0},{"pos":[0,-20],"type":"ReloaderMod","dir":0},{"pos":[30,-60],"type":"Engine04","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[0,60],"type":"DamageMod","dir":0},{"pos":[-40,-30],"type":"Battery2x1","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[-40,70],"type":"Battery2x1","dir":0},{"pos":[40,70],"type":"Battery2x1","dir":0},{"pos":[-70,60],"type":"VArmor1x2Corner4","dir":0},{"pos":[70,60],"type":"VArmor1x2Corner4","dir":0},{"pos":[-20,90],"type":"Wing2x1","dir":0},{"pos":[20,90],"type":"Wing2x1","dir":0},{"pos":[70,-60],"type":"Engine04","dir":0},{"pos":[-70,-60],"type":"Engine04","dir":0},{"pos":[70,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-70,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-70,20],"type":"VArmor1x2IBeam","dir":0},{"pos":[70,20],"type":"VArmor1x2IBeam","dir":0},{"pos":[0,20],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Field # at start",2],["Try to field # every # seconds",1,32],["Try to field # every # seconds",2,64],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","More expensive",500],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Capture",600],["Stay in #m range of slot # units",1500,2],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","More expensive",2000],["@attackTypes enemy within #m","Run-by",1000],["Stay in #m range of slot # units",500,2]]},{"parts":[{"pos":[-90,-30],"type":"Engine02","dir":0},{"pos":[-70,-30],"type":"Engine02","dir":0},{"pos":[0,-20],"type":"EnergyTransfer","dir":0},{"pos":[-40,-40],"type":"Reactor2x2","dir":0},{"pos":[-40,0],"type":"Reactor2x2","dir":0},{"pos":[40,0],"type":"Reactor2x2","dir":0},{"pos":[0,20],"type":"DamageMod","dir":0},{"pos":[-40,40],"type":"DamageMod","dir":0},{"pos":[0,60],"type":"Mount90","dir":0},{"pos":[40,40],"type":"DamageMod","dir":0},{"pos":[40,80],"type":"DamageMod","dir":0},{"pos":[-80,60],"type":"Mount90","dir":0},{"pos":[-40,80],"type":"DamageMod","dir":0},{"pos":[80,60],"type":"Mount90","dir":0},{"pos":[-80,20],"type":"DamageMod","dir":0},{"pos":[80,100],"type":"DamageMod","dir":0},{"pos":[-80,100],"type":"DamageMod","dir":0},{"pos":[70,-30],"type":"Engine02","dir":0},{"pos":[0,100],"type":"TargetingMod","dir":0},{"pos":[80,20],"type":"DamageMod","dir":0},{"pos":[90,-30],"type":"Engine02","dir":0},{"pos":[-120,60],"type":"Mount30","dir":0},{"pos":[120,60],"type":"Mount30","dir":0},{"pos":[110,10],"type":"Engine02","dir":0},{"pos":[-110,10],"type":"Engine02","dir":0},{"pos":[-40,120],"type":"Wing2x2","dir":0},{"pos":[40,120],"type":"Wing2x2","dir":0},{"pos":[0,130],"type":"HArmor2x1","dir":0},{"pos":[130,10],"type":"Engine02","dir":0},{"pos":[-130,10],"type":"Engine02","dir":0},{"pos":[0,-60],"type":"HArmor2x2","dir":0},{"pos":[-40,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[0,-100],"type":"HArmor2x2Back1","dir":0},{"pos":[40,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-120,60],"type":"LightBeamTurret","dir":0},{"pos":[120,60],"type":"LightBeamTurret","dir":0},{"pos":[0,60],"type":"AutoTurret","dir":0},{"pos":[-80,60],"type":"AutoTurret","dir":0},{"pos":[80,60],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["Field # for # of ship in slot # at priority #",1,2,1,1],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Less Brawling Value","Slower",1500],["@attackTypes enemy within #m","Attack",400],["@capTypes Command Points within #m","Capture",1000],["Goto @locationTypes","Enemy Army Middle"],["Field # for # of ship in slot # at priority #",1,3,4,2]]},{"parts":[{"pos":[-10,-10],"type":"Reactor1x1","dir":0},{"pos":[-10,-40],"type":"Engine03","dir":0},{"pos":[-30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[10,-10],"type":"Wing1x1Notch","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,20],["Field # at start",4],["@attackTypes enemy within #m","Flee",1000],["Avoid #dps danger areas",5],["Avoid over #damage shots",10],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,1,2,5],["Field # for # of ship in slot # at priority #",1,2,1,5]]},{"parts":[{"pos":[-10,10],"type":"Reactor1x1","dir":0},{"pos":[10,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[20,0],"type":"Mount90","dir":0},{"pos":[50,-10],"type":"Engine01","dir":0},{"pos":[20,40],"type":"Mount90","dir":0},{"pos":[-10,-10],"type":"Reactor1x1","dir":0},{"pos":[50,30],"type":"Wing1x1Round","dir":0},{"pos":[-10,-30],"type":"Battery1x1","dir":0},{"pos":[30,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[70,10],"type":"Wing1x1Round","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0},{"pos":[20,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,3,3,1],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Less DPS",30,600],["Stay in #m range of slot # units",500,3],["Avoid over #damage shots",20],["Avoid #dps danger areas",5],["@capTypes Command Points within #m","Capture",10000]]},"","","","","",""];
  ais.all.ShieldMan = ["","","",{"parts":[{"pos":[-180,-20],"type":"ShieldGen2x2","dir":0},{"pos":[180,-20],"type":"ShieldGen2x2","dir":0},{"pos":[-170,-70],"type":"Engine02","dir":0},{"pos":[-110,10],"type":"Wing1x1Notch","dir":0},{"pos":[-130,10],"type":"Wing1x1Notch","dir":0},{"pos":[-90,10],"type":"Wing1x1Notch","dir":0},{"pos":[-70,10],"type":"Wing1x1Notch","dir":0},{"pos":[70,10],"type":"Wing1x1Notch","dir":0},{"pos":[90,10],"type":"Wing1x1Notch","dir":0},{"pos":[110,10],"type":"Wing1x1Notch","dir":0},{"pos":[130,10],"type":"Wing1x1Notch","dir":0},{"pos":[-150,10],"type":"Wing1x1Notch","dir":0},{"pos":[150,10],"type":"Wing1x1Notch","dir":0},{"pos":[0,10],"type":"Reactor2x1","dir":0},{"pos":[-180,60],"type":"ShieldGen2x2","dir":0},{"pos":[-180,20],"type":"ShieldGen2x2","dir":0},{"pos":[180,60],"type":"ShieldGen2x2","dir":0},{"pos":[180,20],"type":"ShieldGen2x2","dir":0},{"pos":[10,-30],"type":"Engine02","dir":0},{"pos":[-30,-30],"type":"Engine02","dir":0},{"pos":[30,-30],"type":"Engine02","dir":0},{"pos":[-10,-30],"type":"Engine02","dir":0},{"pos":[50,-10],"type":"HArmor1x1","dir":0},{"pos":[50,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[170,-70],"type":"Engine02","dir":0},{"pos":[-190,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[190,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[190,140],"type":"Wing1x2","dir":0},{"pos":[190,100],"type":"HArmor1x2","dir":0},{"pos":[-190,140],"type":"Wing1x2","dir":0},{"pos":[-190,100],"type":"HArmor1x2","dir":0},{"pos":[-20,30],"type":"HArmor2x1","dir":0},{"pos":[20,30],"type":"HArmor2x1","dir":0},{"pos":[-50,20],"type":"Wing1x2","dir":0},{"pos":[50,20],"type":"Wing1x2","dir":0},{"pos":[-30,10],"type":"HArmor1x1","dir":0},{"pos":[30,10],"type":"HArmor1x1","dir":0},{"pos":[-190,-60],"type":"HArmor1x2","dir":0},{"pos":[190,-60],"type":"HArmor1x2","dir":0},{"pos":[-50,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-50,-10],"type":"HArmor1x1","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,30],["Field # at start",2],["@capTypes Command Points within #m","Spread to",10000]]},"","","","","",""];
  ais.all.Sidewinder = [{"parts":[{"pos":[30,120],"type":"Wing1x2","dir":0},{"pos":[-30,120],"type":"Wing1x2","dir":0},{"pos":[-60,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[60,-20],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-60,40],"type":"HArmor2x2","dir":0},{"pos":[60,80],"type":"HArmor2x2Angle","dir":0},{"pos":[-20,60],"type":"BulletSpeedMod","dir":0},{"pos":[60,40],"type":"HArmor2x2","dir":0},{"pos":[20,60],"type":"BulletSpeedMod","dir":0},{"pos":[-60,80],"type":"HArmor2x2Angle","dir":0},{"pos":[-60,10],"type":"Reactor2x1","dir":0},{"pos":[60,10],"type":"Reactor2x1","dir":0},{"pos":[30,30],"type":"Battery1x1","dir":0},{"pos":[0,130],"type":"ShieldGen2x1","dir":0},{"pos":[-30,30],"type":"Battery1x1","dir":0},{"pos":[-10,-30],"type":"Engine02","dir":0},{"pos":[10,-30],"type":"Engine02","dir":0},{"pos":[30,90],"type":"Battery1x1","dir":0},{"pos":[-30,90],"type":"Battery1x1","dir":0},{"pos":[-30,-10],"type":"Engine02","dir":0},{"pos":[30,-10],"type":"Engine02","dir":0},{"pos":[-90,60],"type":"Wing1x2","dir":0},{"pos":[-90,10],"type":"Engine02","dir":0},{"pos":[90,60],"type":"Wing1x2","dir":0},{"pos":[90,10],"type":"Engine02","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[0,100],"type":"Mount360","dir":0},{"pos":[0,20],"type":"MissileTurret","dir":0},{"pos":[0,100],"type":"SidewinderTurret","dir":0}],"name":"","aiRules":[["Field # at start",1],["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","Slower",300,800],["@attackTypes enemy within #m","Circle",900],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",300,1100],["Field # at priority #",5,2],["@capTypes command points within #m","Spread to",10000]]},{"parts":[{"pos":[40,60],"type":"Mount30","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[60,20],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,140],"type":"Wing1x2","dir":0},{"pos":[30,30],"type":"Battery1x1","dir":0},{"pos":[-30,10],"type":"Battery1x1","dir":0},{"pos":[-60,20],"type":"HArmor2x2Angle","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[-40,-30],"type":"Reactor2x1","dir":0},{"pos":[70,-20],"type":"HArmor1x2","dir":0},{"pos":[-70,-20],"type":"HArmor1x2","dir":0},{"pos":[0,80],"type":"Mount90","dir":0},{"pos":[0,-40],"type":"Mount270","dir":0},{"pos":[-30,30],"type":"Battery1x1","dir":0},{"pos":[-40,100],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,-10],"type":"Reactor2x1","dir":0},{"pos":[30,140],"type":"Wing1x2","dir":0},{"pos":[40,-10],"type":"Reactor2x1","dir":0},{"pos":[40,100],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-30],"type":"Reactor2x1","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[-40,60],"type":"Mount30","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[0,150],"type":"ShieldGen2x1","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[0,40],"type":"Mount180","dir":0},{"pos":[0,120],"type":"EnergyTransfer","dir":0},{"pos":[-60,-60],"type":"Mount90","dir":0},{"pos":[-60,-100],"type":"Mount90","dir":0},{"pos":[60,-60],"type":"Mount90","dir":0},{"pos":[60,-100],"type":"Mount90","dir":0},{"pos":[-100,-80],"type":"BulletSpeedMod","dir":0},{"pos":[100,-80],"type":"BulletSpeedMod","dir":0},{"pos":[-100,-40],"type":"HArmor2x2Angle","dir":0},{"pos":[100,-40],"type":"HArmor2x2Angle","dir":0},{"pos":[0,0],"type":"PDTurret","dir":0},{"pos":[0,80],"type":"TorpTurret","dir":0},{"pos":[0,40],"type":"TorpTurret","dir":0},{"pos":[40,60],"type":"TorpTurret","dir":0},{"pos":[-40,60],"type":"TorpTurret","dir":0},{"pos":[0,-40],"type":"MissileTurret","dir":0},{"pos":[-60,-100],"type":"SidewinderTurret","dir":0},{"pos":[-60,-60],"type":"SidewinderTurret","dir":0},{"pos":[60,-60],"type":"SidewinderTurret","dir":0},{"pos":[60,-100],"type":"SidewinderTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",1,1],["@attackTypes enemy within #m","Attack",1200],["Field # for # of ship in slot # at priority #",1,2,1,1],["@capTypes command points within #m","Capture",10000]]},"","","","","","","",""];
  ais.all.SiegeCore = [{"parts":[{"pos":[40,20],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-20],"type":"Mount90","dir":0},{"pos":[10,-30],"type":"Engine02","dir":0},{"pos":[0,20],"type":"Mount360Micro","dir":0},{"pos":[30,-50],"type":"Wing1x1Round","dir":0},{"pos":[-10,-20],"type":"Reactor1x2","dir":0},{"pos":[-10,-50],"type":"ShieldGen1x1","dir":0},{"pos":[0,20],"type":"HeavyPDTurret","dir":0},{"pos":[40,-20],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",500,3],["Stayaway in #m range from slot # units",200,2],["@attackTypes enemy within #m","Attack",2000],["@capTypes Command Points within #m","Capture",10000],["Field # at start",2],["Try to field # every # seconds",1,30],["Field # for # of ship in slot # at priority #",1,1,2,3]]},{"parts":[{"pos":[-20,-10],"type":"Battery2x1","dir":0},{"pos":[40,20],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-20],"type":"Mount90","dir":0},{"pos":[10,-30],"type":"Engine02","dir":0},{"pos":[-40,20],"type":"Mount90","dir":0},{"pos":[0,20],"type":"Mount360Micro","dir":0},{"pos":[-50,-10],"type":"Wing1x1Round","dir":0},{"pos":[-20,-30],"type":"HArmor2x1","dir":0},{"pos":[0,20],"type":"PDTurret","dir":0},{"pos":[-40,20],"type":"AutoTurret","dir":0},{"pos":[40,-20],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",1000],["Stayaway in #m range from slot # units",300,1],["Stay in #m range of slot # units",700,2],["@attackTypes enemy within #m","Attack",1500],["@capTypes Command Points within #m","Capture",10000],["Field # at start",2],["Field # for # of ship in slot # at priority #",2,1,3,2],["Try to field # every # seconds",1,40]]},{"parts":[{"pos":[-60,80],"type":"Mount360Micro","dir":0},{"pos":[100,0],"type":"Mount360Micro","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[-20,-40],"type":"ReloaderMod","dir":0},{"pos":[-20,40],"type":"TargetingMod","dir":0},{"pos":[20,-40],"type":"ReloaderMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[-70,-10],"type":"Engine02","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[-60,40],"type":"HArmor2x2Angle","dir":0},{"pos":[20,40],"type":"TargetingMod","dir":0},{"pos":[-20,70],"type":"HArmor2x1","dir":0},{"pos":[20,70],"type":"HArmor2x1","dir":0},{"pos":[60,40],"type":"HArmor2x2Angle","dir":0},{"pos":[0,100],"type":"Mount270","dir":0},{"pos":[60,80],"type":"Mount360Micro","dir":0},{"pos":[-100,0],"type":"Mount360Micro","dir":0},{"pos":[-30,100],"type":"Reactor1x2","dir":0},{"pos":[30,100],"type":"Reactor1x2","dir":0},{"pos":[90,-50],"type":"Engine02","dir":0},{"pos":[-90,-50],"type":"Engine02","dir":0},{"pos":[-40,-80],"type":"Reactor2x2","dir":0},{"pos":[40,-80],"type":"Reactor2x2","dir":0},{"pos":[0,-80],"type":"EnergyTransfer","dir":0},{"pos":[-50,-40],"type":"Wing1x2","dir":0},{"pos":[50,-40],"type":"Wing1x2","dir":0},{"pos":[0,100],"type":"PDTurret","dir":0},{"pos":[-100,0],"type":"AutoTurret","dir":0},{"pos":[-60,80],"type":"AutoTurret","dir":0},{"pos":[60,80],"type":"AutoTurret","dir":0},{"pos":[100,0],"type":"AutoTurret","dir":0},{"pos":[0,0],"type":"ArtilleryTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Flee",1000],["Avoid #dps danger areas",5],["Stay in #m range of slot # units",700,4],["Stayaway in #m range from slot # units",700,5],["Find units that are out of energy"],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",100,3000],["@attackTypes enemy within #m","Attack",3000],["@capTypes Command Points within #m","Capture",10000],["Field # at start",1],["Field # at priority #",1,2],["Try to field # every # seconds",1,60],["Field # for # of ship in slot # at priority #",1,4,2,1]]},{"parts":[{"pos":[10,0],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-30,10],"type":"Reactor1x1","dir":0},{"pos":[-10,-30],"type":"Engine01","dir":0},{"pos":[-10,20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-30,40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-30,-10],"type":"Reactor1x1","dir":0},{"pos":[10,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[-10,60],"type":"VArmor1x2Corner4","dir":0},{"pos":[-30,80],"type":"VArmor1x2Corner4","dir":0},{"pos":[-50,10],"type":"Wing1x1Round","dir":0},{"pos":[-50,30],"type":"Wing1x1Round","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Flee",500],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","Faster",250,1000],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,2],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[-30,-10],"type":"Engine02","dir":0},{"pos":[0,40],"type":"EnergyTransfer","dir":0},{"pos":[-30,30],"type":"Battery1x1","dir":0},{"pos":[-30,50],"type":"Wing1x1Round","dir":0},{"pos":[30,0],"type":"VArmor1x1CornerBack","dir":0},{"pos":[30,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[-10,-40],"type":"VArmor1x2End","dir":0},{"pos":[10,-40],"type":"VArmor1x2End","dir":0}],"name":"","aiRules":[["Avoid everything"],["@capTypes Command Points within #m","Capture",600],["Find units that are out of energy"],["Stay in #m range of slot # units",650,3],["Try to field # every # seconds",1,35]]},"","","","",""];
  ais.all.Slowpoke = ["","","","","","",{"parts":[{"pos":[-20,-90],"type":"Reactor2x1","dir":0},{"pos":[110,10],"type":"Battery1x1","dir":0},{"pos":[60,60],"type":"HArmor2x2Angle","dir":0},{"pos":[70,30],"type":"Battery1x1","dir":0},{"pos":[-70,30],"type":"Battery1x1","dir":0},{"pos":[40,20],"type":"Mount90","dir":0},{"pos":[-40,20],"type":"Mount90","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[20,60],"type":"Mount90","dir":0},{"pos":[-20,60],"type":"Mount90","dir":0},{"pos":[-60,60],"type":"HArmor2x2Angle","dir":0},{"pos":[40,100],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,100],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-60],"type":"HArmor2x2Angle","dir":0},{"pos":[0,-40],"type":"Mount90","dir":0},{"pos":[-40,-60],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,-20],"type":"Mount90","dir":0},{"pos":[40,-20],"type":"Mount90","dir":0},{"pos":[80,0],"type":"Mount90","dir":0},{"pos":[20,-160],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-20,-160],"type":"HArmor2x2AngleBack","dir":0},{"pos":[20,-90],"type":"Reactor2x1","dir":0},{"pos":[160,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[-120,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[120,-40],"type":"HArmor2x2AngleBack","dir":0},{"pos":[140,20],"type":"HArmor2x2Angle","dir":0},{"pos":[120,-10],"type":"Reactor2x1","dir":0},{"pos":[0,110],"type":"Reactor2x1","dir":0},{"pos":[100,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,-120],"type":"HArmor2x2Angle","dir":0},{"pos":[40,-120],"type":"HArmor2x2Angle","dir":0},{"pos":[10,90],"type":"Battery1x1","dir":0},{"pos":[-10,90],"type":"Battery1x1","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[0,-10],"type":"Reactor2x1","dir":0},{"pos":[-100,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,0],"type":"Mount90","dir":0},{"pos":[-110,10],"type":"Battery1x1","dir":0},{"pos":[-120,-10],"type":"Reactor2x1","dir":0},{"pos":[0,-110],"type":"Reactor2x1","dir":0},{"pos":[0,-130],"type":"Reactor2x1","dir":0},{"pos":[-160,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[-140,20],"type":"HArmor2x2Angle","dir":0},{"pos":[-90,-50],"type":"Engine02","dir":0},{"pos":[-70,-50],"type":"Engine02","dir":0},{"pos":[70,-50],"type":"Engine02","dir":0},{"pos":[90,-50],"type":"Engine02","dir":0},{"pos":[-50,-150],"type":"Wing1x1Notch","dir":0},{"pos":[50,-150],"type":"Wing1x1Notch","dir":0},{"pos":[-40,20],"type":"LightBeamTurret","dir":0},{"pos":[40,-20],"type":"LightBeamTurret","dir":0},{"pos":[20,60],"type":"LightBeamTurret","dir":0},{"pos":[-40,-20],"type":"LightBeamTurret","dir":0},{"pos":[0,20],"type":"LightBeamTurret","dir":0},{"pos":[0,-40],"type":"LightBeamTurret","dir":0},{"pos":[40,20],"type":"LightBeamTurret","dir":0},{"pos":[-20,60],"type":"LightBeamTurret","dir":0},{"pos":[80,0],"type":"LightBeamTurret","dir":0},{"pos":[-80,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",10,1],["@attackTypes enemy within #m","Attack",1000],["@capTypes Command Points within #m","Spread to",10000]]},{"parts":[{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0}],"name":"","aiRules":[["Try to field # every # seconds",1,30],["Field # at start",2],["@capTypes Command Points within #m","Spread to",10000]]},"",""];
  ais.all.SparkShower = [{"parts":[{"pos":[-40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-50,-50],"type":"Wing1x1Round","dir":0},{"pos":[50,-50],"type":"Wing1x1Round","dir":0},{"pos":[-10,-70],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"TeslaTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",1200,2],["@attackTypes enemy within #m","Kite",2000],["Avoid everything"],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,1],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[-70,-10],"type":"Engine02","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[-40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[70,-10],"type":"Engine02","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"ReloaderMod","dir":0},{"pos":[-50,-60],"type":"Battery1x2","dir":0},{"pos":[50,-60],"type":"Battery1x2","dir":0},{"pos":[-70,40],"type":"Wing1x2","dir":0},{"pos":[70,40],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"TeslaTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of friendly units",500],["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Kite",1500],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,35],["Field # when money over # at priority #",1,1000,1],["Field # at start",1]]},{"parts":[{"pos":[30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[10,-30],"type":"Battery1x1","dir":0},{"pos":[-30,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[0,0],"type":"Mount360Micro","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[-20,40],"type":"Mount30","dir":0},{"pos":[20,40],"type":"Mount360Micro","dir":0},{"pos":[0,0],"type":"TorpTurret","dir":0},{"pos":[20,40],"type":"TorpTurret","dir":0},{"pos":[-20,40],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",800,4],["Avoid over #damage shots",20],["@attackTypes enemy within #m","Attack",1500],["Stay in #m range of slot # units",400,4],["Avoid everything"],["Goto @locationTypes","Friendly Army Middle"],["Field # for # of ship in slot # at priority #",2,1,4,1],["Try to field # every # seconds",1,25]]},{"parts":[{"pos":[50,-50],"type":"Wing1x1Round","dir":0},{"pos":[40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[0,-40],"type":"TargetingMod","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"TargetingMod","dir":0},{"pos":[40,20],"type":"TargetingMod","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[-40,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[0,40],"type":"ReloaderMod","dir":0},{"pos":[-50,-50],"type":"Wing1x1Round","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[0,70],"type":"Reactor2x1","dir":0},{"pos":[-80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,10],"type":"Reactor2x1","dir":0},{"pos":[80,10],"type":"Reactor2x1","dir":0},{"pos":[0,-80],"type":"EnergyTransfer","dir":0},{"pos":[0,100],"type":"Mount360","dir":0},{"pos":[80,-10],"type":"Reactor2x1","dir":0},{"pos":[-80,-10],"type":"Reactor2x1","dir":0},{"pos":[0,100],"type":"PDTurret","dir":0},{"pos":[0,0],"type":"TeslaTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",800,1],["Avoid everything"],["Stay in #m range of slot # units",1200,2],["Field # at priority #",1,2],["Try to field # every # seconds",1,40]]},{"parts":[{"pos":[0,40],"type":"Mount360Micro","dir":0},{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[-30,-20],"type":"VArmor1x1CornerBack","dir":0},{"pos":[0,10],"type":"Battery2x1","dir":0},{"pos":[50,-10],"type":"Wing1x1Round","dir":0},{"pos":[-50,-10],"type":"Wing1x1Round","dir":0},{"pos":[50,-40],"type":"Engine04","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[0,-10],"type":"Battery2x1","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[30,-10],"type":"UArmor1x1","dir":0},{"pos":[-40,20],"type":"Mount90","dir":0},{"pos":[40,20],"type":"Mount90","dir":0},{"pos":[-50,-40],"type":"Engine04","dir":0},{"pos":[-40,20],"type":"LightBeamTurret","dir":0},{"pos":[0,40],"type":"LightBeamTurret","dir":0},{"pos":[40,20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",26,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Stronger","More Brawling Value",1400],["@attackTypes enemy within #m","Attack",550],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","Slower",1000],["Avoid #dps danger areas",5],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",1,1],["Try to field # every # seconds",1,30]]},"","","","",""];
  ais.all.StaticAI = ["","","","","","","","","",""];
  ais.all.SuperBelfry = [{"parts":[{"pos":[-80,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,-20],"type":"HArmor2x2","dir":0},{"pos":[-40,-60],"type":"Reactor2x2","dir":0},{"pos":[-50,-110],"type":"Engine02","dir":0},{"pos":[-30,-110],"type":"Engine02","dir":0},{"pos":[50,-110],"type":"Engine02","dir":0},{"pos":[30,-110],"type":"Engine02","dir":0},{"pos":[40,-60],"type":"Reactor2x2","dir":0},{"pos":[-40,20],"type":"DamageMod","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[0,0],"type":"Mount270","dir":0},{"pos":[40,20],"type":"DamageMod","dir":0},{"pos":[-80,60],"type":"Wing2x2","dir":0},{"pos":[0,40],"type":"DamageMod","dir":0},{"pos":[80,-100],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,60],"type":"Wing2x2","dir":0},{"pos":[-80,-20],"type":"HArmor2x2","dir":0},{"pos":[-80,20],"type":"HArmor2x2","dir":0},{"pos":[80,20],"type":"HArmor2x2","dir":0},{"pos":[-80,-60],"type":"ShieldGen2x2","dir":0},{"pos":[80,-60],"type":"ShieldGen2x2","dir":0},{"pos":[0,-80],"type":"HArmor2x2","dir":0},{"pos":[0,-40],"type":"DamageMod","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[0,70],"type":"Battery2x1","dir":0},{"pos":[0,-110],"type":"Battery2x1","dir":0},{"pos":[-40,70],"type":"Reactor2x1","dir":0},{"pos":[40,70],"type":"Reactor2x1","dir":0},{"pos":[-50,50],"type":"ShieldGen1x1","dir":0},{"pos":[-30,50],"type":"ShieldGen1x1","dir":0},{"pos":[30,50],"type":"ShieldGen1x1","dir":0},{"pos":[50,50],"type":"ShieldGen1x1","dir":0},{"pos":[0,0],"type":"RingTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",150],["@attackTypes enemy within #m","Ram",1000],["@capTypes Command Points within #m","Capture",10000],["Field # at priority #",100,1],["Field # at start",2]]},{"parts":[{"pos":[10,10],"type":"Wing1x1Round","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",1,30],["Field # at start",2]]},"","","","","","","",""];
  ais.all.SwarmLord = [{"parts":[{"pos":[40,-80],"type":"Reactor2x2","dir":0},{"pos":[-120,-20],"type":"ReloaderMod","dir":0},{"pos":[0,40],"type":"Reactor2x2","dir":0},{"pos":[0,-40],"type":"Reactor2x2","dir":0},{"pos":[40,0],"type":"Reactor2x2","dir":0},{"pos":[-40,0],"type":"Reactor2x2","dir":0},{"pos":[-80,0],"type":"Reactor2x2","dir":0},{"pos":[0,0],"type":"Reactor2x2","dir":0},{"pos":[80,0],"type":"Reactor2x2","dir":0},{"pos":[40,40],"type":"EnergyTransfer","dir":0},{"pos":[-40,40],"type":"EnergyTransfer","dir":0},{"pos":[-80,40],"type":"TargetingMod","dir":0},{"pos":[40,-40],"type":"EnergyTransfer","dir":0},{"pos":[-40,-40],"type":"EnergyTransfer","dir":0},{"pos":[-120,40],"type":"TargetingMod","dir":0},{"pos":[-120,120],"type":"TargetingMod","dir":0},{"pos":[-80,120],"type":"TargetingMod","dir":0},{"pos":[-60,80],"type":"ReloaderMod","dir":0},{"pos":[-140,80],"type":"ReloaderMod","dir":0},{"pos":[60,80],"type":"ReloaderMod","dir":0},{"pos":[80,120],"type":"TargetingMod","dir":0},{"pos":[120,120],"type":"TargetingMod","dir":0},{"pos":[80,40],"type":"TargetingMod","dir":0},{"pos":[120,40],"type":"TargetingMod","dir":0},{"pos":[140,80],"type":"ReloaderMod","dir":0},{"pos":[20,80],"type":"TargetingMod","dir":0},{"pos":[-20,80],"type":"TargetingMod","dir":0},{"pos":[40,120],"type":"ReloaderMod","dir":0},{"pos":[-40,120],"type":"ReloaderMod","dir":0},{"pos":[-20,160],"type":"TargetingMod","dir":0},{"pos":[20,160],"type":"TargetingMod","dir":0},{"pos":[-80,-80],"type":"TargetingMod","dir":0},{"pos":[100,80],"type":"Mount360","dir":0},{"pos":[-80,-40],"type":"TargetingMod","dir":0},{"pos":[-100,80],"type":"Mount360","dir":0},{"pos":[0,120],"type":"Mount360","dir":0},{"pos":[80,-40],"type":"TargetingMod","dir":0},{"pos":[80,-80],"type":"TargetingMod","dir":0},{"pos":[-120,-60],"type":"Mount360","dir":0},{"pos":[120,-60],"type":"Mount360","dir":0},{"pos":[160,-80],"type":"TargetingMod","dir":0},{"pos":[160,-40],"type":"TargetingMod","dir":0},{"pos":[120,-100],"type":"ReloaderMod","dir":0},{"pos":[-120,-100],"type":"ReloaderMod","dir":0},{"pos":[-160,-40],"type":"TargetingMod","dir":0},{"pos":[-160,-80],"type":"TargetingMod","dir":0},{"pos":[120,-20],"type":"ReloaderMod","dir":0},{"pos":[-40,-80],"type":"Reactor2x2","dir":0},{"pos":[0,-80],"type":"Reactor2x2","dir":0},{"pos":[-120,10],"type":"Reactor2x1","dir":0},{"pos":[120,10],"type":"Reactor2x1","dir":0},{"pos":[0,-120],"type":"EnergyTransfer","dir":0},{"pos":[150,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-150,-110],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-150,-10],"type":"HArmor1x1Angle","dir":0},{"pos":[150,-10],"type":"HArmor1x1Angle","dir":0},{"pos":[-150,50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[150,50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-50,150],"type":"HArmor1x1Angle","dir":0},{"pos":[-150,110],"type":"HArmor1x1Angle","dir":0},{"pos":[150,110],"type":"HArmor1x1Angle","dir":0},{"pos":[-90,-130],"type":"Engine02","dir":0},{"pos":[-70,-130],"type":"Engine02","dir":0},{"pos":[-50,-130],"type":"Engine02","dir":0},{"pos":[50,-130],"type":"Engine02","dir":0},{"pos":[70,-130],"type":"Engine02","dir":0},{"pos":[90,-130],"type":"Engine02","dir":0},{"pos":[110,-130],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-110,-130],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-30,-150],"type":"HArmor1x1AngleBack","dir":0},{"pos":[190,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[190,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[-190,-90],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-190,-30],"type":"HArmor1x1Angle","dir":0},{"pos":[30,190],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,190],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,-130],"type":"ShieldGen1x1","dir":0},{"pos":[-30,-110],"type":"ShieldGen1x1","dir":0},{"pos":[30,-110],"type":"ShieldGen1x1","dir":0},{"pos":[30,-130],"type":"ShieldGen1x1","dir":0},{"pos":[-190,-70],"type":"ShieldGen1x1","dir":0},{"pos":[-190,-50],"type":"ShieldGen1x1","dir":0},{"pos":[190,-70],"type":"ShieldGen1x1","dir":0},{"pos":[190,-50],"type":"ShieldGen1x1","dir":0},{"pos":[10,190],"type":"ShieldGen1x1","dir":0},{"pos":[-10,190],"type":"ShieldGen1x1","dir":0},{"pos":[0,-160],"type":"ShieldGen2x2","dir":0},{"pos":[-100,80],"type":"PDTurret","dir":0},{"pos":[0,120],"type":"PDTurret","dir":0},{"pos":[100,80],"type":"PDTurret","dir":0},{"pos":[-120,-60],"type":"PDTurret","dir":0},{"pos":[120,-60],"type":"PDTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["Goto @locationTypes","Friendly Army Middle"]]},{"parts":[{"pos":[40,40],"type":"Mount30","dir":0},{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[0,-10],"type":"Battery2x1","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[-40,0],"type":"Mount30","dir":0},{"pos":[40,0],"type":"Mount30","dir":0},{"pos":[-40,40],"type":"Mount30","dir":0},{"pos":[-50,-30],"type":"Wing1x1Round","dir":0},{"pos":[50,-30],"type":"Wing1x1Round","dir":0},{"pos":[-40,0],"type":"TorpTurret","dir":0},{"pos":[-40,40],"type":"TorpTurret","dir":0},{"pos":[0,20],"type":"TorpTurret","dir":0},{"pos":[40,40],"type":"TorpTurret","dir":0},{"pos":[40,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",700,1],["@attackTypes enemy within #m","Attack",1000],["Stayaway in #m range from slot # units",400,2],["Try to field # every # seconds",1,35],["Field # at start",2]]},{"parts":[{"pos":[90,0],"type":"Engine04","dir":0},{"pos":[0,100],"type":"ReloaderMod","dir":0},{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[-50,-20],"type":"Engine04","dir":0},{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[20,-10],"type":"Reactor2x1","dir":0},{"pos":[-20,-10],"type":"Reactor2x1","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[40,10],"type":"Reactor2x1","dir":0},{"pos":[-40,10],"type":"Reactor2x1","dir":0},{"pos":[50,-20],"type":"Engine04","dir":0},{"pos":[70,0],"type":"Engine04","dir":0},{"pos":[-70,0],"type":"Engine04","dir":0},{"pos":[0,20],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[0,60],"type":"Mount270","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[-40,80],"type":"TargetingMod","dir":0},{"pos":[40,80],"type":"TargetingMod","dir":0},{"pos":[-90,0],"type":"Engine04","dir":0},{"pos":[110,0],"type":"Engine04","dir":0},{"pos":[-110,0],"type":"Engine04","dir":0},{"pos":[-70,30],"type":"Reactor1x1","dir":0},{"pos":[-70,60],"type":"Battery1x2","dir":0},{"pos":[70,60],"type":"Battery1x2","dir":0},{"pos":[-100,40],"type":"ShieldGen2x2","dir":0},{"pos":[100,40],"type":"ShieldGen2x2","dir":0},{"pos":[-30,110],"type":"ShieldGen1x1","dir":0},{"pos":[30,110],"type":"ShieldGen1x1","dir":0},{"pos":[-60,110],"type":"Wing2x1","dir":0},{"pos":[60,110],"type":"Wing2x1","dir":0},{"pos":[-90,80],"type":"Wing1x2","dir":0},{"pos":[90,80],"type":"Wing1x2","dir":0},{"pos":[70,30],"type":"Battery1x1","dir":0},{"pos":[-70,90],"type":"Battery1x1","dir":0},{"pos":[70,90],"type":"Battery1x1","dir":0},{"pos":[0,60],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",30],["When #% of energy, @chargeTypes",55,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Wiggle","More Range",700,2000],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","Slower",140,3000],["Stay in #m range of slot # units",800,1],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,15],["Field # at start",1]]},{"parts":[{"pos":[30,-20],"type":"Battery1x2","dir":0},{"pos":[40,60],"type":"DamageMod","dir":0},{"pos":[0,40],"type":"Mount90","dir":0},{"pos":[0,0],"type":"DamageMod","dir":0},{"pos":[0,-40],"type":"Engine07","dir":0},{"pos":[-40,20],"type":"DamageMod","dir":0},{"pos":[0,80],"type":"DamageMod","dir":0},{"pos":[-40,60],"type":"DamageMod","dir":0},{"pos":[40,20],"type":"DamageMod","dir":0},{"pos":[-30,-20],"type":"Battery1x2","dir":0},{"pos":[-60,-10],"type":"Battery2x1","dir":0},{"pos":[60,-10],"type":"Battery2x1","dir":0},{"pos":[-70,60],"type":"Wing1x2","dir":0},{"pos":[-70,20],"type":"Wing1x2","dir":0},{"pos":[70,60],"type":"Wing1x2","dir":0},{"pos":[70,20],"type":"Wing1x2","dir":0},{"pos":[0,40],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",45,"Find recharger"],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Bomb","More HP",250,2000],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,20],["Field # at start",2]]},{"parts":[{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[-30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[20,0],"type":"Mount30","dir":0},{"pos":[20,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",400,7],["Stay in #m range of slot # units",500,6],["@attackTypes enemy within #m","Attack",520],["When #% of energy, @chargeTypes",30,"Find recharger"],["Avoid over #damage shots",5],["Avoid #dps danger areas",5],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",1,2],["Field # at start",3],["Try to field # every # seconds",20,70]]},{"parts":[{"pos":[40,-20],"type":"HArmor2x2","dir":0},{"pos":[-70,20],"type":"Battery1x2","dir":0},{"pos":[-50,-20],"type":"Battery1x2","dir":0},{"pos":[-40,20],"type":"Mount30","dir":0},{"pos":[-30,-30],"type":"Engine02","dir":0},{"pos":[40,20],"type":"Mount30","dir":0},{"pos":[0,60],"type":"Mount30","dir":0},{"pos":[0,-20],"type":"Battery2x2","dir":0},{"pos":[-40,60],"type":"HArmor2x2","dir":0},{"pos":[0,20],"type":"Mount30","dir":0},{"pos":[40,60],"type":"HArmor2x2","dir":0},{"pos":[-70,-10],"type":"Wing1x1Round","dir":0},{"pos":[-70,60],"type":"HArmor1x2","dir":0},{"pos":[0,-50],"type":"HArmor2x1","dir":0},{"pos":[-50,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-50],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-40,20],"type":"AutoTurret","dir":0},{"pos":[0,20],"type":"AutoTurret","dir":0},{"pos":[0,60],"type":"AutoTurret","dir":0},{"pos":[40,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",500,7],["@attackTypes enemy within #m","Attack",1000],["Stay in #m range of slot # units",500,1],["Avoid over #damage shots",50],["Avoid #dps danger areas",5],["Try to field # every # seconds",1,90]]},{"parts":[{"pos":[-70,30],"type":"ShieldGen1x1","dir":0},{"pos":[-110,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-60,-40],"type":"HArmor2x2","dir":0},{"pos":[40,-40],"type":"HArmor2x2","dir":0},{"pos":[-80,0],"type":"HArmor2x2","dir":0},{"pos":[-40,0],"type":"HArmor2x2","dir":0},{"pos":[-40,40],"type":"HArmor2x2","dir":0},{"pos":[80,0],"type":"HArmor2x2","dir":0},{"pos":[40,0],"type":"HArmor2x2","dir":0},{"pos":[0,40],"type":"HArmor2x2","dir":0},{"pos":[40,40],"type":"HArmor2x2","dir":0},{"pos":[-30,-30],"type":"Reactor1x1","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[-90,-50],"type":"ShieldGen1x1","dir":0},{"pos":[-90,-30],"type":"ShieldGen1x1","dir":0},{"pos":[70,-50],"type":"ShieldGen1x1","dir":0},{"pos":[90,-30],"type":"ShieldGen1x1","dir":0},{"pos":[70,-30],"type":"ShieldGen1x1","dir":0},{"pos":[-110,-30],"type":"ShieldGen1x1","dir":0},{"pos":[-90,30],"type":"ShieldGen1x1","dir":0},{"pos":[-110,10],"type":"ShieldGen1x1","dir":0},{"pos":[-110,30],"type":"ShieldGen1x1","dir":0},{"pos":[-70,50],"type":"ShieldGen1x1","dir":0},{"pos":[-70,70],"type":"ShieldGen1x1","dir":0},{"pos":[-50,70],"type":"ShieldGen1x1","dir":0},{"pos":[-30,70],"type":"ShieldGen1x1","dir":0},{"pos":[-10,70],"type":"ShieldGen1x1","dir":0},{"pos":[10,70],"type":"ShieldGen1x1","dir":0},{"pos":[30,70],"type":"ShieldGen1x1","dir":0},{"pos":[50,70],"type":"ShieldGen1x1","dir":0},{"pos":[70,70],"type":"ShieldGen1x1","dir":0},{"pos":[70,50],"type":"ShieldGen1x1","dir":0},{"pos":[70,30],"type":"ShieldGen1x1","dir":0},{"pos":[90,30],"type":"ShieldGen1x1","dir":0},{"pos":[110,30],"type":"ShieldGen1x1","dir":0},{"pos":[110,10],"type":"ShieldGen1x1","dir":0},{"pos":[110,-10],"type":"ShieldGen1x1","dir":0},{"pos":[110,-30],"type":"ShieldGen1x1","dir":0},{"pos":[-10,-10],"type":"Engine02","dir":0},{"pos":[10,-10],"type":"Engine02","dir":0},{"pos":[-50,-70],"type":"Wing1x1Round","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,6,1],["Stay in #m range of slot # units",1000,6],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More Range",1005,800],["When Shields down to #%, flee",10],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More Range",900,3000],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More Range",500,3000],["@capTypes Command Points within #m","Capture",10000]]},{"parts":[],"name":"","aiRules":[]},"",""];
  ais.all.Tank = [{"parts":[{"pos":[-50,20],"type":"HArmor1x2","dir":0},{"pos":[30,0],"type":"Engine04","dir":0},{"pos":[-20,40],"type":"Mount90","dir":0},{"pos":[-50,50],"type":"Wing1x1Round","dir":0},{"pos":[50,50],"type":"Wing1x1Round","dir":0},{"pos":[20,50],"type":"Reactor2x1","dir":0},{"pos":[50,20],"type":"HArmor1x2","dir":0},{"pos":[10,0],"type":"Engine04","dir":0},{"pos":[-20,0],"type":"Mount90","dir":0},{"pos":[10,30],"type":"Battery1x1","dir":0},{"pos":[30,30],"type":"Battery1x1","dir":0},{"pos":[-20,40],"type":"LightBeamTurret","dir":0},{"pos":[-20,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","Slower",850],["@attackTypes enemy within #m","Attack",750],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",2],["Try to field # every # seconds",1,25],["Try to field # every # seconds",1,60]]},{"parts":[{"pos":[-60,0],"type":"HArmor2x2Angle","dir":0},{"pos":[-70,-40],"type":"HArmor1x2","dir":0},{"pos":[-30,0],"type":"HArmor1x2","dir":0},{"pos":[60,0],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,40],"type":"HArmor2x2Angle","dir":0},{"pos":[40,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-100,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[30,0],"type":"HArmor1x2","dir":0},{"pos":[100,-20],"type":"HArmor2x2Angle","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[-10,60],"type":"HArmor1x2","dir":0},{"pos":[30,70],"type":"Wing1x1Round","dir":0},{"pos":[-30,70],"type":"Wing1x1Round","dir":0},{"pos":[-40,-40],"type":"Mount90","dir":0},{"pos":[40,-40],"type":"Mount90","dir":0},{"pos":[70,-40],"type":"HArmor1x2","dir":0},{"pos":[10,60],"type":"HArmor1x2","dir":0},{"pos":[0,-10],"type":"Reactor2x1","dir":0},{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[-30,-80],"type":"Engine04","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[30,-80],"type":"Engine04","dir":0},{"pos":[-100,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-60,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[60,-80],"type":"HArmor2x2AngleBack","dir":0},{"pos":[100,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-90,10],"type":"Wing1x1Round","dir":0},{"pos":[90,10],"type":"Wing1x1Round","dir":0},{"pos":[40,-40],"type":"LightBeamTurret","dir":0},{"pos":[-40,-40],"type":"LightBeamTurret","dir":0},{"pos":[0,20],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",600],["@capTypes Command Points within #m","Capture",10000],["Field # at start",1],["Try to field # every # seconds",1,30]]},"",{"parts":[],"name":"","aiRules":[]},"","","","",{"parts":[],"name":"","aiRules":[]},""];
  ais.all.Targets = [{"parts":[{"pos":[30,0],"type":"HArmor1x2","dir":0},{"pos":[10,-40],"type":"Engine04","dir":0},{"pos":[20,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[-30,0],"type":"HArmor1x2","dir":0},{"pos":[-20,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[50,-10],"type":"Wing1x1Notch","dir":0},{"pos":[-50,-10],"type":"Wing1x1Notch","dir":0},{"pos":[0,0],"type":"Battery2x2","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Spread to",10000],["Field # at start",2],["Try to field # every # seconds",2,40]]},{},{},{},{},{},{},{},{},{}];
  ais.all.Tempest = [{"parts":[{"pos":[100,-60],"type":"TargetingMod","dir":0},{"pos":[-100,-60],"type":"TargetingMod","dir":0},{"pos":[40,0],"type":"Reactor2x2","dir":0},{"pos":[0,40],"type":"Reactor2x2","dir":0},{"pos":[0,-40],"type":"Reactor2x2","dir":0},{"pos":[-40,0],"type":"Reactor2x2","dir":0},{"pos":[40,-40],"type":"Reactor2x2","dir":0},{"pos":[40,40],"type":"Reactor2x2","dir":0},{"pos":[-40,-40],"type":"Reactor2x2","dir":0},{"pos":[-40,40],"type":"Reactor2x2","dir":0},{"pos":[0,80],"type":"Reactor2x2","dir":0},{"pos":[0,-80],"type":"Reactor2x2","dir":0},{"pos":[-80,0],"type":"Reactor2x2","dir":0},{"pos":[80,0],"type":"Reactor2x2","dir":0},{"pos":[0,0],"type":"ShieldGen2x2","dir":0},{"pos":[-70,30],"type":"ShieldGen1x1","dir":0},{"pos":[-70,50],"type":"ShieldGen1x1","dir":0},{"pos":[-70,70],"type":"ShieldGen1x1","dir":0},{"pos":[30,70],"type":"ShieldGen1x1","dir":0},{"pos":[-50,70],"type":"ShieldGen1x1","dir":0},{"pos":[-30,70],"type":"ShieldGen1x1","dir":0},{"pos":[50,70],"type":"ShieldGen1x1","dir":0},{"pos":[70,70],"type":"ShieldGen1x1","dir":0},{"pos":[70,50],"type":"ShieldGen1x1","dir":0},{"pos":[70,30],"type":"ShieldGen1x1","dir":0},{"pos":[70,-30],"type":"ShieldGen1x1","dir":0},{"pos":[50,-70],"type":"ShieldGen1x1","dir":0},{"pos":[70,-50],"type":"ShieldGen1x1","dir":0},{"pos":[70,-70],"type":"ShieldGen1x1","dir":0},{"pos":[30,-70],"type":"ShieldGen1x1","dir":0},{"pos":[-30,-70],"type":"ShieldGen1x1","dir":0},{"pos":[-50,-70],"type":"ShieldGen1x1","dir":0},{"pos":[-70,-70],"type":"ShieldGen1x1","dir":0},{"pos":[-70,-50],"type":"ShieldGen1x1","dir":0},{"pos":[-70,-30],"type":"ShieldGen1x1","dir":0},{"pos":[-100,60],"type":"DamageMod","dir":0},{"pos":[-140,60],"type":"DamageMod","dir":0},{"pos":[-120,100],"type":"Mount360","dir":0},{"pos":[100,60],"type":"DamageMod","dir":0},{"pos":[140,60],"type":"DamageMod","dir":0},{"pos":[120,100],"type":"Mount360","dir":0},{"pos":[120,-100],"type":"Mount360","dir":0},{"pos":[-140,140],"type":"TargetingMod","dir":0},{"pos":[-120,-100],"type":"Mount360","dir":0},{"pos":[100,140],"type":"TargetingMod","dir":0},{"pos":[-160,100],"type":"TargetingMod","dir":0},{"pos":[-100,140],"type":"TargetingMod","dir":0},{"pos":[-140,-140],"type":"DamageMod","dir":0},{"pos":[140,140],"type":"TargetingMod","dir":0},{"pos":[160,100],"type":"TargetingMod","dir":0},{"pos":[-100,-140],"type":"DamageMod","dir":0},{"pos":[100,-140],"type":"DamageMod","dir":0},{"pos":[140,-140],"type":"DamageMod","dir":0},{"pos":[160,-100],"type":"TargetingMod","dir":0},{"pos":[140,-60],"type":"TargetingMod","dir":0},{"pos":[-140,-60],"type":"TargetingMod","dir":0},{"pos":[-160,-100],"type":"TargetingMod","dir":0},{"pos":[-50,-110],"type":"Engine01","dir":0},{"pos":[-30,-110],"type":"Engine01","dir":0},{"pos":[-10,-130],"type":"Engine01","dir":0},{"pos":[30,-110],"type":"Engine01","dir":0},{"pos":[50,-110],"type":"Engine01","dir":0},{"pos":[10,-130],"type":"Engine01","dir":0},{"pos":[-80,-100],"type":"ReloaderMod","dir":0},{"pos":[80,-100],"type":"ReloaderMod","dir":0},{"pos":[80,100],"type":"ReloaderMod","dir":0},{"pos":[-80,100],"type":"ReloaderMod","dir":0},{"pos":[-120,0],"type":"Mount360","dir":0},{"pos":[120,0],"type":"Mount360","dir":0},{"pos":[-160,0],"type":"Mount360","dir":0},{"pos":[160,0],"type":"Mount360","dir":0},{"pos":[-70,-150],"type":"Engine01","dir":0},{"pos":[70,-150],"type":"Engine01","dir":0},{"pos":[-30,100],"type":"Wing1x2","dir":0},{"pos":[-50,100],"type":"Wing1x2","dir":0},{"pos":[30,100],"type":"Wing1x2","dir":0},{"pos":[50,100],"type":"Wing1x2","dir":0},{"pos":[-10,120],"type":"Wing1x2","dir":0},{"pos":[10,120],"type":"Wing1x2","dir":0},{"pos":[170,140],"type":"Wing1x2","dir":0},{"pos":[-170,140],"type":"Wing1x2","dir":0},{"pos":[-170,-60],"type":"Wing1x2","dir":0},{"pos":[170,-60],"type":"Wing1x2","dir":0},{"pos":[-90,30],"type":"Wing1x1Angle","dir":0},{"pos":[-110,30],"type":"Wing1x1Angle","dir":0},{"pos":[-130,30],"type":"Wing1x1Angle","dir":0},{"pos":[-150,30],"type":"Wing1x1Angle","dir":0},{"pos":[90,30],"type":"Wing1x1Angle","dir":0},{"pos":[110,30],"type":"Wing1x1Angle","dir":0},{"pos":[130,30],"type":"Wing1x1Angle","dir":0},{"pos":[150,30],"type":"Wing1x1Angle","dir":0},{"pos":[150,-30],"type":"Wing1x1Angle","dir":0},{"pos":[130,-30],"type":"Wing1x1Angle","dir":0},{"pos":[110,-30],"type":"Wing1x1Angle","dir":0},{"pos":[90,-30],"type":"Wing1x1Angle","dir":0},{"pos":[-90,-30],"type":"Wing1x1Angle","dir":0},{"pos":[-110,-30],"type":"Wing1x1Angle","dir":0},{"pos":[-130,-30],"type":"Wing1x1Angle","dir":0},{"pos":[-150,-30],"type":"Wing1x1Angle","dir":0},{"pos":[-170,30],"type":"Wing1x1Angle","dir":0},{"pos":[170,30],"type":"Wing1x1Angle","dir":0},{"pos":[120,0],"type":"FlackTurret","dir":0},{"pos":[-160,0],"type":"FlackTurret","dir":0},{"pos":[160,0],"type":"FlackTurret","dir":0},{"pos":[-120,0],"type":"FlackTurret","dir":0},{"pos":[-120,-100],"type":"PlasmaTurret","dir":0},{"pos":[-120,100],"type":"PlasmaTurret","dir":0},{"pos":[120,100],"type":"PlasmaTurret","dir":0},{"pos":[120,-100],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",80],["When #% of energy, @chargeTypes",50,"Rest"],["@attackTypes enemy that is @absoluteTypes then # within #m","Kite","More expensive",400,1500],["Goto @locationTypes","Friendly Army Middle"],["@capTypes Command Points within #m","Capture",10000]]},{"parts":[{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[30,10],"type":"HArmor1x1Angle","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[10,-30],"type":"Reactor1x1","dir":0},{"pos":[30,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-10,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[0,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",300],["@capTypes Command Points within #m","Capture",1000],["Avoid over #damage shots",20],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",20,30]]},{"parts":[{"pos":[40,40],"type":"HArmor2x2","dir":0},{"pos":[40,0],"type":"HArmor2x2","dir":0},{"pos":[-10,-10],"type":"Battery1x1","dir":0},{"pos":[10,-10],"type":"Engine02","dir":0},{"pos":[-40,0],"type":"HArmor2x2","dir":0},{"pos":[0,40],"type":"Mount30","dir":0},{"pos":[-10,10],"type":"Reactor1x1","dir":0},{"pos":[-40,40],"type":"HArmor2x2","dir":0},{"pos":[0,70],"type":"HArmor2x1","dir":0},{"pos":[-30,70],"type":"Wing1x1Round","dir":0},{"pos":[30,70],"type":"Wing1x1Round","dir":0},{"pos":[0,40],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",1500,1],["@attackTypes enemy within #m","Attack",2000],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",4],["Try to field # every # seconds",5,50]]},{"parts":[],"name":"","aiRules":[]},{},{},{},{"parts":[],"name":"","aiRules":[]},{},{}];
  ais.all.ThePounder = [{"parts":[{"pos":[70,-10],"type":"Battery1x1","dir":0},{"pos":[40,90],"type":"Wing2x1","dir":0},{"pos":[0,20],"type":"Mount360","dir":0},{"pos":[-40,70],"type":"Battery2x1","dir":0},{"pos":[40,70],"type":"Battery2x1","dir":0},{"pos":[-40,0],"type":"ReloaderMod","dir":0},{"pos":[-40,-40],"type":"Battery2x2","dir":0},{"pos":[40,-40],"type":"Battery2x2","dir":0},{"pos":[-40,90],"type":"Wing2x1","dir":0},{"pos":[-70,20],"type":"Battery1x2","dir":0},{"pos":[70,60],"type":"Wing1x2","dir":0},{"pos":[-70,60],"type":"Wing1x2","dir":0},{"pos":[-70,-10],"type":"Battery1x1","dir":0},{"pos":[70,20],"type":"Battery1x2","dir":0},{"pos":[0,-60],"type":"Engine07","dir":0},{"pos":[0,-20],"type":"ReloaderMod","dir":0},{"pos":[0,90],"type":"Battery2x1","dir":0},{"pos":[40,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"DamageMod","dir":0},{"pos":[0,60],"type":"ReloaderMod","dir":0},{"pos":[-70,-40],"type":"UArmor1x2","dir":0},{"pos":[70,-40],"type":"UArmor1x2","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[0,20],"type":"HeavyBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",40,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Less HP",400,300],["Avoid over #damage shots",100],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Less HP",400,700],["Avoid over #damage shots",50],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Slower","More Brawling Value",1100],["Stay in #m range of slot # units",5000,4],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","Slower",1200],["@capTypes Command Points within #m","Capture",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Slower","Less Brawling Value",2000],["@capTypes Command Points within #m","Capture",2000],["@capTypes Command Points within #m","Protect",3000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,2,7,1],["Field # for # of ship in slot # at priority #",2,3,7,1]]},{"parts":[{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[-10,10],"type":"Wing1x1Notch","dir":0},{"pos":[30,10],"type":"Wing1x1Notch","dir":0},{"pos":[10,10],"type":"Reactor1x1","dir":0}],"name":"","aiRules":[["Field # at start",1],["@attackTypes enemy within #m","Flee",500],["@attackTypes enemy within #m","Flee",800],["@attackTypes enemy within #m","Flee",1000],["@attackTypes enemy within #m","Flee",1600],["Avoid over #damage shots",5],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",2,2],["Field # at priority #",2,4],["Try to field # every # seconds",1,44]]},{"parts":[{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[30,10],"type":"Wing1x1Angle","dir":0},{"pos":[30,-10],"type":"Battery1x1","dir":0},{"pos":[10,-30],"type":"UArmor1x1","dir":0},{"pos":[-10,-30],"type":"UArmor1x1AngleBack","dir":0},{"pos":[0,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Ram",250],["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",25,"Find recharger"],["@attackTypes enemy within #m","Flee",750],["@attackTypes enemy within #m","Kite",1000],["@capTypes Command Points within #m","Guard",2000],["@capTypes Command Points within #m","Spread to",2000],["@attackTypes enemy within #m","Backstab",2000],["Stay in #m range of slot # units",600,8],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",5,2,5,4]]},{"parts":[{"pos":[110,30],"type":"Engine02","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[-70,-10],"type":"Battery1x1","dir":0},{"pos":[80,80],"type":"Mount30","dir":0},{"pos":[90,0],"type":"HArmor1x2","dir":0},{"pos":[40,120],"type":"Mount30","dir":0},{"pos":[-40,120],"type":"Mount30","dir":0},{"pos":[-40,80],"type":"Mount30","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[-80,80],"type":"Mount30","dir":0},{"pos":[-80,120],"type":"Mount30","dir":0},{"pos":[80,120],"type":"Mount30","dir":0},{"pos":[40,80],"type":"Mount30","dir":0},{"pos":[-10,130],"type":"Wing1x1Round","dir":0},{"pos":[-70,10],"type":"Battery1x1","dir":0},{"pos":[-110,80],"type":"Wing1x2","dir":0},{"pos":[10,130],"type":"Wing1x1Round","dir":0},{"pos":[70,0],"type":"Reactor1x2","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[80,40],"type":"Mount30","dir":0},{"pos":[10,90],"type":"HArmor1x1","dir":0},{"pos":[10,110],"type":"OverKillAi","dir":0},{"pos":[-30,40],"type":"HArmor1x2","dir":0},{"pos":[-10,100],"type":"HArmor1x2","dir":0},{"pos":[-50,40],"type":"HArmor1x2","dir":0},{"pos":[50,40],"type":"HArmor1x2","dir":0},{"pos":[-80,40],"type":"Mount30","dir":0},{"pos":[80,-40],"type":"Mount30","dir":0},{"pos":[-110,30],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[30,40],"type":"HArmor1x2","dir":0},{"pos":[-40,-20],"type":"ReloaderMod","dir":0},{"pos":[-40,10],"type":"Reactor2x1","dir":0},{"pos":[0,-20],"type":"Mount270","dir":0},{"pos":[40,-20],"type":"ReloaderMod","dir":0},{"pos":[50,10],"type":"Battery1x1","dir":0},{"pos":[30,10],"type":"HArmor1x1","dir":0},{"pos":[10,70],"type":"HArmor1x1","dir":0},{"pos":[-10,70],"type":"HArmor1x1","dir":0},{"pos":[0,20],"type":"Mount180","dir":0},{"pos":[110,80],"type":"Wing1x2","dir":0},{"pos":[0,50],"type":"Battery2x1","dir":0},{"pos":[0,-60],"type":"Mount30","dir":0},{"pos":[-80,-40],"type":"Reactor2x2","dir":0},{"pos":[-90,0],"type":"HArmor1x2","dir":0},{"pos":[0,-20],"type":"PDTurret","dir":0},{"pos":[0,-60],"type":"LightBeamTurret","dir":0},{"pos":[-80,40],"type":"TorpTurret","dir":0},{"pos":[-80,80],"type":"TorpTurret","dir":0},{"pos":[80,40],"type":"TorpTurret","dir":0},{"pos":[-40,80],"type":"TorpTurret","dir":0},{"pos":[-40,120],"type":"TorpTurret","dir":0},{"pos":[-80,120],"type":"TorpTurret","dir":0},{"pos":[40,80],"type":"TorpTurret","dir":0},{"pos":[80,80],"type":"TorpTurret","dir":0},{"pos":[80,120],"type":"TorpTurret","dir":0},{"pos":[80,-40],"type":"TorpTurret","dir":0},{"pos":[0,20],"type":"FlackTurret","dir":0},{"pos":[40,120],"type":"BombGun","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",400],["Avoid over #damage shots",150],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More expensive",300,650],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","Slower",180,900],["Avoid over #damage shots",50],["When #% of energy, @chargeTypes",20,"Rest"],["@capTypes Command Points within #m","Capture",1200],["@attackTypes enemy @unitTypes within #m","Ram","Carrier",1600],["@attackTypes enemy @unitTypes within #m","Ram","Battleship",1600],["@attackTypes enemy @unitTypes within #m","Ram","Cruiser",1600],["@attackTypes enemy @unitTypes within #m","Ram","Destroyer",1600],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",300,1600],["@capTypes Command Points within #m","Capture",750],["Stay in #m range of slot # units",600,4],["Stay in #m range of slot # units",1200,8],["@capTypes Command Points within #m","Capture",3000],["When #% of energy, @chargeTypes",40,"Rest"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","---",1800],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","---","More expensive",1800],["@capTypes Command Points within #m","Capture",90000],["Field # at start",2],["Field # at priority #",1,1],["Field # at priority #",2,3],["Field # at priority #",3,6],["Field # at priority #",2,7],["Field # at priority #",2,8]]},{"parts":[{"pos":[10,10],"type":"Battery1x1","dir":0},{"pos":[-10,10],"type":"Wing1x1Round","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[10,-50],"type":"Battery1x1","dir":0},{"pos":[30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[30,-30],"type":"UArmor1x1","dir":0},{"pos":[30,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy within #m","Attack",350],["Avoid #dps danger areas",50],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",800],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",800],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",800],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","More Range",1000],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",800],["@attackTypes enemy @unitTypes within #m","Attack","Scout",800],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",800],["@capTypes Command Points within #m","Spread to",1500],["@capTypes Command Points within #m","Protect",2500],["Stay in #m range of slot # units",500,4],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",2000],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",2000],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",2000],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",2000],["@attackTypes enemy @unitTypes within #m","Attack","Scout",2000],["@capTypes Command Points within #m","Spread to",10000],["Try to field # every # seconds",1,44],["Try to field # every # seconds",1,54]]},{"parts":[{"pos":[0,-20],"type":"Mount30","dir":0},{"pos":[10,-50],"type":"Battery1x1","dir":0},{"pos":[-10,-60],"type":"Engine03","dir":0},{"pos":[-10,10],"type":"UArmor1x1","dir":0},{"pos":[10,10],"type":"Wing1x1Notch","dir":0},{"pos":[-30,-50],"type":"Wing1x1Notch","dir":0},{"pos":[0,-20],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",260],["Avoid over #damage shots",20],["Stay in #m range of friendly units",2500],["When #% of energy, @chargeTypes",15,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","More Brawling Value","---",1700],["@capTypes Command Points within #m","Protect",2500],["@attackTypes enemy @unitTypes within #m","Attack","Scout",3000],["@attackTypes enemy @unitTypes within #m","Attack","Swarmer",3000],["@attackTypes enemy @unitTypes within #m","Attack","Fighter",3000],["@attackTypes enemy @unitTypes within #m","Attack","Interceptor",3000],["@attackTypes enemy @unitTypes within #m","Attack","Bomber",3000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Faster","---",3000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,1,8,4],["Field # for # of ship in slot # at priority #",1,2,5,7],["Field # at start",1]]},{"parts":[{"pos":[-20,20],"type":"Mount30","dir":0},{"pos":[-10,-10],"type":"Battery1x1","dir":0},{"pos":[-30,50],"type":"Wing1x1Round","dir":0},{"pos":[-10,50],"type":"Battery1x1","dir":0},{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[10,-10],"type":"Wing1x1Notch","dir":0},{"pos":[-20,20],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Ram",350],["Avoid over #damage shots",22],["Stay in #m range of slot # units",4000,4],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","---",750],["@attackTypes enemy @unitTypes within #m","Ram","Carrier",1000],["@attackTypes enemy @unitTypes within #m","Ram","Battleship",1000],["@attackTypes enemy @unitTypes within #m","Ram","Cruiser",1000],["@attackTypes enemy @unitTypes within #m","Ram","Destroyer",1000],["@attackTypes enemy within #m","Ram",750],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","---","More expensive",3000],["@attackTypes enemy within #m","Backstab",3000],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",4,2,5,4]]},{"parts":[{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[80,-20],"type":"Reactor2x2","dir":0},{"pos":[0,0],"type":"Mount270","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[-70,-60],"type":"HArmor1x2","dir":0},{"pos":[-40,-20],"type":"TargetingMod","dir":0},{"pos":[-30,60],"type":"Wing1x2","dir":0},{"pos":[40,20],"type":"DamageMod","dir":0},{"pos":[-80,-20],"type":"Reactor2x2","dir":0},{"pos":[50,50],"type":"Wing1x1Angle","dir":0},{"pos":[-50,50],"type":"Wing1x1Round","dir":0},{"pos":[30,-70],"type":"Engine01","dir":0},{"pos":[0,80],"type":"EnergyTransfer","dir":0},{"pos":[40,-20],"type":"TargetingMod","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[0,40],"type":"BulletSpeedMod","dir":0},{"pos":[-40,20],"type":"ReloaderMod","dir":0},{"pos":[0,0],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",100],["@attackTypes enemy within #m","Ram",350],["Stay in #m range of slot # units",800,4],["@attackTypes enemy within #m","Flee",1200],["Avoid over #damage shots",50],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More expensive",300,1200],["Avoid over #damage shots",21],["@capTypes Command Points within #m","Capture",1000],["@capTypes Command Points within #m","Protect",1000],["Stay in #m range of slot # units",400,4],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Faster",200,2000],["@capTypes Command Points within #m","Guard",1000],["Goto @locationTypes","Friendly Spawn"],["Field # at priority #",1,2],["Field # at priority #",2,7]]},{"parts":[{"pos":[10,-20],"type":"Engine04","dir":0},{"pos":[-10,10],"type":"Wing1x1Notch","dir":0},{"pos":[30,10],"type":"Wing1x1Notch","dir":0},{"pos":[10,10],"type":"Reactor1x1","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",5],["@attackTypes enemy within #m","Flee",600],["Avoid #dps danger areas",5],["@attackTypes enemy within #m","Flee",860],["Stay in #m range of slot # units",1000,4],["@attackTypes enemy within #m","Flee",1300],["Stayaway in #m range from slot # units",200,9],["@attackTypes enemy that is @absoluteTypes then # within #m","Circle","More Range",1000,1400],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More Range",1000,5000],["@attackTypes enemy within #m","Flee",1600],["@capTypes Command Points within #m","Spread to",1000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,1,8,2],["Field # for # of ship in slot # at priority #",2,2,4,5],["Field # for # of ship in slot # at priority #",1,1,1,5]]},""];
  ais.all.TorpMan = [{"parts":[{"pos":[0,80],"type":"Mount270","dir":0},{"pos":[-70,0],"type":"Wing1x2","dir":0},{"pos":[0,20],"type":"Mount270","dir":0},{"pos":[-40,-20],"type":"Mount270","dir":0},{"pos":[40,-20],"type":"Mount270","dir":0},{"pos":[-30,20],"type":"Reactor1x2","dir":0},{"pos":[30,60],"type":"Wing1x2","dir":0},{"pos":[30,20],"type":"Reactor1x2","dir":0},{"pos":[-30,60],"type":"Wing1x2","dir":0},{"pos":[70,0],"type":"Wing1x2","dir":0},{"pos":[0,50],"type":"HArmor2x1","dir":0},{"pos":[0,-10],"type":"HArmor2x1","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[-70,-60],"type":"Engine04","dir":0},{"pos":[70,-60],"type":"Engine04","dir":0},{"pos":[-70,-30],"type":"HArmor1x1","dir":0},{"pos":[70,-30],"type":"HArmor1x1","dir":0},{"pos":[-40,-20],"type":"TorpTurret","dir":0},{"pos":[40,-20],"type":"TorpTurret","dir":0},{"pos":[0,20],"type":"TorpTurret","dir":0},{"pos":[0,80],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Field # at priority #",100,2],["@attackTypes enemy that is @absoluteTypes then # within #m","Flee","Slower",100,600],["@capTypes Command Points within #m","Capture",200],["@attackTypes enemy within #m","Circle",1100],["@capTypes Command Points within #m","Capture",10000]]},"",{"parts":[],"name":"","aiRules":[]},"","","","","","",""];
  ais.all.TorpSupport = [{"parts":[{"pos":[0,-10],"type":"Reactor2x1","dir":0},{"pos":[-50,-10],"type":"Wing1x1Round","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[40,20],"type":"Mount90","dir":0},{"pos":[-30,-30],"type":"Engine02","dir":0},{"pos":[-40,20],"type":"Mount90","dir":0},{"pos":[30,-30],"type":"Engine02","dir":0},{"pos":[50,-10],"type":"Wing1x1Round","dir":0},{"pos":[-10,-30],"type":"Battery1x1","dir":0},{"pos":[10,-30],"type":"Battery1x1","dir":0},{"pos":[-40,20],"type":"TorpTurret","dir":0},{"pos":[0,20],"type":"TorpTurret","dir":0},{"pos":[40,20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Field # at start",2],["Try to field # every # seconds",1,15],["Avoid #dps danger areas",5],["@attackTypes enemy within #m","Flee",500],["Stay in #m range of friendly units",500],["@attackTypes enemy within #m","Attack",1800],["Goto @locationTypes","Friendly Army Middle"]]},"","","","","","","","",""];
  ais.all.TorpSwarm = [{"parts":[{"pos":[0,-40],"type":"Mount30","dir":0},{"pos":[-30,-30],"type":"UArmor1x1Angle","dir":0},{"pos":[-30,-50],"type":"Battery1x1","dir":0},{"pos":[30,-60],"type":"Engine04","dir":0},{"pos":[30,-30],"type":"Wing1x1Round","dir":0},{"pos":[0,-40],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage shots",20],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Run-by","Faster","---",500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","No PD","Less Range",900],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Backstab","Has PD","Less Range",1500],["@attackTypes enemy within #m","Stay at range",900],["@attackTypes enemy within #m","Kite",1100],["@capTypes Command Points within #m","Capture",1600],["Stay in #m range of slot # units",1500,3],["@capTypes Command Points within #m","Capture",10000],["Field # at start",8],["Field # at priority #",100,3]]},{"parts":[{"pos":[-20,-20],"type":"Mount180","dir":0},{"pos":[10,30],"type":"Wing1x1Round","dir":0},{"pos":[-60,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-20,-50],"type":"Battery2x1","dir":0},{"pos":[-50,30],"type":"Wing1x1Round","dir":0},{"pos":[-30,-80],"type":"Engine03","dir":0},{"pos":[20,-20],"type":"BulletSpeedMod","dir":0},{"pos":[-10,-80],"type":"Engine03","dir":0},{"pos":[-20,20],"type":"DamageMod","dir":0},{"pos":[-70,-50],"type":"Battery1x1","dir":0},{"pos":[30,-50],"type":"Reactor1x1","dir":0},{"pos":[10,-60],"type":"Engine03","dir":0},{"pos":[-50,-60],"type":"Engine03","dir":0},{"pos":[-20,-20],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy within #m","Stay at range",850],["@capTypes Command Points within #m","Spread to",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Kite","Slower","Less HP",4000],["When #% of energy, @chargeTypes",80,"Find recharger"],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",1],["Try to field # every # seconds",1,60],["Field # at priority #",1,2]]},{"parts":[{"pos":[40,10],"type":"Battery2x1","dir":0},{"pos":[0,30],"type":"Battery2x1","dir":0},{"pos":[70,70],"type":"Wing1x1Round","dir":0},{"pos":[70,40],"type":"HArmor1x2","dir":0},{"pos":[40,-20],"type":"Mount360Micro","dir":0},{"pos":[0,0],"type":"Mount360","dir":0},{"pos":[40,40],"type":"DamageMod","dir":0},{"pos":[0,60],"type":"Mount360","dir":0},{"pos":[-40,10],"type":"Battery2x1","dir":0},{"pos":[40,80],"type":"Reactor2x2","dir":0},{"pos":[0,-40],"type":"EnergyTransfer","dir":0},{"pos":[-40,-20],"type":"Mount360Micro","dir":0},{"pos":[-70,40],"type":"HArmor1x2","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-70,70],"type":"Wing1x1Round","dir":0},{"pos":[-50,-60],"type":"Wing1x2","dir":0},{"pos":[0,90],"type":"HArmor2x1","dir":0},{"pos":[-40,80],"type":"Reactor2x2","dir":0},{"pos":[-40,40],"type":"BulletSpeedMod","dir":0},{"pos":[-70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[70,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[70,0],"type":"HArmor1x2","dir":0},{"pos":[0,0],"type":"PDTurret","dir":0},{"pos":[40,-20],"type":"TorpTurret","dir":0},{"pos":[-40,-20],"type":"TorpTurret","dir":0},{"pos":[0,60],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["Avoid everything"],["Avoid over #damage shots",40],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","---","Stronger",1000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",1,7,1,1],["Field # at start",1]]},"","","","","","",""];
  ais.all.TurtleFence = [{"parts":[{"pos":[-70,50],"type":"ShieldGen1x1","dir":0},{"pos":[140,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,80],"type":"HArmor2x2Angle","dir":0},{"pos":[-120,60],"type":"HArmor2x2Angle","dir":0},{"pos":[-90,50],"type":"ShieldGen1x1","dir":0},{"pos":[60,80],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,100],"type":"HArmor2x2Angle","dir":0},{"pos":[20,100],"type":"HArmor2x2Angle","dir":0},{"pos":[-10,30],"type":"Engine02","dir":0},{"pos":[50,50],"type":"ShieldGen1x1","dir":0},{"pos":[-30,30],"type":"Wing1x1Round","dir":0},{"pos":[-10,80],"type":"Reactor1x2","dir":0},{"pos":[10,30],"type":"Wing1x1Round","dir":0},{"pos":[-190,10],"type":"Wing1x1Round","dir":0},{"pos":[-160,40],"type":"HArmor2x2Angle","dir":0},{"pos":[100,60],"type":"HArmor2x2Angle","dir":0},{"pos":[70,50],"type":"ShieldGen1x1","dir":0},{"pos":[170,10],"type":"Wing1x1Round","dir":0},{"pos":[110,10],"type":"Engine02","dir":0},{"pos":[-130,10],"type":"Engine02","dir":0},{"pos":[30,70],"type":"ShieldGen1x1","dir":0},{"pos":[10,70],"type":"ShieldGen1x1","dir":0},{"pos":[-30,70],"type":"ShieldGen1x1","dir":0},{"pos":[-50,70],"type":"ShieldGen1x1","dir":0},{"pos":[-50,50],"type":"ShieldGen1x1","dir":0},{"pos":[-30,50],"type":"ShieldGen1x1","dir":0},{"pos":[10,50],"type":"ShieldGen1x1","dir":0},{"pos":[30,50],"type":"ShieldGen1x1","dir":0},{"pos":[90,30],"type":"ShieldGen1x1","dir":0},{"pos":[90,10],"type":"ShieldGen1x1","dir":0},{"pos":[-110,10],"type":"ShieldGen1x1","dir":0},{"pos":[-110,30],"type":"ShieldGen1x1","dir":0},{"pos":[-90,30],"type":"ShieldGen1x1","dir":0},{"pos":[70,30],"type":"ShieldGen1x1","dir":0},{"pos":[-170,10],"type":"ShieldGen1x1","dir":0},{"pos":[150,10],"type":"ShieldGen1x1","dir":0},{"pos":[-150,10],"type":"ShieldGen1x1","dir":0},{"pos":[130,10],"type":"ShieldGen1x1","dir":0}],"name":"","aiRules":[["When Shields down to #%, flee",30],["Avoid over #damage shots",150],["Stay in #m range of slot # units",600,2],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","More DPS",10,700],["@capTypes Command Points within #m","Capture",1000],["@capTypes Command Points within #m","Capture",10000],["Goto @locationTypes","Enemy Army Middle"],["Field # at priority #",1,2]]},{"parts":[{"pos":[-30,50],"type":"Wing1x1Round","dir":0},{"pos":[30,50],"type":"Wing1x1Round","dir":0},{"pos":[70,-30],"type":"Engine02","dir":0},{"pos":[70,10],"type":"Wing1x1Round","dir":0},{"pos":[0,0],"type":"Mount270","dir":0},{"pos":[0,40],"type":"Mount270","dir":0},{"pos":[-70,-30],"type":"Engine02","dir":0},{"pos":[0,-30],"type":"ShieldGen2x1","dir":0},{"pos":[-70,10],"type":"Wing1x1Round","dir":0},{"pos":[40,-20],"type":"Mount90","dir":0},{"pos":[-40,-20],"type":"Mount90","dir":0},{"pos":[-40,20],"type":"Reactor2x2","dir":0},{"pos":[40,20],"type":"Reactor2x2","dir":0},{"pos":[0,40],"type":"TorpTurret","dir":0},{"pos":[0,0],"type":"TorpTurret","dir":0},{"pos":[40,-20],"type":"TorpTurret","dir":0},{"pos":[-40,-20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["When Shields down to #%, flee",30],["Stay in #m range of slot # units",500,1],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Faster",150,400],["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","Slower",150,800],["@attackTypes enemy within #m","Attack",1200],["@capTypes Command Points within #m","Capture",1000],["Field # at priority #",3,3]]},{"parts":[{"pos":[-10,10],"type":"Reactor1x1","dir":0},{"pos":[-10,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0}],"name":"","aiRules":[["When Shields down to #%, flee",30],["Avoid over #damage shots",20],["Avoid #dps danger areas",400],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",2]]},{"parts":[{"pos":[-30,50],"type":"Wing1x1Round","dir":0},{"pos":[10,-10],"type":"Engine02","dir":0},{"pos":[0,30],"type":"ShieldGen2x1","dir":0},{"pos":[0,50],"type":"Reactor2x1","dir":0},{"pos":[-10,-10],"type":"Engine02","dir":0},{"pos":[40,20],"type":"Mount270","dir":0},{"pos":[-40,20],"type":"Mount270","dir":0},{"pos":[30,50],"type":"Wing1x1Round","dir":0},{"pos":[-30,-10],"type":"ShieldGen1x1","dir":0},{"pos":[30,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-40,20],"type":"TorpTurret","dir":0},{"pos":[40,20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["When Shields down to #%, flee",30],["Avoid over #damage shots",20],["When #% of energy, @chargeTypes",20,"Flee enemies"],["@attackTypes enemy that is @absoluteTypes then # within #m","Circle","Faster",200,600],["@attackTypes enemy that is @absoluteTypes then # within #m","Stay at range","Slower",170,900],["@attackTypes enemy that is @absoluteTypes then # within #m","Circle","Slower",200,1100],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",200,1300],["When #% of energy, @chargeTypes",20,"Rest"],["@capTypes Command Points within #m","Spread to",10000],["Field # at priority #",10,4]]},"","","","","",""];
  ais.all.WaveMotion = [{"parts":[{"pos":[-40,0],"type":"BulletSpeedMod","dir":0},{"pos":[-10,-80],"type":"Engine03","dir":0},{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[-30,-80],"type":"Engine04","dir":0},{"pos":[30,-80],"type":"Engine04","dir":0},{"pos":[50,-80],"type":"Engine04","dir":0},{"pos":[20,-40],"type":"Mount360Micro","dir":0},{"pos":[-20,-40],"type":"Mount90","dir":0},{"pos":[40,0],"type":"Mount360Micro","dir":0},{"pos":[10,-80],"type":"Engine03","dir":0},{"pos":[-50,-40],"type":"Battery1x2","dir":0},{"pos":[70,-70],"type":"Wing1x1Round","dir":0},{"pos":[50,-40],"type":"VArmor1x2IBeam","dir":0},{"pos":[70,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-70,-40],"type":"VArmor1x1CornerBack","dir":0},{"pos":[-50,-70],"type":"Wing1x1Round","dir":0},{"pos":[0,30],"type":"Battery2x1","dir":0},{"pos":[40,0],"type":"LightBeamTurret","dir":0},{"pos":[-20,-40],"type":"LightBeamTurret","dir":0},{"pos":[0,0],"type":"WavePullTurret","dir":0},{"pos":[20,-40],"type":"WavePullTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",30,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Weaker",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Run-by","---","Less Brawling Value",1000],["Avoid over #damage shots",20],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","Less Arc",180,1800],["@capTypes Command Points within #m","Capture",10000],["Try to field # every # seconds",1,25],["Field # for # of ship in slot # at priority #",1,10,2,5]]},{"parts":[{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[20,0],"type":"Mount30","dir":0},{"pos":[-30,-10],"type":"VArmor1x1Corner1","dir":0},{"pos":[10,-30],"type":"VArmor1x1Corner1","dir":0},{"pos":[20,0],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",350],["When #% of energy, @chargeTypes",35,"Find recharger"],["@capTypes Command Points within #m","Capture",300],["Stay in #m range of slot # units",500,1],["Avoid everything"],["@capTypes Command Points within #m","Spread to",10000],["Field # when money over # at priority #",6,1000,1],["Try to field # every # seconds",8,40],["Field # at start",6]]},{"parts":[{"pos":[-20,10],"type":"Reactor2x1","dir":0},{"pos":[0,-40],"type":"EnergyTransfer","dir":0},{"pos":[-60,0],"type":"Mount30","dir":0},{"pos":[0,40],"type":"Mount270","dir":0},{"pos":[20,80],"type":"TargetingMod","dir":0},{"pos":[-80,40],"type":"Mount360Micro","dir":0},{"pos":[80,40],"type":"Mount360Micro","dir":0},{"pos":[60,0],"type":"Mount30","dir":0},{"pos":[-40,40],"type":"Mount90","dir":0},{"pos":[-60,-40],"type":"Wing2x2","dir":0},{"pos":[60,-40],"type":"Wing2x2","dir":0},{"pos":[-20,80],"type":"TargetingMod","dir":0},{"pos":[40,40],"type":"Mount90","dir":0},{"pos":[20,10],"type":"Reactor2x1","dir":0},{"pos":[0,-10],"type":"Reactor2x1","dir":0},{"pos":[30,-30],"type":"Engine01","dir":0},{"pos":[-30,-30],"type":"Engine01","dir":0},{"pos":[60,0],"type":"WavePushTurret","dir":0},{"pos":[-40,40],"type":"WavePushTurret","dir":0},{"pos":[-60,0],"type":"WavePushTurret","dir":0},{"pos":[0,40],"type":"WavePushTurret","dir":0},{"pos":[40,40],"type":"WavePushTurret","dir":0},{"pos":[-80,40],"type":"PDTurret","dir":0},{"pos":[80,40],"type":"PDTurret","dir":0}],"name":"","aiRules":[["Avoid #dps danger areas",20],["Avoid over #damage shots",25],["Find units that are out of energy"],["Field # for # of ship in slot # at priority #",1,2,1,1],["Field # for # of ship in slot # at priority #",1,6,2,1]]},{"parts":[{"pos":[0,-40],"type":"Mount30","dir":0},{"pos":[-30,-60],"type":"Engine04","dir":0},{"pos":[-30,-30],"type":"Battery1x1","dir":0},{"pos":[-30,-10],"type":"Wing1x1Notch","dir":0},{"pos":[0,0],"type":"Mount90","dir":0},{"pos":[0,0],"type":"WavePushTurret","dir":0},{"pos":[0,-40],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",1000,3],["@attackTypes enemy within #m","Attack",700],["@attackTypes enemy within #m","Ram",1200],["Stay in #m range of slot # units",500,3],["Field # for # of ship in slot # at priority #",4,1,3,5],["Try to field # every # seconds",1,35]]},"","","","","",""];
  ais.all.Waxon = [{"parts":[{"pos":[40,-20],"type":"VArmor2x2","dir":0},{"pos":[-20,80],"type":"VArmor2x2Angle","dir":0},{"pos":[-20,20],"type":"Mount90","dir":0},{"pos":[0,50],"type":"ShieldGen2x1","dir":0},{"pos":[30,50],"type":"ShieldGen1x1","dir":0},{"pos":[40,20],"type":"Mount90","dir":0},{"pos":[50,50],"type":"ShieldGen1x1","dir":0},{"pos":[-30,50],"type":"ShieldGen1x1","dir":0},{"pos":[-20,-20],"type":"VArmor2x2","dir":0},{"pos":[10,70],"type":"Battery1x1","dir":0},{"pos":[40,80],"type":"VArmor2x2Angle","dir":0},{"pos":[70,40],"type":"Wing1x2","dir":0},{"pos":[-50,40],"type":"Wing1x2","dir":0},{"pos":[10,90],"type":"Solar1x1","dir":0},{"pos":[-50,10],"type":"Solar1x1","dir":0},{"pos":[70,10],"type":"Solar1x1","dir":0},{"pos":[10,-10],"type":"Engine01","dir":0},{"pos":[10,30],"type":"Solar1x1","dir":0},{"pos":[-50,-10],"type":"Solar1x1","dir":0},{"pos":[70,-10],"type":"Solar1x1","dir":0},{"pos":[-20,20],"type":"AutoTurret","dir":0},{"pos":[40,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",75,"Find recharger"],["Avoid over #damage shots",20],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Less Brawling Value",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Slower","Weaker",1000],["@capTypes Command Points within #m","Capture",10000],["Field # at start",2],["Field # at priority #",1,2],["Try to field # every # seconds",1,20]]},{"parts":[{"pos":[-10,-20],"type":"Engine04","dir":0},{"pos":[-10,10],"type":"Battery1x1","dir":0},{"pos":[20,0],"type":"Mount360Micro","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[-30,-10],"type":"HArmor1x1","dir":0},{"pos":[10,-30],"type":"HArmor1x1AngleBack","dir":0},{"pos":[20,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",35,"Find recharger"],["Stay in #m range of slot # units",300,1],["Stayaway in #m range from slot # units",200,2],["@attackTypes enemy within #m","Kite",1000],["Field # at start",2],["Field # for # of ship in slot # at priority #",1,1,1,2],["Try to field # every # seconds",2,35]]},{"parts":[{"pos":[-30,-20],"type":"Reactor1x2","dir":0},{"pos":[0,0],"type":"DamageMod","dir":0},{"pos":[50,-30],"type":"ShieldGen1x1","dir":0},{"pos":[80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-80,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[80,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[0,80],"type":"DamageMod","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[-30,-70],"type":"Engine02","dir":0},{"pos":[-40,60],"type":"TargetingMod","dir":0},{"pos":[-40,20],"type":"Reactor2x2","dir":0},{"pos":[40,20],"type":"Reactor2x2","dir":0},{"pos":[40,60],"type":"TargetingMod","dir":0},{"pos":[-50,-30],"type":"ShieldGen1x1","dir":0},{"pos":[30,-20],"type":"Reactor1x2","dir":0},{"pos":[0,-40],"type":"EnergyTransfer","dir":0},{"pos":[-80,0],"type":"HArmor2x2","dir":0},{"pos":[80,0],"type":"HArmor2x2","dir":0},{"pos":[-80,-30],"type":"HArmor2x1","dir":0},{"pos":[80,-30],"type":"HArmor2x1","dir":0},{"pos":[-50,-10],"type":"ShieldGen1x1","dir":0},{"pos":[50,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-50,-70],"type":"Engine02","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[-30,100],"type":"Wing1x2","dir":0},{"pos":[30,100],"type":"Wing1x2","dir":0},{"pos":[0,110],"type":"Reactor2x1","dir":0},{"pos":[0,-70],"type":"ShieldGen2x1","dir":0},{"pos":[0,40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid #dps danger areas",40],["Stay in #m range of friendly units",1000],["@attackTypes enemy within #m","Kite",1200],["Field # for # of ship in slot # at priority #",1,3,1,1],["Field # for # of ship in slot # at priority #",1,2,4,2],["Goto @locationTypes","Friendly Army Middle"],["Field # at start",1]]},{"parts":[{"pos":[40,-30],"type":"Battery2x1","dir":0},{"pos":[-20,40],"type":"Mount90","dir":0},{"pos":[20,40],"type":"Mount90","dir":0},{"pos":[30,10],"type":"ShieldGen1x1","dir":0},{"pos":[-30,10],"type":"ShieldGen1x1","dir":0},{"pos":[0,80],"type":"Mount90","dir":0},{"pos":[-30,-10],"type":"ShieldGen1x1","dir":0},{"pos":[30,-10],"type":"ShieldGen1x1","dir":0},{"pos":[-50,40],"type":"Wing1x2","dir":0},{"pos":[50,0],"type":"Battery1x2","dir":0},{"pos":[-50,0],"type":"Battery1x2","dir":0},{"pos":[50,40],"type":"Wing1x2","dir":0},{"pos":[-40,-30],"type":"Battery2x1","dir":0},{"pos":[0,-20],"type":"Engine07","dir":0},{"pos":[0,10],"type":"ShieldGen2x1","dir":0},{"pos":[-30,70],"type":"Battery1x1","dir":0},{"pos":[30,70],"type":"Battery1x1","dir":0},{"pos":[-30,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[30,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[50,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-50,-50],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-20,40],"type":"LightBeamTurret","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0},{"pos":[0,80],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",300],["When #% of energy, @chargeTypes",50,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","Weaker",3000],["Stay in #m range of slot # units",700,3],["Try to field # every # seconds",1,40],["Field # for # of ship in slot # at priority #",1,1,3,5]]},{"parts":[{"pos":[-10,-10],"type":"Battery1x1","dir":0},{"pos":[-10,-40],"type":"Engine04","dir":0},{"pos":[10,-30],"type":"Wing1x1Notch","dir":0}],"name":"","aiRules":[["Avoid #dps danger areas",5],["When #% of energy, @chargeTypes",20,"Find recharger"],["@capTypes Command Points within #m","Capture",525],["Stay in #m range of slot # units",300,1],["Stayaway in #m range from slot # units",400,1],["Field # for # of ship in slot # at priority #",1,3,1,2],["Field # at start",2],["Try to field # every # seconds",1,45]]},"","",{"parts":[{"pos":[-30,-50],"type":"Engine02","dir":0},{"pos":[-70,0],"type":"Wing1x2","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[10,-70],"type":"Engine02","dir":0},{"pos":[-10,-70],"type":"Engine02","dir":0},{"pos":[0,-30],"type":"ShieldGen2x1","dir":0},{"pos":[-50,-30],"type":"ShieldGen1x1","dir":0},{"pos":[50,-30],"type":"ShieldGen1x1","dir":0},{"pos":[-60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[60,-60],"type":"HArmor2x2AngleBack","dir":0},{"pos":[-40,0],"type":"Reactor2x2","dir":0},{"pos":[40,0],"type":"Reactor2x2","dir":0},{"pos":[70,0],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"EnergyTransfer","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-80,40],"type":"HArmor2x2Angle","dir":0},{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[40,40],"type":"TargetingMod","dir":0},{"pos":[20,80],"type":"DamageMod","dir":0},{"pos":[-20,80],"type":"DamageMod","dir":0},{"pos":[0,40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[]},{"parts":[{"pos":[-50,30],"type":"Battery1x1","dir":0},{"pos":[-50,50],"type":"ShieldGen1x1","dir":0},{"pos":[30,10],"type":"Reactor1x1","dir":0},{"pos":[-30,10],"type":"Reactor1x1","dir":0},{"pos":[-30,-20],"type":"Wing1x2","dir":0},{"pos":[30,-20],"type":"Wing1x2","dir":0},{"pos":[0,0],"type":"Battery2x2","dir":0},{"pos":[0,-40],"type":"Engine07","dir":0},{"pos":[-30,70],"type":"ShieldGen1x1","dir":0},{"pos":[30,70],"type":"ShieldGen1x1","dir":0},{"pos":[50,50],"type":"ShieldGen1x1","dir":0},{"pos":[50,30],"type":"Battery1x1","dir":0},{"pos":[50,10],"type":"Battery1x1","dir":0},{"pos":[-50,10],"type":"Battery1x1","dir":0},{"pos":[-20,40],"type":"Mount90","dir":0},{"pos":[20,40],"type":"Mount90","dir":0},{"pos":[0,80],"type":"Mount90","dir":0},{"pos":[-20,40],"type":"LightBeamTurret","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0},{"pos":[0,80],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[]},{"parts":[{"pos":[40,20],"type":"Mount90","dir":0},{"pos":[-30,-20],"type":"HArmor1x2","dir":0},{"pos":[30,-30],"type":"Engine02","dir":0},{"pos":[10,10],"type":"Reactor1x1","dir":0},{"pos":[10,30],"type":"Battery1x1","dir":0},{"pos":[10,-30],"type":"Engine02","dir":0},{"pos":[-20,20],"type":"Mount90","dir":0},{"pos":[-10,-30],"type":"Engine02","dir":0},{"pos":[50,-20],"type":"HArmor1x2","dir":0},{"pos":[0,50],"type":"ShieldGen2x1","dir":0},{"pos":[30,50],"type":"ShieldGen1x1","dir":0},{"pos":[50,50],"type":"ShieldGen1x1","dir":0},{"pos":[-30,50],"type":"ShieldGen1x1","dir":0},{"pos":[-50,20],"type":"Wing1x2","dir":0},{"pos":[70,20],"type":"Wing1x2","dir":0},{"pos":[-20,20],"type":"AutoTurret","dir":0},{"pos":[40,20],"type":"AutoTurret","dir":0}],"name":"","aiRules":[]}];
  ais.all.Yarki = [{"parts":[{"pos":[30,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[-30,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[0,0],"type":"Mount270","dir":0},{"pos":[-20,-40],"type":"Mount90","dir":0},{"pos":[50,-40],"type":"Wing1x2","dir":0},{"pos":[-50,-40],"type":"Wing1x2","dir":0},{"pos":[-30,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[20,-40],"type":"Mount90","dir":0},{"pos":[30,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[-70,-50],"type":"VArmor1x1Corner2","dir":0},{"pos":[70,-50],"type":"VArmor1x1Corner2","dir":0},{"pos":[-10,40],"type":"Reactor1x2","dir":0},{"pos":[10,40],"type":"Battery1x2","dir":0},{"pos":[-30,-80],"type":"Engine04","dir":0},{"pos":[-10,-80],"type":"Engine04","dir":0},{"pos":[10,-80],"type":"Engine04","dir":0},{"pos":[30,-80],"type":"Engine04","dir":0},{"pos":[-20,-40],"type":"TorpTurret","dir":0},{"pos":[20,-40],"type":"TorpTurret","dir":0},{"pos":[0,0],"type":"MissileTurret","dir":0}],"name":"","aiRules":[["@attackTypes enemy within #m","Attack",1150],["@capTypes command points within #m","Spread to",10000],["Field # at priority #",5,1],["Try to field # every # seconds",2,30]]},{"parts":[{"pos":[-30,40],"type":"VArmor1x2IBeam","dir":0},{"pos":[-50,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[0,50],"type":"Reactor2x1","dir":0},{"pos":[0,70],"type":"Battery2x1","dir":0},{"pos":[-30,-10],"type":"Engine02","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[30,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[0,-20],"type":"Mount270","dir":0},{"pos":[50,0],"type":"VArmor1x2IBeam","dir":0},{"pos":[30,40],"type":"VArmor1x2IBeam","dir":0},{"pos":[-50,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[-30,80],"type":"VArmor1x2Corner4","dir":0},{"pos":[30,80],"type":"VArmor1x2Corner4","dir":0},{"pos":[50,40],"type":"VArmor1x2Corner4","dir":0},{"pos":[70,0],"type":"VArmor1x2Corner4","dir":0},{"pos":[-70,0],"type":"VArmor1x2Corner4","dir":0},{"pos":[10,90],"type":"Wing1x1Angle","dir":0},{"pos":[-10,90],"type":"Wing1x1Angle","dir":0},{"pos":[0,20],"type":"AutoTurret","dir":0},{"pos":[0,-20],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["@capTypes command points within #m","Spread to",10000],["Field # at start",5],["Field # at priority #",5,2],["Try to field # every # seconds",2,30]]},{"parts":[],"name":"","aiRules":[]},"","","",{"parts":[],"name":"","aiRules":[]},"","",""];
  ais.all.Zeus = [{"parts":[{"pos":[160,-120],"type":"ShieldGen2x2","dir":0},{"pos":[-10,110],"type":"ShieldGen1x1","dir":0},{"pos":[-60,-80],"type":"TargetingMod","dir":0},{"pos":[-100,-80],"type":"TargetingMod","dir":0},{"pos":[-60,0],"type":"TargetingMod","dir":0},{"pos":[-100,0],"type":"TargetingMod","dir":0},{"pos":[-100,80],"type":"TargetingMod","dir":0},{"pos":[-60,80],"type":"TargetingMod","dir":0},{"pos":[60,-80],"type":"TargetingMod","dir":0},{"pos":[100,-80],"type":"TargetingMod","dir":0},{"pos":[60,0],"type":"TargetingMod","dir":0},{"pos":[100,0],"type":"TargetingMod","dir":0},{"pos":[60,80],"type":"TargetingMod","dir":0},{"pos":[100,80],"type":"TargetingMod","dir":0},{"pos":[-80,40],"type":"Mount270","dir":0},{"pos":[-80,-40],"type":"Mount270","dir":0},{"pos":[-80,-120],"type":"Mount270","dir":0},{"pos":[80,-120],"type":"Mount270","dir":0},{"pos":[80,-40],"type":"Mount270","dir":0},{"pos":[80,40],"type":"Mount270","dir":0},{"pos":[-120,120],"type":"TargetingMod","dir":0},{"pos":[-40,120],"type":"TargetingMod","dir":0},{"pos":[120,120],"type":"TargetingMod","dir":0},{"pos":[-60,160],"type":"ReloaderMod","dir":0},{"pos":[40,120],"type":"TargetingMod","dir":0},{"pos":[60,160],"type":"ReloaderMod","dir":0},{"pos":[-100,160],"type":"ReloaderMod","dir":0},{"pos":[-80,120],"type":"Mount270","dir":0},{"pos":[80,120],"type":"Mount270","dir":0},{"pos":[100,160],"type":"ReloaderMod","dir":0},{"pos":[-120,40],"type":"DamageMod","dir":0},{"pos":[-40,40],"type":"DamageMod","dir":0},{"pos":[40,40],"type":"DamageMod","dir":0},{"pos":[120,40],"type":"DamageMod","dir":0},{"pos":[120,-40],"type":"DamageMod","dir":0},{"pos":[40,-40],"type":"DamageMod","dir":0},{"pos":[40,-120],"type":"DamageMod","dir":0},{"pos":[120,-120],"type":"DamageMod","dir":0},{"pos":[-40,-120],"type":"DamageMod","dir":0},{"pos":[-120,-120],"type":"DamageMod","dir":0},{"pos":[-120,-40],"type":"DamageMod","dir":0},{"pos":[-40,-40],"type":"DamageMod","dir":0},{"pos":[60,-160],"type":"DamageMod","dir":0},{"pos":[-100,-160],"type":"DamageMod","dir":0},{"pos":[30,80],"type":"Reactor1x2","dir":0},{"pos":[10,80],"type":"Reactor1x2","dir":0},{"pos":[100,-160],"type":"DamageMod","dir":0},{"pos":[-60,-160],"type":"DamageMod","dir":0},{"pos":[-10,80],"type":"Reactor1x2","dir":0},{"pos":[-30,80],"type":"Reactor1x2","dir":0},{"pos":[-30,0],"type":"Reactor1x2","dir":0},{"pos":[-10,0],"type":"Reactor1x2","dir":0},{"pos":[10,0],"type":"Reactor1x2","dir":0},{"pos":[30,0],"type":"Reactor1x2","dir":0},{"pos":[30,-80],"type":"Reactor1x2","dir":0},{"pos":[10,-80],"type":"Reactor1x2","dir":0},{"pos":[-10,-80],"type":"Reactor1x2","dir":0},{"pos":[-30,-80],"type":"Reactor1x2","dir":0},{"pos":[0,-50],"type":"Reactor2x1","dir":0},{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[0,30],"type":"Reactor2x1","dir":0},{"pos":[0,50],"type":"Reactor2x1","dir":0},{"pos":[0,-120],"type":"Battery2x2","dir":0},{"pos":[-30,-170],"type":"Engine01","dir":0},{"pos":[-10,-170],"type":"Engine01","dir":0},{"pos":[10,-170],"type":"Engine01","dir":0},{"pos":[150,-170],"type":"Engine01","dir":0},{"pos":[-130,-170],"type":"Engine01","dir":0},{"pos":[130,-170],"type":"Engine01","dir":0},{"pos":[30,-170],"type":"Engine01","dir":0},{"pos":[170,-170],"type":"Engine01","dir":0},{"pos":[190,-170],"type":"Engine01","dir":0},{"pos":[-150,-170],"type":"Engine01","dir":0},{"pos":[-190,-170],"type":"Engine01","dir":0},{"pos":[140,-80],"type":"ShieldGen2x2","dir":0},{"pos":[10,110],"type":"ShieldGen1x1","dir":0},{"pos":[-170,-170],"type":"Engine01","dir":0},{"pos":[10,130],"type":"ShieldGen1x1","dir":0},{"pos":[-10,130],"type":"ShieldGen1x1","dir":0},{"pos":[-10,150],"type":"ShieldGen1x1","dir":0},{"pos":[10,150],"type":"ShieldGen1x1","dir":0},{"pos":[30,150],"type":"ShieldGen1x1","dir":0},{"pos":[30,170],"type":"ShieldGen1x1","dir":0},{"pos":[10,170],"type":"ShieldGen1x1","dir":0},{"pos":[-10,170],"type":"ShieldGen1x1","dir":0},{"pos":[-30,170],"type":"ShieldGen1x1","dir":0},{"pos":[-30,150],"type":"ShieldGen1x1","dir":0},{"pos":[-130,90],"type":"ShieldGen1x1","dir":0},{"pos":[-130,70],"type":"ShieldGen1x1","dir":0},{"pos":[-130,10],"type":"ShieldGen1x1","dir":0},{"pos":[-130,-10],"type":"ShieldGen1x1","dir":0},{"pos":[130,-10],"type":"ShieldGen1x1","dir":0},{"pos":[130,10],"type":"ShieldGen1x1","dir":0},{"pos":[130,70],"type":"ShieldGen1x1","dir":0},{"pos":[130,90],"type":"ShieldGen1x1","dir":0},{"pos":[-130,160],"type":"Wing1x2","dir":0},{"pos":[130,160],"type":"Wing1x2","dir":0},{"pos":[-160,150],"type":"Wing2x1","dir":0},{"pos":[180,-10],"type":"Wing2x1","dir":0},{"pos":[180,10],"type":"Wing2x1","dir":0},{"pos":[180,30],"type":"Wing2x1","dir":0},{"pos":[180,50],"type":"Wing2x1","dir":0},{"pos":[180,70],"type":"Wing2x1","dir":0},{"pos":[180,90],"type":"Wing2x1","dir":0},{"pos":[180,110],"type":"Wing2x1","dir":0},{"pos":[180,130],"type":"Wing2x1","dir":0},{"pos":[160,150],"type":"Wing2x1","dir":0},{"pos":[-180,130],"type":"Wing2x1","dir":0},{"pos":[-180,110],"type":"Wing2x1","dir":0},{"pos":[-180,90],"type":"Wing2x1","dir":0},{"pos":[-180,70],"type":"Wing2x1","dir":0},{"pos":[-180,50],"type":"Wing2x1","dir":0},{"pos":[-180,30],"type":"Wing2x1","dir":0},{"pos":[-180,10],"type":"Wing2x1","dir":0},{"pos":[-180,-10],"type":"Wing2x1","dir":0},{"pos":[-150,120],"type":"UArmor1x2","dir":0},{"pos":[-150,40],"type":"UArmor1x2","dir":0},{"pos":[150,40],"type":"UArmor1x2","dir":0},{"pos":[150,120],"type":"UArmor1x2","dir":0},{"pos":[210,-120],"type":"Wing1x2","dir":0},{"pos":[190,-80],"type":"Wing1x2","dir":0},{"pos":[200,-50],"type":"Wing2x1","dir":0},{"pos":[170,-40],"type":"Wing1x2","dir":0},{"pos":[-210,-120],"type":"Wing1x2","dir":0},{"pos":[-190,-80],"type":"Wing1x2","dir":0},{"pos":[-200,-50],"type":"Wing2x1","dir":0},{"pos":[-170,-40],"type":"Wing1x2","dir":0},{"pos":[-150,-40],"type":"UArmor1x2","dir":0},{"pos":[-170,-80],"type":"UArmor1x2","dir":0},{"pos":[-190,-120],"type":"UArmor1x2","dir":0},{"pos":[190,-120],"type":"UArmor1x2","dir":0},{"pos":[170,-80],"type":"UArmor1x2","dir":0},{"pos":[150,-40],"type":"UArmor1x2","dir":0},{"pos":[210,-150],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-210,-150],"type":"UArmor1x1AngleBack","dir":0},{"pos":[-20,190],"type":"UArmor2x1","dir":0},{"pos":[20,190],"type":"UArmor2x1","dir":0},{"pos":[-50,190],"type":"UArmor1x1Angle","dir":0},{"pos":[50,190],"type":"UArmor1x1Angle","dir":0},{"pos":[150,0],"type":"UArmor1x2","dir":0},{"pos":[150,80],"type":"UArmor1x2","dir":0},{"pos":[-150,80],"type":"UArmor1x2","dir":0},{"pos":[-150,0],"type":"UArmor1x2","dir":0},{"pos":[-160,-120],"type":"ShieldGen2x2","dir":0},{"pos":[-140,-80],"type":"ShieldGen2x2","dir":0},{"pos":[-80,120],"type":"TeslaTurret","dir":0},{"pos":[80,120],"type":"TeslaTurret","dir":0},{"pos":[-80,-40],"type":"TeslaTurret","dir":0},{"pos":[-80,40],"type":"TeslaTurret","dir":0},{"pos":[80,40],"type":"TeslaTurret","dir":0},{"pos":[80,-40],"type":"TeslaTurret","dir":0},{"pos":[-80,-120],"type":"TeslaTurret","dir":0},{"pos":[80,-120],"type":"TeslaTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",40,"Return to Spawn"],["Avoid over #damage shots",100],["When Shields down to #%, flee",25],["Stay in #m range of slot # units",400,7],["@attackTypes enemy that is @absoluteTypes then # within #m","Attack","Slower",120,5000],["@attackTypes enemy within #m","Attack",2000],["@capTypes Command Points within #m","Capture",10000],["Avoid over #damage shots",20],["Stay in #m range of friendly units",500]]},{"parts":[{"pos":[0,90],"type":"ShieldGen2x1","dir":0},{"pos":[10,-10],"type":"Reactor1x1","dir":0},{"pos":[40,40],"type":"Mount360","dir":0},{"pos":[0,20],"type":"DamageMod","dir":0},{"pos":[0,60],"type":"DamageMod","dir":0},{"pos":[40,0],"type":"DamageMod","dir":0},{"pos":[-40,0],"type":"DamageMod","dir":0},{"pos":[-80,60],"type":"DamageMod","dir":0},{"pos":[-80,20],"type":"DamageMod","dir":0},{"pos":[80,60],"type":"DamageMod","dir":0},{"pos":[80,20],"type":"DamageMod","dir":0},{"pos":[-40,80],"type":"DamageMod","dir":0},{"pos":[40,80],"type":"DamageMod","dir":0},{"pos":[-110,-20],"type":"Engine04","dir":0},{"pos":[-50,-40],"type":"Engine04","dir":0},{"pos":[-40,40],"type":"Mount360","dir":0},{"pos":[50,-40],"type":"Engine04","dir":0},{"pos":[-10,-10],"type":"Battery1x1","dir":0},{"pos":[-80,90],"type":"Battery2x1","dir":0},{"pos":[80,90],"type":"Battery2x1","dir":0},{"pos":[10,-60],"type":"Engine04","dir":0},{"pos":[-10,-60],"type":"Engine04","dir":0},{"pos":[30,-60],"type":"Engine04","dir":0},{"pos":[-30,-60],"type":"Engine04","dir":0},{"pos":[20,-30],"type":"UArmor2x1","dir":0},{"pos":[-20,-30],"type":"UArmor2x1","dir":0},{"pos":[20,110],"type":"Wing2x1","dir":0},{"pos":[-20,110],"type":"Wing2x1","dir":0},{"pos":[-70,-40],"type":"Engine04","dir":0},{"pos":[70,-40],"type":"Engine04","dir":0},{"pos":[90,-40],"type":"Engine04","dir":0},{"pos":[110,-20],"type":"Engine04","dir":0},{"pos":[-90,-40],"type":"Engine04","dir":0},{"pos":[110,20],"type":"Wing1x2","dir":0},{"pos":[-110,20],"type":"Wing1x2","dir":0},{"pos":[-80,-10],"type":"Battery2x1","dir":0},{"pos":[80,-10],"type":"Battery2x1","dir":0},{"pos":[-40,40],"type":"AutoTurret","dir":0},{"pos":[40,40],"type":"AutoTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",15,"Find recharger"],["Avoid over #damage shots",45],["Avoid #dps danger areas",25],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Weaker","Less Brawling Value",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Less Brawling Value","More expensive",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Weaker","---",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Bomb","Less Brawling Value","Weaker",10000],["Find units that are out of energy"],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,1,5,3],["Field # for # of ship in slot # at priority #",1,2,6,1]]},{"parts":[{"pos":[-20,0],"type":"EnergyTransfer","dir":0},{"pos":[20,0],"type":"Reactor2x2","dir":0},{"pos":[-20,30],"type":"Wing2x1","dir":0},{"pos":[-20,-30],"type":"Reactor2x1","dir":0},{"pos":[-50,-10],"type":"Engine02","dir":0},{"pos":[10,-30],"type":"HArmor1x1","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",300,7],["Stayaway in #m range from slot # units",250,3],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Stronger","More expensive",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","---","---",1000],["Field # for # of ship in slot # at priority #",1,3,7,1],["Field # for # of ship in slot # at priority #",1,1,7,5],["Field # for # of ship in slot # at priority #",1,8,7,2],["Field # for # of ship in slot # at priority #",1,1,5,1],["Field # for # of ship in slot # at priority #",1,1,1,2]]},{"parts":[{"pos":[-190,40],"type":"Wing1x2","dir":0},{"pos":[180,0],"type":"Mount30","dir":0},{"pos":[-80,40],"type":"Mount30","dir":0},{"pos":[80,40],"type":"Mount30","dir":0},{"pos":[40,40],"type":"Mount30","dir":0},{"pos":[-40,40],"type":"Mount30","dir":0},{"pos":[0,40],"type":"Mount30","dir":0},{"pos":[-160,40],"type":"Mount30","dir":0},{"pos":[-120,40],"type":"Mount30","dir":0},{"pos":[160,40],"type":"Mount30","dir":0},{"pos":[120,40],"type":"Mount30","dir":0},{"pos":[-180,0],"type":"Mount30","dir":0},{"pos":[190,40],"type":"Wing1x2","dir":0},{"pos":[30,0],"type":"Battery1x2","dir":0},{"pos":[10,-10],"type":"Engine02","dir":0},{"pos":[-10,0],"type":"Battery1x2","dir":0},{"pos":[-160,40],"type":"TorpTurret","dir":0},{"pos":[0,40],"type":"TorpTurret","dir":0},{"pos":[-40,40],"type":"TorpTurret","dir":0},{"pos":[40,40],"type":"TorpTurret","dir":0},{"pos":[-80,40],"type":"TorpTurret","dir":0},{"pos":[80,40],"type":"TorpTurret","dir":0},{"pos":[180,0],"type":"TorpTurret","dir":0},{"pos":[-120,40],"type":"TorpTurret","dir":0},{"pos":[120,40],"type":"TorpTurret","dir":0},{"pos":[160,40],"type":"TorpTurret","dir":0},{"pos":[-180,0],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",300,7],["@attackTypes enemy within #m","Attack",1500],["Goto @locationTypes","Enemy Army Middle"],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,4,3,3],["Field # for # of ship in slot # at priority #",1,7,7,2]]},"",{"parts":[{"pos":[0,-30],"type":"Reactor2x1","dir":0},{"pos":[0,110],"type":"ShieldGen2x1","dir":0},{"pos":[20,0],"type":"ReloaderMod","dir":0},{"pos":[-40,-40],"type":"Engine07","dir":0},{"pos":[40,110],"type":"Wing2x1","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-20,80],"type":"DamageMod","dir":0},{"pos":[40,-40],"type":"Engine07","dir":0},{"pos":[-40,110],"type":"Wing2x1","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[50,80],"type":"Battery1x2","dir":0},{"pos":[-50,80],"type":"Battery1x2","dir":0},{"pos":[-20,0],"type":"ReloaderMod","dir":0},{"pos":[20,80],"type":"DamageMod","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[50,0],"type":"UArmor1x2","dir":0},{"pos":[-50,0],"type":"UArmor1x2","dir":0},{"pos":[70,40],"type":"Wing1x2","dir":0},{"pos":[-70,40],"type":"Wing1x2","dir":0},{"pos":[-70,10],"type":"Battery1x1","dir":0},{"pos":[70,10],"type":"Battery1x1","dir":0},{"pos":[0,40],"type":"RingTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",45,"Find recharger"],["Avoid over #damage shots",25],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Slower","More HP",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Less Brawling Value","---",1000],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Weaker","More Range",1000],["When #% of energy, @chargeTypes",100,"Find recharger"],["Goto @locationTypes","Enemy Spawn"],["Field # for # of ship in slot # at priority #",1,5,7,3]]},{"parts":[{"pos":[-40,0],"type":"EnergyTransfer","dir":0},{"pos":[-10,0],"type":"Battery1x2","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[-110,10],"type":"Wing1x1Round","dir":0},{"pos":[-90,-10],"type":"Engine02","dir":0},{"pos":[-40,30],"type":"HArmor1x2Front2","dir":0},{"pos":[-40,60],"type":"HArmor2x2Front1","dir":0},{"pos":[-40,-30],"type":"HArmor1x2Back2","dir":0},{"pos":[-40,-60],"type":"HArmor2x2Back1","dir":0}],"name":"","aiRules":[["@capTypes Command Points within #m","Capture",700],["Avoid #dps danger areas",10],["Stayaway in #m range from slot # units",250,7],["Stay in #m range of slot # units",2000,1],["Find units that are out of energy"],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","More expensive","---",1000],["Field # at priority #",1,1],["Field # at priority #",1,3],["Field # at priority #",1,4],["Try to field # every # seconds",1,35],["Try to field # every # seconds",1,50],["Try to field # every # seconds",1,80],["Try to field # every # seconds",1,110],["Try to field # every # seconds",1,95],["Field # at priority #",1,5],["@capTypes Command Points within #m","Capture",10000]]},{"parts":[{"pos":[-40,-60],"type":"HArmor2x2Back1","dir":0},{"pos":[-90,-10],"type":"Engine02","dir":0},{"pos":[-70,0],"type":"HArmor1x2","dir":0},{"pos":[-60,40],"type":"DamageMod","dir":0},{"pos":[-20,40],"type":"DamageMod","dir":0},{"pos":[-40,-30],"type":"HArmor1x2Back2","dir":0},{"pos":[-90,30],"type":"Wing1x1Round","dir":0},{"pos":[10,30],"type":"Battery1x1","dir":0},{"pos":[0,0],"type":"TargetingMod","dir":0},{"pos":[-40,0],"type":"Mount90","dir":0},{"pos":[-40,0],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",800,7],["@attackTypes enemy within #m","Attack",1000],["Stay in #m range of slot # units",400,10],["Stayaway in #m range from slot # units",400,7],["When #% of energy, @chargeTypes",50,"Find recharger"],["Field # for # of ship in slot # at priority #",1,3,7,4],["Field # for # of ship in slot # at priority #",1,3,7,5],["Field # for # of ship in slot # at priority #",1,3,7,6]]},{"parts":[{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[0,10],"type":"Battery2x1","dir":0},{"pos":[-20,40],"type":"Mount90","dir":0},{"pos":[20,40],"type":"Mount90","dir":0},{"pos":[30,-20],"type":"Engine03","dir":0},{"pos":[-30,10],"type":"Wing1x1Notch","dir":0},{"pos":[30,10],"type":"Wing1x1Notch","dir":0},{"pos":[-20,40],"type":"LightBeamTurret","dir":0},{"pos":[20,40],"type":"LightBeamTurret","dir":0}],"name":"","aiRules":[["When #% of energy, @chargeTypes",20,"Find recharger"],["Avoid over #damage shots",30],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Slower","Cloaked",600],["Stay in #m range of slot # units",600,1],["@attackTypes enemy that is @absoluteTypes then # within #m","Backstab","Less Arc",100,500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Stay at range","Stronger","More Brawling Value",1500],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","Weaker","Less Brawling Value",1000],["@capTypes Command Points within #m","Spread to",10000],["Field # for # of ship in slot # at priority #",3,4,7,2]]},{}];
  ais.all.Zyro = [{"parts":[{"pos":[50,0],"type":"UArmor1x2","dir":0},{"pos":[0,60],"type":"DamageMod","dir":0},{"pos":[30,70],"type":"Wing1x1Notch","dir":0},{"pos":[0,20],"type":"Mount90","dir":0},{"pos":[-30,70],"type":"Wing1x1Notch","dir":0},{"pos":[-40,40],"type":"BulletSpeedMod","dir":0},{"pos":[-50,0],"type":"UArmor1x2","dir":0},{"pos":[40,40],"type":"BulletSpeedMod","dir":0},{"pos":[-30,10],"type":"Reactor1x1","dir":0},{"pos":[30,10],"type":"Battery1x1","dir":0},{"pos":[30,-20],"type":"Engine03","dir":0},{"pos":[-30,-20],"type":"Engine03","dir":0},{"pos":[0,-20],"type":"BulletSpeedMod","dir":0},{"pos":[0,20],"type":"TorpTurret","dir":0}],"name":"","aiRules":[["Avoid everything"],["When #% of energy, @chargeTypes",20,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Attack","less range","weaker",3000],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",4],["Try to field # every # seconds",2,30]]},{"parts":[{"pos":[70,-50],"type":"UArmor1x1","dir":0},{"pos":[100,-80],"type":"Mount30","dir":0},{"pos":[-50,80],"type":"Wing1x2","dir":0},{"pos":[40,40],"type":"ReloaderMod","dir":0},{"pos":[-20,0],"type":"DamageMod","dir":0},{"pos":[50,80],"type":"Wing1x2","dir":0},{"pos":[-40,40],"type":"ReloaderMod","dir":0},{"pos":[20,80],"type":"BulletSpeedMod","dir":0},{"pos":[-20,80],"type":"BulletSpeedMod","dir":0},{"pos":[-70,-90],"type":"Engine01","dir":0},{"pos":[0,40],"type":"Mount360","dir":0},{"pos":[-100,-50],"type":"Battery2x1","dir":0},{"pos":[-70,-50],"type":"UArmor1x1","dir":0},{"pos":[-110,-20],"type":"Wing1x2","dir":0},{"pos":[-80,-20],"type":"Mount30","dir":0},{"pos":[-100,-80],"type":"Mount30","dir":0},{"pos":[70,-90],"type":"Engine01","dir":0},{"pos":[100,-50],"type":"Battery2x1","dir":0},{"pos":[80,-20],"type":"Mount30","dir":0},{"pos":[110,-20],"type":"Wing1x2","dir":0},{"pos":[20,0],"type":"DamageMod","dir":0},{"pos":[0,-80],"type":"Engine07","dir":0},{"pos":[-40,-40],"type":"Reactor2x2","dir":0},{"pos":[40,-40],"type":"Reactor2x2","dir":0},{"pos":[0,-40],"type":"Reactor2x2","dir":0},{"pos":[-50,0],"type":"UArmor1x2","dir":0},{"pos":[50,0],"type":"UArmor1x2","dir":0},{"pos":[-40,-70],"type":"UArmor2x1","dir":0},{"pos":[40,-70],"type":"UArmor2x1","dir":0},{"pos":[-100,-80],"type":"TorpTurret","dir":0},{"pos":[-80,-20],"type":"TorpTurret","dir":0},{"pos":[100,-80],"type":"TorpTurret","dir":0},{"pos":[80,-20],"type":"TorpTurret","dir":0},{"pos":[0,40],"type":"PlasmaTurret","dir":0}],"name":"","aiRules":[["Avoid over #damage shots",40],["@attackTypes enemy within #m","Attack",1000],["@capTypes Command Points within #m","Capture",10000],["Field # at start",2],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[-30,-40],"type":"Engine04","dir":0},{"pos":[-40,30],"type":"Wing2x1","dir":0},{"pos":[30,-40],"type":"Engine04","dir":0},{"pos":[50,-40],"type":"Engine04","dir":0},{"pos":[-50,-40],"type":"Engine04","dir":0},{"pos":[40,30],"type":"Wing2x1","dir":0},{"pos":[0,20],"type":"EnergyTransfer","dir":0},{"pos":[0,-20],"type":"Reactor2x2","dir":0},{"pos":[40,0],"type":"Battery2x2","dir":0},{"pos":[-40,0],"type":"Battery2x2","dir":0}],"name":"","aiRules":[["Field # for # of ship in slot # at priority #",1,1,2,5],["Stay in #m range of slot # units",500,2]]},"","","","","","",""];
  ais.all.nulitor = [{"parts":[{"pos":[0,0],"type":"Mount30","dir":0},{"pos":[-10,-30],"type":"Battery1x1","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[0,0],"type":"RingTurret","dir":0}],"name":"Ring","aiRules":[["When #% of energy, @chargeTypes",50,"Find recharger"],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Cloaked","Cloaked",1000],["@attackTypes enemy within #m","Attack",1000],["@capTypes Command Points within #m","Spread to",10000],["Field # at start",3],["Try to field # every # seconds",1,30]]},{"parts":[{"pos":[-60,0],"type":"Reactor2x2","dir":0},{"pos":[-30,-20],"type":"Engine04","dir":0},{"pos":[-10,0],"type":"Engine04","dir":0},{"pos":[-30,10],"type":"Wing1x1Notch","dir":0},{"pos":[-20,40],"type":"EnergyTransfer","dir":0},{"pos":[-60,40],"type":"CloakGenerator","dir":0},{"pos":[20,40],"type":"Reactor2x2","dir":0},{"pos":[20,0],"type":"CloakGenerator","dir":0}],"name":"","aiRules":[["Stay in #m range of slot # units",300,10],["Stay in #m range of friendly units",500],["Field # for # of ship in slot # at priority #",1,1,10,1],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Flee","Slower","Stronger",600]]},{"parts":[{"pos":[-40,30],"type":"Wing2x1","dir":0},{"pos":[-40,0],"type":"TargetingMod","dir":0},{"pos":[-40,-80],"type":"CloakGenerator","dir":0},{"pos":[40,-80],"type":"CloakGenerator","dir":0},{"pos":[0,-20],"type":"Mount10Range","dir":0},{"pos":[-40,-40],"type":"TargetingMod","dir":0},{"pos":[40,0],"type":"TargetingMod","dir":0},{"pos":[-10,-100],"type":"Engine04","dir":0},{"pos":[40,-40],"type":"TargetingMod","dir":0},{"pos":[40,30],"type":"Wing2x1","dir":0},{"pos":[0,30],"type":"HArmor2x1","dir":0},{"pos":[0,-70],"type":"Reactor2x1","dir":0},{"pos":[0,-20],"type":"TeslaTurret","dir":0}],"name":"","aiRules":[]},{"parts":[{"pos":[-180,180],"type":"Mount30","dir":0},{"pos":[-180,140],"type":"StasisField","dir":0},{"pos":[-190,100],"type":"VArmor1x2SideBar","dir":0},{"pos":[-190,60],"type":"VArmor1x2SideBar","dir":0},{"pos":[-190,20],"type":"VArmor1x2SideBar","dir":0},{"pos":[-190,-20],"type":"VArmor1x2SideBar","dir":0},{"pos":[-190,-60],"type":"VArmor1x2SideBar","dir":0},{"pos":[-190,-100],"type":"VArmor1x2SideBar","dir":0},{"pos":[-190,-140],"type":"VArmor1x2SideBar","dir":0},{"pos":[-190,-180],"type":"VArmor1x2SideBar","dir":0},{"pos":[-130,-170],"type":"VArmor1x1","dir":0},{"pos":[-130,-150],"type":"VArmor1x1","dir":0},{"pos":[-110,-150],"type":"VArmor1x1","dir":0},{"pos":[-110,-130],"type":"VArmor1x1","dir":0},{"pos":[-90,-130],"type":"VArmor1x1","dir":0},{"pos":[-90,-110],"type":"VArmor1x1","dir":0},{"pos":[-70,-110],"type":"VArmor1x1","dir":0},{"pos":[-70,-90],"type":"VArmor1x1","dir":0},{"pos":[-50,-90],"type":"VArmor1x1","dir":0},{"pos":[-50,-70],"type":"VArmor1x1","dir":0},{"pos":[-30,-70],"type":"VArmor1x1","dir":0},{"pos":[-30,-50],"type":"VArmor1x1","dir":0},{"pos":[-10,-50],"type":"VArmor1x1","dir":0},{"pos":[-10,-30],"type":"VArmor1x1","dir":0},{"pos":[10,-30],"type":"VArmor1x1","dir":0},{"pos":[30,-10],"type":"VArmor1x1","dir":0},{"pos":[10,-10],"type":"VArmor1x1","dir":0},{"pos":[30,10],"type":"VArmor1x1","dir":0},{"pos":[50,10],"type":"VArmor1x1","dir":0},{"pos":[50,30],"type":"VArmor1x1","dir":0},{"pos":[70,30],"type":"VArmor1x1","dir":0},{"pos":[70,50],"type":"VArmor1x1","dir":0},{"pos":[90,50],"type":"VArmor1x1","dir":0},{"pos":[90,70],"type":"VArmor1x1","dir":0},{"pos":[110,70],"type":"VArmor1x1","dir":0},{"pos":[110,90],"type":"VArmor1x1","dir":0},{"pos":[130,90],"type":"VArmor1x1","dir":0},{"pos":[130,110],"type":"VArmor1x1","dir":0},{"pos":[150,110],"type":"VArmor1x1","dir":0},{"pos":[150,130],"type":"VArmor1x1","dir":0},{"pos":[170,130],"type":"VArmor1x1","dir":0},{"pos":[170,150],"type":"VArmor1x1","dir":0},{"pos":[190,150],"type":"VArmor1x1","dir":0},{"pos":[190,170],"type":"VArmor1x1","dir":0},{"pos":[-170,-190],"type":"Battery1x1","dir":0},{"pos":[-150,-180],"type":"Engine04","dir":0},{"pos":[-180,180],"type":"WavePullTurret","dir":0}],"name":"","aiRules":[]},{"parts":[{"pos":[30,-10],"type":"HArmor1x1","dir":0},{"pos":[-30,-10],"type":"HArmor1x1","dir":0},{"pos":[-40,40],"type":"Mount30","dir":0},{"pos":[10,10],"type":"HArmor1x1","dir":0},{"pos":[-10,10],"type":"HArmor1x1","dir":0},{"pos":[-50,10],"type":"HArmor1x1","dir":0},{"pos":[30,10],"type":"HArmor1x1","dir":0},{"pos":[-10,40],"type":"Battery1x2","dir":0},{"pos":[20,40],"type":"Mount30","dir":0},{"pos":[-50,-10],"type":"HArmor1x1","dir":0},{"pos":[30,-30],"type":"Wing1x1Round","dir":0},{"pos":[-10,-30],"type":"Engine02","dir":0},{"pos":[10,-30],"type":"HArmor1x1","dir":0},{"pos":[10,-10],"type":"HArmor1x1","dir":0},{"pos":[-30,-30],"type":"Wing1x1Round","dir":0},{"pos":[-30,10],"type":"HArmor1x1","dir":0},{"pos":[20,40],"type":"AutoTurret","dir":0},{"pos":[-40,40],"type":"BombGun","dir":0}],"name":"Probably an egg too","aiRules":[["Stay in #m range of slot # units",600,10],["When #% of energy, @chargeTypes",30,"Find recharger"],["Stayaway in #m range from slot # units",140,5],["Stayaway in #m range from slot # units",140,6],["Stay in #m range of friendly units",1000],["Avoid over #damage shots",50],["@attackTypes enemy within #m","Attack",3000],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",1,1,6,3]]},{"parts":[{"pos":[-30,-10],"type":"HArmor1x1","dir":0},{"pos":[10,-30],"type":"HArmor1x1","dir":0},{"pos":[50,30],"type":"HArmor1x1","dir":0},{"pos":[50,10],"type":"HArmor1x1","dir":0},{"pos":[-30,10],"type":"Wing1x1Round","dir":0},{"pos":[50,50],"type":"HArmor1x1","dir":0},{"pos":[20,-10],"type":"Battery2x1","dir":0},{"pos":[20,60],"type":"Mount10Range","dir":0},{"pos":[30,10],"type":"HArmor1x1","dir":0},{"pos":[10,10],"type":"HArmor1x1","dir":0},{"pos":[-20,60],"type":"Mount30","dir":0},{"pos":[-10,30],"type":"HArmor1x1","dir":0},{"pos":[-10,-10],"type":"Engine02","dir":0},{"pos":[-30,30],"type":"HArmor1x1","dir":0},{"pos":[50,-10],"type":"HArmor1x1","dir":0},{"pos":[-50,10],"type":"Wing1x1Round","dir":0},{"pos":[-20,60],"type":"RingTurret","dir":0},{"pos":[20,60],"type":"BombGun","dir":0}],"name":"Probably an egg","aiRules":[["When #% of energy, @chargeTypes",30,"Find recharger"],["@attackTypes enemy that is @absoluteTypes then # within #m","Ram","More expensive",300,1450],["@attackTypes enemy that is @relativeTypes and @relativeTypes within #m","Ram","Cloaked","Cloaked",600],["Stay in #m range of slot # units",1400,10],["@attackTypes enemy within #m","Attack",1300],["Stay in #m range of slot # units",600,10],["Stayaway in #m range from slot # units",140,6],["Stayaway in #m range from slot # units",140,5],["Stay in #m range of friendly units",1000],["@attackTypes enemy within #m","Attack",3000],["@capTypes Command Points within #m","Capture",10000],["Field # for # of ship in slot # at priority #",5,1,10,4]]},{"parts":[{"pos":[50,0],"type":"Wing1x2","dir":0},{"pos":[-80,40],"type":"Reactor2x2","dir":0},{"pos":[-70,-50],"type":"Engine02","dir":0},{"pos":[30,-50],"type":"Engine02","dir":0},{"pos":[-60,0],"type":"ReloaderMod","dir":0},{"pos":[-20,0],"type":"Mount360","dir":0},{"pos":[-40,-40],"type":"ReloaderMod","dir":0},{"pos":[0,-40],"type":"ReloaderMod","dir":0},{"pos":[20,0],"type":"ReloaderMod","dir":0},{"pos":[-40,40],"type":"TargetingMod","dir":0},{"pos":[0,40],"type":"TargetingMod","dir":0},{"pos":[30,40],"type":"Battery1x2","dir":0},{"pos":[-20,0],"type":"PDTurret","dir":0}],"name":"Point defense?","aiRules":[["Stay in #m range of slot # units",50,10],["Stay in #m range of friendly units",200],["Field # for # of @needTypes at priority #",1,20,"Point Defense Need",20]]},{"parts":[{"pos":[80,60],"type":"CloakGenerator","dir":0},{"pos":[40,40],"type":"DamageMod","dir":0},{"pos":[40,80],"type":"DamageMod","dir":0},{"pos":[80,20],"type":"Battery2x2","dir":0},{"pos":[30,0],"type":"Engine03","dir":0},{"pos":[-30,0],"type":"Engine03","dir":0},{"pos":[0,60],"type":"Mount30","dir":0},{"pos":[50,0],"type":"Engine03","dir":0},{"pos":[80,100],"type":"CloakGenerator","dir":0},{"pos":[50,110],"type":"Wing1x1Round","dir":0},{"pos":[-40,40],"type":"DamageMod","dir":0},{"pos":[0,20],"type":"DamageMod","dir":0},{"pos":[-40,80],"type":"DamageMod","dir":0},{"pos":[0,100],"type":"DamageMod","dir":0},{"pos":[0,60],"type":"RingTurret","dir":0}],"name":"","aiRules":[]},{"parts":[{"pos":[50,-90],"type":"Engine02","dir":0,"ghostCopy":true},{"pos":[110,-90],"type":"Engine02","dir":0,"ghostCopy":true},{"pos":[40,90],"type":"Wing2x1","dir":0,"ghostCopy":true},{"pos":[110,40],"type":"Wing1x2","dir":0,"ghostCopy":true},{"pos":[-130,-40],"type":"HArmor1x2","dir":0,"ghostCopy":true},{"pos":[110,0],"type":"HArmor1x2","dir":0,"ghostCopy":true},{"pos":[110,-40],"type":"HArmor1x2","dir":0,"ghostCopy":true},{"pos":[-40,20],"type":"Mount360","dir":0,"ghostCopy":true},{"pos":[-80,-40],"type":"Reactor2x2","dir":0,"ghostCopy":true},{"pos":[0,70],"type":"Battery2x1","dir":0,"ghostCopy":true},{"pos":[40,20],"type":"Mount360","dir":0,"ghostCopy":true},{"pos":[80,-40],"type":"Reactor2x2","dir":0,"ghostCopy":true},{"pos":[40,-50],"type":"HArmor2x1","dir":0,"ghostCopy":true},{"pos":[-130,30],"type":"HArmor1x1Angle","dir":0,"ghostCopy":true},{"pos":[130,-40],"type":"HArmor1x2","dir":0,"ghostCopy":true},{"pos":[-40,90],"type":"Wing2x1","dir":0,"ghostCopy":true},{"pos":[0,-40],"type":"Mount360","dir":0,"ghostCopy":true},{"pos":[-110,40],"type":"Wing1x2","dir":0,"ghostCopy":true},{"pos":[130,30],"type":"HArmor1x1Angle","dir":0,"ghostCopy":true},{"pos":[-40,-50],"type":"HArmor2x1","dir":0,"ghostCopy":true},{"pos":[-110,0],"type":"HArmor1x2","dir":0,"ghostCopy":true},{"pos":[40,-20],"type":"ReloaderMod","dir":0,"ghostCopy":true},{"pos":[-130,0],"type":"HArmor1x2","dir":0,"ghostCopy":true},{"pos":[130,0],"type":"HArmor1x2","dir":0,"ghostCopy":true},{"pos":[80,70],"type":"Wing2x1","dir":0,"ghostCopy":true},{"pos":[-80,70],"type":"Wing2x1","dir":0,"ghostCopy":true},{"pos":[-110,-40],"type":"HArmor1x2","dir":0,"ghostCopy":true},{"pos":[-130,-90],"type":"HArmor1x1AngleBack","dir":0,"ghostCopy":true},{"pos":[130,-90],"type":"HArmor1x1AngleBack","dir":0,"ghostCopy":true},{"pos":[130,-70],"type":"HArmor1x1","dir":0,"ghostCopy":true},{"pos":[-80,0],"type":"ReloaderMod","dir":0,"ghostCopy":true},{"pos":[-40,-20],"type":"ReloaderMod","dir":0,"ghostCopy":true},{"pos":[-50,-90],"type":"Engine02","dir":0,"ghostCopy":true},{"pos":[-130,-70],"type":"HArmor1x1","dir":0,"ghostCopy":true},{"pos":[30,-110],"type":"Engine02","dir":0,"ghostCopy":true},{"pos":[-30,-110],"type":"Engine02","dir":0,"ghostCopy":true},{"pos":[-110,-90],"type":"Engine02","dir":0,"ghostCopy":true},{"pos":[-20,-70],"type":"HArmor2x1","dir":0,"ghostCopy":true},{"pos":[20,-70],"type":"HArmor2x1","dir":0,"ghostCopy":true},{"pos":[-80,-80],"type":"HArmor2x2","dir":0,"ghostCopy":true},{"pos":[80,-80],"type":"HArmor2x2","dir":0,"ghostCopy":true},{"pos":[0,90],"type":"HArmor2x1","dir":0,"ghostCopy":true},{"pos":[-70,-110],"type":"HArmor1x1AngleBack","dir":0,"ghostCopy":true},{"pos":[70,-110],"type":"HArmor1x1AngleBack","dir":0,"ghostCopy":true},{"pos":[0,-100],"type":"EnergyTransfer","dir":0,"ghostCopy":true},{"pos":[80,0],"type":"ReloaderMod","dir":0,"ghostCopy":true},{"pos":[-80,40],"type":"ReloaderMod","dir":0,"ghostCopy":true},{"pos":[0,40],"type":"BulletSpeedMod","dir":0,"ghostCopy":true},{"pos":[40,60],"type":"BulletSpeedMod","dir":0,"ghostCopy":true},{"pos":[0,0],"type":"ReloaderMod","dir":0,"ghostCopy":true},{"pos":[-40,60],"type":"BulletSpeedMod","dir":0,"ghostCopy":true},{"pos":[80,40],"type":"BulletSpeedMod","dir":0,"ghostCopy":true},{"pos":[0,-40],"type":"PDTurret","dir":0,"ghostCopy":true},{"pos":[-40,20],"type":"ArtilleryTurret","dir":0,"ghostCopy":true},{"pos":[40,20],"type":"ArtilleryTurret","dir":0,"ghostCopy":true}],"name":"Heavy Cruiser Tesla Missile","aiRules":[]},{"parts":[{"pos":[-10,-70],"type":"Engine02","dir":0},{"pos":[50,-70],"type":"Engine02","dir":0},{"pos":[40,0],"type":"Mount10Range","dir":0},{"pos":[120,0],"type":"Mount10Range","dir":0},{"pos":[-160,-20],"type":"TargetingMod","dir":0},{"pos":[-160,20],"type":"TargetingMod","dir":0},{"pos":[-80,20],"type":"TargetingMod","dir":0},{"pos":[-80,-20],"type":"TargetingMod","dir":0},{"pos":[0,-20],"type":"TargetingMod","dir":0},{"pos":[0,20],"type":"TargetingMod","dir":0},{"pos":[80,20],"type":"TargetingMod","dir":0},{"pos":[80,-20],"type":"TargetingMod","dir":0},{"pos":[160,-20],"type":"TargetingMod","dir":0},{"pos":[110,-70],"type":"Engine02","dir":0},{"pos":[130,-70],"type":"Engine02","dir":0},{"pos":[-40,-60],"type":"HArmor2x2","dir":0},{"pos":[80,-60],"type":"HArmor2x2","dir":0},{"pos":[80,60],"type":"HArmor2x2","dir":0},{"pos":[40,60],"type":"HArmor2x2","dir":0},{"pos":[-40,60],"type":"HArmor2x2","dir":0},{"pos":[-40,0],"type":"Mount10Range","dir":0},{"pos":[-120,0],"type":"Mount10Range","dir":0},{"pos":[30,-70],"type":"Engine02","dir":0},{"pos":[10,-70],"type":"Engine02","dir":0},{"pos":[-120,-60],"type":"Reactor2x2","dir":0},{"pos":[-40,-100],"type":"HArmor2x2","dir":0},{"pos":[80,100],"type":"Wing2x2","dir":0},{"pos":[-80,-100],"type":"HArmor2x2","dir":0},{"pos":[-80,-60],"type":"HArmor2x2","dir":0},{"pos":[-80,60],"type":"HArmor2x2","dir":0},{"pos":[-120,60],"type":"HArmor2x2","dir":0},{"pos":[-80,100],"type":"Reactor2x2","dir":0},{"pos":[80,-100],"type":"HArmor2x2","dir":0},{"pos":[120,60],"type":"HArmor2x2","dir":0},{"pos":[160,20],"type":"TargetingMod","dir":0},{"pos":[0,60],"type":"HArmor2x2","dir":0},{"pos":[40,100],"type":"Battery2x2","dir":0},{"pos":[80,-140],"type":"Wing2x2","dir":0},{"pos":[0,100],"type":"Mount90","dir":0},{"pos":[-40,100],"type":"Mount90","dir":0},{"pos":[-40,-140],"type":"HArmor2x2","dir":0},{"pos":[10,130],"type":"HArmor1x1","dir":0},{"pos":[-10,130],"type":"HArmor1x1","dir":0},{"pos":[-30,130],"type":"HArmor1x1","dir":0},{"pos":[30,130],"type":"HArmor1x1","dir":0},{"pos":[50,130],"type":"HArmor1x1","dir":0},{"pos":[-70,-130],"type":"HArmor1x1","dir":0},{"pos":[-40,100],"type":"PDTurret","dir":0},{"pos":[-120,0],"type":"TeslaTurret","dir":0},{"pos":[-40,0],"type":"TeslaTurret","dir":0},{"pos":[40,0],"type":"TeslaTurret","dir":0},{"pos":[120,0],"type":"TeslaTurret","dir":0},{"pos":[0,100],"type":"HeavyPDTurret","dir":0}],"name":"Plasma hovertank","aiRules":[["@attackTypes enemy within #m","Attack",2000],["@capTypes Command Points within #m","Capture",10000],["Field # when money over # at priority #",1,1000,71]]}];
  ;
  
  
  //from src/network.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var getAIRules,
      slice = [].slice;
  
    window.Connection = (function() {
      function Connection(address) {
        this.address = address;
        console.log("connecting to", this.address);
        this.connect();
      }
  
      Connection.prototype.connect = function() {
        this.websocket = new WebSocket(this.address);
        this.websocket.binaryType = 'arraybuffer';
        console.log("websocket", this.websocket);
        this.websocket.onopen = (function(_this) {
          return function(e) {
            console.log("ws open", e);
            _this.sendPlayer();
            console.log("sending game key", commander.name, rootNet.gameKey);
            return _this.send("gameKey", commander.name, rootNet.gameKey);
          };
        })(this);
        this.websocket.onclose = (function(_this) {
          return function(e) {
            return console.log("ws close", e);
          };
        })(this);
        this.websocket.onmessage = (function(_this) {
          return function(e) {
            var data, packet;
            stats.netAdd(e.data.byteLength);
            packet = new DataView(e.data);
            data = intp.zJson.loadDv(packet);
            return intp.recv(data);
          };
        })(this);
        return this.websocket.onerror = (function(_this) {
          return function(e) {
            return console.log("ws error", e);
          };
        })(this);
      };
  
      Connection.prototype.send = function() {
        var args, dv;
        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
        if (this.websocket.readyState === 1) {
          dv = sim.zJson.dumpDv(args);
          return this.websocket.send(dv);
        }
      };
  
      Connection.prototype.sendPlayer = function(update) {
        var buildBar, i, j;
        if (update == null) {
          update = true;
        }
        if (!commander) {
          return;
        }
        buildBar = [null, null, null, null, null, null, null, null, null, null];
        for (i = j = 0; j < 10; i = ++j) {
          if (validSpec(commander, commander.buildBar[i])) {
            buildBar[i] = fromShort(commander.buildBar[i]);
          }
        }
        return this.send("playerJoin", commander.id, commander.name, commander.color, buildBar, getAIRules(), false, update);
      };
  
      Connection.prototype.close = function() {
        return this.websocket.close();
      };
  
      return Connection;
  
    })();
  
    window.RootConnection = (function() {
      function RootConnection(address) {
        this.address = address;
        this.connect();
      }
  
      RootConnection.prototype.connect = function() {
        this.startTime = Date.now();
        this.websocket = new WebSocket(this.address);
        this.websocket.onopen = (function(_this) {
          return function(e) {
            onecup.refresh();
            account.lastRootSave = {};
            account.connectedToRoot();
            return _this.sendMode();
          };
        })(this);
        this.websocket.onclose = (function(_this) {
          return function(e) {
            onecup.refresh();
            return console.log("root ws close", e);
          };
        })(this);
        this.websocket.onmessage = (function(_this) {
          return function(e) {
            var _, battleMode, k, msg, name, player, ref, ref1, ref2, ref3, s, server, v;
            onecup.refresh();
            msg = JSON.parse(e.data);
            switch (msg[0]) {
              case "serversStats":
                return _this.serversStats = msg[1];
              case "servers":
                _this.servers = {};
                ref = msg[1];
                for (_ in ref) {
                  s = ref[_];
                  _this.servers[s.name] = s;
                }
                if (typeof battleMode !== "undefined" && battleMode !== null ? battleMode.serverName : void 0) {
                  battleMode = (ref1 = rootNet.servers) != null ? ref1[battleMode.serverName] : void 0;
                }
                return onecup.refresh();
              case "serversDiff":
                ref2 = msg[1];
                for (name in ref2) {
                  server = ref2[name];
                  if (server === null) {
                    delete _this.servers[name];
                  } else {
                    if (_this.servers[name] == null) {
                      _this.servers[name] = {};
                    }
                    for (k in server) {
                      v = server[k];
                      _this.servers[name][k] = v;
                    }
                  }
                }
                return onecup.refresh();
              case "players":
                chat.players = msg[1];
                return onecup.refresh();
              case "playersDiff":
                ref3 = msg[1];
                for (name in ref3) {
                  player = ref3[name];
                  if (player === null) {
                    delete chat.players[name];
                  } else {
                    if (chat.players[name] == null) {
                      chat.players[name] = {};
                    }
                    for (k in player) {
                      v = player[k];
                      chat.players[name][k] = v;
                    }
                  }
                }
                return onecup.refresh();
              case "message":
                msg[1].time = Date.now();
                chat.lines.push(msg[1]);
                return after(100, function() {
                  var chatarea;
                  chatarea = document.getElementById("chatarea");
                  if (chatarea) {
                    return chatarea.scrollTop = 100000;
                  }
                });
              case "messageLog":
                msg[1].time = 0;
                return chat.lines.push(msg[1]);
              case "authError":
                return account.authError(msg[1]);
              case "authPasswordChanged":
                return ui.changePassword = false;
              case "login":
                return account.signinReply(msg[1]);
              case "windowClose":
                return window.close();
              case "modInfo":
                console.log("modInfo", msg);
                return mod.info = msg[1];
              case "modLog":
                console.log("modLog", msg);
                return mod.log = msg[1];
              case "gameKey":
                return _this.gameKey = msg[1];
            }
          };
        })(this);
        return this.websocket.onerror = (function(_this) {
          return function(e) {
            return console.log("root ws error", e);
          };
        })(this);
      };
  
      RootConnection.prototype.send = function() {
        var args;
        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
        if (this.websocket.readyState === 1) {
          return this.websocket.send(JSON.stringify(args));
        }
      };
  
      RootConnection.prototype.playerMode = function() {
        var mode;
        mode = ui.mode;
        if (mode === "battle") {
          if (sim.galaxyStar) {
            mode = "galaxy*";
          } else if (sim.challenge) {
            mode = "challenge*";
          } else if (sim.local) {
            mode = "local*";
          }
        }
        return mode;
      };
  
      RootConnection.prototype.sendMode = function() {
        return this.send("setMode", this.playerMode(), chat.channel);
      };
  
      return RootConnection;
  
    })();
  
    window.replays = {};
  
    replays.recording = [];
  
    getAIRules = function() {
      if (localStorage.useAi !== "true") {
        return null;
      }
      return ais.buildBar2aiRules(commander.buildBar);
    };
  
    window.Local = (function() {
      function Local() {}
  
      Local.prototype.sendPlayer = function() {
        var buildBar, i, j;
        if (!commander) {
          return;
        }
        buildBar = [null, null, null, null, null, null, null, null, null, null];
        for (i = j = 0; j < 10; i = ++j) {
          if (validSpec(commander, commander.buildBar[i])) {
            buildBar[i] = fromShort(commander.buildBar[i]);
          }
        }
        return this.send("playerJoin", commander.id, commander.name, commander.color, buildBar, getAIRules());
      };
  
      Local.prototype.send = function() {
        var args, dv, j, len, p, player, ref, ref1;
        args = 1 <= arguments.length ? slice.call(arguments, 0) : [];
        dv = (ref = sim.zJson).dumpDv.apply(ref, args);
        player = null;
        ref1 = sim.players;
        for (j = 0, len = ref1.length; j < len; j++) {
          p = ref1[j];
          if (p.id === commander.id) {
            player = p;
            player.active = true;
          }
        }
        return sim[args[0]].apply(sim, [player].concat(slice.call(args.slice(1))));
      };
  
      return Local;
  
    })();
  
  }).call(this);
  ;
  
  
  //from src/ui.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var campaignsView, warnCounter, warningMessage, webGLErrorMessage;
  
    eval(onecup["import"]());
  
    window.ui = {};
  
    ui.path = ["menu"];
  
    ui.go = function(mode) {
      if (mode === "fleet") {
        if (fleetMode.draggingUnit) {
          commander.fleet[fleetMode.draggingUnit.key] = fleetMode.draggingUnit.spec;
        }
        fleetMode.draggingUnit = null;
        fleetMode.draggingFleet = null;
      }
      return ui.mode = mode;
    };
  
    ui.goBack = function(mode) {
      if (history.length > 1) {
        history.back();
        ui.mode = window.location.hash.slice(1);
        onecup.refresh();
      } else {
        ui.mode = mode;
      }
      return console.log("ui.mode =", ui.mode);
    };
  
    ui.warnings = [
      {
        title: "Warning issued",
        subline: "You have violated ToS and the player's Code of Condcut by saying:",
        text: "Aevean just kill yourself.",
        time: 15
      }, {
        title: "Ban issued",
        subline: "Greetings, beloved Istrolid player! Oh no! It looks like you've been bad! Here's a description of what you did:",
        text: "Created multiple accounts to farm rank",
        time: 30 * 60
      }
    ];
  
    ui.mode = "menu";
  
    ui.show = true;
  
    window.body = function() {
      var ref;
      if (ui.error === "webGL") {
        webGLErrorMessage();
        return;
      }
      if (!(typeof baseAtlas !== "undefined" && baseAtlas !== null ? baseAtlas.ready : void 0) || !ui.loaded) {
        ui.loadingMessage();
        return;
      } else {
        document.body.style.backgroundColor = "#6B7375";
      }
      if (account.signedIn === false) {
        ui.mode === "authenticate";
        account.signinOrRegisterMenu();
        return;
      }
      if (!ui.show) {
        return;
      }
      ui.reconnectRoot();
      if ((ref = sim.galaxyStar) != null ? typeof ref.ui === "function" ? ref.ui() : void 0 : void 0) {
        return;
      }
      control.backgroundMode = battleMode;
      control.mode = menuMode;
      chat.draw();
      switch (ui.mode) {
        case "menu":
          ui.menu();
          break;
        case "battle":
          buildBar.draw();
          control.mode = battleMode;
          ui.reconnect();
          break;
        case "quickscore":
          buildBar.draw();
          battleroom.quickscore();
          control.mode = battleMode;
          break;
        case "restart":
          ui.restartDialog();
          break;
        case "design":
          control.mode = designMode;
          editorUI();
          break;
        case "fleet":
          control.mode = fleetMode;
          fleetUI();
          break;
        case "settings":
          ui.settingsMain();
          break;
        case "reset":
          account.settingsResetPassword();
          break;
        case "multiplayer":
          buildBar.draw();
          chat.room();
          break;
        case "battleroom":
          buildBar.draw();
          battleroom.room();
          ui.reconnect();
          break;
        case "challenges":
          ui.challengesView();
          break;
        case "galaxy":
          if (!galaxyMode.hasCurrent) {
            galaxyMode.difficulty = 1;
            galaxyMode.restart();
          }
          control.backgroundMode = galaxyMode;
          control.mode = galaxyMode;
          galaxyView();
          break;
        case "campaigns":
          campaignsView();
          break;
        case "unit":
          control.mode = designMode;
          break;
        case "unitpix":
          ui.unitPix();
          break;
        case "copy":
          ui.copyPage();
          break;
        case "mod":
          ui.modPage();
          break;
        case "tournaments":
          ui.tournamentsPage();
          break;
        case "servers":
          ui.serverPage();
      }
      if (ui.mode !== "menu") {
        bubbles.draw();
      }
      ui.perfPage();
      if (account.savingToServer) {
        ui.savingData();
      }
      if (ui.rmenu) {
        div("#rmenu", function() {
          position("fixed");
          background_color("rgba(0,0,0,.9)");
          color("white");
          z_index("10");
          left(ui.rmenu.pos[0]);
          top(ui.rmenu.pos[1]);
          return ui.rmenu.html();
        });
        return onecup.post_render(function() {
          var bounds, diff, rmenuDiv;
          rmenuDiv = onecup.lookup("#rmenu");
          if (rmenuDiv) {
            bounds = rmenuDiv.getBoundingClientRect();
            diff = window.innerHeight - (bounds.top + bounds.height);
            if (diff < 0 && bounds.top > 0) {
              ui.rmenu.pos[1] += diff;
              if (ui.rmenu.pos[1] < 0) {
                ui.rmenu.pos[1] = 0;
              }
              return rmenuDiv.style.top = ui.rmenu.pos[1] + "px";
            }
          }
        });
      }
    };
  
    webGLErrorMessage = function() {
      return div(function() {
        position("absolute");
        top(0);
        left(0);
        right(0);
        bottom(0);
        min_height(600);
        background_color("rgb(211, 84, 0)");
        return div(function() {
          margin_top(100);
          font_size(20);
          color("white");
          return div(function() {
            h1(function() {
              return text("Graphic card error.");
            });
            br();
            margin("10px auto");
            width(600);
            br();
            p(function() {
              return text("You can try:");
            });
            br();
            ol(function() {
              margin_left(30);
              li(function() {
                return text("Restarting the computer.");
              });
              li(function() {
                return text("Update graphics drivers.");
              });
              if (typeof electron === "undefined" || electron === null) {
                li(function() {
                  return text("Check for browser updates.");
                });
                li(function() {
                  return text("Disable extensions like AdBlock, try incognito mode.");
                });
                return li(function() {
                  return text("Make sure webGL is enabled.");
                });
              }
            });
            br();
            p(function() {
              return text("Technical reason:");
            });
            br();
            return p(function() {
              color("rgba(255, 200, 200, 1)");
              return text(ui.contextErrrorMessage);
            });
          });
        });
      });
    };
  
    warningMessage = function(warning) {
      return div(function() {
        position("absolute");
        top(0);
        left(0);
        right(0);
        bottom(0);
        min_height(600);
        background_color("rgb(211, 84, 0)");
        return div(function() {
          margin_top(100);
          font_size(20);
          color("white");
          return div(function() {
            h1(function() {
              return text(warning.title);
            });
            br();
            margin("10px auto");
            width(600);
            br();
            p(function() {
              return text(warning.subline);
            });
            div(function() {
              margin("60px 0px");
              padding(20);
              background_color("rgba(0,0,0,.2)");
              return p(function() {
                return text(warning.text);
              });
            });
            br();
            div(function() {
              div(function() {
                var m, s;
                m = Math.floor(warning.time / 60);
                s = "" + (warning.time % 60);
                if (s.length === 1) {
                  s = "0" + s;
                }
                return text("time left: " + m + ":" + s);
              });
              br();
              return button(".hover-black-dark", function() {
                border("none");
                padding(20);
                font_size(20);
                color("white");
                text("I understand and will not do this again");
                if (warning.time > 0) {
                  background_color("rgba(0,0,0,1)");
                  return opacity(".3");
                } else {
                  return onclick(function() {
                    return ui.warnings.shift();
                  });
                }
              });
            });
            br();
            return div(function() {
              return button(".hover-black-dark", function() {
                border("none");
                padding(20);
                font_size(20);
                color("white");
                text("Read players's Code of Conduct");
                return onclick(function() {
                  return window.open("https://docs.google.com/document/d/1zxErnhOPlW1PqQpGGuHHo9Onu5Yj_OjCMDo_KaLGhyY/edit#heading=h.bzjo9gjpe451");
                });
              });
            });
          });
        });
      });
    };
  
    warnCounter = function() {
      if (ui.warnings.length > 0) {
        if (ui.warnings[0].time > 0) {
          ui.warnings[0].time -= 1;
          return onecup.refresh();
        }
      }
    };
  
    setInterval(warnCounter, 1000);
  
    ui.loadTime = Date.now();
  
    ui.loadingMessage = function() {
      var fade;
      fade = (Date.now() - ui.loadTime - 2000) / 5000;
      fade = Math.max(0, Math.min(fade, 1));
      div(function() {
        margin_top(200);
        text_align("center");
        font_size(30);
        color("#D3D5DE");
        opacity("" + fade);
        return text("loading...");
      });
      return div(function() {
        margin("20px auto");
        height(10);
        width(200);
        background_color("#E3E5EE");
        opacity("" + fade);
        return div(function() {
          var p;
          p = (typeof baseAtlas !== "undefined" && baseAtlas !== null ? baseAtlas.progress : void 0) || 0;
          width((p * 100).toFixed(0) + "%");
          background_color("#A3A5AE");
          return height(10);
        });
      });
    };
  
    ui.reconnect = function() {
      if ((network.websocket != null) && network.websocket.readyState === WebSocket.CLOSED) {
        return div(function() {
          position("absolute");
          top(200);
          left(0);
          right(0);
          color("white");
          overflow("hidden");
          text_align("center");
          background_color("rgba(160,0,0,.9)");
          padding(20);
          z_index("100");
          div(function() {
            margin(20);
            return text("Connection to server lost");
          });
          return div(".hover-black-dark", function() {
            padding(10);
            width(200);
            margin("0px auto");
            text_align("center");
            text("Reconnect");
            return onclick(function() {
              var ref;
              if ((ref = battleMode.server) != null ? ref.name : void 0) {
                return battleMode.joinServer(battleMode.server.name);
              } else {
                return ui.mode = "multiplayer";
              }
            });
          });
        });
      }
    };
  
    ui.reconnectRoot = function() {
      if ((rootNet.websocket != null) && rootNet.websocket.readyState !== WebSocket.OPEN) {
        return div(function() {
          position("absolute");
          top(200);
          left(0);
          right(0);
          color("white");
          overflow("hidden");
          text_align("center");
          padding(20);
          z_index("100");
          if (account.error) {
            background_color("rgba(160,0,0,.9)");
            return div(function() {
              margin(20);
              return text(account.error);
            });
          } else if (rootNet.websocket.readyState === WebSocket.CLOSED) {
            background_color("rgba(160,0,0,.9)");
            div(function() {
              margin(20);
              return text("Connection to root server lost. Can't save progress or ship designs.");
            });
            return div(".hover-black-dark", function() {
              padding(10);
              width(200);
              margin("0px auto");
              text_align("center");
              text("Reconnect");
              return onclick(function() {
                return rootNet.connect();
              });
            });
          } else {
            background_color("rgba(0,160,0,.9)");
            return div(function() {
              margin(20);
              return text("Connecting to root server.");
            });
          }
        });
      }
    };
  
    ui.savingData = function() {
      return div(function() {
        position("absolute");
        top(200);
        left(0);
        right(0);
        color("white");
        overflow("hidden");
        text_align("center");
        background_color("rgba(0,160,0,.9)");
        padding(20);
        z_index("100");
        return div(function() {
          margin(20);
          return text("Saving data before closing...");
        });
      });
    };
  
    ui.inScreen = function(back, title, fn) {
      return div("#screen", function() {
        position("relative");
        margin("0px auto");
        height(window.innerHeight);
        width(520);
        background_color("rgba(0,0,0,.6)");
        color("white");
        padding_top(64);
        div(function() {
          position("absolute");
          top(16);
          left(64);
          right(64);
          text_align("center");
          font_size(30);
          return text(title);
        });
        img(".hover-black", {
          src: "img/ui/back.png",
          width: 64,
          height: 64
        }, function() {
          position("absolute");
          top(0);
          left(0);
          return onclick(function() {
            return ui.go(back);
          });
        });
        return fn();
      });
    };
  
    campaignsView = function() {
      if (!galaxyMode.hasCurrent) {
        galaxyMode.difficulty = 1;
        galaxyMode.restart();
        return;
      }
      return ui.inScreen("menu", "Campaigns", function() {
        div(function() {
          position("relative");
          top(-10);
          text_align("center");
          text("conquest of the galaxy");
          return padding_bottom(10);
        });
        div(function() {
          text_align("center");
          div(".button", function() {
            padding(40);
            text("Continue Current");
            if (galaxyMode.hasCurrent) {
              return onclick(function() {
                return ui.go("galaxy");
              });
            } else {
              background_color("rgba(0,0,0,.5)");
              return opacity(".1");
            }
          });
          return div(function() {
            width("100%");
            return height(50);
          });
        });
        div(function() {
          padding(20);
          text_align("center");
          if (localStorage.galaxy) {
            p(function() {
              font_size(30);
              padding_bottom(10);
              return text("Start New");
            });
            return p(function() {
              return text("will overwirte current one");
            });
          } else {
            p(function() {
              font_size(30);
              padding_bottom(10);
              return text("Galaxy");
            });
            return p(function() {
              return text("Let your conquest being");
            });
          }
        });
        return div(function() {
          var campaign;
          campaign = function(label, difficulty) {
            return div(".button", function() {
              position("relative");
              padding(40);
              text_align("center");
              text(label);
              overflow("hidden");
              margin_bottom(20);
              return onclick(function() {
                galaxyMode.difficulty = difficulty;
                return galaxyMode.restart();
              });
            });
          };
          return campaign("Restart", 1);
        });
      });
    };
  
    css(".hover-black", function() {
      return background_color("rgba(0,0,0,0)");
    });
  
    css(".hover-black:hover", function() {
      return background_color("rgba(0,0,0,.3)");
    });
  
    css(".hover-black-dark", function() {
      return background_color("rgba(0,0,0,.1)");
    });
  
    css(".hover-black-dark:hover", function() {
      return background_color("rgba(0,0,0,.4)");
    });
  
    css(".hover-white", function() {
      return background_color("rgba(255,255,255,0)");
    });
  
    css(".hover-white:hover", function() {
      return background_color("rgba(255,255,255,.3)");
    });
  
    css(".hover-white-dark", function() {
      return background_color("rgba(0,0,0,.4)");
    });
  
    css(".hover-white-dark:hover", function() {
      return background_color("rgba(255,255,255,.3)");
    });
  
    css(".hover-red", function() {
      return background_color("rgba(255,0,0,.3)");
    });
  
    css(".hover-red:hover", function() {
      return background_color("rgba(255,0,0,.7)");
    });
  
    css(".button", function() {
      return background_color("rgba(255,255,255,.1)");
    });
  
    css(".button:hover", function() {
      return background_color("rgba(0,0,0,.5)");
    });
  
    css(".menu-button", function() {
      background_color("rgba(255,255,255,.1)");
      text_align("left");
      padding(20);
      font_size(30);
      color("white");
      width("100%");
      return border("none");
    });
  
    css(".menu-button:hover", function() {
      return background_color("rgba(0,0,0,.5)");
    });
  
    css(".hover-fade", function() {
      return opacity(".2");
    });
  
    css(".hover-fade:hover", function() {
      return opacity("1");
    });
  
    ui.perfPage = function() {
      var avg;
      if (!control.perf) {
        return;
      }
      avg = function(stat) {
        var i, j, sec, total;
        total = 0;
        sec = Math.floor(Date.now() / 1000);
        for (i = j = 0; j < 5; i = ++j) {
          total += stat[sec - i - 1] || 0;
        }
        return Math.round(total / 5);
      };
      div(function() {
        position("absolute");
        top(76);
        right(260);
        width(100);
        color("white");
        text_align("right");
        text("FPS");
        br();
        return text(avg(stats.fps));
      });
      div(function() {
        position("absolute");
        top(156);
        right(260);
        width(100);
        color("white");
        text_align("right");
        text("Tick");
        br();
        return text(avg(stats.sim));
      });
      div(function() {
        position("absolute");
        top(356);
        right(260);
        width(100);
        color("white");
        text_align("right");
        text("Network");
        br();
        return text((avg(stats.net) / 1000).toFixed(1) + "k/s");
      });
      return div(function() {
        var j, k, ks, len, list, numbers, ref, ref1, results, v;
        position("absolute");
        top(64);
        width(300);
        background_color("rgba(0,0,0,.75)");
        bottom(84);
        color("white");
        overflow("hidden");
        padding(5);
        if (intp.perf) {
          numbers = intp.perf.numbers;
          table(function() {
            tr(function() {
              td(function() {
                padding(4);
                text_align("left");
                return text("things");
              });
              td(function() {
                padding(4);
                return text(numbers.things);
              });
              return td(function() {
                padding(4);
                return text(numbers.sthings);
              });
            });
            tr(function() {
              td(function() {
                padding(4);
                text_align("left");
                return text("players");
              });
              td(function() {
                padding(4);
                return text(numbers.players);
              });
              return td(function() {
                padding(4);
                return text(numbers.splayers);
              });
            });
            return tr(function() {
              td(function() {
                padding(4);
                text_align("left");
                return text("units/bullets/others");
              });
              td(function() {
                padding(4);
                return text(numbers.units);
              });
              td(function() {
                padding(4);
                return text(numbers.bullets);
              });
              return td(function() {
                padding(4);
                return text(numbers.others);
              });
            });
          });
        }
        if (((ref = intp.perf) != null ? ref.timeings : void 0) != null) {
          list = (function() {
            var ref1, results;
            ref1 = intp.perf.timeings;
            results = [];
            for (k in ref1) {
              v = ref1[k];
              results.push([k, v]);
            }
            return results;
          })();
          list.sort(function(a, b) {
            return a[0].localeCompare(b[0]);
          });
          results = [];
          for (j = 0, len = list.length; j < len; j++) {
            ref1 = list[j], k = ref1[0], v = ref1[1];
            ks = k.split(">");
            k = ks.pop();
            div(function() {
              margin_left(ks.length * 20);
              return text(k + " " + (v.toFixed(1)) + "ms");
            });
            results.push(div(function() {
              margin_left(ks.length * 20);
              height(8);
              width(200);
              background_color("black");
              return div(function() {
                height(8);
                if (v > 1000) {
                  background_color("red");
                } else {
                  background_color("rgba(255,0,0,.75)");
                }
                return width(Math.floor(200 * (v / 1000)));
              });
            }));
          }
          return results;
        }
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/settings.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var drawKey, drawSlider, humanView, keyCharToCode, keyCodeToChar, settingsControls, settingsMisc, settingsSound, settingsTab, spacer;
  
    eval(onecup["import"]());
  
    window.settings = {};
  
    css(".tab", function() {
      display("inline-block");
      padding("10px 20px");
      margin("10px 10px 0px 10px");
      border_radius("5px 5px 0px 0px");
      background_color("rgba(255,255,255,.2)");
      return css(":hover", function() {
        return background_color("rgba(0,0,0,.5)");
      });
    });
  
    css("input.full", function() {
      margin("10px 0px");
      display("block");
      padding(20);
      font_size(30);
      color("white");
      width("100%");
      background_color("rgba(0,0,0,.3)");
      return border("none");
    });
  
    css("button.full", function() {
      display("block");
      width("100%");
      padding(20);
      text_align("center");
      color("white");
      border("none");
      font_size(16);
      return background_color("rgba(0,0,0,.1)");
    });
  
    css("button.full:hover", function() {
      return background_color("rgba(0,0,0,.4)");
    });
  
    css("button.red", function() {
      display("block");
      width("100%");
      padding(20);
      text_align("center");
      color("white");
      border("none");
      font_size(16);
      return background_color("rgba(255,0,0,.1)");
    });
  
    css("button.red:hover", function() {
      return background_color("rgba(255,0,0,.4)");
    });
  
    spacer = function() {
      return div(function() {
        return height(60);
      });
    };
  
    settingsTab = "Profile";
  
    ui.settingsMain = function() {
      ui.quickOptions();
      return ui.inScreen("menu", "Settings", function() {
        var tabFn;
        padding_bottom(100);
        overflow_y("scroll");
        tabFn = null;
        div(function() {
          var tab;
          background_color("rgba(255,255,255,.2)");
          text_align("center");
          tab = function(name, fn) {
            return div(".tab", function() {
              if (settingsTab === name) {
                background_color("rgba(0,0,0,.5)");
                tabFn = fn;
              }
              onclick(function() {
                return settingsTab = name;
              });
              return text(name);
            });
          };
          tab("Profile", function() {
            return account.profileMenu();
          });
          tab("Controls", function() {
            return settingsControls();
          });
          tab("Sounds", function() {
            return settingsSound();
          });
          return tab("Misc", function() {
            return settingsMisc();
          });
        });
        return typeof tabFn === "function" ? tabFn() : void 0;
      });
    };
  
    window.DEFAULT_SETTINGS = {
      "Select": {
        "keys": [
          {
            "mouse": true,
            "which": 1
          }, {
            "which": 66
          }
        ]
      },
      "Line Move": {
        "keys": [
          {
            "mouse": true,
            "which": 3
          }, {
            "which": 86
          }
        ]
      },
      "Pan Map": {
        "keys": [
          {
            "mouse": true,
            "which": 2
          }, {
            "which": 32
          }
        ]
      },
      "Zoom In": {
        "keys": [
          {
            "which": 81
          }, null
        ]
      },
      "Zoom Out": {
        "keys": [
          {
            "which": 69
          }, null
        ]
      },
      "Up": {
        "keys": [
          {
            "which": 87
          }, {
            "which": 38
          }
        ]
      },
      "Left": {
        "keys": [
          {
            "which": 65
          }, {
            "which": 37
          }
        ]
      },
      "Down": {
        "keys": [
          {
            "which": 83
          }, {
            "which": 40
          }
        ]
      },
      "Right": {
        "keys": [
          {
            "which": 68
          }, {
            "which": 39
          }
        ]
      },
      "Stop Units": {
        "keys": [
          {
            "which": 88
          }, null
        ]
      },
      "Hold Position": {
        "keys": [
          {
            "which": 90
          }, null
        ]
      },
      "Focus Fire/Follow": {
        "keys": [
          {
            "which": 70
          }, null
        ]
      },
      "Place Rally Point": {
        "keys": [
          {
            "which": 71
          }, null
        ]
      },
      "Remove Rally Point": {
        "keys": [
          {
            "shiftKey": true,
            "which": 71
          }, null
        ]
      },
      "Self Destruct": {
        "keys": [
          {
            "ctrlKey": true,
            "which": 88
          }, null
        ]
      },
      "Focus on Units": {
        "keys": [
          {
            "which": 67
          }, null
        ]
      },
      "Pause": {
        "keys": [
          {
            "which": 80
          }, null
        ]
      },
      "Toggle Roster": {
        "keys": [
          {
            "which": 9
          }, null
        ]
      },
      "Toggle UI": {
        "keys": [
          {
            "ctrlKey": true,
            "which": 79
          }, null
        ]
      },
      "Back": {
        "keys": [
          {
            "which": 192
          }, null
        ]
      },
      "Unit Info": {
        "keys": [
          {
            "which": 73
          }, null
        ]
      },
      "Zoom Speed": {
        "value": 0.25,
        "speed": true
      },
      "Scroll Speed": {
        "value": 0.25,
        "speed": true
      },
      "Master Volume": {
        "value": 0.90,
        "sound": true
      },
      "Music Volume": {
        "value": 0.50,
        "sound": true
      },
      "FX Volume": {
        "value": 0.80,
        "sound": true
      },
      "Ambient Volume": {
        "value": 0.20,
        "sound": true
      }
    };
  
    settings.save = function() {
      return control.savePlayer();
    };
  
    settings.key = function(e, name) {
      var binding, j, key, len, ref, ref1;
      binding = typeof commander !== "undefined" && commander !== null ? (ref = commander.settings) != null ? ref[name] : void 0 : void 0;
      if (!binding) {
        binding = DEFAULT_SETTINGS[name];
      }
      if (!binding) {
        throw "Looking for binding " + name + " but its not in DEFAULT_SETTINGS";
      }
      ref1 = binding.keys;
      for (j = 0, len = ref1.length; j < len; j++) {
        key = ref1[j];
        if (key && key.altKey === (e.altKey || void 0) && key.ctrlKey === (e.ctrlKey || void 0) && key.metaKey === (e.metaKey || void 0) && (key.shiftKey === (e.shiftKey || void 0) || key.shiftKey === void 0) && key.which === e.which) {
          return true;
        }
      }
      return false;
    };
  
    settings.soundValue = function(name) {
      var ref, volume;
      volume = typeof commander !== "undefined" && commander !== null ? (ref = commander.settings) != null ? ref[name] : void 0 : void 0;
      if (!volume) {
        return DEFAULT_SETTINGS[name].value;
      }
      return volume.value;
    };
  
    settings.speedValue = function(name) {
      var ref, volume;
      volume = typeof commander !== "undefined" && commander !== null ? (ref = commander.settings) != null ? ref[name] : void 0 : void 0;
      if (!volume) {
        return DEFAULT_SETTINGS[name].value;
      }
      return volume.value;
    };
  
    settingsSound = function() {
      var name, thing;
      h2(function() {
        padding(10);
        return text("Sound");
      });
      p(function() {
        padding(20);
        return text("I would really like to thank 99sounds.com for providing royalty free sounds to use throughout the game.");
      });
      for (name in DEFAULT_SETTINGS) {
        thing = DEFAULT_SETTINGS[name];
        if (thing.sound) {
          drawSlider(name);
        }
      }
      return button(".red", function() {
        margin_top(80);
        padding(20);
        text_align("center");
        text("Reset to default volume levels");
        return onclick(function() {
          var j, k, len, ref;
          ref = ["Master Volume", "Music Volume", "FX Volume", "Ambient Volume"];
          for (j = 0, len = ref.length; j < len; j++) {
            k = ref[j];
            commander.settings[k] = DEFAULT_SETTINGS[k];
          }
          return settings.save();
        });
      });
    };
  
    settingsControls = function() {
      var name, thing;
      h2(function() {
        padding(10);
        return text("Speed");
      });
      for (name in DEFAULT_SETTINGS) {
        thing = DEFAULT_SETTINGS[name];
        if (thing.speed) {
          drawSlider(name);
        }
      }
      h2(function() {
        padding(10);
        return text("Key Bindings");
      });
      p(function() {
        padding(20);
        return text("Sorry, due to this being HTML5 game key codes can be really odd");
      });
      div(function() {
        var results;
        results = [];
        for (name in DEFAULT_SETTINGS) {
          thing = DEFAULT_SETTINGS[name];
          if (thing.keys) {
            results.push(drawKey(name));
          } else {
            results.push(void 0);
          }
        }
        return results;
      });
      return button(".red", function() {
        margin_top(80);
        padding(20);
        text_align("center");
        text("Reset to default settings");
        return onclick(function() {
          commander.settings = {};
          return settings.save();
        });
      });
    };
  
    keyCodeToChar = {
      8: "Backspace",
      9: "Tab",
      13: "Enter",
      16: "Shift",
      17: "Ctrl",
      18: "Alt",
      19: "Pause/Break",
      20: "Caps Lock",
      27: "Esc",
      32: "Space",
      33: "Page Up",
      34: "Page Down",
      35: "End",
      36: "Home",
      37: "Left",
      38: "Up",
      39: "Right",
      40: "Down",
      45: "Insert",
      46: "Delete",
      48: "0",
      49: "1",
      50: "2",
      51: "3",
      52: "4",
      53: "5",
      54: "6",
      55: "7",
      56: "8",
      57: "9",
      65: "A",
      66: "B",
      67: "C",
      68: "D",
      69: "E",
      70: "F",
      71: "G",
      72: "H",
      73: "I",
      74: "J",
      75: "K",
      76: "L",
      77: "M",
      78: "N",
      79: "O",
      80: "P",
      81: "Q",
      82: "R",
      83: "S",
      84: "T",
      85: "U",
      86: "V",
      87: "W",
      88: "X",
      89: "Y",
      90: "Z",
      91: "Windows",
      93: "Right Click",
      96: "Numpad 0",
      97: "Numpad 1",
      98: "Numpad 2",
      99: "Numpad 3",
      100: "Numpad 4",
      101: "Numpad 5",
      102: "Numpad 6",
      103: "Numpad 7",
      104: "Numpad 8",
      105: "Numpad 9",
      106: "Numpad *",
      107: "Numpad +",
      109: "Numpad -",
      110: "Numpad .",
      111: "Numpad /",
      112: "F1",
      113: "F2",
      114: "F3",
      115: "F4",
      116: "F5",
      117: "F6",
      118: "F7",
      119: "F8",
      120: "F9",
      121: "F10",
      122: "F11",
      123: "F12",
      144: "Num Lock",
      145: "Scroll Lock",
      182: "My Computer",
      183: "My Calculator",
      186: ";",
      187: "=",
      188: ",",
      189: "-",
      190: ".",
      191: "/",
      192: "`",
      219: "[",
      220: "\\",
      221: "]",
      222: "'"
    };
  
    keyCharToCode = {
      "Backspace": 8,
      "Tab": 9,
      "Enter": 13,
      "Shift": 16,
      "Ctrl": 17,
      "Alt": 18,
      "Pause/Break": 19,
      "Caps Lock": 20,
      "Esc": 27,
      "Space": 32,
      "Page Up": 33,
      "Page Down": 34,
      "End": 35,
      "Home": 36,
      "Left": 37,
      "Up": 38,
      "Right": 39,
      "Down": 40,
      "Insert": 45,
      "Delete": 46,
      "0": 48,
      "1": 49,
      "2": 50,
      "3": 51,
      "4": 52,
      "5": 53,
      "6": 54,
      "7": 55,
      "8": 56,
      "9": 57,
      "A": 65,
      "B": 66,
      "C": 67,
      "D": 68,
      "E": 69,
      "F": 70,
      "G": 71,
      "H": 72,
      "I": 73,
      "J": 74,
      "K": 75,
      "L": 76,
      "M": 77,
      "N": 78,
      "O": 79,
      "P": 80,
      "Q": 81,
      "R": 82,
      "S": 83,
      "T": 84,
      "U": 85,
      "V": 86,
      "W": 87,
      "X": 88,
      "Y": 89,
      "Z": 90,
      "Windows": 91,
      "Right Click": 93,
      "Numpad 0": 96,
      "Numpad 1": 97,
      "Numpad 2": 98,
      "Numpad 3": 99,
      "Numpad 4": 100,
      "Numpad 5": 101,
      "Numpad 6": 102,
      "Numpad 7": 103,
      "Numpad 8": 104,
      "Numpad 9": 105,
      "Numpad *": 106,
      "Numpad +": 107,
      "Numpad -": 109,
      "Numpad .": 110,
      "Numpad /": 111,
      "F1": 112,
      "F2": 113,
      "F3": 114,
      "F4": 115,
      "F5": 116,
      "F6": 117,
      "F7": 118,
      "F8": 119,
      "F9": 120,
      "F10": 121,
      "F11": 122,
      "F12": 123,
      "Num Lock": 144,
      "Scroll Lock": 145,
      "My Computer": 182,
      "My Calculator": 183,
      ";": 186,
      "=": 187,
      ",": 188,
      "-": 189,
      ".": 190,
      "/": 191,
      "`": 192,
      "[": 219,
      "\\": 220,
      "]": 221,
      "'": 222
    };
  
    humanView = function(key) {
      var full;
      if (!key || !key.which) {
        return "";
      }
      if (!key.mouse) {
        full = keyCodeToChar[key.which];
        if (!full) {
          full = "#" + key.which;
        }
      } else {
        full = "Mouse-#" + key.which;
      }
      if (key.shiftKey) {
        full = "Shift-" + full;
      }
      if (key.ctrlKey) {
        full = "Ctrl-" + full;
      }
      if (key.altKey) {
        full = "Alt-" + full;
      }
      if (key.metaKey) {
        full = "Meta-" + full;
      }
      return full;
    };
  
    settings.humanViewBinding = function(name) {
      var binding, ref;
      binding = typeof commander !== "undefined" && commander !== null ? (ref = commander.settings) != null ? ref[name] : void 0 : void 0;
      if (!binding) {
        binding = DEFAULT_SETTINGS[name];
      }
      if (!binding) {
        return "unbound";
      }
      if (binding.keys[0]) {
        return humanView(binding.keys[0]);
      } else if (binding.keys[1]) {
        return humanView(binding.keys[1]);
      } else {
        return "unbound";
      }
    };
  
    drawKey = function(name) {
      var binding, clean, ref;
      binding = typeof commander !== "undefined" && commander !== null ? (ref = commander.settings) != null ? ref[name] : void 0 : void 0;
      if (!binding) {
        binding = deepCopy(DEFAULT_SETTINGS[name]);
      }
      clean = function(d) {
        var k, newd, v;
        newd = {};
        for (k in d) {
          v = d[k];
          if (v) {
            newd[k] = v;
          }
        }
        return newd;
      };
      return div(function() {
        var i, j, len, ref1, results;
        padding("5px 20px");
        div(function() {
          display("inline-block");
          width(150);
          return text(name);
        });
        ref1 = [0, 1];
        results = [];
        for (j = 0, len = ref1.length; j < len; j++) {
          i = ref1[j];
          results.push((function(i) {
            return input({
              type: "text",
              value: humanView(binding.keys[i])
            }, function() {
              width(100);
              margin_left(20);
              padding("2px 4px");
              border("1px solid #f39c12");
              background("rgba(0,0,0,.4)");
              color("#f39c12");
              font_size(16);
              text_align("center");
              onkeydown(function(e) {
                console.log("key down", e);
                if (e.which === 27) {
                  binding.keys[i] = null;
                } else {
                  binding.keys[i] = clean({
                    mouse: false,
                    altKey: e.altKey,
                    ctrlKey: e.ctrlKey,
                    metaKey: e.metaKey,
                    shiftKey: e.shiftKey,
                    which: e.which
                  });
                }
                commander.settings[name] = binding;
                e.currentTarget.value = humanView(binding.keys[i]);
                e.preventDefault();
                return settings.save();
              });
              return onmousedown(function(e) {
                if (document.activeElement === e.currentTarget) {
                  binding.keys[i] = clean({
                    mouse: true,
                    altKey: e.altKey,
                    ctrlKey: e.ctrlKey,
                    metaKey: e.metaKey,
                    shiftKey: e.shiftKey,
                    which: e.which
                  });
                  commander.settings[name] = binding;
                  e.currentTarget.value = humanView(binding.keys[i]);
                  e.preventDefault();
                  return settings.save();
                }
              });
            });
          })(i));
        }
        return results;
      });
    };
  
    drawSlider = function(name) {
      var ref, slider;
      slider = typeof commander !== "undefined" && commander !== null ? (ref = commander.settings) != null ? ref[name] : void 0 : void 0;
      if (!slider) {
        slider = DEFAULT_SETTINGS[name];
      }
      if (!slider) {
        throw "Looking for setting " + name;
      }
      return div(function() {
        padding("5px 20px");
        height(30);
        div(function() {
          display("inline-block");
          width(150);
          return text(name);
        });
        return div(function() {
          margin_left(20);
          display("inline-block");
          width(220);
          height(10);
          overflow("hidden");
          background_color("rgba(0,0,0,.4)");
          onmousedown(function(e) {
            var rect, scrollLeft, scrollWidth, setValue;
            rect = e.target.getBoundingClientRect();
            scrollLeft = rect.left;
            scrollWidth = 220;
            setValue = function(e) {
              var value;
              value = (e.pageX - scrollLeft) / scrollWidth;
              value = Math.min(Math.max(value, 0), 1);
              return commander.settings[name] = {
                value: value
              };
            };
            setValue(e);
            document.onmouseup = function(e) {
              document.onmousemove = null;
              document.onmouseup = null;
              setValue(e);
              return settings.save();
            };
            return document.onmousemove = function(e) {
              setValue(e);
              return onecup.refresh();
            };
          });
          return div(function() {
            width(Math.floor(220 * slider.value));
            height(10);
            return background_color("#f39c12");
          });
        });
      });
    };
  
    settingsMisc = function() {
      h2(function() {
        padding(10);
        return text("Misc");
      });
      div(function() {
        padding(10);
        return text("You can reset your campaign here. All progress will be cleared and you will start from the beginning");
      });
      button(".red", function() {
        padding(20);
        text_align("center");
        text("Reset Campaign");
        return onclick(function() {
          galaxyMode.restart();
          return ui.go("galaxy");
        });
      });
      div(function() {
        padding(10);
        return text("You can stop chat from appearing in single player. Great for recording or focusing on what you are doing");
      });
      return button(".full", function() {
        padding(20);
        text_align("center");
        if (localStorage.chatSilent !== "true") {
          text("Silent Mode Off");
        } else {
          text("Silent Mode On");
        }
        return onclick(function() {
          if (localStorage.chatSilent === "true") {
            return localStorage.chatSilent = "false";
          } else {
            return localStorage.chatSilent = "true";
          }
        });
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/challenges.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var drawAiChallenge;
  
    eval(onecup["import"]());
  
    ui.challengesView = function() {
      return ui.inScreen("menu", "Challenges vs AI", function() {
        var ai, i, j, k, len, len1, len2, n, ref, ref1, ref2, results, title;
        overflow_y("scroll");
        width(820);
        height(window.innerHeight);
        title = function(what) {
          return div(function() {
            margin(0);
            text_align("center");
            padding(30);
            font_size(20);
            background_color("rgba(0,0,0,.5)");
            return text(what);
          });
        };
        title("easy");
        if (commander.challenges == null) {
          commander.challenges = {};
        }
        n = 0;
        ref = ais.easy;
        for (i = 0, len = ref.length; i < len; i++) {
          ai = ref[i];
          drawAiChallenge(ai, n);
          n += 1;
        }
        title("medium");
        ref1 = ais.med;
        for (j = 0, len1 = ref1.length; j < len1; j++) {
          ai = ref1[j];
          drawAiChallenge(ai, n);
          n += 1;
        }
        title("hard");
        ref2 = ais.hard;
        results = [];
        for (k = 0, len2 = ref2.length; k < len2; k++) {
          ai = ref2[k];
          drawAiChallenge(ai, n);
          results.push(n += 1);
        }
        return results;
      });
    };
  
    drawAiChallenge = function(aiName, n) {
      return div(".hover-black", function() {
        display("inline-block");
        width(200);
        height(100);
        return div(function() {
          var bestTime;
          position("relative");
          width(200);
          height(100);
          line_height(100);
          color("white");
          font_size(24);
          text_align("center");
          bestTime = commander.challenges[aiName];
          if (bestTime != null) {
            background_color("rgba(255, 255, 255, .2)");
            div(function() {
              var m, s, sec;
              position("absolute");
              right(6);
              bottom(3);
              font_size(12);
              line_height(16);
              opacity(".5");
              sec = bestTime / 16;
              m = Math.floor(sec / 60);
              s = ("0" + Math.floor(sec) % 60).slice(0, 2);
              return text("best time: " + m + ":" + s);
            });
          }
          text(aiName);
          return onclick(function() {
            battleMode.startAIChallenge(aiName);
            return ui.go("battle");
          });
        });
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/grid.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var NxN, SIZE, offset, partSize,
      modulo = function(a, b) { return (+a % (b = +b) + b) % b; };
  
    NxN = 24;
  
    SIZE = 20;
  
    window.validSpec = function(player, spec) {
      var issue;
      issue = hasIssue(player, spec);
      return issue === null;
    };
  
    window.hasIssue = function(player, spec) {
      var badParts, check, e, error, grid, hasPart, j, len, part, ref, ref1, size, unit, x, y;
      try {
        unit = new types.Unit(spec);
        if (unit.parts.length === 0) {
          return "No parts, drag parts from the left.";
        }
        if (unit.cost > sim.costLimit + unit.limitBonus) {
          return "Ship too big, cost can't be over $" + (sim.costLimit + unit.limitBonus) + ".";
        }
        if (unit.parts.length > 800) {
          return "Too many parts";
        }
        if (unit.name.length > 50) {
          return "Name too long";
        }
        ref = unit.parts;
        for (j = 0, len = ref.length; j < len; j++) {
          part = ref[j];
          size = partSize(part);
          x = part.pos[0] / SIZE + NxN / 2 - size[0] / 2;
          y = part.pos[1] / SIZE + NxN / 2 - size[1] / 2;
          if ((modulo(x, 1) > 0.0001 && modulo(x, 1) < 0.9999) || (modulo(y, 1) > 0.0001 && modulo(y, 1) < 0.9999)) {
            return "Invalid part placement";
          }
          if (part.disable) {
            return "Has parts that have been discontinued.";
          }
          if (part.ghostCopy) {
            return "Has parts from a copied ship.";
          }
          if (!part.dir < 0 || part.dir > 3 || modulo(part.dir, 1) !== 0) {
            return "Invalid part rotation";
          }
          if (!(part.dir === 0 || part.canRotate)) {
            return "Part cannot rotate";
          }
          if (!player.ai) {
            if (!(typeof account !== "undefined" && account !== null ? account.hasDLC(part.dlc) : void 0)) {
              return "Please support us by getting " + part.dlc + " DLC and unlock " + part.name + ".";
            }
            if (!(typeof account !== "undefined" && account !== null ? account.hasDLCBonus() : void 0) && part.dir && part.dir !== 0) {
              return "Part rotation is currently only available to <a href='http://store.steampowered.com/app/472490' target='_blank'>supporters who get a DLC</a>.";
            }
          }
        }
        hasPart = function(name) {
          var k, len1, ref1;
          ref1 = unit.parts;
          for (k = 0, len1 = ref1.length; k < len1; k++) {
            part = ref1[k];
            if (part.constructor.name === name) {
              return true;
            }
          }
          return false;
        };
        ref1 = computeGrid(player, unit), grid = ref1[0], badParts = ref1[1];
        if (badParts.length > 0) {
          return "Ship has parts outside the build area.";
        }
        check = function(fn) {
          var k, l, ref2, ref3, t;
          for (x = k = 0, ref2 = NxN; 0 <= ref2 ? k < ref2 : k > ref2; x = 0 <= ref2 ? ++k : --k) {
            for (y = l = 0, ref3 = NxN; 0 <= ref3 ? l < ref3 : l > ref3; y = 0 <= ref3 ? ++l : --l) {
              t = grid[x][y];
              if (fn(t)) {
                return true;
              }
            }
          }
          return false;
        };
        if (!player.ai) {
          if (check(function(t) {
            return t.locked;
          })) {
            return "Has parts that have not been unlocked.";
          }
        }
        if (check(function(t) {
          return t.overlap;
        })) {
          return "Parts should not overlap.";
        }
        if (check(function(t) {
          return t.exhaust && t.solid;
        })) {
          return "Engine exhaust must not hit another part.";
        }
        if (check(function(t) {
          return t.solid && !t.fill;
        })) {
          return "All ship parts must be connected.";
        }
        if (check(function(t) {
          return t.bad && t.gimble;
        })) {
          return "Weapons must be placed on a mount.";
        }
        if (check(function(t) {
          return t.noTurret;
        })) {
          return "Mount has no turret attached.";
        }
        if (check(function(t) {
          return t.noEffect;
        })) {
          return "Part needs to be next to a weapon.";
        }
        if (check(function(t) {
          return t.cantPaint;
        })) {
          return "Decal can't be placed like this. Decals go on armor or batteries.";
        }
        if (check(function(t) {
          return t.overPaint;
        })) {
          return "Decal overlaps with another decal.";
        }
        if (check(function(t) {
          return t.bad;
        })) {
          return "Improperly placed part.";
        }
        if (unit.storeEnergy === 0) {
          return "No energy storage, add battery or reactor.";
        }
        if (unit.maxSpeed === 0) {
          return "Can't move, add engines.";
        }
        if (unit.jumpDistance > 0 && unit.jumpDistance < unit.minJump) {
          return "Insufficient jump power for mass. Add more jump drives.";
        }
        return null;
      } catch (error) {
        e = error;
        console.log("exception e", e);
        return "Part parse error... thats odd?";
      }
    };
  
    window.genBuildPic = function(spec) {};
  
    offset = function(part) {
      var xoff, yoff;
      if (part.size[0] % 2 === 1) {
        xoff = 1;
      } else {
        xoff = 0;
      }
      if (part.size[1] % 2 === 1) {
        yoff = 1;
      } else {
        yoff = 0;
      }
      if (part.dir % 2 === 0) {
        return [xoff, yoff];
      } else {
        return [yoff, xoff];
      }
    };
  
    partSize = function(part) {
      var xsize, ysize;
      xsize = part.size[0];
      ysize = part.size[1];
      if (part.dir % 2 === 0) {
        return [xsize, ysize];
      } else {
        return [ysize, xsize];
      }
    };
  
    window.computeGrid = function(player, unit, removCb) {
      var ax, ay, badParts, ey, getXY, grid, i, j, k, l, len, len1, len2, m, n, newSet, o, openSet, p, part, parts, px, py, q, r, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref23, ref24, ref25, ref26, ref27, ref28, ref29, ref3, ref30, ref4, ref5, ref6, ref7, ref8, ref9, root, s, size, t, u, ws, x, y;
      parts = unit.parts;
      getXY = function(part) {
        var size, x, y;
        size = partSize(part);
        x = Math.round(part.pos[0] / SIZE + NxN / 2 - size[0] / 2);
        y = Math.round(part.pos[1] / SIZE + NxN / 2 - size[1] / 2);
        return [x, y];
      };
      grid = [];
      badParts = [];
      for (i = j = 0, ref = NxN; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
        grid.push((function() {
          var k, ref1, results;
          results = [];
          for (n = k = 0, ref1 = NxN; 0 <= ref1 ? k < ref1 : k > ref1; n = 0 <= ref1 ? ++k : --k) {
            results.push({});
          }
          return results;
        })());
      }
      if (parts.length === 0) {
        return [grid, badParts];
      }
      root = parts[0];
      for (k = 0, len = parts.length; k < len; k++) {
        part = parts[k];
        size = partSize(part);
        for (px = l = 0, ref1 = size[0]; 0 <= ref1 ? l < ref1 : l > ref1; px = 0 <= ref1 ? ++l : --l) {
          for (py = m = 0, ref2 = size[1]; 0 <= ref2 ? m < ref2 : m > ref2; py = 0 <= ref2 ? ++m : --m) {
            ref3 = getXY(part, px, py), x = ref3[0], y = ref3[1];
            x += px;
            y += py;
            t = (ref4 = grid[x]) != null ? ref4[y] : void 0;
            if (t === void 0) {
              badParts.push(part);
              continue;
            }
            if (!player.ai) {
              if (part.dlc) {
                if (!account.hasDLC(part.dlc)) {
                  t.bad = true;
                  t.locked = true;
                }
              }
              if (!account.hasDLCBonus() && part.dir && part.dir !== 0) {
                t.bad = true;
                t.locked = true;
              }
            }
            if (sim.galaxyStar && player.id === commander.id && !galaxyMode.unlockedParts[part.constructor.name]) {
              t.bad = true;
              t.locked = true;
            }
            if (part.paintable) {
              t.paintable = true;
            }
            if (part.decal) {
              if (!t.paintable) {
                t.cantPaint = true;
                t.bad = true;
              } else if (t.painted) {
                t.overPaint = true;
                t.bad = true;
              } else {
                t.painted = true;
              }
              continue;
            }
            if (part.gimble) {
              if (!t.mount) {
                t.bad = true;
                t.gimble = true;
              }
            } else {
              if (t.solid === true) {
                t.overlap = true;
                t.bad = true;
              }
              t.solid = true;
            }
            if (part.attach) {
              if ((ref5 = grid[x]) != null) {
                if ((ref6 = ref5[y]) != null) {
                  ref6.struct = true;
                }
              }
            }
            if (part.mount && (px === (size[0] / 2) || px === (size[0] / 2 - 1)) && (py === (size[1] / 2) || py === (size[1] / 2 - 1))) {
              if ((ref7 = grid[x]) != null) {
                if ((ref8 = ref7[y]) != null) {
                  ref8.mount = true;
                }
              }
              if (!part.turret) {
                if ((ref9 = grid[x]) != null) {
                  if ((ref10 = ref9[y]) != null) {
                    ref10.noTurret = true;
                  }
                }
                if ((ref11 = grid[x]) != null) {
                  if ((ref12 = ref11[y]) != null) {
                    ref12.bad = true;
                  }
                }
              }
            }
            if (part.gimble) {
              if ((ref13 = grid[x]) != null) {
                if ((ref14 = ref13[y]) != null) {
                  ref14.mount = false;
                }
              }
            }
            if (part.exhaust) {
              if (py === 0) {
                if ((ref15 = grid[x]) != null) {
                  if ((ref16 = ref15[y]) != null) {
                    ref16.struct = false;
                  }
                }
                for (ey = o = ref17 = y - 1; ref17 <= -1 ? o < -1 : o > -1; ey = ref17 <= -1 ? ++o : --o) {
                  if ((ref18 = grid[x]) != null) {
                    if ((ref19 = ref18[ey]) != null) {
                      ref19.exhaust = true;
                    }
                  }
                }
              }
            }
            if (part.effected_weapons) {
              ws = part.effected_weapons();
              if (ws.length === 0) {
                if ((ref20 = grid[x]) != null) {
                  if ((ref21 = ref20[y]) != null) {
                    ref21.noEffect = true;
                  }
                }
                if ((ref22 = grid[x]) != null) {
                  if ((ref23 = ref22[y]) != null) {
                    ref23.bad = true;
                  }
                }
              }
            }
          }
        }
      }
      ref24 = getXY(root), x = ref24[0], y = ref24[1];
      if (grid[x] === void 0 || grid[x][y] === void 0) {
        return [grid, badParts];
      }
      grid[x][y].fill = true;
      openSet = [];
      openSet.push([x, y]);
      for (i = p = 0; p < 1000; i = ++p) {
        newSet = [];
        for (q = 0, len1 = openSet.length; q < len1; q++) {
          ref25 = openSet[q], x = ref25[0], y = ref25[1];
          ref26 = [[-1, 0], [1, 0], [0, -1], [0, 1]];
          for (r = 0, len2 = ref26.length; r < len2; r++) {
            ref27 = ref26[r], ax = ref27[0], ay = ref27[1];
            t = (ref28 = grid[x + ax]) != null ? ref28[y + ay] : void 0;
            if (t && t.solid && !t.fill) {
              t.fill = true;
              newSet.push([x + ax, y + ay]);
            }
          }
        }
        if (newSet.length === 0) {
          break;
        }
        openSet = newSet;
      }
      for (x = s = 0, ref29 = NxN; 0 <= ref29 ? s < ref29 : s > ref29; x = 0 <= ref29 ? ++s : --s) {
        for (y = u = 0, ref30 = NxN; 0 <= ref30 ? u < ref30 : u > ref30; y = 0 <= ref30 ? ++u : --u) {
          t = grid[x][y];
          if (t.exhaust && t.solid) {
            t.bad = true;
          }
          if (t.solid && !t.fill) {
            t.bad = true;
          }
        }
      }
      return [grid, badParts];
    };
  
  }).call(this);
  ;
  
  
  //from src/design.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var NxN, SIZE, aiEditScreen, backToGalaxyButton, cell, divider, dragWhite, drawAddRule, drawAiParts, drawPart, drawParts, drawRule, drawRuleDD, drawRuleNumber, drawTab, editorButtons, finishDesignButton, has, hoverInfo, hoverTip, isBuildRule, lockScreen, partThumb, partThumbCache, powerBar, shareBox, smallTip, unitInfo, weaponInfo, white,
      bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
  
    eval(onecup["import"]());
  
    NxN = 24;
  
    SIZE = 20;
  
    white = [255, 255, 255, 255];
  
    dragWhite = [255, 255, 255, 200];
  
    window.DesignMode = (function() {
      DesignMode.prototype.tab = "weapons";
  
      DesignMode.prototype.hoverOverPart = null;
  
      DesignMode.prototype.draggingPart = null;
  
      DesignMode.prototype.draggingPart2 = null;
  
      DesignMode.prototype.hoverTipPart = null;
  
      DesignMode.prototype.wiggle = 0;
  
      DesignMode.prototype.aiEdit = false;
  
      DesignMode.prototype.showAiTools = true;
  
      DesignMode.prototype.locked = false;
  
      function DesignMode() {
        this.draw = bind(this.draw, this);
        var badParts, ref;
        this.zoom = .5;
        this.focus = v2.create();
        this.draggingPart = null;
        this.draggingPart2 = null;
        this.mouse = [0, 0];
        this.pos = [0, 0];
        this.unit = new types.Unit("{}");
        this.dragUnit = new types.Unit("{}");
        ref = computeGrid(commander, this.unit), this.grid = ref[0], badParts = ref[1];
        this.fresh = true;
      }
  
      DesignMode.prototype.fromSpec = function(spec) {
        this.unit = new types.Unit(spec);
        return this.refresh();
      };
  
      DesignMode.prototype.clear = function() {
        this.unit = new types.Unit("{}");
        buildBar.setSpec(buildBar.selected, "");
        control.savePlayer();
        return this.refresh();
      };
  
      DesignMode.prototype.partSpec = function() {
        return this.unit.toSpec();
      };
  
      DesignMode.prototype.toGameSpace = function(point) {
        point[0] = point[0] - window.innerWidth / 2;
        point[1] = (window.innerHeight - point[1]) - window.innerHeight / 2;
        v2.scale(point, this.zoom * 2);
        v2.sub(point, this.focus);
        return point;
      };
  
      DesignMode.prototype.rotatePart = function(part, way) {
        if (way == null) {
          way = 1;
        }
        if (account.hasDLCBonus()) {
          if (part.canRotate) {
            part.dir = (4 + part.dir + way) % 4;
          } else {
            this.wiggle = 10 * way;
          }
        } else {
          this.wiggle = 10 * way;
          part.dir = 0;
        }
        return part;
      };
  
      DesignMode.prototype.shiftShip = function(shift) {
        var j, len, p, ref;
        ref = this.unit.parts;
        for (j = 0, len = ref.length; j < len; j++) {
          p = ref[j];
          v2.add(p.pos, shift);
        }
        this.save();
        return this.refresh();
      };
  
      DesignMode.prototype.onkeyup = function(e) {
        if (this.draggingPart) {
          if (settings.key(e, "Zoom In")) {
            this.draggingPart = this.rotatePart(this.draggingPart, 1);
          }
          if (settings.key(e, "Zoom Out")) {
            return this.draggingPart = this.rotatePart(this.draggingPart, -1);
          }
        } else if (document.activeElement === document.body) {
          if (!this.disabledEditing()) {
            if (settings.key(e, "Up")) {
              this.shiftShip([0, SIZE]);
            }
            if (settings.key(e, "Down")) {
              this.shiftShip([0, -SIZE]);
            }
            if (settings.key(e, "Left")) {
              this.shiftShip([-SIZE, 0]);
            }
            if (settings.key(e, "Right")) {
              return this.shiftShip([SIZE, 0]);
            }
          }
        }
      };
  
      DesignMode.prototype.onmousemove = function(e) {
        var b, x, y;
        this.mouse = this.toGameSpace([e.clientX, e.clientY]);
        this.uiMouse = [e.clientX, e.clientY];
        if (designMode.smallTipBounds) {
          b = designMode.smallTipBounds;
          x = this.uiMouse[0];
          y = this.uiMouse[1];
          if (x < b.left || x > b.right || y < b.top || y > b.bottom) {
            designMode.smallTipBounds = null;
            return designMode.smallTip = null;
          }
        }
      };
  
      DesignMode.prototype.disabledEditing = function() {
        return designMode.aiEdit || designMode.locked || designMode.showShareBox;
      };
  
      DesignMode.prototype.onmousedown = function(e) {
        var className, j, len, p, part, ref, ref1, ref2, symmetryPos;
        if (this.disabledEditing()) {
          return;
        }
        if (e.which === 3 && this.draggingPart) {
          this.draggingPart = this.rotatePart(this.draggingPart);
          return;
        }
        if (this.draggingPart) {
          return;
        }
        if (this.hoverOverPart) {
          if (e.shiftKey) {
            className = this.hoverOverPart.constructor.name;
            this.draggingPart = new parts[className]();
            this.draggingPart.pos = v2.create(this.hoverOverPart.pos);
            this.draggingPart.dir = this.hoverOverPart.dir;
            this.dragUnit.parts = [this.draggingPart];
            this.draggingPart.unit = this.dragUnit;
            return;
          } else {
            this.draggingPart = this.hoverOverPart;
            this.dragUnit.parts = [this.draggingPart];
            if (this.symmetryMode) {
              symmetryPos = v2.create(this.draggingPart.pos);
              symmetryPos[0] *= -1;
              ref = this.unit.parts;
              for (j = 0, len = ref.length; j < len; j++) {
                part = ref[j];
                if (v2.distance(part.pos, symmetryPos) < .1 && part.constructor.name === this.draggingPart.constructor.name && part !== this.draggingPart) {
                  this.draggingPart2 = part;
                  this.dragUnit.parts.push(this.draggingPart2);
                  break;
                }
              }
            }
            this.unit.parts = (function() {
              var l, len1, ref1, results;
              ref1 = this.unit.parts;
              results = [];
              for (l = 0, len1 = ref1.length; l < len1; l++) {
                p = ref1[l];
                if (p !== this.draggingPart && p !== this.draggingPart2) {
                  results.push(p);
                }
              }
              return results;
            }).call(this);
            if (e.altKey && !((ref1 = sim.galaxyStar) != null ? ref1.noDesignTools : void 0)) {
              this.draggingPart = null;
              this.draggingPart2 = null;
              this.dragUnit.parts = [];
              this.save();
              return;
            }
          }
          e.preventDefault();
        }
        if (((ref2 = sim.galaxyStar) != null ? ref2.noDesignTools : void 0) === true) {
          onecup.refresh();
        }
        return this.save();
      };
  
      DesignMode.prototype.onmouseup = function(e) {
        var placePart, ref;
        if (e.which === 3 && this.draggingPart) {
          return;
        }
        if (this.draggingPart) {
          if (Math.abs(this.pos[0]) < NxN * 10 && Math.abs(this.pos[1]) < NxN * 10) {
            placePart = (function(_this) {
              return function(part) {
                var p, ref;
                part.pos = v2.create(part.pos);
                if (!((ref = sim.galaxyStar) != null ? ref.noDesignTools : void 0)) {
                  _this.unit.parts = (function() {
                    var j, len, ref1, results;
                    ref1 = this.unit.parts;
                    results = [];
                    for (j = 0, len = ref1.length; j < len; j++) {
                      p = ref1[j];
                      if (v2.distance(part.pos, p.pos) < .1 && part.constructor.name === p.constructor.name) {
                        continue;
                      }
                      results.push(p);
                    }
                    return results;
                  }).call(_this);
                }
                _this.unit.parts.push(part);
                return part.unit = _this.unit;
              };
            })(this);
            placePart(this.draggingPart);
            if (this.symmetryMode && this.draggingPart2) {
              placePart(this.draggingPart2);
            }
            playSound("sounds/ui/flick.wav");
          } else {
            if (((ref = sim.galaxyStar) != null ? ref.noDesignTools : void 0) === true) {
              onecup.refresh();
              return;
            }
            playSound("sounds/ui/shake.wav");
          }
          this.refresh();
          this.save();
          this.draggingPart = null;
          this.dragUnit.parts = [];
          e.preventDefault();
          return onecup.refresh();
        }
      };
  
      DesignMode.prototype.refresh = function() {
        this.refreshGrid();
        return onecup.refresh();
      };
  
      DesignMode.prototype.onbuildclick = function(e, index) {
        return this.select(index);
      };
  
      DesignMode.prototype.select = function(index) {
        buildBar.selected = index;
        this.fromSpec(commander.buildBar[index]);
        return this.refresh();
      };
  
      DesignMode.prototype.save = function() {
        var spec;
        spec = this.partSpec();
        if (commander.side === "spectators") {
          commander.validBar[buildBar.selected] = validSpec(commander, spec);
        }
        buildBar.setSpec(buildBar.selected, spec);
        return control.savePlayer();
      };
  
      DesignMode.prototype.tick = function() {};
  
      DesignMode.prototype.refreshGrid = function() {
        var badPart, badParts, j, len, p, partScore, ref;
        partScore = function(part) {
          if (part.damage) {
            return 1000 + part.damage;
          } else if (part.decal) {
            return 100;
          } else {
            return 0;
          }
        };
        this.unit.parts.sort(function(a, b) {
          return partScore(a) - partScore(b);
        });
        ref = computeGrid(commander, this.unit), this.grid = ref[0], badParts = ref[1];
        if (badParts) {
          for (j = 0, len = badParts.length; j < len; j++) {
            badPart = badParts[j];
            this.unit.parts = (function() {
              var l, len1, ref1, results;
              ref1 = this.unit.parts;
              results = [];
              for (l = 0, len1 = ref1.length; l < len1; l++) {
                p = ref1[l];
                if (p !== badPart) {
                  results.push(p);
                }
              }
              return results;
            }).call(this);
          }
          return onecup.refresh();
        }
      };
  
      DesignMode.prototype.warpIn = 0;
  
      DesignMode.prototype.draw = function() {
        var adjustAndDrawUnit, bg_zoom, className, color, flip, hoverOverPart, j, l, len, len1, len2, m, part, partNum, ref, ref1, ref2, row, s, size, t, th, tip, x, xoff, y, yoff, z;
        if (designMode.locked) {
          this.draggingPart = null;
          this.hoverOverPart = null;
        }
        baseAtlas.beginSprites(this.focus, this.zoom);
        if (this.fresh) {
          this.select(buildBar.selected);
          this.fresh = false;
        }
        color = commander.color;
        bg_zoom = Math.max(window.innerWidth, window.innerHeight) / 128;
        z = bg_zoom * this.zoom;
        baseAtlas.drawSprite("img/newbg/fill.png", [-this.focus[0], -this.focus[1]], [z, z], 0, mapping.themes[0].fillColor);
        baseAtlas.drawSprite("img/newbg/gradient.png", [-this.focus[0], -this.focus[1]], [z, z], 0, mapping.themes[0].spotColor);
        hoverOverPart = null;
        ref = this.unit.parts;
        for (partNum = j = 0, len = ref.length; j < len; partNum = ++j) {
          part = ref[partNum];
          part.working = true;
          size = part.flippedSize();
          x = Math.abs(part.pos[0] - this.mouse[0]) < size[0] / 2 * SIZE;
          y = Math.abs(part.pos[1] - this.mouse[1]) < size[1] / 2 * SIZE;
          if (x && y) {
            hoverOverPart = part;
          }
        }
        if (this.hoverOverPart !== hoverOverPart) {
          this.hoverOverPart = hoverOverPart;
          if (hoverOverPart !== null) {
            this.hoverTipPart = hoverOverPart;
          }
          onecup.refresh();
        }
        adjustAndDrawUnit = function(unit) {
          var l, len1, ref1, weapon;
          unit.rot = Math.PI;
          ref1 = unit.weapons;
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            weapon = ref1[l];
            weapon.rot = Math.PI;
          }
          unit.computeCenter();
          unit.pos[0] = unit.center[0];
          unit.pos[1] = unit.center[1];
          unit.warpIn = 1;
          unit.shield = unit.maxShield;
          unit.jump = 40;
          unit.color = commander.color;
          return unit.draw();
        };
        adjustAndDrawUnit(this.unit);
        adjustAndDrawUnit(this.dragUnit);
        if (ui.show) {
          ref1 = this.grid;
          for (x = l = 0, len1 = ref1.length; l < len1; x = ++l) {
            row = ref1[x];
            for (y = m = 0, len2 = row.length; m < len2; y = ++m) {
              t = row[y];
              if (t.bad) {
                color = [255, 0, 0, 80 + Math.sin(Date.now() / 300) * 80];
              } else if (t.exhaust) {
                color = [255, 255, 255, 65];
              } else if (t.attach && !t.solid) {
                color = [0, 255, 0, 35];
              } else if (t.solid) {
                continue;
              } else if ((NxN / 2 - 1 <= x && x <= NxN / 2) && (NxN / 2 - 1 <= y && y <= NxN / 2)) {
                color = [0, 0, 0, 50];
              } else {
                color = [0, 0, 0, 25];
              }
              baseAtlas.drawSprite("parts/sel1x1.png", [(x - NxN / 2) * SIZE + SIZE / 2, (y - NxN / 2) * SIZE + SIZE / 2], [.8, .8], 0, color);
            }
          }
        }
        if (this.draggingPart) {
          this.draggingPart.rot = Math.PI;
          this.draggingPart.working = true;
          if (this.mouse[0] < 0 && this.draggingPart.flip) {
            flip = -1;
          } else {
            flip = 1;
          }
          s = SIZE;
          if (this.draggingPart.size[0] % 2 === 1) {
            xoff = .5 * s;
          } else {
            xoff = 0;
          }
          if (this.draggingPart.size[1] % 2 === 1) {
            yoff = .5 * s;
          } else {
            yoff = 0;
          }
          if (this.draggingPart.dir % 2 === 1) {
            ref2 = [yoff, xoff], xoff = ref2[0], yoff = ref2[1];
          }
          this.pos = [Math.floor(this.mouse[0] / s) * s + xoff, Math.floor(this.mouse[1] / s) * s + yoff];
          this.wiggle *= .9;
          th = Math.sin(this.wiggle / 50);
          v2.set(this.pos, this.draggingPart.worldPos);
          v2.set(this.pos, this.draggingPart.pos);
          if (this.draggingPart.adjacent) {
            s = 35 / 255;
            baseAtlas.drawSprite("img/point02.png", [this.pos[0], this.pos[1]], [s, s], 0, white);
          }
        }
        if (designMode.symmetryMode) {
          if (this.draggingPart && !this.draggingPart2) {
            className = this.draggingPart.constructor.name;
            this.draggingPart2 = new parts[className]();
            this.draggingPart2.unit = this.dragUnit;
            this.dragUnit.parts.push(this.draggingPart2);
          }
          if (this.draggingPart && this.draggingPart2) {
            v2.set(this.draggingPart.worldPos, this.draggingPart2.worldPos);
            v2.set(this.draggingPart.pos, this.draggingPart2.pos);
            this.draggingPart2.worldPos[0] *= -1;
            this.draggingPart2.pos[0] *= -1;
            this.draggingPart2.rot = this.draggingPart.rot;
            this.draggingPart2.working = this.draggingPart.working;
            if (this.draggingPart.noFlip) {
              this.draggingPart2.dir = (1 + this.draggingPart.dir) % 4;
            } else {
              this.draggingPart2.dir = (4 - this.draggingPart.dir) % 4;
            }
          }
          if (!this.draggingPart && this.draggingPart2) {
            this.dragUnit.parts = [];
            this.draggingPart2 = null;
          }
        }
        baseAtlas.finishSprites();
        tip = onecup.lookup("#smalltip");
        if ((tip != null) && designMode.uiMouse) {
          x = designMode.uiMouse[0];
          y = designMode.uiMouse[1];
          if (!this.smallTip) {
            x = -1000;
            y = -1000;
          }
          if (x > window.innerWidth - 400) {
            x -= 10;
            tip.style.left = null;
            tip.style.right = (window.innerWidth - x) + "px";
          } else {
            x += 20;
            tip.style.left = x + "px";
            tip.style.right = null;
          }
          return tip.style.top = (y + 10) + "px";
        }
      };
  
      return DesignMode;
  
    })();
  
    partThumbCache = {};
  
    partThumb = function(part) {
      var imageDataUrl, k, scale;
      k = part.prototype.constructor.name + commander.color;
      if (!partThumbCache[k]) {
        baseAtlas.startOffscreenFrame();
        scale = .5 * part.prototype.scale;
        if (part.prototype.size[0] === 4 || part.prototype.size[1] === 4) {
          scale *= 1.5;
        }
        baseAtlas.beginSprites([0, 0], scale, [0, 0, -baseAtlas.rtt.width, baseAtlas.rtt.height]);
        if (part.prototype.stripe) {
          baseAtlas.drawSprite("parts/gray-" + part.prototype.image, [0, 0], [-1, 1], 0, white);
          baseAtlas.drawSprite("parts/red-" + part.prototype.image, [0, 0], [-1, 1], 0, commander.color);
        } else if (part.prototype.decal) {
          baseAtlas.drawSprite("parts/" + part.prototype.image, [0, 0], [-1, 1], 0, commander.color);
        } else {
          baseAtlas.drawSprite("parts/" + part.prototype.image, [0, 0], [-1, 1], 0, white);
        }
        baseAtlas.finishSprites(false);
        imageDataUrl = baseAtlas.endOffscreenFrame();
        partThumbCache[k] = imageDataUrl;
        return imageDataUrl;
      }
      return partThumbCache[k];
    };
  
    hoverTip = function(message) {
      return onmouseover(function(e) {
        designMode.smallTipBounds = e.target.getBoundingClientRect();
        return designMode.smallTip = message;
      });
    };
  
    window.editorUI = function() {
      var ref;
      if (designMode.unit.spec !== commander.buildBar[buildBar.selected]) {
        designMode.unit = new types.Unit(commander.buildBar[buildBar.selected]);
        buildBar.setSpec(buildBar.selected, designMode.partSpec());
        designMode.refreshGrid();
      }
      if (!designMode.unit) {
        designMode.select(buildBar.selected);
        designMode.fresh = false;
      }
      if (sim.galaxyStar && commander.galaxyDifficulty !== "captain" && commander.galaxyDifficulty !== "admiral") {
        designMode.aiEdit = false;
        designMode.showAiTools = false;
      } else {
        designMode.showAiTools = true;
      }
      if (((ref = sim.galaxyStar) != null ? ref.noDesignTools : void 0) === true) {
        issueInfo();
        finishDesignButton();
        backToGalaxyButton();
        return;
      }
      if (!ui.chatToggle) {
        unitInfo();
        editorButtons();
      }
      buildBar.draw();
      hoverInfo();
      issueInfo();
      if (designMode.aiEdit) {
        aiEditScreen();
        drawAiParts();
      } else {
        drawParts();
      }
      smallTip();
      if (designMode.showShareBox) {
        shareBox();
      }
      if (designMode.locked) {
        return lockScreen();
      }
    };
  
    shareBox = function() {
      return textarea(function() {
        position("absolute");
        top(innerHeight / 2 - 300 / 2);
        left(innerWidth / 2 - 300 / 2);
        padding(20);
        color("white");
        font_size(6);
        width(300);
        height(300);
        background_color("rgba(0,0,0,.8)");
        resize("none");
        text("ship" + btoa(designMode.unit.toSpec()));
        return oninput(function(e) {
          var spec, unit;
          if (e.target.value.slice(0, 4) === "ship") {
            try {
              spec = atob(e.target.value.slice(4));
            } catch (undefined) {}
            if (spec && spec[0] === "{") {
              unit = new types.Unit(spec);
              if (unit.parts && unit.parts.length > 0) {
                designMode.unit = unit;
                designMode.refresh();
              }
            }
          }
          return designMode.save();
        });
      });
    };
  
    lockScreen = function() {
      return div(function() {
        position("absolute");
        top(64);
        left(0);
        right(0);
        bottom(84);
        background_color("rgba(0,0,0,.8)");
        return div(function() {
          position("absolute");
          top(200);
          right(0);
          left(0);
          height(100);
          line_height(100);
          background_color("rgba(200,0,0,.6)");
          color("white");
          text_align("center");
          return text("You can't edit ships in 1v1 tournament mode");
        });
      });
    };
  
    finishDesignButton = function() {
      if (!hasIssue(commander, designMode.unit.spec) && designMode.draggingPart === null) {
        return div(function() {
          var quarterWidth;
          quarterWidth = window.innerWidth / 4;
          position("absolute");
          left(quarterWidth);
          width(quarterWidth * 2);
          top(0);
          height(64);
          overflow("hidden");
          text_align("center");
          background_color("rgba(0,0,0,.6)");
          color("white");
          line_height(64);
          font_size(18);
          return div(".hover-black", function() {
            position("absolute");
            top(0);
            left(0);
            right(0);
            bottom(0);
            onclick(function() {
              return ui.mode = "battle";
            });
            return text("Click here to start the battle.");
          });
        });
      }
    };
  
    backToGalaxyButton = function() {
      return div(function() {
        position("absolute");
        top(0);
        left(0);
        return img(".hover-black", {
          src: "img/ui/back.png",
          width: 64,
          height: 64
        }, function() {
          position("absolute");
          top(0);
          left(0);
          return onclick(function() {
            return ui.go("galaxy");
          });
        });
      });
    };
  
    smallTip = function() {
      return div("#smalltip", function() {
        position("absolute");
        top(-1000);
        max_width(400);
        background_color("rgba(0,0,0,.6)");
        padding(5);
        color("white");
        if (designMode.smallTip) {
          return raw(designMode.smallTip);
        }
      });
    };
  
    cell = function(icon, readout, tip) {
      return div(".cell", function() {
        display("inline-block");
        width(90);
        height(20);
        margin("0 10px 10px 0");
        font_size(12);
        line_height(20);
        vertical_align("middle");
        img({
          src: "img/ui/" + icon,
          width: 20,
          height: 20
        }, function() {
          display("block");
          float("left");
          return margin_right(10);
        });
        raw(readout);
        return onmouseover(function(e) {
          designMode.smallTipBounds = e.target.getBoundingClientRect();
          return designMode.smallTip = readout + " " + tip;
        });
      });
    };
  
    divider = function() {
      return div(function() {
        width("100%");
        height(20);
        return margin_bottom(10);
      });
    };
  
    window.unitInfoSmall = function(spec, valid) {
      var ghostCopy, j, len, part, ref, u;
      if (valid == null) {
        valid = true;
      }
      u = buildBar.specToUnit(spec);
      if (u.parts.length === 0) {
        div(function() {
          var ref;
          text_align("center");
          if (((ref = commander.selection) != null ? ref.length : void 0) === 1) {
            return text("Click here to copy selected unit");
          } else {
            return text("Click here to design a unit");
          }
        });
        return;
      }
      ghostCopy = false;
      ref = u.parts;
      for (j = 0, len = ref.length; j < len; j++) {
        part = ref[j];
        if (part.ghostCopy) {
          ghostCopy = true;
          break;
        }
      }
      if (!ghostCopy && !valid) {
        div(function() {
          text_align("center");
          return text("Click here to fix the design");
        });
        return;
      }
      div(function() {
        text_align("center");
        padding_bottom(15);
        if (ghostCopy) {
          color("#f39c12");
          text("Copy Only");
        } else if (!u.name) {
          text("Build Unit");
        } else {
          text(u.name);
        }
        return text(" $" + u.cost);
      });
      cell("dps.png", ((16 * u.weaponDPS).toFixed(1)) + "dps");
      cell("armor.png", (u.hp.toFixed(0)) + "HP");
      cell("range.png", (u.weaponRange.toFixed(0)) + "m");
      cell("speed.png", ((u.maxSpeed * 16).toFixed(1)) + "m/s");
      cell("arc.png", u.weaponArc + "&deg;");
      cell("turnSpeed.png", ((u.turnSpeed * 16 / Math.PI * 180).toFixed(1)) + "&deg;/s");
      return powerBar(u);
    };
  
    unitInfo = function() {
      var u;
      u = designMode.unit;
      div(function() {
        position("absolute");
        top(64);
        right(0);
        width(240);
        height(50);
        background_color("rgba(0,0,0,.1)");
        color("#DDD");
        padding(10);
        padding_top(10);
        text_align("right");
        nbsp(3);
        return span(function() {
          font_size(24);
          return text("$" + u.cost);
        });
      });
      return div(function() {
        position("absolute");
        top(64 + 50);
        right(0);
        bottom(84);
        width(240);
        background_color("rgba(0,0,0,.4)");
        color("#DDD");
        overflow_y("auto");
        if (account.hasDLCBonus()) {
          input({
            placeholder: "Name your ship",
            value: designMode.unit.name
          }, function() {
            display("block");
            background_color("rgba(0,0,0,.4)");
            border("none");
            width(240);
            padding(10);
            font_size(16);
            color("white");
            return oninput(function(e) {
              designMode.unit.name = e.target.value;
              return designMode.save();
            });
          });
        } else {
          div(function() {
            display("block");
            background_color("rgba(0,0,0,.4)");
            border("none");
            width(240);
            padding(10);
            font_size(16);
            color("rgba(255,255,255,.1)");
            text("Name your ship");
            return onmouseover(function(e) {
              designMode.smallTipBounds = e.target.getBoundingClientRect();
              return designMode.smallTip = "Naming your ships is a bonus feature <br> and requires the Paint Job DLC.";
            });
          });
        }
        return div(function() {
          var j, len, ref, results, w;
          padding(10);
          padding_left(20);
          cell("dps.png", ((16 * u.weaponDPS).toFixed(1)) + "dps", "damage per second from all weapons");
          cell("armor.png", (u.hp.toFixed(0)) + "HP", "total armor hit points");
          if (u.shield) {
            cell("shield.png", u.shield + "sh", "+ shield hit points");
          }
          cell("range.png", (u.weaponRange.toFixed(0)) + "m", "max range of weapons");
          cell("speed.png", ((u.maxSpeed * 16).toFixed(1)) + "m/s", "max unit move speed");
          if (u.jumpDistance) {
            cell("jump.png", (u.jumpDistance.toFixed(0)) + "m", "jump distance (in meters)");
          }
          cell("arc.png", u.weaponArc + "&deg;", "max arc of weapons");
          cell("turnSpeed.png", ((u.turnSpeed * 16 / Math.PI * 180).toFixed(1)) + "&deg;/s", "turn rate");
          cell("mass.png", (u.mass.toFixed(1)) + "T", "ship total mass");
          cell("arc360.png", (u.radius.toFixed(1)) + "m", "ship size");
          divider();
          powerBar(u);
          cell("energyGen.png", "+" + ((u.genEnergy * 16).toFixed(0)) + "E", "energy generated per second");
          cell("energyMove.png", ((u.moveEnergy * 16).toFixed(0)) + "E", "energy needed to move per second");
          cell("energyStorage.png", (u.storeEnergy.toFixed(0)) + "E", "battery capacity");
          cell("energyFire.png", ((u.fireEnergy * 16).toFixed(0)) + "E", "energy needed to fire all weapons per second");
          divider();
          u.weapons.sort(function(a, b) {
            return b.dps - a.dps;
          });
          ref = u.weapons;
          results = [];
          for (j = 0, len = ref.length; j < len; j++) {
            w = ref[j];
            weaponInfo(w, false);
            results.push(divider());
          }
          return results;
        });
      });
    };
  
    powerBar = function(u) {
      return div(".cell", function() {
        var firePer, genPer, max, movePer, moveWidth, s, tip, w;
        position("relative");
        display("inline-block");
        width(200);
        height(20);
        margin("0 10px 10px 0");
        font_size(12);
        line_height(20);
        vertical_align("middle");
        genPer = (100 * u.genEnergy * 160 / u.storeEnergy).toFixed(1);
        movePer = (100 * u.moveEnergy * 160 / u.storeEnergy).toFixed(1);
        firePer = (100 * u.fireEnergy * 160 / u.storeEnergy).toFixed(1);
        tip = "In 10 seconds: <br>\n" + genPer + "% will be regenerated <br>\n" + movePer + "% will be used up while moving <br>\n" + firePer + "% will be used up while firing <br>";
        onmouseover(function(e) {
          designMode.smallTipBounds = e.target.getBoundingClientRect();
          return designMode.smallTip = tip;
        });
        img({
          src: "img/ui/energy.png",
          width: 20,
          height: 20
        }, function() {
          display("block");
          float("left");
          return margin_right(10);
        });
        w = 150;
        s = 160;
        max = Math.max(Math.max(s * u.genEnergy, u.storeEnergy), s * u.moveEnergy + s * u.fireEnergy);
        div(function() {
          position("absolute");
          top(3);
          left(31);
          height(12);
          width(Math.floor(s * w * u.genEnergy / max));
          return background("#9BBCE2");
        });
        div(function() {
          position("absolute");
          top(2);
          left(30);
          height(14);
          width(Math.floor(w * u.storeEnergy / max));
          return border("1px solid white");
        });
        moveWidth = Math.floor(s * w * u.moveEnergy / max) - 5;
        if (moveWidth < 0) {
          moveWidth = 0;
        }
        div(function() {
          position("absolute");
          top(5);
          left(30 + 3);
          height(8);
          width(moveWidth);
          background("#C6EDA0");
          return border("1px solid white");
        });
        return div(function() {
          position("absolute");
          top(5);
          left(30 + 5 + Math.max(moveWidth, 2));
          height(8);
          width(Math.floor(s * w * u.fireEnergy / max) - 4);
          background("#E59090");
          return border("1px solid white");
        });
      });
    };
  
    weaponInfo = function(w, extra) {
      var dps, ref, ref1, rt;
      div(function() {
        font_size(14);
        text(w.name);
        height(20);
        return margin_bottom(10);
      });
      if (extra) {
        div(function() {
          font_size(12);
          margin_bottom(10);
          return text(w.desc);
        });
        cell("armor.png", w.hp + "hp", "- adds hit points");
        cell("mass.png", (w.mass.toFixed(1)) + "T", "- adds mass");
      }
      rt = Math.max(w.reloadTime, 1);
      dps = w.dps || w.damage / rt;
      cell("dps.png", ((16 * dps).toFixed(1)) + "dps", "damage per second");
      if ((ref = w.bulletCls) != null ? ref.prototype.hitsMultiple : void 0) {
        cell("multihit.png", "MultiHit", "passes through and hits multiple ships");
      }
      cell("damage.png", (w.damage.toFixed(1)) + "d", "damage per shot");
      cell("range.png", (w.range.toFixed(1)) + "m", "weapon range");
      cell("reload.png", ((w.reloadTime / 16).toFixed(2)) + "s", "reload time");
      cell("energy.png", "-" + (w.shotEnergy.toFixed(1)) + "E", "energy per shot");
      if (w.fireEnergy) {
        cell("energy.png", "-" + ((w.fireEnergy * 16).toFixed(1)) + "E", "energy per second");
      }
      if (!w.instant) {
        cell("speed.png", ((w.bulletSpeed * 16).toFixed(0)) + "m/s", "speed of the projectile");
      }
      if (w.aoe) {
        cell("aoe.png", w.aoe + "m", "area of effect");
      }
      if (w.instant) {
        cell("instant.png", "instant", "- instahit weapon");
      }
      if (w.exactRange) {
        cell("exactRange.png", "exact", "timed explosion");
      }
      if ((ref1 = w.bulletCls) != null ? ref1.prototype.missile : void 0) {
        cell("missle.png", "Missile", "- can be shot down by point defence");
      }
      if (w.hitsMissiles) {
        cell("antiMissle.png", "PD", "points defence, can shoot down missiles");
      }
      if (w.energyDamage) {
        cell("energyDamage.png", ((16 * w.energyDamage / rt).toFixed(1)) + "dps", "amount of energy drain per second");
      }
      if (w.energyDamage) {
        cell("energyDamage.png", (w.energyDamage.toFixed(1)) + "d", "amount of energy drain per shot");
      }
      if (w.dealsBurnDamage) {
        cell("burnDps.png", ((16 * dps * w.burnAmount).toFixed(1)) + "dps", "burn damage per second");
        cell("burnDamage.png", ((w.damage * w.burnAmount).toFixed(1)) + "d", "burn damage per shot");
        cell("burnDps.png", "3%", "of burn as damage per second");
      }
      if (w.minRange > 0) {
        return cell("minrange.png", (w.minRange.toFixed(1)) + "m", "minimum range");
      }
    };
  
    editorButtons = function() {
      return div(function() {
        var editorButton;
        position("absolute");
        right(260);
        top(80);
        width(620);
        text_align("right");
        color("#DDD");
        padding(0);
        editorButton = function(icon, tip, fn) {
          return div(".hover-black", function() {
            position("relative");
            display("inline-block");
            width(40);
            height(40);
            padding(10);
            if (icon) {
              img({
                src: icon,
                width: 20,
                height: 20
              }, function() {
                position("absolute");
                top(10);
                return left(10);
              });
            }
            if (tip) {
              hoverTip(tip);
            }
            return fn();
          });
        };
        if (designMode.clearQ) {
          editorButton(null, null, function() {
            padding("10px 0px");
            width(60);
            text_align("center");
            background("rgba(255,0,0,.2)");
            text("clear");
            return onclick(function() {
              designMode.clear();
              return designMode.clearQ = false;
            });
          });
          editorButton(null, null, function() {
            padding("10px 0px");
            width(60);
            text_align("center");
            text("cancel");
            return onclick(function() {
              return designMode.clearQ = false;
            });
          });
          return;
        }
        if (designMode.showAiTools) {
          editorButton("img/ui/ai.png", "AI mode", function() {
            if (localStorage.useAi === "true") {
              background("rgba(255,0,0,.2)");
            }
            return onclick(function() {
              if (localStorage.useAi !== "true") {
                localStorage.useAi = "true";
              } else {
                localStorage.useAi = "false";
                designMode.aiEdit = false;
              }
              return designMode.save();
            });
          });
          if (localStorage.useAi === "true") {
            editorButton("img/ui/aiRules.png", "AI editor", function() {
              if (designMode.aiEdit) {
                background("rgba(0,0,0,.2)");
              }
              return onclick(function() {
                return designMode.aiEdit = !designMode.aiEdit;
              });
            });
            if (intp.local) {
              editorButton("img/ui/aiBubbles.png", "AI debugging bubbles", function() {
                if (localStorage.aiGrid === "true") {
                  background("rgba(0,0,0,.2)");
                }
                return onclick(function() {
                  if (localStorage.aiGrid !== "true") {
                    return localStorage.aiGrid = "true";
                  } else {
                    return localStorage.aiGrid = "false";
                  }
                });
              });
            }
          }
        }
        editorButton("img/ui/symmetry.png", "Symmetry", function() {
          if (designMode.symmetryMode) {
            background("rgba(0,0,0,.2)");
          }
          return onclick(function() {
            return designMode.symmetryMode = !designMode.symmetryMode;
          });
        });
        editorButton("img/ui/share.png", "Share", function() {
          if (designMode.showShareBox) {
            background("rgba(0,0,0,.2)");
          }
          return onclick(function() {
            return designMode.showShareBox = !designMode.showShareBox;
          });
        });
        return editorButton("img/ui/clear.png", "Delete", function() {
          return onclick(function() {
            return designMode.clearQ = true;
          });
        });
      });
    };
  
    window.issueInfo = function() {
      var issue, u, warning;
      u = designMode.unit;
      issue = hasIssue(commander, u.spec);
      if (issue) {
        div(function() {
          position("relative");
          width(300);
          margin("0px auto");
          top(75);
          text_align("center");
          background_color("rgba(255,0,0,.5)");
          color("#EEE");
          padding(10);
          return raw(issue);
        });
        return;
      }
      if (u.spec.length >= 6) {
        if (intp.serverType === "1v1t" && u.aiRules.length > 0) {
          warning = "No AI in 1v1 tournament mode.";
        }
        if (u.moveEnergy * 160 > u.storeEnergy) {
          if (u.maxSpeed * 16 > 250) {
            warning = "Thrusters using too much energy, remove thrusters.";
          } else {
            warning = "Not enough energy for thrusters.";
          }
        }
        if (u.fireEnergy * 16 * 2 > u.storeEnergy) {
          warning = "Not enough energy for weapons, add batteries.";
        }
        if (u.maxSpeed < 5) {
          warning = "Movement speed is very slow, reduce weight.";
        }
        if (u.turnSpeed < .02) {
          warning = "Turn speed is very slow, add wings.";
        }
        if (u.jumpDistance > 0 && u.jumpDistance < 100) {
          warning = "Low jump distance.";
        }
      }
      if (warning) {
        return div(function() {
          position("relative");
          width(300);
          margin("0px auto");
          top(75);
          text_align("center");
          background_color("rgba(0, 0, 0, .5)");
          color("white");
          padding(10);
          return text("Note: ", warning);
        });
      }
    };
  
    hoverInfo = function() {
      var part;
      if (designMode.draggingPart) {
        part = designMode.draggingPart;
      } else if (designMode.hoverTipPart) {
        part = designMode.hoverTipPart;
      }
      if (!part) {
        return;
      }
      if (designMode.aiEdit) {
        return;
      }
      return div("#hoverInfo", function() {
        var pr;
        position("absolute");
        left(250);
        top(75);
        width(220);
        background_color("rgba(0,0,0,.5)");
        color("#DDD");
        padding(10);
        div(function() {
          float("right");
          return text("$" + part.cost);
        });
        if (part.bulletCls) {
          weaponInfo(part, true);
          return;
        }
        div(function() {
          font_size(14);
          text(part.name);
          height(20);
          return margin_bottom(10);
        });
        if (!account.hasDLC(part.dlc)) {
          div(function() {
            font_size(16);
            color("rgba(255,255,255,.5)");
            raw("Support Istrolid and get this part with the <a href='http://store.steampowered.com/app/449140' target='_blank'>" + part.dlc + " DLC</a>.");
            return margin_bottom(10);
          });
        }
        div(function() {
          font_size(12);
          margin_bottom(10);
          return text(part.desc);
        });
        if (!part.decal) {
          cell("armor.png", part.hp + "hp", "armor hit points");
          cell("mass.png", (part.mass.toFixed(1)) + "T", "mass");
        }
        if (part.thrust) {
          cell("speed.png", ((part.thrust * 16).toFixed(0)) + "kN", "thrust (in kilonewtons)");
        }
        if (part.turnSpeed) {
          cell("turnSpeed.png", ((part.turnSpeed / Math.PI * 180).toFixed(0)) + "&deg;/s", "+ turn speed (slowed down by mass)");
        }
        if (part.jumpCount) {
          cell("jump.png", ((part.jumpCount * 500).toFixed(0)) + "m", "jump distance (in meters)");
        }
        pr = function(percent) {
          if (percent > 0) {
            return "+" + percent + "%";
          } else {
            return percent + "%";
          }
        };
        if (part.weaponRange) {
          cell("range.png", pr(part.weaponRange), "range");
        }
        if (part.weaponRangeFlat) {
          cell("range.png", "+" + part.weaponRangeFlat + "m", "flat range");
        }
        if (part.weaponDamage) {
          cell("damage.png", pr(part.weaponDamage), "damage per hit");
        }
        if (part.weaponSpeed) {
          cell("speed.png", pr(part.weaponSpeed), "projectile speed");
        }
        if (part.weaponReload) {
          cell("reload.png", pr(part.weaponReload), "reload time");
        }
        if (part.weaponEnergy) {
          cell("energy.png", pr(part.weaponEnergy), "energy usage");
        }
        if (part.adjacent) {
          cell("stripes.png", "-15%", "reduced effectiveness per additional adjacent weapon");
        }
        if (part.genShield) {
          cell("shield.png", "+" + part.genShield * 16 + "sh/s", "recharges shield");
        }
        if (part.shield) {
          cell("shield.png", part.shield + "sh", "+ shield hit points");
        }
        if (part.energyLine) {
          cell("energyStorage.png", (part.energyLine * 100) + "%", "energy storage threshold for regeneration");
        }
        if (part.range) {
          cell("range.png", part.range + "m", "range");
        }
        if (part.trasferEnergy) {
          cell("energy.png", "-" + part.trasferEnergy * 16 + "E/s", "amount transfer per second per ship");
        }
        if (part.slow) {
          cell("speed.png", "-" + part.slow * 20 + "%", "Slows down ships in range");
          cell("decloak.png", "Decloaks", "units in range");
        }
        if (part.genCloak) {
          cell("cloak.png", "+" + part.genCloak * 16 * 2 + "T/s", "mass cloaked per second");
          cell("cloakMass.png", part.genCloak * 16 * 5 + "T", "while moving");
        }
        if (part.explodes) {
          if (part.damage) {
            cell("damage.png", part.damage + "d", "damage per explosion");
          }
          if (part.aoe) {
            cell("range.png", part.aoe + "m", "area of effect");
          }
          if (part.energyDamage) {
            cell("energyDamage.png", part.energyDamage + "d", "amount of energy drain per explosion");
          }
        }
        if (part.genEnergy) {
          cell("energyGen.png", "+" + (part.genEnergy * 16) + "E", "generates energy");
        }
        if (part.storeEnergy) {
          cell("energyStorage.png", part.storeEnergy + "E", "stores energy");
        }
        if (part.useEnergy) {
          cell("energy.png", "-" + (part.useEnergy * 16) + "E/s", "uses energy");
        }
        if (part.arc) {
          cell("arc.png", part.arc + "°", "firing arc");
        }
        if (part.rangeBuffMul) {
          cell("range.png", pr(-100 + (part.rangeBuffMul * 100)), "range");
        }
        if (part.burnAmount) {
          cell("burnDamage.png", ((part.damage * part.burnAmount).toFixed(1)) + "d", "burn damage per warhead");
          return cell("burnDps.png", "3%", "of burn as damage per second");
        }
      });
    };
  
    has = function(a, b) {
      if (a && b) {
        return a.toLowerCase().indexOf(b.toLowerCase()) !== -1;
      }
    };
  
    drawParts = function() {
      var minParts, p, totalParts;
      minParts = 3 * 8;
      if (sim.galaxyStar && !account.DLCbonus) {
        totalParts = 0;
        for (p in galaxyMode.unlockedParts) {
          totalParts += 1;
        }
      } else {
        totalParts = 100;
      }
      div("#partTabs", function() {
        position("absolute");
        top(64);
        left(0);
        width(240);
        color("#DDD");
        height(100);
        if (totalParts > minParts) {
          div(function() {
            drawTab("weapons", "dps.png");
            drawTab("energy", "energy.png");
            drawTab("armor1", "armor.png");
            drawTab("armor2", "armor3.png");
            return drawTab("armor3", "armor2.png");
          });
          return div(function() {
            drawTab("engines", "speed.png");
            drawTab("defence", "minrange.png");
            drawTab("decal", "decals.png");
            drawTab("letters", "letters.png");
            return drawTab("stripes", "stripes.png");
          });
        }
      });
      return div("#partArea", function() {
        var clsName, part, results;
        position("absolute");
        top(64 + 100);
        left(0);
        bottom(84);
        width(240);
        background_color("rgba(0,0,0,.4)");
        padding(10);
        overflow_y("auto");
        results = [];
        for (clsName in parts) {
          part = parts[clsName];
          if (totalParts > minParts) {
            if (part.prototype.tab !== designMode.tab) {
              continue;
            }
          }
          results.push(drawPart(clsName, part));
        }
        return results;
      });
    };
  
    drawAiParts = function() {
      div(function() {
        position("absolute");
        top(64);
        height(50);
        left(0);
        width(240);
        color("#DDD");
        drawTab("energy", "build.png");
        drawTab("engines", "movement.png");
        drawTab("weapons", "offence.png");
        return drawTab("armor", "defence.png");
      });
      return div(function() {
        var j, len, results, rule, rules;
        position("absolute");
        top(64 + 50);
        bottom(84);
        left(0);
        width(240);
        background_color("rgba(0,0,0,.4)");
        padding(10);
        overflow_y("auto");
        if (allAiRules[designMode.tab] == null) {
          designMode.tab = "energy";
        }
        rules = allAiRules[designMode.tab];
        results = [];
        for (j = 0, len = rules.length; j < len; j++) {
          rule = rules[j];
          results.push(drawAddRule(rule));
        }
        return results;
      });
    };
  
    drawAddRule = function(rule) {
      return div(function() {
        background_color("rgba(0,0,0,.4)");
        margin(5);
        return div(".hover-black", function() {
          var count, i, j, len, part, parts, rule_text;
          padding(5);
          color("white");
          rule_text = rule[0];
          parts = rule_text.split(/([\#\?\*]|\@\w+)/);
          count = 1;
          for (i = j = 0, len = parts.length; j < len; i = ++j) {
            part = parts[i];
            if (part === "#" || part === "?" || part === "*" || part[0] === "@") {
              span(function() {
                text(rule[count]);
                padding("1px 2px 1px 2px");
                border("1px solid #f39c12");
                background("rgba(0,0,0,.4)");
                color("#f39c12");
                return font_size(12);
              });
              count += 1;
            } else {
              span(function() {
                return text(part);
              });
            }
          }
          return onclick(function() {
            if (!designMode.unit.aiRules) {
              designMode.unit.aiRules = [];
            }
            designMode.unit.aiRules.push((function(func, args, ctor) {
              ctor.prototype = func.prototype;
              var child = new ctor, result = func.apply(child, args);
              return Object(result) === result ? result : child;
            })(Array, rule, function(){}));
            return designMode.save();
          });
        });
      });
    };
  
    drawTab = function(name, pic) {
      return div(function() {
        position("relative");
        display("inline-block");
        width(48);
        height(50);
        background_color("rgba(0,0,0,.4)");
        img({
          src: "img/ui/" + pic,
          width: 20,
          height: 20
        }, function() {
          return margin("15px 14px 0px 14px");
        });
        if (designMode.tab !== name) {
          opacity(".3");
        }
        return onclick(function() {
          return designMode.tab = name;
        });
      });
    };
  
    drawPart = function(clsName, part) {
      if (sim.galaxyStar && !galaxyMode.unlockedParts[clsName]) {
        if (!(part.prototype.dlc && account.hasDLC(part.prototype.dlc))) {
          return;
        }
      }
      if (part.prototype.hide || part.prototype.disable) {
        return;
      }
      if (part.prototype.faction && part.prototype.faction !== commander.faction) {
        return;
      }
      return div(".unitpic", function() {
        var image, j, len, ref, unlockName;
        position("relative");
        display("inline-block");
        width(52 + 16);
        height(52 + 16);
        margin(0);
        border_radius(5);
        overflow("hidden");
        if (sim.galaxyStar) {
          if (galaxyMode.justWon) {
            ref = galaxyMode.justWon.unlocks;
            for (j = 0, len = ref.length; j < len; j++) {
              unlockName = ref[j];
              if (clsName === unlockName) {
                animation("innerGlowPulse 1.2s infinite");
                animation_direction("alternate");
                div(function() {
                  width(70);
                  position("absolute");
                  right(-23);
                  top(5);
                  text_align("center");
                  transform("rotate(45deg)");
                  font_size(12);
                  color("white");
                  background_color("red");
                  return text("new");
                });
              }
            }
          }
        }
        image = partThumb(part);
        background_image("url('" + image + "')");
        background_size(52 + 16);
        background_position("center");
        background_repeat("no-repeat");
        onmouseover(function(e) {
          return designMode.hoverTipPart = part.prototype;
        });
        if (!account.hasDLC(part.prototype.dlc)) {
          return opacity(".5");
        } else {
          return onmousedown(function(e) {
            designMode.draggingPart = new part();
            designMode.draggingPart.unit = designMode.dragUnit;
            v2.set(designMode.pos, designMode.draggingPart.worldPos);
            v2.set(designMode.pos, designMode.draggingPart.pos);
            designMode.dragUnit.parts = [designMode.draggingPart];
            return e.preventDefault();
          });
        }
      });
    };
  
    isBuildRule = function(rule) {
      var j, len, r, ref;
      ref = allAiRules["energy"];
      for (j = 0, len = ref.length; j < len; j++) {
        r = ref[j];
        if (r[0] === rule[0]) {
          return true;
        }
      }
      return false;
    };
  
    aiEditScreen = function() {
      return div("#unitAiRules" + buildBar.selected, function() {
        var aiRuleSet, index, j, l, len, len1, results, rule;
        position("absolute");
        top(130);
        bottom(84);
        left(300);
        right(300);
        background("rgba(0,0,0,.7)");
        padding(50);
        overflow_y("auto");
        aiRuleSet = designMode.unit.aiRules;
        if (aiRuleSet.length > 0) {
          for (index = j = 0, len = aiRuleSet.length; j < len; index = ++j) {
            rule = aiRuleSet[index];
            if (!isBuildRule(rule)) {
              drawRule(rule, index);
            }
          }
          div(function() {
            return height(20);
          });
          results = [];
          for (index = l = 0, len1 = aiRuleSet.length; l < len1; index = ++l) {
            rule = aiRuleSet[index];
            if (isBuildRule(rule)) {
              results.push(drawRule(rule, index));
            } else {
              results.push(void 0);
            }
          }
          return results;
        } else {
          return div(function() {
            color("gray");
            return text("no rules yet, add some rules from the side");
          });
        }
      });
    };
  
    drawRuleNumber = function(rule, index, count) {
      return input({
        type: "text",
        value: rule[count]
      }, function() {
        display("inline-block");
        padding("2px 4px 2px 4px");
        border("1px solid #f39c12");
        background("rgba(0,0,0,.4)");
        color("#f39c12");
        font_size(16);
        text_align("center");
        line_height(20);
        width(60);
        vertical_align("baseline");
        return oninput(function(e) {
          rule[count] = parseInt(e.target.value);
          return designMode.save();
        });
      });
    };
  
    drawRuleDD = function(rule, index, count, options, w) {
      return div(function() {
        var j, len, type;
        display("inline-block");
        padding("3px 4px 1px 4px");
        border("1px solid #f39c12");
        background("rgba(0,0,0,.4)");
        color("#f39c12");
        font_size(16);
        line_height(20);
        vertical_align("baseline");
        for (j = 0, len = options.length; j < len; j++) {
          type = options[j];
          if (type.toLowerCase() === rule[count].toLowerCase()) {
            text(type);
          }
        }
        return onclick(function(e) {
          return ui.rmenu = {
            id: rid(),
            pos: [e.clientX, e.clientY],
            html: function() {
              var l, len1, results;
              results = [];
              for (l = 0, len1 = options.length; l < len1; l++) {
                type = options[l];
                results.push((function(type) {
                  return div(".hover-red", function() {
                    padding("4px 8px");
                    text(type);
                    return onmousedown(function() {
                      var ddopen;
                      rule[count] = type;
                      designMode.save();
                      return ddopen = null;
                    });
                  });
                })(type));
              }
              return results;
            }
          };
        });
      });
    };
  
    drawRule = function(rule, index) {
      var aiRuleSet;
      aiRuleSet = designMode.unit.aiRules;
      return div(function() {
        var count, i, j, len, part, parts, rule_text;
        position("relative");
        background("rgba(0,0,0,.4)");
        padding("5px 10px");
        color("white");
        margin(10);
        padding_left(40);
        padding_right(40);
        min_height(40);
        line_height(36);
        vertical_align("baseline");
        rule_text = rule[0];
        if (!ais.goodRule(rule)) {
          background_color("rgba(255,0,0,.5)");
        }
        if (rule_text === "Code Block") {
          textarea(function() {
            border("none");
            background("rgba(0,0,0,.4)");
            padding(4);
            font_family("monospace");
            font_size(14);
            color("white");
            width("100%");
            height(200);
            return text(rule[1]);
          });
        } else {
          parts = rule_text.split(/(\#|\@\w+)/);
          count = 1;
          for (i = j = 0, len = parts.length; j < len; i = ++j) {
            part = parts[i];
            if (part === "#") {
              drawRuleNumber(rule, index, count);
              count += 1;
            } else if (part[0] === "@") {
              drawRuleDD(rule, index, count, ais[part.slice(1)], 120);
              count += 1;
            } else {
              span(function() {
                return text(part);
              });
            }
          }
        }
        img(".hover-fade", {
          src: "img/ui/upVote.png",
          width: 14,
          height: 14
        }, function() {
          position("absolute");
          top(4);
          left(10);
          return onclick(function() {
            if (index > 0) {
              aiRuleSet.splice(index, 0, aiRuleSet.splice(index - 1, 1)[0]);
              return designMode.save();
            }
          });
        });
        img(".hover-fade", {
          src: "img/ui/downVote.png",
          width: 14,
          height: 14
        }, function() {
          position("absolute");
          bottom(4);
          left(10);
          return onclick(function() {
            if (index < aiRuleSet.length - 1) {
              aiRuleSet.splice(index, 0, aiRuleSet.splice(index + 1, 1)[0]);
              return designMode.save();
            }
          });
        });
        return img(".hover-fade", {
          src: "img/ui/delete.png",
          width: 28,
          height: 28
        }, function() {
          position("absolute");
          top(6);
          right(6);
          return onclick(function() {
            aiRuleSet.splice(index, 1);
            return designMode.save();
          });
        });
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/battle.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var MAX_ZOOM_IN,
      bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
      extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
      hasProp = {}.hasOwnProperty;
  
    MAX_ZOOM_IN = .5;
  
    window.GameMode = (function() {
      function GameMode() {}
  
      GameMode.prototype.toGameSpace = function(point) {
        point[0] = point[0] - window.innerWidth / 2;
        point[1] = window.innerHeight / 2 - point[1];
        v2.scale(point, this.zoom * 2);
        v2.sub(point, this.focus);
        return point;
      };
  
      GameMode.prototype.fromGameSpace = function(point) {
        point = v2.create(point);
        v2.add(point, this.focus);
        v2.scale(point, 1 / (this.zoom * 2));
        point[0] = point[0] + window.innerWidth / 2;
        point[1] = -point[1] + window.innerHeight / 2;
        return point;
      };
  
      return GameMode;
  
    })();
  
    window.ControlsMode = (function(superClass) {
      extend(ControlsMode, superClass);
  
      function ControlsMode() {
        this.onzoom = bind(this.onzoom, this);
        this.onkeyup = bind(this.onkeyup, this);
        this.onkeydown = bind(this.onkeydown, this);
        return ControlsMode.__super__.constructor.apply(this, arguments);
      }
  
      ControlsMode.prototype.keyScroll = [0, 0];
  
      ControlsMode.prototype.keyZoom = 0;
  
      ControlsMode.prototype.panLeft = 0;
  
      ControlsMode.prototype.panRight = 0;
  
      ControlsMode.prototype.panUp = 0;
  
      ControlsMode.prototype.panDown = 0;
  
      ControlsMode.prototype.zoomIn = 0;
  
      ControlsMode.prototype.zoomOut = 0;
  
      ControlsMode.prototype.mapBounds = 10000;
  
      ControlsMode.prototype.onkeydown = function(e) {
        if (settings.key(e, "Pan Map")) {
          this.moving = true;
        } else if (settings.key(e, "Up")) {
          this.panUp = -1;
        } else if (settings.key(e, "Down")) {
          this.panDown = 1;
        } else if (settings.key(e, "Left")) {
          this.panLeft = 1;
        } else if (settings.key(e, "Right")) {
          this.panRight = -1;
        } else if (settings.key(e, "Zoom In")) {
          this.zoomIn = -1;
        } else if (settings.key(e, "Zoom Out")) {
          this.zoomOut = 1;
        } else {
          return;
        }
        return e.preventDefault();
      };
  
      ControlsMode.prototype.onkeyup = function(e) {
        if (settings.key(e, "Pan Map")) {
          this.moving = false;
        }
        if (settings.key(e, "Up")) {
          this.panUp = 0;
        }
        if (settings.key(e, "Down")) {
          this.panDown = 0;
        }
        if (settings.key(e, "Left")) {
          this.panLeft = 0;
        }
        if (settings.key(e, "Right")) {
          this.panRight = 0;
        }
        if (settings.key(e, "Zoom In")) {
          this.zoomIn = 0;
        }
        if (settings.key(e, "Zoom Out")) {
          this.zoomOut = 0;
        }
        if (settings.key(e, "Focus on Units")) {
          return this.centerOnUnit = false;
        }
      };
  
      ControlsMode.prototype.onzoom = function(delta, e) {
        var afterPos, beforePos, z;
        beforePos = this.toGameSpace([e.clientX, e.clientY]);
        z = .10;
        this.zoom += delta * settings.speedValue("Zoom Speed") * z;
        if (this.zoom < MAX_ZOOM_IN) {
          this.zoom = MAX_ZOOM_IN;
        }
        if (this.zoom > 10) {
          this.zoom = 10;
        }
        afterPos = this.toGameSpace([e.clientX, e.clientY]);
        this.focus[0] -= beforePos[0] - afterPos[0];
        return this.focus[1] -= beforePos[1] - afterPos[1];
      };
  
      ControlsMode.prototype.controls = function() {
        var a, edge, j, len, numSel, ref, ref1, speed, thing, z;
        if (!commander) {
          return;
        }
        this.keyScroll[0] *= .8;
        this.keyScroll[1] *= .8;
        a = 10 * this.zoom * settings.speedValue("Scroll Speed");
        this.keyScroll[1] += (this.panUp + this.panDown) * a;
        this.keyScroll[0] += (this.panLeft + this.panRight) * a;
        v2.add(this.focus, this.keyScroll);
        if (v2.mag(this.focus) > this.mapBounds) {
          this.focus[0] -= this.focus[0] * .003;
          this.focus[1] -= this.focus[1] * .003;
        }
        this.keyZoom *= .9;
        z = .02;
        this.keyZoom += (this.zoomIn + this.zoomOut) * z * settings.speedValue("Scroll Speed");
        this.zoom += this.keyZoom;
        if (this.zoom < MAX_ZOOM_IN) {
          this.zoom = MAX_ZOOM_IN;
        }
        if (this.zoom > 10) {
          this.zoom = 10;
        }
        numSel = (ref = commander.selection) != null ? ref.length : void 0;
        if (this.centerOnUnit && numSel > 0) {
          this.focus[0] = 0;
          this.focus[1] = 0;
          ref1 = commander.selection;
          for (j = 0, len = ref1.length; j < len; j++) {
            thing = ref1[j];
            this.focus[0] -= thing.pos[0] / numSel;
            this.focus[1] -= thing.pos[1] / numSel;
          }
        }
        if (isFullScreen() && (ui.mode === "battle" || ui.mode === "galaxy")) {
          speed = 20 * this.zoom * settings.speedValue("Scroll Speed");
          edge = 2;
          if (this.screenMouse[0] < edge) {
            this.keyScroll[0] += speed;
          }
          if (this.screenMouse[0] > window.innerWidth - edge) {
            this.keyScroll[0] -= speed;
          }
          if (this.screenMouse[1] < edge) {
            this.keyScroll[1] -= speed;
          }
          if (this.screenMouse[1] > window.innerHeight - edge) {
            return this.keyScroll[1] += speed;
          }
        }
      };
  
      return ControlsMode;
  
    })(GameMode);
  
    window.BattleMode = (function(superClass) {
      extend(BattleMode, superClass);
  
      function BattleMode(player1) {
        this.player = player1;
        this.onkeyup = bind(this.onkeyup, this);
        this.onkeydown = bind(this.onkeydown, this);
        this.onmouseup = bind(this.onmouseup, this);
        this.onmousedown = bind(this.onmousedown, this);
        this.ondblclick = bind(this.ondblclick, this);
        this.canvas = document.getElementById("webGL");
        this.selection = document.getElementById("selection");
        this.reset();
      }
  
      BattleMode.prototype.reset = function() {
        this.selectAt = v2.create();
        this.savedSelections = {};
        this.selecting = false;
        this.moving = false;
        this.drawing = false;
        this.ordering = false;
        this.shiftOrder = false;
        this.panLeft = 0;
        this.panRight = 0;
        this.panUp = 0;
        this.panDown = 0;
        this.zoomIn = 0;
        this.zoomOut = 0;
        this.zoom = 5;
        this.focus = v2.create();
        this.lastMouseMove = 0;
        this.mouse = v2.create();
        this.screenMouse = v2.create();
        this.placeingCls = null;
        this.drawPoints = [];
        this.movePoints = [];
        return this.orderId = 0;
      };
  
      BattleMode.prototype.genOrderId = function() {
        var o;
        o = this.orderId;
        this.orderId += 2;
        return o;
      };
  
      BattleMode.prototype.startNewLocal = function() {
        var base;
        this.reset();
        bubbles.clear();
        ui.go("battle");
        if (window.network != null) {
          if (typeof (base = window.network).close === "function") {
            base.close();
          }
        }
        window.intp = new Interpolator();
        window.sim = new Sim();
        sim.local = true;
        intp.local = true;
        window.network = new Local();
        if (typeof network !== "undefined" && network !== null) {
          network.sendPlayer();
        }
        sim.generateMap(.5, 1, 0);
        sim.extra = function() {
          if (sim.winningSide) {
            return bubbles.clear();
          }
        };
        return sim.start();
      };
  
      BattleMode.prototype.startAIChallenge = function(challengeName) {
        var base, player;
        this.reset();
        if (window.network != null) {
          if (typeof (base = window.network).close === "function") {
            base.close();
          }
        }
        window.network = new Local();
        ui.go("battle");
        window.intp = new Interpolator();
        window.sim = new Sim();
        sim.local = true;
        sim.challenge = challengeName;
        intp.local = true;
        intp.theme = sim.theme;
        player = ais.useAi(challengeName, "beta");
        if (typeof network !== "undefined" && network !== null) {
          network.sendPlayer();
        }
        sim.start();
        return intp.gameEnded = function() {
          if (intp.winningSide === "alpha") {
            if ((commander.challenges[challengeName] == null) || commander.challenges[challengeName] > sim.step) {
              commander.challenges[challengeName] = sim.step;
            }
            account.rootRealSave();
          }
          return ui.go("challenges");
        };
      };
  
      BattleMode.prototype.joinServer = function(serverName) {
        var base, ref;
        this.serverName = serverName;
        this.reset();
        this.server = (ref = rootNet.servers) != null ? ref[this.serverName] : void 0;
        if (!this.server) {
          console.log("server not found");
          return;
        }
        ui.go("battleroom");
        ui.pickingLobbyAiSide = false;
        track("join_server", {
          server: this.server.name
        });
        bubbles.clear();
        window.intp = new Interpolator();
        intp.local = false;
        window.sim = intp;
        if (window.network != null) {
          if (typeof (base = window.network).close === "function") {
            base.close();
          }
        }
        window.network = new Connection(this.server.address);
        return actionMixer.reset();
      };
  
      BattleMode.prototype.joinLocal = function() {
        var base;
        if (!sim.local || sim.galaxyStar || sim.challenge) {
          this.reset();
          this.server = null;
          bubbles.clear();
          if (window.network != null) {
            if (typeof (base = window.network).close === "function") {
              base.close();
            }
          }
          window.network = new Local();
          window.intp = new Interpolator();
          window.sim = new Sim();
          sim.local = true;
          intp.local = true;
          chat.channel = "local";
          sim.generateMap();
        } else {
          sim.winningSide = false;
          sim.state = "waiting";
        }
        ui.go("battleroom");
        return after(0, function() {
          print("here?");
          network.sendPlayer();
          return network.send("switchSide", "alpha");
        });
      };
  
      BattleMode.prototype.onmousemove = function(e) {
        var b, dx, dy, end, endx, endy, id, ifHasFilter, index, j, len, need_tip, now, ref, ref1, ref2, ref3, ref4, selected, start, startx, starty, t, thing, unit, x, y;
        if (!this.player) {
          return;
        }
        this.screenMouse = [e.clientX, e.clientY];
        this.mouse = this.toGameSpace([this.screenMouse[0], this.screenMouse[1]]);
        now = Date.now();
        if (this.lastMouseMove < now - 1000 / 16) {
          this.lastMouseMove = now;
          if (typeof network !== "undefined" && network !== null) {
            network.send("mouseMove", this.mouse, this.selecting || this.ordering);
          }
        }
        if (this.selecting) {
          this.selection.style.display = "block";
          startx = Math.min(this.selectAt[0], e.clientX);
          starty = Math.min(this.selectAt[1], e.clientY);
          endx = Math.max(this.selectAt[0], e.clientX);
          endy = Math.max(this.selectAt[1], e.clientY);
          this.selection.style.left = startx + "px";
          this.selection.style.top = starty + "px";
          this.selection.style.width = -startx + endx + "px";
          this.selection.style.height = -starty + endy + "px";
          start = this.toGameSpace([startx, starty]);
          end = this.toGameSpace([endx, endy]);
          selected = [];
          if (v2.distance([startx, starty], [endx, endy]) < 10) {
            unit = this.closestUnit(start);
            if (unit) {
              selected.push(unit);
            }
          } else {
            ref = intp.things;
            for (id in ref) {
              thing = ref[id];
              if ((start[0] < (ref1 = thing.pos[0]) && ref1 < end[0]) && (start[1] > (ref2 = thing.pos[1]) && ref2 > end[1])) {
                selected.push(thing);
              }
            }
          }
          if (this.selectAdd) {
            ref3 = commander.selection;
            for (j = 0, len = ref3.length; j < len; j++) {
              thing = ref3[j];
              selected.push(thing);
            }
          }
          ifHasFilter = function(selected, fn) {
            var has, k, l, len1, len2, newSelected, t;
            has = false;
            for (k = 0, len1 = selected.length; k < len1; k++) {
              t = selected[k];
              if (fn(t)) {
                has = true;
              }
            }
            if (!has) {
              return selected;
            }
            newSelected = [];
            for (l = 0, len2 = selected.length; l < len2; l++) {
              t = selected[l];
              if (fn(t)) {
                newSelected.push(t);
              }
            }
            return newSelected;
          };
          selected = (function() {
            var k, len1, results;
            results = [];
            for (k = 0, len1 = selected.length; k < len1; k++) {
              t = selected[k];
              if (t.unit) {
                results.push(t);
              }
            }
            return results;
          })();
          selected = ifHasFilter(selected, function(u) {
            return u.owner === commander.id;
          });
          selected.sort(function(a, b) {
            return a.id - b.id;
          });
          this.selectUnitsFake(selected);
        }
        if (this.moving) {
          dx = e.movementX;
          dy = e.movementY;
          if (dx === void 0) {
            dx = e.mozMovementX;
          }
          if (dy === void 0) {
            dy = e.mozMovementY;
          }
          this.focus[0] += dx * this.zoom * 2;
          this.focus[1] -= dy * this.zoom * 2;
        }
        if (this.ordering) {
          this.drawPoints.push(this.toGameSpace([e.clientX, e.clientY]));
        }
        need_tip = null;
        if (e.clientY > window.innerHeight - 84 && !tutor.buildBarHide()) {
          index = Math.floor((e.clientX - window.innerWidth / 2) / 84 + 5);
          if (index >= 0 && index < 10) {
            need_tip = {
              bottom: 84 + 28,
              x: window.innerWidth / 2 + (index - 5) * 84 - 43,
              width: 240,
              stem: "center",
              modeOnly: "battle",
              html: function() {
                var spec, valid;
                spec = commander.buildBar[index];
                valid = commander.validBar[index];
                return unitInfoSmall(spec, valid);
              }
            };
          }
        }
        if (this.tip) {
          b = this.tipBounds;
          x = this.screenMouse[0];
          y = this.screenMouse[1];
          if (x < b.left || x > b.right || y < b.top || y > b.bottom) {
            this.tipBounds = null;
            this.tip = null;
          }
          need_tip = {
            bottom: window.innerHeight - b.top,
            x: (b.left + b.right) / 2 - 140 / 2 + 20,
            width: 160,
            stem: "center",
            modeOnly: "battle",
            html: this.tip
          };
        }
        if (((ref4 = bubbles.tip) != null ? ref4.x : void 0) !== (need_tip != null ? need_tip.x : void 0)) {
          bubbles.tip = need_tip;
          return onecup.refresh();
        }
      };
  
      BattleMode.prototype.selectUnitsFake = function(things) {
        var j, len, ref, selected, selectedIds, t;
        selectedIds = [];
        selected = [];
        for (j = 0, len = things.length; j < len; j++) {
          t = things[j];
          if (selectedIds.indexOf(t.id) === -1) {
            selectedIds.push(t.id);
            selected.push(t);
          }
        }
        commander.selection = selected;
        return (ref = intp.players[commander.id]) != null ? ref.selection = selected : void 0;
      };
  
      BattleMode.prototype.selectUnits = function(things) {
        var ids, t;
        ids = (function() {
          var j, len, results;
          results = [];
          for (j = 0, len = things.length; j < len; j++) {
            t = things[j];
            if (intp.things[t.id]) {
              results.push(t.id);
            }
          }
          return results;
        })();
        return this.selectThings(things, ids);
      };
  
      BattleMode.prototype.selectUnitsIds = function(ids) {
        var id, j, len, t, things;
        things = [];
        for (j = 0, len = ids.length; j < len; j++) {
          id = ids[j];
          t = intp.things[id];
          if (t) {
            things.push(t);
          }
        }
        return this.selectThings(things, ids);
      };
  
      BattleMode.prototype.selectThings = function(things, ids) {
        var ref;
        commander.selection = things;
        if ((ref = intp.players[commander.number]) != null) {
          ref.selection = things;
        }
        return network.send("playerSelected", ids);
      };
  
      BattleMode.prototype.ondblclick = function(e) {
        var at, id, j, len, ref, ref1, selected, thing, unit;
        if (e.which !== 1) {
          return;
        }
        at = this.toGameSpace([e.clientX, e.clientY]);
        unit = this.closestUnit(at);
        if (!unit) {
          return;
        }
        selected = [];
        ref = intp.things;
        for (id in ref) {
          thing = ref[id];
          if (JSON.stringify(thing.spec) === JSON.stringify(unit.spec) && thing.owner === unit.owner) {
            selected.push(thing);
          }
        }
        if (e.shiftKey) {
          ref1 = commander.selection;
          for (j = 0, len = ref1.length; j < len; j++) {
            thing = ref1[j];
            selected.push(thing);
          }
        }
        this.selectUnits(selected);
        return this.selecting = false;
      };
  
      BattleMode.prototype.onmousedown = function(e) {
        var ref;
        if (e.which === 1) {
          if (e.clientY > window.innerHeight - 84 - 42) {
            return;
          }
        }
        if (!this.player) {
          return;
        }
        if (this.rallyPlacing && (e.which === 1 || e.which === 3)) {
          network.send("setRallyPoint", this.mouse);
          commander.rallyPoint = v2.create(this.mouse);
          if ((ref = intp.players[commander.number]) != null) {
            ref.rallyPoint = v2.create(this.mouse);
          }
          this.rallyPlacing = false;
          onecup.refresh();
          return;
        }
        if (e.which === 1) {
          this.selectAt[0] = e.clientX;
          this.selectAt[1] = e.clientY;
          this.selecting = true;
          this.selectAdd = e.shiftKey;
        }
        if (e.which === 2) {
          this.moving = true;
        }
        if (e.which === 3) {
          this.ordering = true;
          this.shiftOrder = e.shiftKey;
          this.drawPoints = [this.toGameSpace([e.clientX, e.clientY])];
        }
        e.preventDefault();
        return false;
      };
  
      BattleMode.prototype.onmouseup = function(e) {
        if (!this.player) {
          return;
        }
        this.moving = false;
        this.drawing = false;
        if (this.ordering) {
          this.sendMoveOrder(e.shiftKey);
          this.ordering = false;
        }
        this.drawPoints = [];
        if (this.selecting) {
          window.onmousemove(e);
          this.selecting = false;
          this.selectUnits(commander.selection);
        }
        this.selection.style.display = "none";
        e.preventDefault();
        return false;
      };
  
      BattleMode.prototype.onkeydown = function(e) {
        var id, j, len, number, ref, ref1, selectedIds, t, thing;
        BattleMode.__super__.onkeydown.call(this, e);
        this.shiftOrder = e.shiftKey;
        if (settings.key(e, "Line Move")) {
          this.drawPoints.push(this.mouse);
          this.ordering = true;
        } else if (settings.key(e, "Select") && !this.selecting) {
          this.selectAt[0] = this.screenMouse[0];
          this.selectAt[1] = this.screenMouse[1];
          this.selecting = true;
          this.selectAdd = e.shiftKey;
        } else if (e.which === 9) {
          this.showOverlay();
        } else if (settings.key(e, "Stop Units")) {
          this.stopOrder();
        } else if (settings.key(e, "Hold Position")) {
          this.holdPositionOrder();
        } else if (settings.key(e, "Self Destruct")) {
          this.selfDestructOrder();
        } else if (settings.key(e, "Focus Fire/Follow")) {
          this.follow = !this.follow;
        } else if (settings.key(e, "Place Rally Point")) {
          this.rallyPlacing = !this.rallyPlacing;
        } else if (settings.key(e, "Remove Rally Point")) {
          network.send("setRallyPoint", [0, 0]);
          commander.rallyPoint = [0, 0];
        } else if (settings.key(e, "Unit Info")) {
          ui.showInfo = !ui.showInfo;
          onecup.refresh();
        } else if (e.which >= 48 && e.which <= 57) {
          number = e.which - 49;
          if (number === -1) {
            number = 9;
          }
          if (e.ctrlKey && e.altKey) {
            this.copySelected(number);
          } else if (e.altKey) {
            if (commander.validBar[number]) {
              network.send("buildRq", number, 1);
            }
          } else if (e.ctrlKey) {
            this.savedSelections[number] = (function() {
              var j, len, ref, results;
              ref = this.player.selection;
              results = [];
              for (j = 0, len = ref.length; j < len; j++) {
                t = ref[j];
                results.push(t.id);
              }
              return results;
            }).call(this);
          } else {
            selectedIds = this.savedSelections[number] || [];
            if (selectedIds.length === 0) {
              ref = intp.things;
              for (id in ref) {
                thing = ref[id];
                if (thing.owner === commander.number && thing.spec === commander.buildBar[number]) {
                  selectedIds.push(id);
                }
              }
            }
            if (e.shiftKey) {
              ref1 = commander.selection;
              for (j = 0, len = ref1.length; j < len; j++) {
                thing = ref1[j];
                selectedIds.push(thing.id);
              }
            }
            this.selectUnitsIds(selectedIds);
          }
        } else if (settings.key(e, "Focus on Units")) {
          this.centerOnUnit = true;
        } else if (settings.key(e, "Pause") || e.which === 19) {
          sim.paused = !(sim.paused === true);
        } else {
          return;
        }
        return e.preventDefault();
      };
  
      BattleMode.prototype.onkeyup = function(e) {
        BattleMode.__super__.onkeyup.call(this, e);
        if (this.selecting) {
          this.selection.style.display = "none";
          this.selecting = false;
        }
        if (settings.key(e, "Line Move")) {
          this.sendMoveOrder(e.shiftKey);
          this.ordering = false;
          this.drawing = false;
          this.drawPoints = [];
        }
        if (settings.key(e, "Toggle Roster")) {
          this.hideOverlay();
        }
        if (settings.key(e, "Focus on Units")) {
          this.centerOnUnit = false;
        }
        return this.shiftOrder = false;
      };
  
      BattleMode.prototype.stopOrder = function() {
        return network.send("stopOrder");
      };
  
      BattleMode.prototype.holdPositionOrder = function() {
        return network.send("holdPositionOrder");
      };
  
      BattleMode.prototype.followOrder = function(unit, shiftKey) {
        var i, id, j, len, ref, results, t;
        id = this.genOrderId();
        network.send("followOrder", unit.id, shiftKey, id);
        ref = commander.selection;
        results = [];
        for (i = j = 0, len = ref.length; j < len; i = ++j) {
          t = ref[i];
          if (t.owner === commander.number) {
            if (!shiftKey) {
              t.preOrders = [];
            }
            results.push(t.preOrders.push({
              type: "Follow",
              targetId: unit.id,
              id: id
            }));
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      BattleMode.prototype.selfDestructOrder = function() {
        return network.send("selfDestructOrder");
      };
  
      BattleMode.prototype.moveOrder = function(formation, shiftKey) {
        var i, id, j, len, ref, results, t;
        id = this.genOrderId();
        network.send("moveOrder", formation, shiftKey, id);
        ref = commander.selection;
        results = [];
        for (i = j = 0, len = ref.length; j < len; i = ++j) {
          t = ref[i];
          if (t.owner === commander.number) {
            if (!shiftKey) {
              t.preOrders = [];
            }
            results.push(t.preOrders.push({
              type: "Move",
              dest: formation[i],
              id: id
            }));
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      BattleMode.prototype.sendMoveOrder = function(shiftKey) {
        var unit;
        if (this.drawPoints.length === 0) {
          return;
        }
        if (this.follow) {
          this.follow = false;
          unit = this.closestUnit(this.drawPoints[0]);
          if (unit) {
            this.followOrder(unit, shiftKey);
          }
          return;
        }
        return this.moveOrder(this.movePoints, shiftKey);
      };
  
      BattleMode.prototype.onbuildclick = function(e, index) {
        var number, ref, ref1;
        e.stopPropagation();
        this.buildClicked = true;
        if (buildBar.emptySpec(commander.buildBar[index]) && commander.selection.length === 1) {
          if ((ref = sim.galaxyStar) != null ? ref.noDesignTools : void 0) {
            return;
          }
          this.copySelected(index);
          return;
        }
        if (commander.buildBar[index].length === 0 || !commander.validBar[index]) {
          if ((ref1 = sim.galaxyStar) != null ? ref1.noDesignTools : void 0) {
            return;
          }
          buildBar.selected = index;
          ui.mode = "design";
          return;
        }
        number = 1;
        if (e.shiftKey) {
          number = 5;
        }
        if (e.which === 3 || e.altKey || e.metaKey || e.ctrlkey) {
          number = -number;
        }
        return network.send("buildRq", index, number);
      };
  
      BattleMode.prototype.computeLineMove = function() {
        var points, selected, totalDistance, u, walkRope;
        selected = commander.selection;
        if (!selected) {
          return;
        }
        selected = (function() {
          var j, len, results;
          results = [];
          for (j = 0, len = selected.length; j < len; j++) {
            u = selected[j];
            if (u.owner === commander.number) {
              results.push(u);
            }
          }
          return results;
        })();
        if (selected.length === 0) {
          return;
        }
        totalDistance = function(points) {
          var distance, j, last, len, point, ref;
          distance = 0;
          last = points[0];
          ref = points.slice(1);
          for (j = 0, len = ref.length; j < len; j++) {
            point = ref[j];
            distance += v2.distance(last, point);
            last = point;
          }
          return distance;
        };
        walkRope = function(points, units, cb) {
          var dir, dist, i, j, last, len, n, point, pos, prev, results, step, stepLeft, total, use;
          total = totalDistance(points);
          if (total === 0 || points.length === 1 || units.length === 1) {
            for (j = 0, len = units.length; j < len; j++) {
              u = units[j];
              cb(points[0], u);
            }
            return;
          }
          step = total / (units.length - 1);
          dir = v2.create();
          pos = v2.create();
          n = 0;
          i = 0;
          stepLeft = 0;
          last = null;
          results = [];
          while (i < units.length) {
            use = function(p) {
              cb(v2.create(p), units[i]);
              stepLeft = step;
              return i += 1;
            };
            point = points[n];
            if (i === 0) {
              use(point);
              n += 1;
              continue;
            }
            if (i === units.length - 1) {
              use(points[points.length - 1]);
              continue;
            }
            if (n > points.length - 1) {
              use(points[points.length - 1]);
              continue;
            }
            prev = points[n - 1];
            dist = v2.distance(prev, point);
            if (dist === stepLeft) {
              use(point);
              n += 1;
              continue;
            } else if (dist < stepLeft) {
              stepLeft -= dist;
              n += 1;
              continue;
            } else if (dist > stepLeft) {
              v2.set(prev, pos);
              dist = v2.distance(prev, point);
              while (dist > stepLeft) {
                v2.direction(point, prev, dir);
                v2.scale(dir, stepLeft);
                v2.add(pos, dir);
                dist -= stepLeft;
                use(pos);
              }
              n += 1;
              results.push(stepLeft -= dist);
            } else {
              results.push(void 0);
            }
          }
          return results;
        };
        this.movePoints = [];
        points = this.drawPoints;
        return walkRope(points, selected, (function(_this) {
          return function(point, unit) {
            var angle, pos;
            _this.movePoints.push(point);
            if (_this.shiftOrder && unit.preOrders.length > 0) {
              pos = unit.preOrders.last().dest;
            }
            if (!pos) {
              pos = unit.pos;
            }
            angle = v2.angle(v2.sub(point, pos, v2.create()));
            return baseAtlas.drawSprite("img/arrow01.png", point, [1, 1], angle, [255, 255, 255, 255]);
          };
        })(this));
      };
  
      BattleMode.prototype.draw = function() {
        var bg_zoom, theme, z;
        baseAtlas.beginSprites(this.focus, this.zoom);
        if (this.follow) {
          control.setCursor("mouseAttack");
        } else {
          control.setCursor("mouse");
        }
        if (intp.theme != null) {
          theme = intp.theme;
        } else {
          theme = mapping.themes[0];
        }
        bg_zoom = Math.max(window.innerWidth, window.innerHeight) / 120;
        z = bg_zoom * this.zoom;
        baseAtlas.drawSprite("img/newbg/fill.png", [-this.focus[0], -this.focus[1]], [z, z], 0, theme.fillColor);
        baseAtlas.drawSprite("img/newbg/gradient.png", [-this.focus[0], -this.focus[1]], [z, z], 0, theme.spotColor);
        intp.draw();
        if (this.drawPoints.length > 0) {
          this.computeLineMove();
        }
        return baseAtlas.finishSprites();
      };
  
      BattleMode.prototype.tick = function() {
        var ref;
        this.player = commander;
        this.controls();
        if ((this.serverToJoin != null) && (typeof rootNet !== "undefined" && rootNet !== null ? (ref = rootNet.servers) != null ? ref[this.serverToJoin] : void 0 : void 0)) {
          this.joinServer(this.serverToJoin);
          return this.serverToJoin = null;
        }
      };
  
      BattleMode.prototype.showOverlay = function() {
        var overlay;
        overlay = onecup.lookup("#overlay");
        return overlay != null ? overlay.style.display = "block" : void 0;
      };
  
      BattleMode.prototype.hideOverlay = function() {
        var overlay;
        overlay = onecup.lookup("#overlay");
        return overlay != null ? overlay.style.display = "none" : void 0;
      };
  
      BattleMode.prototype.closestUnit = function(pos, exact) {
        var dist, id, minDist, minUnit, ref, thing;
        if (exact == null) {
          exact = false;
        }
        minDist = 0;
        minUnit = null;
        ref = intp.things;
        for (id in ref) {
          thing = ref[id];
          if (!thing.unit) {
            continue;
          }
          dist = v2.distance(thing.pos, pos);
          if (dist < 1000) {
            if (!minUnit || minDist > dist) {
              minUnit = thing;
              minDist = dist;
            }
          }
        }
        return minUnit;
      };
  
      BattleMode.prototype.copySelected = function(index) {
        var copy, spec, unit;
        if (commander.selection.length === 1) {
          unit = commander.selection[0];
          spec = unit.spec;
          copy = new types.Unit(spec);
          copy.aiRules = [];
          if (!sim.local && window.location.href.indexOf("gamedev.html") === -1 && unit.owner !== commander.number) {
            copy.ghostCopy = true;
          }
          buildBar.setSpec(index, copy.toSpec());
          return control.savePlayer();
        }
      };
  
      return BattleMode;
  
    })(window.ControlsMode);
  
  }).call(this);
  ;
  
  
  //from src/buildbar.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var drawBuildButton, info, lastInfoTime, leftMenu, rightMenu, specToUnitMap, standAlone;
  
    eval(onecup["import"]());
  
    window.buildBar = {};
  
    buildBar.selected = 0;
  
    css(".unitpic", function() {
      width(84);
      height(84);
      padding(10);
      return transition("background-color .2s");
    });
  
    css(".unitpic:hover", function() {
      return background_color("rgba(255,255,255,.4)");
    });
  
    standAlone = function() {
      return ui.path[0] === "design" || ui.path[0] === "fleet";
    };
  
    ui.topButton = function(mode, fn) {
      return div(".hover-black", function() {
        display("inline-block");
        height(64);
        width(64);
        position("relative");
        img({
          src: "img/ui/topbar/" + mode + ".png",
          width: 44,
          height: 44
        }, function() {
          top(0);
          left(10);
          return position("absolute");
        });
        div(function() {
          position("absolute");
          line_height(12);
          font_size(12);
          text_align("center");
          width(64);
          top(44);
          return text(mode);
        });
        if (fn != null) {
          return fn();
        } else {
          if (ui.mode === mode) {
            background_color("rgba(255,255,255,.6)");
            return onclick(function() {
              return ui.go("battle");
            });
          } else {
            return onclick(function() {
              return ui.go(mode);
            });
          }
        }
      });
    };
  
    ui.barButton = function(mode) {
      height(84);
      width(84);
      if (mode === ui.mode) {
        background_color("rgba(255,255,255,.6)");
        onclick(function() {
          return ui.go("battle");
        });
      } else {
        onclick(function() {
          return ui.go(mode);
        });
      }
      img({
        src: "img/ui/" + mode + ".png",
        width: 64,
        height: 64
      }, function() {
        position("absolute");
        top(0);
        return left(10);
      });
      return div(function() {
        position("absolute");
        line_height(12);
        font_size(12);
        text_align("center");
        width(84);
        top(59);
        color("white");
        return text(mode);
      });
    };
  
    leftMenu = function() {
      ui.topButton("menu");
      if (!sim.galaxyStar) {
        ui.topButton("multiplayer");
        return ui.topButton("battleroom");
      }
    };
  
    rightMenu = function() {
      if (sim.galaxyStar != null) {
        ui.topButton("restart", function() {
          return onclick(function() {
            return ui.mode = "restart";
          });
        });
      } else {
        ui.topButton("chat", function() {
          if (ui.chatToggle) {
            background_color("rgba(255,255,255,.6)");
          }
          return onclick(function() {
            return ui.chatToggle = !ui.chatToggle;
          });
        });
      }
      return ui.topButton("controls", function() {
        if (ui.contorlHelpToggle) {
          background_color("rgba(255,255,255,.6)");
        }
        return onclick(function() {
          return ui.contorlHelpToggle = !ui.contorlHelpToggle;
        });
      });
    };
  
    buildBar.draw = function(folded) {
      if (folded == null) {
        folded = false;
      }
      if (!commander || !commander.buildBar) {
        return;
      }
      div(function() {
        position("absolute");
        if (folded) {
          top(-64 - 48);
        } else {
          top(0);
        }
        left(0);
        right(0);
        height(64);
        if (intp.serverType === "1v1r" || intp.serverType === "1v1t") {
          background_color("rgba(100,0,0,.6)");
        } else {
          background_color("rgba(0,0,0,.6)");
        }
        color("white");
        line_height(64);
        font_size(18);
        div(function() {
          position("absolute");
          left(0);
          width(300);
          return leftMenu();
        });
        div(".hover-black", function() {
          var quarterWidth;
          quarterWidth = window.innerWidth / 4;
          position("absolute");
          left(quarterWidth);
          width(quarterWidth * 2);
          height(64);
          overflow("hidden");
          text_align("center");
          onclick(function() {
            if (ui.mode !== "battle") {
              return ui.mode = "battle";
            } else {
              return ui.mode = "quickscore";
            }
          });
          if (sim.galaxyStar && ui.mode !== "battle") {
            if (sim.step < 16) {
              return text("Click here to start the battle.");
            } else {
              return text("Click here to return to the battle.");
            }
          } else if (intp.countDown > 15) {
            font_size(30);
            return text(Math.floor(intp.countDown / 16));
          } else {
            return ui.topPlayers();
          }
        });
        return div(function() {
          position("absolute");
          right(0);
          width(300);
          text_align("right");
          return rightMenu();
        });
      });
      div(function() {
        var i, j, ref, showDesign;
        position("absolute");
        if (folded) {
          bottom(-84 - 48);
        } else {
          bottom(0);
        }
        left(0);
        right(0);
        height(84);
        background_color("rgba(0,0,0,.2)");
        text_align("center");
        for (i = j = 0; j < 10; i = ++j) {
          drawBuildButton(i);
        }
        showDesign = true;
        if ((ref = sim.galaxyStar) != null ? ref.noDesignTools : void 0) {
          showDesign = false;
        }
        if (showDesign) {
          div(".hover-black", function() {
            position("absolute");
            top(0);
            left(0);
            return ui.barButton("design");
          });
          div(".hover-black", function() {
            position("absolute");
            top(0);
            right(0);
            return ui.barButton("fleet");
          });
        }
        if (ui.mode === "battle") {
          return div("#action-bar", function() {
            var c, miniButton;
            position("absolute");
            left(0);
            right(0);
            bottom(84);
            height(42);
            background_color("rgba(0,0,0,.1)");
            c = Math.floor(window.innerWidth / 2);
            div(function() {
              position("absolute");
              bottom(0);
              left(c - 80);
              right(c - 80);
              line_height(42);
              color("rgba(240, 240, 240, 1)");
              span("#money-text", function() {
                return font_size(24);
              });
              span("#money-income", function() {
                font_size(14);
                vertical_align("super");
                return margin_left(10);
              });
              return onecup.post_render((function(_this) {
                return function() {
                  var ref1, ref2;
                  if ((ref1 = onecup.lookup("#money-text")) != null) {
                    ref1.innerHTML = buildBar.moneyText();
                  }
                  return (ref2 = onecup.lookup("#money-income")) != null ? ref2.innerHTML = buildBar.moneyIncomeText() : void 0;
                };
              })(this));
            });
            miniButton = function(name, binding, fn) {
              return div(".hover-black", function() {
                position("absolute");
                top(0);
                bottom(0);
                height(42);
                width(42);
                left(84);
                padding(5);
                img({
                  src: "img/ui/actions/" + name + ".png",
                  width: 32,
                  height: 32
                });
                onmouseover(function(e) {
                  battleMode.tipBounds = e.target.getBoundingClientRect();
                  return battleMode.tip = function() {
                    text_align("center");
                    text(binding);
                    text(" ");
                    return span(function() {
                      color("#f39c12");
                      return text(settings.humanViewBinding(binding));
                    });
                  };
                });
                return fn();
              });
            };
            miniButton("info", "Unit Info", function() {
              top(0);
              left(c - 224);
              if (ui.showInfo) {
                background("rgba(255,255,255,.3)");
              }
              return onclick(function() {
                ui.showInfo = !ui.showInfo;
                return buildBar.updateUnitBubble();
              });
            });
            miniButton("stop", "Stop Units", function() {
              top(0);
              left(c - 182);
              return onclick(function() {
                return battleMode.stopOrder();
              });
            });
            miniButton("focus", "Focus Fire/Follow", function() {
              top(0);
              left(c - 140);
              return onclick(function() {
                return battleMode.follow = true;
              });
            });
            miniButton("rally", "Place Rally Point", function() {
              top(0);
              left(c + 224 - 42);
              if (battleMode.rallyPlacing) {
                background("rgba(255,0,0,.5)");
              }
              return onclick(function() {
                return battleMode.rallyPlacing = !battleMode.rallyPlacing;
              });
            });
            miniButton("removeRally", "Remove Rally Point", function() {
              top(0);
              left(c + 182 - 42);
              return onclick(function() {
                var ref1;
                network.send("setRallyPoint", [0, 0]);
                return (ref1 = intp.players[commander.number]) != null ? ref1.rallyPoint = [0, 0] : void 0;
              });
            });
            return miniButton("selfd", "Self Destruct", function() {
              top(0);
              left(c + 140 - 42);
              if (ui.selfdOn) {
                background("rgba(255,0,0,.5)");
              }
              onclick(function() {
                ui.selfdOn = !ui.selfdOn;
                return setTimeout((function() {
                  return ui.selfdOn = false;
                }), 200);
              });
              return ondblclick(function() {
                battleMode.selfDestructOrder();
                return ui.selfdOn = false;
              });
            });
          });
        }
      });
      if (ui.contorlHelpToggle && ui.mode === "battle") {
        div(function() {
          position("absolute");
          if (folded) {
            top(0);
          } else {
            top(64);
          }
          width("100%");
          text_align("center");
          height(281 + 80);
          padding(40);
          background_color("rgba(0,0,0,.6)");
          return img({
            src: "img/ui/tips/controls.png",
            width: 848,
            height: 281
          });
        });
      }
      return div("#unit-bubble", function() {
        position("absolute");
        top(64);
        left(0);
        bottom(84);
        width(210);
        padding(15);
        font_size(14);
        color("#DDD");
        visibility("hidden");
        return onecup.post_render(buildBar.updateUnitBubble);
      });
    };
  
    buildBar.moneyText = function() {
      if (!commander) {
        return "";
      }
      if (!intp.state === "waiting") {
        return "waiting...";
      } else {
        if (commander.side === "spectators") {
          return "Spectating";
        } else {
          return "$" + (Math.floor(commander.money));
        }
      }
    };
  
    buildBar.moneyIncomeText = function() {
      var _, income, ref, t;
      if (!commander) {
        return "";
      }
      if (commander.side === "spectators" || intp.state === "waiting") {
        return "";
      }
      income = 10;
      ref = sim.things;
      for (_ in ref) {
        t = ref[_];
        if (t.commandPoint && t.side === commander.side) {
          income += 1;
        }
      }
      return "+$" + income;
    };
  
    buildBar.selectedInfo = function() {
      var cost, j, len, name, stat, stats, unit, units;
      units = commander.selection;
      cost = units.reduce((function(acc, unit) {
        return acc + unit.cost;
      }), 0);
      name = null;
      if (units.length > 0 && units.every(function(u) {
        return u.spec.name === units[0].spec.name;
      })) {
        name = units[0].spec.name || null;
      }
      stats = {};
      stat = function(icon, unit, value, maxValue, opts) {
        if (maxValue == null) {
          maxValue = 0;
        }
        if (opts == null) {
          opts = {
            hideZero: false,
            largest: false,
            sum: true,
            hideMultiple: false,
            fixed: 1
          };
        }
        if (opts.hideZero && value === 0) {
          return;
        }
        if (!stats[icon]) {
          return stats[icon] = {
            value: value,
            maxValue: maxValue,
            unit: unit,
            fixed: opts.fixed,
            count: 1
          };
        } else {
          if (opts.hideMultiple) {
            stats[icon].hidden = true;
          } else if (opts.largest) {
            stats[icon].value = Math.max(stats[icon].value, value);
            stats[icon].maxValue = Math.max(stats[icon].maxValue, maxValue);
          } else {
            stats[icon].value += value;
            stats[icon].maxValue += maxValue;
          }
          if (!opts.sum && !opts.largest) {
            return stats[icon].count++;
          }
        }
      };
      for (j = 0, len = units.length; j < len; j++) {
        unit = units[j];
        stat("count.png", "", 1, 0, {
          sum: true,
          fixed: 0
        });
        stat("cost.png", "$", unit.cost, 0, {
          sum: true,
          fixed: 0
        });
        stat("armor.png", "HP", unit.hp, unit.maxHP, {
          sum: true,
          fixed: 0
        });
        stat("energy.png", "E", unit.energy, unit.storeEnergy, {
          sum: true,
          fixed: 0
        });
        stat("dps.png", "dps", unit.weaponDPS * 16);
        stat("damage.png", "d", unit.weaponDamage);
        stat("range.png", "m", unit.weaponRange, 0, {
          largest: true,
          fixed: 0
        });
        stat("arc.png", "°", unit.weaponArc, 0, {
          largest: true,
          fixed: 0
        });
        stat("speed.png", "m/s", unit.maxSpeed * 16, 0, {
          sum: false
        });
        stat("turnSpeed.png", "°/s", unit.turnSpeed * 180 / Math.PI * 16, 0, {
          sum: false,
          fixed: 0
        });
        stat("cloak.png", "T", unit.cloak, unit.mass, {
          hideZero: true,
          fixed: 0
        });
        stat("shield.png", "sh", unit.shield, unit.maxShield, {
          hideZero: true,
          fixed: 0
        });
        stat("burnDamage.png", "d", unit.burn, 0, {
          hideZero: true
        });
        stat("jump.png", "m", unit.jump, unit.jumpDistance, {
          hideZero: true,
          largest: true,
          fixed: 0
        });
      }
      return {
        name: name,
        cost: cost,
        stats: stats
      };
    };
  
    lastInfoTime = 0;
  
    info = {
      name: null,
      cost: 0,
      stats: {}
    };
  
    buildBar.updateUnitBubble = function() {
      var bubble, cost, name, stats;
      if (!commander) {
        return;
      }
      info = buildBar.selectedInfo();
      name = info.name, cost = info.cost, stats = info.stats;
      bubble = onecup.lookup("#unit-bubble");
      if (bubble == null) {
        return;
      }
      if (ui.mode !== "battle" || !ui.showInfo || Object.keys(stats).length === 0) {
        bubble.style.visibility = "hidden";
        return;
      }
      bubble.style.visibility = "visible";
      return bubble.innerHTML = onecup.genHTML(function() {
        return div(function() {
          var icon, maxValue, results, stat, unit, value;
          results = [];
          for (icon in stats) {
            stat = stats[icon];
            if (stat.hidden) {
              continue;
            }
            value = stat.value / stat.count;
            maxValue = stat.maxValue / stat.count;
            unit = stat.unit;
            results.push(div(function() {
              font_size(13);
              width(175);
              float("left");
              margin(10);
              img({
                src: "img/ui/" + icon,
                width: 20,
                height: 20
              }, function() {
                float("left");
                margin_right(10);
                return margin_top(-2);
              });
              text(value.toFixed(stat.fixed));
              if (maxValue > 0) {
                text(" / " + maxValue.toFixed(stat.fixed));
              }
              return text(unit);
            }));
          }
          return results;
        });
      });
    };
  
    specToUnitMap = {};
  
    buildBar.specToUnit = function(spec) {
      var unit;
      if (!specToUnitMap[spec]) {
        unit = new types.Unit(spec);
        unit.pos = [0, 0];
        unit.rot = 0;
        unit.warpIn = 1;
        specToUnitMap[spec] = unit;
      }
      return specToUnitMap[spec];
    };
  
    buildBar.specToThumb = function(spec, color) {
      var unit;
      unit = buildBar.specToUnit(spec);
      if (unit) {
        if (color) {
          unit.color = color;
        }
        return unit.thumb();
      }
    };
  
    buildBar.specToThumbBg = function(spec) {
      var thumb;
      background_size("64px 64px");
      background_repeat("no-repeat");
      background_position("10px 10px");
      thumb = buildBar.specToThumb(spec, commander.color);
      if (!thumb) {
        return background_image("url(img/empty.png)");
      } else {
        return background_image("url(" + thumb + ")");
      }
    };
  
    css(".unitpic .onhover", function() {
      return opacity("0");
    });
  
    css(".unitpic:hover .onhover", function() {
      return opacity("1");
    });
  
    drawBuildButton = function(index) {
      return div(".unitpic", function() {
        var count, i, j, len, ref, ref1;
        position("absolute");
        height(84);
        width(84);
        top(0);
        left(window.innerWidth / 2 + (index - 5) * 84);
        buildBar.specToThumbBg(commander.buildBar[index]);
        onmousedown(function(e) {
          var base;
          return typeof (base = control.mode).onbuildclick === "function" ? base.onbuildclick(e, index) : void 0;
        });
        if (buildBar.selected === index && ui.mode === "design") {
          background_color("rgba(0,0,0,.3)");
        }
        count = 0;
        ref = commander.buildQ;
        for (j = 0, len = ref.length; j < len; j++) {
          i = ref[j];
          if (i === index) {
            count += 1;
          }
        }
        if (count > 0) {
          div(".count", function() {
            position("absolute");
            top(0);
            left(0);
            min_width(24);
            height(24);
            color("white");
            background_color("rgba(0, 0, 0, .2)");
            text_align("center");
            text(count);
            font_size(18);
            return padding(2);
          });
        }
        if ((ref1 = sim.galaxyStar) != null ? ref1.noDesignTools : void 0) {
          return;
        }
        if (buildBar.emptySpec(commander.buildBar[index])) {
          return div(".onhover", function() {
            position("absolute");
            color("white");
            top(30);
            left(0);
            width("100%");
            text_align("center");
            return text("Empty");
          });
        } else if (!commander.validBar[index]) {
          if (buildBar.selected === index) {
            background_color("rgba(100,0,0,.3)");
          } else {
            background_color("rgba(255,0,0,.3)");
          }
          return div(function() {
            position("absolute");
            color("white");
            top(30);
            left(30);
            return text("Fix");
          });
        }
      });
    };
  
    buildBar.setSpec = function(index, spec) {
      var ref, row, tab;
      ref = commander.fleet.selection, row = ref.row, tab = ref.tab;
      commander.buildBar[index] = spec;
      return commander.fleet[getFleetKey(row, index, tab)] = spec;
    };
  
    buildBar.emptySpec = function(spec) {
      if (spec === "") {
        return true;
      }
      if (spec === '{"parts":[],"name":"","aiRules":[]}') {
        return true;
      }
      return false;
    };
  
    window.MenuMode = (function() {
      function MenuMode() {}
  
      MenuMode.prototype.focus = [0, 0];
  
      MenuMode.prototype.zoom = 1;
  
      MenuMode.prototype.onbuildclick = function() {};
  
      MenuMode.prototype.tick = function() {};
  
      MenuMode.prototype.draw = function() {};
  
      return MenuMode;
  
    })();
  
  }).call(this);
  ;
  
  
  //from src/fleet.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var createTab, insertFleet, insertTab, isEmptyFleet, isEmptySpec, isEmptyTab, lockScreen, moveFleet, removeFleet, removeTab, renameTab, uniqueTabName, unitButton,
      indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
      slice = [].slice;
  
    eval(onecup["import"]());
  
    window.getFleetKey = function(r, c, t) {
      if (t === "default") {
        t = null;
      }
      if (t != null) {
        return r + "," + c + "," + t;
      } else {
        return r + "," + c;
      }
    };
  
    window.getAIKey = function(r, t) {
      if (t === "default") {
        t = null;
      }
      if (t != null) {
        return r + "," + t;
      } else {
        return r;
      }
    };
  
    window.fromFleetKey = function(key) {
      var col, ref, row, tab;
      ref = key.split(","), row = ref[0], col = ref[1], tab = ref[2];
      if (isNaN(row) || isNaN(col)) {
        return [null, null, null];
      }
      if (tab == null) {
        tab = "default";
      }
      return [+row, +col, tab];
    };
  
    window.fromAIKey = function(key) {
      var ref, row, tab;
      ref = key.split(","), row = ref[0], tab = ref[1];
      if (isNaN(row)) {
        return [null, null];
      }
      if (tab == null) {
        tab = "default";
      }
      return [+row, tab];
    };
  
    isEmptySpec = function(spec) {
      var error;
      if (!spec) {
        return true;
      }
      try {
        spec = JSON.parse(spec);
      } catch (error) {
        return true;
      }
      if (spec.parts == null) {
        return true;
      }
      if (spec.parts.length === 0) {
        return true;
      }
      return false;
    };
  
    isEmptyFleet = function(row, tab) {
      var i, j;
      if (commander.fleet.ais[getAIKey(row, tab)]) {
        return false;
      }
      for (i = j = 0; j < 10; i = ++j) {
        if (!isEmptySpec(commander.fleet[getFleetKey(row, i, tab)])) {
          return false;
        }
      }
      return true;
    };
  
    isEmptyTab = function(tab) {
      var c, k, r, ref, ref1, ref2, ref3, t, v;
      ref = commander.fleet.ais;
      for (k in ref) {
        v = ref[k];
        ref1 = fromAIKey(k), r = ref1[0], t = ref1[1];
        if (v && t === tab) {
          return false;
        }
      }
      ref2 = commander.fleet;
      for (k in ref2) {
        v = ref2[k];
        ref3 = fromFleetKey(k), r = ref3[0], c = ref3[1], t = ref3[2];
        if (t === tab && !isNaN(r) && !isEmptyFleet(r, t)) {
          return false;
        }
      }
      return true;
    };
  
    window.FleetMode = (function() {
      function FleetMode() {}
  
      FleetMode.prototype.focus = [0, 0];
  
      FleetMode.prototype.zoom = 1;
  
      FleetMode.prototype.onbuildclick = function(e, index) {
        return e.preventDefault();
      };
  
      FleetMode.prototype.tick = function() {
        var dragger, trash;
        trash = onecup.lookup("#trash");
        if (fleetMode.draggingUnit) {
          dragger = onecup.lookup("#unit-dragger");
          if ((dragger != null) && (trash != null)) {
            dragger.style.left = control.mouse[0] - 84 / 2 + "px";
            dragger.style.top = control.mouse[1] - 84 / 2 + "px";
            if (control.mouse[0] < 100 || control.mouse[0] > window.innerWidth - 100) {
              dragger.style.backgroundColor = "rgba(255,0,0,.5)";
              trash.src = "img/ui/trashOpen@2x.png";
            } else {
              dragger.style.backgroundColor = "rgba(0,0,0,0)";
              trash.src = "img/ui/trash@2x.png";
            }
          }
        } else if (fleetMode.draggingFleet) {
          dragger = onecup.lookup("#fleet-dragger");
          if (dragger != null) {
            if (control.mouse[1] < 64 && control.mouse[0] > window.innerWidth - 100) {
              dragger.style.backgroundColor = "rgba(255,0,0,.5)";
              trash.src = "img/ui/trashOpen@2x.png";
            } else {
              dragger.style.backgroundColor = "rgba(0,0,0,0)";
              trash.src = "img/ui/trash@2x.png";
            }
          }
        } else {
          if (trash != null) {
            trash.src = "img/ui/trash@2x.png";
          }
        }
        return onecup.refresh();
      };
  
      FleetMode.prototype.draw = function() {
        var bg_zoom, z;
        bg_zoom = Math.max(window.innerWidth, window.innerHeight) / 128;
        z = bg_zoom * this.zoom;
        baseAtlas.beginSprites(this.focus, this.zoom);
        baseAtlas.drawSprite("img/newbg/fill.png", [-this.focus[0], -this.focus[1]], [z, z], 0, mapping.themes[0].fillColor);
        baseAtlas.drawSprite("img/newbg/gradient.png", [-this.focus[0], -this.focus[1]], [z, z], 0, mapping.themes[0].spotColor);
        return baseAtlas.finishSprites();
      };
  
      return FleetMode;
  
    })();
  
    moveFleet = function(from, to) {
      var i, j, keyF, keyT;
      for (i = j = 0; j < 10; i = ++j) {
        keyF = getFleetKey(from.row, i, from.tab);
        keyT = getFleetKey(to.row, i, to.tab);
        commander.fleet[keyT] = commander.fleet[keyF];
      }
      return commander.fleet.ais[getAIKey(to.row, to.tab)] = commander.fleet.ais[getAIKey(from.row, from.tab)];
    };
  
    insertFleet = function(from, to, copy) {
      var col, dir, empty, i, j, k, l, m, moving, n, ref, ref1, ref2, ref3, ref4, row, tab, v;
      if (copy == null) {
        copy = false;
      }
      if (!copy && from.row === to.row && from.tab === to.tab) {
        return;
      }
      if (isEmptyFleet(to.row, to.tab)) {
        moveFleet(from, to);
        if (!copy) {
          delete commander.fleet.ais[getAIKey(from.row, from.tab)];
          for (i = j = 0; j < 10; i = ++j) {
            commander.fleet[getFleetKey(from.row, i, from.tab)] = "";
          }
        }
      } else if (copy || from.tab !== to.tab) {
        if (from.tab === to.tab) {
          if (from.row >= to.row) {
            from.row += 1;
          }
          if (to.row >= from.row) {
            to.row += 1;
          }
        }
        empty = Math.max(from.row, to.row) + 1;
        ref = commander.fleet;
        for (k in ref) {
          v = ref[k];
          ref1 = fromFleetKey(k), row = ref1[0], col = ref1[1], tab = (ref2 = ref1[2]) != null ? ref2 : null;
          if (row === null || col === null) {
            continue;
          }
          if (tab === to.tab) {
            if (!isNaN(row) && row >= empty) {
              if (isEmptyFleet(row, tab)) {
                empty = +row;
                break;
              } else {
                empty = +row + 1;
              }
            }
          }
        }
        insertFleet({
          row: empty,
          tab: to.tab
        }, {
          row: to.row,
          tab: to.tab
        });
        insertFleet(from, to, copy);
      } else {
        dir = Math.sign(to.row - from.row);
        moving = {
          name: commander.fleet.ais[getAIKey(from.row, from.tab)],
          specs: []
        };
        for (i = l = 0; l < 10; i = ++l) {
          moving.specs[i] = commander.fleet[getFleetKey(from.row, i, from.tab)];
        }
        for (i = m = ref3 = from.row + dir, ref4 = to.row; ref3 <= ref4 ? m <= ref4 : m >= ref4; i = ref3 <= ref4 ? ++m : --m) {
          moveFleet({
            row: i,
            tab: from.tab
          }, {
            row: i - dir,
            tab: from.tab
          });
        }
        commander.fleet.ais[getAIKey(to.row, to.tab)] = moving.name;
        for (i = n = 0; n < 10; i = ++n) {
          commander.fleet[getFleetKey(to.row, i, to.tab)] = moving.specs[i];
        }
      }
      return control.savePlayer();
    };
  
    removeFleet = function(row, tab) {
      var c, i, j, k, lastRow, r, ref, ref1, ref2, ref3, t, v;
      if (tab == null) {
        tab = null;
      }
      lastRow = row;
      ref = commander.fleet;
      for (k in ref) {
        v = ref[k];
        ref1 = fromFleetKey(k), r = ref1[0], c = ref1[1], t = ref1[2];
        if (r === null || c === null) {
          continue;
        }
        if (tab === t) {
          if (!isNaN(r) && +r > lastRow) {
            lastRow = +r;
          }
        }
      }
      for (i = j = ref2 = row + 1, ref3 = lastRow + 1; ref2 <= ref3 ? j <= ref3 : j >= ref3; i = ref2 <= ref3 ? ++j : --j) {
        moveFleet({
          row: i,
          tab: tab
        }, {
          row: i - 1,
          tab: tab
        });
      }
      if (commander.fleet.selection.row > row) {
        return commander.fleet.selection.row -= 1;
      }
    };
  
    uniqueTabName = function(name) {
      var count, oldName;
      oldName = name;
      count = 1;
      while (indexOf.call(commander.fleet.tabs, name) >= 0) {
        name = oldName + count;
        count += 1;
      }
      return name.replace(",", "&#44;");
    };
  
    createTab = function(name) {
      name = uniqueTabName(name);
      if (name && indexOf.call(commander.fleet.tabs, name) < 0) {
        commander.fleet.tabs.unshift(name);
        fleetMode.currentTab = name;
        return account.rootSave();
      }
    };
  
    insertTab = function(from, to) {
      var fromIndex, tabs, toIndex;
      tabs = commander.fleet.tabs;
      fromIndex = tabs.indexOf(from);
      toIndex = tabs.indexOf(to);
      return tabs.splice.apply(tabs, [toIndex, 0].concat(slice.call(tabs.splice(fromIndex, 1))));
    };
  
    removeTab = function(tab) {
      commander.fleet.tabs.splice(commander.fleet.tabs.indexOf(tab), 1);
      if (commander.fleet.selection.tab === tab) {
        commander.fleet.selection.tab = commander.fleet.tabs[0];
      }
      if (fleetMode.currentTab === tab) {
        return fleetMode.currentTab = commander.fleet.tabs[0];
      }
    };
  
    renameTab = function(from, to) {
      var col, k, newKey, ref, ref1, ref2, ref3, row, tab, v;
      if (from === to) {
        return;
      }
      to = uniqueTabName(to);
      if (indexOf.call(commander.fleet.tabs, from) >= 0 && to && indexOf.call(commander.fleet.tabs, to) < 0) {
        ref = commander.fleet;
        for (k in ref) {
          v = ref[k];
          ref1 = fromFleetKey(k), row = ref1[0], col = ref1[1], tab = ref1[2];
          if (tab === from) {
            newKey = getFleetKey(row, col, to);
            commander.fleet[newKey] = v;
            commander.fleet[k] = "";
          }
        }
        ref2 = commander.fleet.ais;
        for (k in ref2) {
          v = ref2[k];
          ref3 = fromAIKey(k), row = ref3[0], tab = ref3[1];
          if (tab === from) {
            newKey = getAIKey(row, to);
            commander.fleet.ais[newKey] = v;
            delete commander.fleet.ais[k];
          }
        }
        commander.fleet.tabs[commander.fleet.tabs.indexOf(from)] = to;
        if (commander.fleet.selection.tab === from) {
          commander.fleet.selection.tab = to;
        }
        return fleetMode.currentTab = to;
      }
    };
  
    window.fleetUI = function() {
      if (!commander) {
        return;
      }
      div(function() {
        position("absolute");
        top(0);
        left(0);
        color("white");
        z_index("3");
        return ui.topButton("menu");
      });
      div(".hover-black", function() {
        position("absolute");
        bottom(0);
        left(0);
        z_index("3");
        return ui.barButton("design");
      });
      div(function() {
        position("absolute");
        bottom(0);
        right(0);
        z_index("3");
        return ui.barButton("fleet");
      });
      div(function() {
        position("absolute");
        top(0);
        right(0);
        z_index("3");
        img("#trash", {
          src: "img/ui/trash.png",
          width: 64,
          height: 64
        });
        return onmouseup(function() {
          var i, j, ref, row, tab;
          if (fleetMode.draggingUnit) {
            playSound("sounds/ui/shake.wav");
            fleetMode.draggingUnit = null;
            fleetMode.tick();
          }
          if (fleetMode.draggingFleet) {
            ref = fleetMode.draggingFleet, row = ref.row, tab = ref.tab;
            if (!isEmptyFleet(row, fleetMode.currentTab)) {
              for (i = j = 0; j < 10; i = ++j) {
                commander.fleet[getFleetKey(row, i, tab)] = "";
              }
              return delete commander.fleet.ais[getAIKey(row, tab)];
            } else {
              return removeFleet(row, fleetMode.currentTab);
            }
          }
        });
      });
      div(function() {
        text_align("center");
        overflow_y("scroll");
        position("absolute");
        z_index("0");
        left(0);
        right(0);
        top(0);
        bottom(0);
        onmouseup(function() {
          if (fleetMode.draggingUnit) {
            if (control.mouse[0] < 100 || control.mouse[0] > window.innerWidth - 100) {
              fleetMode.draggingUnit = null;
              playSound("sounds/ui/shake.wav");
            } else {
              commander.fleet[fleetMode.draggingUnit.key] = fleetMode.draggingUnit.spec;
              fleetMode.draggingUnit = null;
              playSound("sounds/ui/flick.wav");
            }
          }
          if (fleetMode.draggingFleet != null) {
            playSound("sounds/ui/flick.wav");
            fleetMode.draggingFleet = null;
          }
          if (fleetMode.draggingTab != null) {
            fleetMode.draggingTab = null;
          }
          return fleetMode.tick();
        });
        div(function() {
          margin(20);
          text_align("center");
          color("white");
          return text("Drag and drop ships designs or select row for your build bar.");
        });
        if (account.hasDLCBonus()) {
          div(function() {
            margin(20);
            return input({
              type: "text",
              placeholder: "search for ships"
            }, function() {
              padding(10);
              font_size(16);
              width(300);
              background_color("rgba(0,0,0,.4)");
              color("white");
              border("none");
              text_align("center");
              return oninput(function(e) {
                return fleetMode.search = e.target.value;
              });
            });
          });
        }
        if ((commander.fleet.tabs == null) || commander.fleet.tabs.length === 0) {
          commander.fleet.tabs = ["default"];
        }
        if ((commander.fleet.selection == null) || typeof commander.fleet.selection !== "object") {
          commander.fleet.selection = {
            row: 0,
            tab: commander.fleet.tabs[0]
          };
        }
        if (fleetMode.currentTab == null) {
          fleetMode.currentTab = commander.fleet.selection.tab;
        }
        div(function() {
          var tabDiv;
          position("sticky");
          width(910);
          top(0);
          margin("0 auto");
          color("white");
          display("flex");
          line_height(35);
          z_index("1");
          tabDiv = lookup("#fleet-tabs");
          if ((tabDiv != null ? tabDiv.scrollWidth : void 0) > (tabDiv != null ? tabDiv.clientWidth : void 0)) {
            div(".hover-white-dark", function() {
              width(35);
              display("inline-block");
              text("◀");
              return onclick(function() {
                return lookup("#fleet-tabs").scrollBy(-50, 0);
              });
            });
          }
          div(".hover-white-dark", function() {
            width(35);
            display("inline-block");
            if (fleetMode.draggingTab != null) {
              if (isEmptyTab(fleetMode.draggingTab.tab)) {
                text("×");
                background_color("rgba(255,0,0,.6)");
                return onmouseup(function() {
                  var ref;
                  removeTab((ref = fleetMode.draggingTab) != null ? ref.tab : void 0);
                  account.rootSave();
                  return fleetMode.draggingTab = null;
                });
              } else {
                text("…");
                background_color("rgba(0,255,0,.6)");
                return onmouseup(function() {
                  fleetMode.editTab = fleetMode.draggingTab.tab;
                  fleetMode.draggingTab = null;
                  return setTimeout(function() {
                    var editTab;
                    editTab = lookup("#edit-tab");
                    if (editTab != null) {
                      editTab.focus();
                    }
                    return editTab != null ? editTab.select() : void 0;
                  }, 100);
                });
              }
            } else {
              text("+");
              return onclick(function() {
                var name;
                if (fleetMode.newTab) {
                  name = lookup("#new-tab").value;
                  createTab(name);
                  return fleetMode.newTab = false;
                } else if (fleetMode.editTab) {
                  name = lookup("#edit-tab").value;
                  renameTab(fleetMode.editTab, name);
                  return fleetMode.editTab = null;
                } else {
                  fleetMode.newTab = true;
                  return setTimeout(function() {
                    var ref, ref1;
                    if ((ref = lookup("#fleet-tabs")) != null) {
                      ref.scrollTo(0, 0);
                    }
                    return (ref1 = lookup("#new-tab")) != null ? ref1.focus() : void 0;
                  }, 100);
                }
              });
            }
          });
          div("#fleet-tabs", function() {
            var j, len, ref, results, tab;
            display("inline-flex");
            margin("0 auto");
            text_align("center");
            flex("1 0");
            overflow("hidden");
            top(0);
            onwheel(function(e) {
              return lookup("#fleet-tabs").scrollBy(e.deltaY * 4, 0);
            });
            if (fleetMode.newTab) {
              input("#new-tab", {
                type: "text",
                placeholder: "new tab"
              }, function() {
                color("white");
                border("none");
                padding("0 10px");
                width(80);
                text_align("center");
                background_color("rgba(0,0,0,.6)");
                onkeypress(function(e) {
                  var name;
                  if (e.key === "Enter") {
                    name = e.target.value;
                    createTab(name);
                    return fleetMode.newTab = false;
                  }
                });
                return onblur(function() {
                  return setTimeout(function() {
                    return fleetMode.newTab = false;
                  }, 100);
                });
              });
            }
            ref = commander.fleet.tabs;
            results = [];
            for (j = 0, len = ref.length; j < len; j++) {
              tab = ref[j];
              if (fleetMode.editTab === tab) {
                input("#edit-tab", {
                  type: "text",
                  placeholder: "rename",
                  value: tab
                }, function() {
                  color("white");
                  border("none");
                  padding("0 10px");
                  width(80);
                  text_align("center");
                  background_color("rgba(0,0,0,.6)");
                  onkeypress(function(e) {
                    var name;
                    if (e.key === "Enter") {
                      name = e.target.value;
                      renameTab(fleetMode.editTab, name);
                      return fleetMode.editTab = null;
                    }
                  });
                  return onblur(function() {
                    return setTimeout(function() {
                      return fleetMode.editTab = null;
                    }, 100);
                  });
                });
                continue;
              }
              results.push(div(".hover-white-dark", function() {
                width(80);
                position("relative");
                overflow("hidden");
                text_overflow("ellipsis");
                white_space("nowrap");
                text(tab);
                if (tab === fleetMode.currentTab) {
                  background_color("rgba(255,255,255,.5)");
                }
                return (function(tab) {
                  var switchTab;
                  switchTab = function() {
                    return fleetMode.currentTab = tab;
                  };
                  onmousedown(function(e) {
                    var left;
                    if (e.buttons === 1 && !((fleetMode.draggingTab != null) || (fleetMode.draggingUnit != null) || (fleetMode.draggingFleet != null))) {
                      left = e.target.getBoundingClientRect().left;
                      fleetMode.draggingTab = {
                        tab: tab,
                        offset: left - control.mouse[0]
                      };
                      return switchTab();
                    }
                  });
                  onmouseup(function(e) {
                    if ((fleetMode.draggingTab != null) && fleetMode.draggingTab.tab !== tab) {
                      insertTab(fleetMode.draggingTab.tab, tab);
                    }
                    return fleetMode.draggingTab = null;
                  });
                  return onmouseover(function() {
                    if (fleetMode.draggingUnit || fleetMode.draggingFleet) {
                      return switchTab();
                    }
                  });
                })(tab);
              }));
            }
            return results;
          });
          if (fleetMode.draggingTab) {
            div("#tab-dragger", function() {
              var ref, ref1;
              position("absolute");
              width(80);
              overflow("hidden");
              text_overflow("ellipsis");
              white_space("nowrap");
              text((ref = fleetMode.draggingTab) != null ? ref.tab : void 0);
              left(control.mouse[0] + fleetMode.draggingTab.offset - ((ref1 = lookup("#fleet-tabs")) != null ? ref1.parentNode.getBoundingClientRect().left : void 0));
              z_index("1");
              pointer_events("none");
              return background_color("rgba(0,0,0,.5)");
            });
          }
          if ((tabDiv != null ? tabDiv.scrollWidth : void 0) > (tabDiv != null ? tabDiv.clientWidth : void 0)) {
            return div(".hover-white-dark", function() {
              width(35);
              display("inline-block");
              text("▶");
              return onclick(function() {
                return lookup("#fleet-tabs").scrollBy(50, 0);
              });
            });
          }
        });
        return div("#fleet", function() {
          var c, j, k, nrows, r, ref, ref1, ref2, results, row, t, v;
          nrows = 6;
          ref = commander.fleet;
          for (k in ref) {
            v = ref[k];
            ref1 = fromFleetKey(k), r = ref1[0], c = ref1[1], t = ref1[2];
            if (v && t === fleetMode.currentTab) {
              r = parseInt(r);
              if (r + 4 > nrows) {
                nrows = r + 4;
              }
            }
          }
          results = [];
          for (row = j = 0, ref2 = nrows; 0 <= ref2 ? j < ref2 : j > ref2; row = 0 <= ref2 ? ++j : --j) {
            results.push((function(row) {
              return div(function() {
                width("100%");
                margin(0);
                padding(0);
                border("none");
                onmousemove(function(e) {
                  if (e.buttons === 1) {
                    return fleetMode.fleetDragover = row;
                  } else if (e.buttons === 0) {
                    if (fleetMode.draggingUnit) {
                      commander.fleet[fleetMode.draggingUnit.key] = fleetMode.draggingUnit.spec;
                      fleetMode.draggingUnit = null;
                    }
                    return fleetMode.draggingFleet = null;
                  }
                });
                onmouseout(function(e) {
                  return fleetMode.fleetDragover = -1;
                });
                onmouseup(function(e) {
                  if (e.which === 1) {
                    if ((fleetMode.draggingFleet != null) && (fleetMode.draggingFleet.copy || fleetMode.draggingFleet.row !== row || fleetMode.draggingFleet.tab !== fleetMode.currentTab)) {
                      insertFleet(fleetMode.draggingFleet, {
                        row: row,
                        tab: fleetMode.currentTab
                      }, fleetMode.draggingFleet.copy);
                      fleetMode.draggingFleet = null;
                      return playSound("sounds/ui/flick.wav");
                    }
                  }
                });
                return div(function() {
                  var col, fleetAis, l;
                  position("relative");
                  height(84);
                  width(840);
                  margin("0px auto");
                  if (commander.fleet.selection.row === row && commander.fleet.selection.tab === fleetMode.currentTab) {
                    background_color("rgba(255,255,255,.2)");
                  }
                  if (fleetMode.fleetDragover === row && fleetMode.draggingFleet) {
                    if (fleetMode.draggingFleet.row > row || fleetMode.draggingFleet.tab !== fleetMode.currentTab) {
                      box_shadow("0 -5px 0 rgba(155,255,155,.4)");
                    } else if (fleetMode.draggingFleet.row < row) {
                      box_shadow("0 5px 0 rgba(155,255,155,.4)");
                    } else if (fleetMode.draggingFleet.copy) {
                      background_color("rgba(155,255,155,.4)");
                    }
                  }
                  fleetAis = commander.fleet.ais || {};
                  for (col = l = 0; l < 10; col = ++l) {
                    unitButton(getFleetKey(row, col, fleetMode.currentTab));
                  }
                  img(".hover-fade", {
                    src: "img/ui/back.png",
                    width: 40,
                    height: 50
                  }, function() {
                    position("absolute");
                    top(15);
                    right(-42);
                    return onmousedown(function(e) {
                      var i, m;
                      if (e.altKey) {
                        if (!isEmptyFleet(row, fleetMode.currentTab)) {
                          for (i = m = 0; m < 10; i = ++m) {
                            commander.fleet[getFleetKey(row, i, fleetMode.currentTab)] = "";
                          }
                          delete commander.fleet.ais[getAIKey(row, fleetMode.currentTab)];
                        } else {
                          removeFleet(row, fleetMode.currentTab);
                        }
                        control.savePlayer();
                      } else {
                        commander.fleet.selection = {
                          row: row,
                          tab: fleetMode.currentTab
                        };
                        account.save();
                        fleetMode.draggingFleet = {
                          row: row,
                          tab: fleetMode.currentTab,
                          name: fleetAis[getAIKey(row, fleetMode.currentTab)],
                          copy: e.shiftKey
                        };
                      }
                      return e.preventDefault();
                    });
                  });
                  return input(".hover-black", {
                    type: "text",
                    value: fleetAis[getAIKey(row, fleetMode.currentTab)] || "",
                    maxlength: 15,
                    placeholder: "●"
                  }, function() {
                    position("absolute");
                    padding(10);
                    top(20);
                    left(-84);
                    width(84);
                    color("white");
                    border("none");
                    font_size(12);
                    text_align("right");
                    return oninput(function(e) {
                      if (!commander.fleet.ais) {
                        commander.fleet.ais = {};
                      }
                      fleetAis = commander.fleet.ais;
                      e.target.value = e.target.value.replace(/[^A-Za-z0-9]/g, "");
                      fleetAis[getAIKey(row, fleetMode.currentTab)] = e.target.value;
                      return account.rootSave();
                    });
                  });
                });
              });
            })(row));
          }
          return results;
        });
      });
      div("#unit-dragger", function() {
        position("absolute");
        width(84);
        height(84);
        pointer_events("none");
        if (fleetMode.draggingUnit) {
          left("-100px");
          top("-100px");
          return buildBar.specToThumbBg(fleetMode.draggingUnit.spec);
        }
      });
      div("#fleet-dragger", function() {
        var i, j, key, ref, row, tab;
        if (fleetMode.draggingFleet) {
          position("absolute");
          left(-6);
          right(0);
          top(control.mouse[1] - 84 / 2 + "px");
          margin("0 auto");
          padding(0);
          width(840);
          height(84);
          visibility("visible");
          pointer_events("none");
          div(function() {
            var ref;
            text(((ref = fleetMode.draggingFleet) != null ? ref.name : void 0) || "●");
            position("absolute");
            padding(10);
            top(20);
            left(-84);
            width(84);
            color("white");
            border("none");
            font_size(12);
            return text_align("right");
          });
          for (i = j = 0; j < 10; i = ++j) {
            ref = fleetMode.draggingFleet, row = ref.row, tab = ref.tab;
            key = getFleetKey(row, i, tab);
            div(function() {
              position("absolute");
              width(84);
              height(84);
              top(0);
              left(i * 84);
              background_color("rgba(0,0,0,.4)");
              return buildBar.specToThumbBg(commander.fleet[key]);
            });
          }
          return img(".hover-fade", {
            src: "img/ui/back.png",
            width: 40,
            height: 50
          }, function() {
            position("absolute");
            top(15);
            return right(-42);
          });
        } else {
          return visibility("hidden");
        }
      });
      if (designMode.locked) {
        return lockScreen();
      }
    };
  
    lockScreen = function() {
      return div(function() {
        position("absolute");
        top(0);
        left(0);
        right(0);
        bottom(0);
        background_color("rgba(0,0,0,.8)");
        z_index("2");
        return div(function() {
          position("absolute");
          top(200);
          right(0);
          left(0);
          height(100);
          line_height(100);
          background_color("rgba(200,0,0,.6)");
          color("white");
          text_align("center");
          return text("You can't switch fleets in 1v1 tournament mode");
        });
      });
    };
  
    unitButton = function(key) {
      var spec;
      spec = commander.fleet[key];
      return div(".unitpic", function() {
        var found, name, unit;
        border("1px solid rgba(255,255,255,.05)");
        display("inline-block");
        position("relative");
        unit = buildBar.specToUnit(spec);
        buildBar.specToThumbBg(spec);
        if (fleetMode.unitDragover === key && fleetMode.draggingUnit) {
          if (!spec) {
            background_color("rgba(255,255,255,.4)");
          } else {
            background_color("rgba(155,255,155,.4)");
          }
        }
        if (fleetMode.search) {
          if (spec && spec[0] === "{") {
            name = JSON.parse(spec).name;
            if (name && name.indexOf(fleetMode.search) !== -1) {
              found = true;
            }
          }
          if (!found) {
            opacity(".1");
          }
        }
        onmousedown(function(e) {
          if (e.which === 1) {
            if (e.altKey) {
              commander.fleet[key] = "";
              return;
            }
            if (spec) {
              fleetMode.draggingUnit = {
                spec: spec,
                key: key
              };
              if (!e.shiftKey) {
                commander.fleet[key] = "";
              }
            }
          }
          return e.preventDefault();
        });
        onmousemove(function(e) {
          if (e.which === 1) {
            if (fleetMode.unitDragover !== key) {
              fleetMode.unitDragover = key;
              if (fleetMode.draggingUnit) {
                return;
              }
            }
          }
          return onecup.no_refresh();
        });
        return onmouseup(function(e) {
          var atSpec;
          if (e.which === 1) {
            if (fleetMode.draggingUnit) {
              atSpec = commander.fleet[key];
              if (!isEmptySpec(atSpec)) {
                commander.fleet[fleetMode.draggingUnit.key] = atSpec;
              }
              commander.fleet[key] = fleetMode.draggingUnit.spec;
              control.savePlayer();
              fleetMode.draggingUnit = null;
              return playSound("sounds/ui/flick.wav");
            }
          }
        });
      });
    };
  
    ui.unitPix = function() {
      return div(function() {
        var j, results, row;
        position("absolute");
        top(0);
        left(0);
        right(0);
        bottom(0);
        background("rgba(0,0,0,.9)");
        text("unit pix");
        results = [];
        for (row = j = 1; j < 25; row = ++j) {
          results.push(div(function() {
            var col, key, l, results1, spec, unit;
            height(84);
            min_width(840);
            results1 = [];
            for (col = l = 0; l < 10; col = ++l) {
              key = getFleetKey(row, col, fleetMode.currentTab);
              spec = commander.fleet[key];
              unit = buildBar.specToUnit(spec);
              if (unit) {
                unit.color = commander.color;
                results1.push(img({
                  src: unit.thumb(),
                  width: 64,
                  height: 64
                }));
              } else {
                results1.push(void 0);
              }
            }
            return results1;
          }));
        }
        return results;
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/tutor.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var Tutorial,
      bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
  
    eval(onecup["import"]());
  
    window.tutor = new (Tutorial = (function() {
      function Tutorial() {
        this.tick = bind(this.tick, this);
        this.buildBarHide = bind(this.buildBarHide, this);
        this.lastTipFiredTime = Date.now();
        this.tips = [];
        this.firedTips = {};
        this.buildBarShow = false;
        if (localStorage.firedTips) {
          this.firedTips = JSON.parse(localStorage.firedTips);
        }
      }
  
      Tutorial.prototype.reset = function() {
        this.lastTipFired = Date.now();
        this.firedTips = {};
        return delete localStorage.firedTips;
      };
  
      Tutorial.prototype.buildBarHide = function() {
        var _, cappedPoints, playerUnits, ref, ref1, t;
        if (ui.mode !== "battle") {
          return false;
        }
        if (((ref = sim.galaxyStar) != null ? ref.type : void 0) !== "home") {
          return false;
        }
        if (sim.step < 16 * 5) {
          return true;
        }
        if (this.buildBarShow) {
          return false;
        }
        playerUnits = 0;
        cappedPoints = 0;
        ref1 = sim.things;
        for (_ in ref1) {
          t = ref1[_];
          if (t.commandPoint && t.side === commander.side) {
            cappedPoints += 1;
          }
          if (t.unit && t.side === commander.side) {
            playerUnits += 1;
          }
        }
        if (playerUnits === 0) {
          this.buildBarShow = true;
          return false;
        }
        if (cappedPoints > 1) {
          this.buildBarShow = true;
          return false;
        }
        return true;
      };
  
      Tutorial.prototype.add = function(tipCls) {
        return tutor.tips.push(new tipCls());
      };
  
      Tutorial.prototype.done = function(tip) {
        this.firedTips[tip.name] = true;
        localStorage.firedTips = JSON.stringify(this.firedTips);
        this.lastTipFiredTime = Date.now();
        tutor.bubble = null;
        tutor.currentTip = null;
        return onecup.refresh();
      };
  
      Tutorial.prototype.tick = function() {
        var i, len, ref, results, tip;
        return;
        if (!intp.local) {
          return;
        }
        if (this.lastTipFiredTime > Date.now() - 15000 && tutor.bubble === null) {
          return;
        }
        tutor.bubble = null;
        ref = this.tips;
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          tip = ref[i];
          if (this.firedTips[tip.name]) {
            continue;
          }
          this.currentTip = tip;
          if (this.currentTip.tick()) {
            onecup.refresh();
            break;
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      Tutorial.prototype.noUnitsLeft = function() {
        var k, ref, thing;
        ref = sim.things;
        for (k in ref) {
          thing = ref[k];
          if (thing.unit && thing.side === commander.side) {
            return false;
          }
        }
        return true;
      };
  
      Tutorial.prototype.findEnemyCp = function() {
        var _, cp, ref, thing;
        cp = null;
        ref = sim.things;
        for (_ in ref) {
          thing = ref[_];
          if (thing.commandPoint === true && thing.side !== commander.side) {
            if (!cp || cp.pos[0] > thing.pos[0]) {
              cp = thing;
            }
          }
        }
        return cp;
      };
  
      Tutorial.prototype.findMyUnit = function() {
        var k, ref, thing, unit;
        unit = null;
        ref = sim.things;
        for (k in ref) {
          thing = ref[k];
          if (thing.unit && thing.side === commander.side) {
            unit = thing;
            break;
          }
        }
        return unit;
      };
  
      return Tutorial;
  
    })());
  
    tutor.add((function() {
      function _Class() {}
  
      _Class.prototype.name = "panning";
  
      _Class.prototype.tick = function() {
        var ref;
        if (ui.mode !== "battle" || ((ref = sim.galaxyStar) != null ? ref.type : void 0) !== "home") {
          return false;
        }
        if (v2.mag(battleMode.focus) > 500) {
          tutor.done(this);
          return false;
        }
        tutor.bubble = {
          image: ["img/ui/tips/pan.png", 300, 300],
          x: "50%",
          y: "50%"
        };
        return true;
      };
  
      return _Class;
  
    })());
  
    tutor.add((function() {
      function _Class() {}
  
      _Class.prototype.name = "unzoom";
  
      _Class.prototype.tick = function() {
        var ref;
        if (ui.mode !== "battle" || ((ref = sim.galaxyStar) != null ? ref.type : void 0) !== "home") {
          return false;
        }
        if (battleMode.zoom > .7 && battleMode.zoom < 9) {
          return false;
        }
        tutor.bubble = {
          image: ["img/ui/tips/zoom.png", 300, 300],
          x: "50%",
          y: "50%"
        };
        return true;
      };
  
      return _Class;
  
    })());
  
    tutor.add((function() {
      function _Class() {}
  
      _Class.prototype.name = "unpan";
  
      _Class.prototype.tick = function() {
        var ref;
        if (ui.mode !== "battle" || ((ref = sim.galaxyStar) != null ? ref.type : void 0) !== "home") {
          return false;
        }
        if (v2.mag(battleMode.focus) < 2500) {
          return false;
        }
        tutor.bubble = {
          image: ["img/ui/tips/pan.png", 300, 300],
          x: "50%",
          y: "50%"
        };
        return true;
      };
  
      return _Class;
  
    })());
  
    tutor.add((function() {
      function _Class() {}
  
      _Class.prototype.name = "zoom";
  
      _Class.prototype.tick = function() {
        var ref;
        if (ui.mode !== "battle" || ((ref = sim.galaxyStar) != null ? ref.type : void 0) !== "home") {
          return false;
        }
        if (battleMode.zoom < 4 || battleMode.zoom > 6) {
          tutor.done(this);
          return false;
        }
        tutor.bubble = {
          image: ["img/ui/tips/zoom.png", 300, 300],
          x: "50%",
          y: "50%"
        };
        return true;
      };
  
      return _Class;
  
    })());
  
    tutor.add((function() {
      function _Class() {}
  
      _Class.prototype.name = "movement";
  
      _Class.prototype.tick = function() {
        var i, j, len, len1, ref, ref1, ref2, selected, u;
        if (ui.mode !== "battle" || ((ref = sim.galaxyStar) != null ? ref.type : void 0) !== "home") {
          return false;
        }
        if (tutor.noUnitsLeft()) {
          return false;
        }
        ref1 = commander.selection;
        for (i = 0, len = ref1.length; i < len; i++) {
          u = ref1[i];
          if (u.side === "alpha" && v2.mag(commander.selection[0].vel) > 1) {
            tutor.done(this);
            return false;
          }
        }
        if (!battleMode.selecting) {
          ref2 = commander.selection;
          for (j = 0, len1 = ref2.length; j < len1; j++) {
            u = ref2[j];
            if (u.side === "alpha") {
              selected = true;
            }
          }
        }
        if (selected) {
          return tutor.bubble = {
            image: ["img/ui/tips/move.png", 300, 300],
            thing: tutor.findMyUnit()
          };
        } else {
          return tutor.bubble = {
            image: ["img/ui/tips/drag.png", 300, 300],
            thing: tutor.findMyUnit()
          };
        }
      };
  
      return _Class;
  
    })());
  
    tutor.add((function() {
      function _Class() {}
  
      _Class.prototype.name = "capping";
  
      _Class.prototype.tick = function() {
        var _, closeCP, cp, i, len, noUnits, ref, ref1, ref2, ref3, selected, u, unit;
        if (ui.mode !== "battle" || ((ref = sim.galaxyStar) != null ? ref.type : void 0) !== "home") {
          return false;
        }
        if (tutor.noUnitsLeft()) {
          return false;
        }
        closeCP = null;
        ref1 = sim.things;
        for (_ in ref1) {
          cp = ref1[_];
          if (cp.commandPoint === true && cp.side !== commander.side) {
            noUnits = true;
            ref2 = sim.things;
            for (_ in ref2) {
              unit = ref2[_];
              if (unit.unit && unit.side !== commander.side && v2.distance(unit.pos, cp.pos) < cp.radius) {
                noUnits = false;
              }
            }
            if (noUnits && (!closeCP || closeCP.pos[0] > cp.pos[0])) {
              closeCP = cp;
            }
          }
        }
        if (!closeCP) {
          return false;
        }
        if (!battleMode.selecting) {
          ref3 = commander.selection;
          for (i = 0, len = ref3.length; i < len; i++) {
            u = ref3[i];
            if (u.side === "alpha") {
              selected = true;
            }
          }
        }
        if (closeCP.capping) {
          return tutor.bubble = {
            image: ["img/ui/tips/waitcap.png", 300, 300],
            thing: closeCP
          };
        } else if (selected) {
          return tutor.bubble = {
            image: ["img/ui/tips/capping.png", 300, 300],
            thing: closeCP
          };
        } else {
          return tutor.bubble = {
            image: ["img/ui/tips/drag.png", 300, 300],
            thing: tutor.findMyUnit()
          };
        }
      };
  
      return _Class;
  
    })());
  
    tutor.add((function() {
      function _Class() {}
  
      _Class.prototype.name = "attack";
  
      _Class.prototype.tick = function() {
        var cp, i, len, ref, ref1, selected, u;
        if (ui.mode !== "battle" || ((ref = sim.galaxyStar) != null ? ref.type : void 0) !== "home") {
          return false;
        }
        if (tutor.noUnitsLeft()) {
          return false;
        }
        cp = tutor.findEnemyCp();
        if (!battleMode.selecting) {
          ref1 = commander.selection;
          for (i = 0, len = ref1.length; i < len; i++) {
            u = ref1[i];
            if (u.side === "alpha") {
              selected = true;
            }
          }
        }
        if (selected) {
          return tutor.bubble = {
            image: ["img/ui/tips/attack.png", 300, 300],
            thing: cp
          };
        } else {
          return tutor.bubble = {
            image: ["img/ui/tips/drag.png", 300, 300],
            thing: tutor.findMyUnit()
          };
        }
      };
  
      return _Class;
  
    })());
  
    tutor.add((function() {
      function _Class() {}
  
      _Class.prototype.name = "build";
  
      _Class.prototype.tick = function() {
        var ref;
        if (ui.mode !== "battle" || ((ref = sim.galaxyStar) != null ? ref.type : void 0) !== "home") {
          return false;
        }
        if (battleMode.buildClicked) {
          tutor.done(this);
          return false;
        }
        return tutor.bubble = {
          x: "25%",
          bottom: 84,
          message: "You build ships with the build bar down here. Click on a ship to build it."
        };
      };
  
      return _Class;
  
    })());
  
    tutor.add((function() {
      function _Class() {}
  
      _Class.prototype.name = "buildQ";
  
      _Class.prototype.time = 0;
  
      _Class.prototype.tick = function() {
        if (ui.mode !== "battle") {
          return false;
        }
        if (commander.buildQ.length > 1) {
          tutor.bubble = {
            x: "25%",
            bottom: 84,
            message: "When you don't have enough money, ships queue up to be build later. You can right click to cancel."
          };
          this.time += 1;
          if (this.time > 16 * 15) {
            tutor.done(this);
          }
          return true;
        }
      };
  
      return _Class;
  
    })());
  
  
    /*
    defineTip class
        name: "editorIntro"
    
        check: ->
            if ui.mode == "design"
                @fire()
    
        fire: ->
            tutor.fired(this)
            bubbles.add
                x: "40%"
                y: "40%"
                message: "This is the ship editor. Here you can create any ship you like. A big part of the game is creating cool new designs. (click me to close)"
                modeOnly: "design"
    
    
    defineTip class
        name: "editorDrag"
    
        check: ->
            if ui.mode == "design"
                @fire()
    
        condition: -> designMode.draggedAPart
    
        fire: ->
            tutor.fired(this)
            bubbles.add
                x: 120
                y: 300
                message: "You can drag parts from here. On to the ship."
                close: => @condition()
                modeOnly: "design"
    
    
    defineTip class
        name: "editorDelete"
    
        check: ->
            if ui.mode == "design"
                @fire()
    
        condition: -> designMode.deletedAPart
    
        fire: ->
            tutor.fired(this)
            bubbles.add
                x: 320
                y: "60%"
                message: "To remove parts simply drag them off the design grid."
                close: => @condition()
                modeOnly: "design"
     */
  
  }).call(this);
  ;
  
  
  //from src/galaxy.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var FREE_AI, LOOSE_TIPS, _offset, bubble_html, doPaths, drawRay, draw_part, galaxyBg, green, onplacement, red, shipsFromAI, users, white,
      bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
      extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
      hasProp = {}.hasOwnProperty;
  
    eval(onecup["import"]());
  
    window.easyPlayerBuildBar = [];
  
    easyPlayerBuildBar[0] = "";
  
    easyPlayerBuildBar[1] = "";
  
    easyPlayerBuildBar[2] = "";
  
    easyPlayerBuildBar[3] = "";
  
    easyPlayerBuildBar[4] = "";
  
    easyPlayerBuildBar[5] = "";
  
    easyPlayerBuildBar[6] = "";
  
    easyPlayerBuildBar[7] = "";
  
    easyPlayerBuildBar[8] = "";
  
    easyPlayerBuildBar[9] = "";
  
    FREE_AI = ["AlphaSwarm", "CreepingHoard", "BullDogs"];
  
    LOOSE_TIPS = ["Try using only the parts that you need. The extra cost adds up!", "Try to use only 1 type of weapon, engine, or armor on a given ship. Diversity often makes ships weaker.", "Try going back to eariler designs that worked.", "Stuck? Just try going around this star.", "Remember to capture points. They give you extra money to fight with.", "Try having a cheap and fast ship to capture points with, it will save you a lot of time.", "Click-drag moves are useful for splitting up around the map as well.", "Heavyweight HP is very cheap, but slows you down.", "Try relying on batteries for short range ships, they are very cheap.", "Bigger isn't always better. Don't try to do everything at once", "In general, the more accurate a weapon, the more energy it takes, but it is more guaranteed that the shot will hit"];
  
    green = [46, 204, 113, 255];
  
    red = [255, 0, 0, 255];
  
    white = [255, 255, 255, 255];
  
    galaxyBg = [11, 25, 46, 255];
  
    window.GalaxyMode = (function(superClass) {
      extend(GalaxyMode, superClass);
  
      GalaxyMode.prototype.edit = false;
  
      GalaxyMode.prototype.test = onecup.params.test;
  
      GalaxyMode.prototype.difficulty = 1;
  
      GalaxyMode.prototype.mapBounds = 2100;
  
      function GalaxyMode() {
        this.onmouseup = bind(this.onmouseup, this);
        this.onmousedown = bind(this.onmousedown, this);
        var k, len, ref, star;
        this.zoom = 1.3;
        this.focus = v2.create();
        this.mouse = v2.create();
        this.screenMouse = v2.create();
        this.starNumber = 0;
        this.starsWon = {};
        this.unlockedParts = [];
        ref = galaxyMap.stars;
        for (k = 0, len = ref.length; k < len; k++) {
          star = ref[k];
          if (star.type === "home") {
            this.focus[0] = -star.pos[0];
            this.focus[1] = -star.pos[1];
          }
        }
      }
  
      GalaxyMode.prototype.checkGalaxy = function() {
        var data, dup, i, k, l, len, len1, len2, m, n, new_paths, p, path, ref, ref1;
        new_paths = [];
        ref = galaxyMap.paths;
        for (i = k = 0, len = ref.length; k < len; i = ++k) {
          path = ref[i];
          if (!this.findStar(path[0])) {
            console.log("galaxy path #", i, path[0], "is broken");
            continue;
          }
          if (!this.findStar(path[1])) {
            console.log("galaxy path #", i, path[1], "is broken");
            continue;
          }
          if (path[0] > path[1]) {
            ref1 = [path[1], path[0]], path[0] = ref1[0], path[1] = ref1[1];
          }
          dup = false;
          for (n = l = 0, len1 = new_paths.length; l < len1; n = ++l) {
            p = new_paths[n];
            if (p[0] === path[0] && p[1] === path[1]) {
              console.log("galaxy path #", i, path, "is a duplicate of #", n);
              dup = true;
            }
          }
          if (!dup) {
            new_paths.push(path);
          }
        }
        new_paths = new_paths.sort(function(a, b) {
          return a[0].localeCompare(b[0]);
        });
        data = "";
        for (m = 0, len2 = new_paths.length; m < len2; m++) {
          path = new_paths[m];
          data += "paths.push(['" + path[0] + "', '" + path[1] + "'])\n";
        }
        return console.log(data);
      };
  
      GalaxyMode.prototype.findStar = function(id) {
        var k, len, ref, star;
        ref = galaxyMap.stars;
        for (k = 0, len = ref.length; k < len; k++) {
          star = ref[k];
          if (star.id === id) {
            return star;
          }
        }
        return null;
      };
  
      GalaxyMode.prototype.load = function() {
        var galaxy, k, key, len, ref, ref1, star, what;
        galaxy = commander.galaxy;
        if (!galaxy) {
          return;
        }
        if (galaxy.version !== 4) {
          return;
        }
        this.starsWon = galaxy.starsWon;
        ref = this.starsWon;
        for (key in ref) {
          what = ref[key];
          if (what === true) {
            this.starsWon[key] = "commander";
          }
        }
        this.starNumber = galaxy.starNumber;
        this.unlockedParts = galaxy.unlockedParts;
        this.justWon = this.findStar(galaxy.justWonId);
        if (this.justWon) {
          this.focus[0] = -this.justWon.pos[0];
          this.focus[1] = -this.justWon.pos[1];
        }
        ref1 = galaxyMap.stars;
        for (k = 0, len = ref1.length; k < len; k++) {
          star = ref1[k];
          if (this.starsWon[star.id]) {
            this.unlockParts(star);
          }
        }
        return this.hasCurrent = true;
      };
  
      GalaxyMode.prototype.save = function() {
        var galaxy, ref;
        galaxy = {
          starsWon: this.starsWon,
          justWonId: (ref = this.justWon) != null ? ref.id : void 0,
          unlockedParts: this.unlockedParts,
          starNumber: this.starNumber,
          version: 4
        };
        commander.galaxy = galaxy;
        control.savePlayer();
        return this.hasCurrent = true;
      };
  
      GalaxyMode.prototype.regenerate = function() {
        var i, k, l, len, len1, m, p, ref, spec;
        for (i = k = 0; k < 10; i = ++k) {
          this.replaceBuildBar(i, easyPlayerBuildBar[i]);
        }
        this.unlockedParts = {};
        this.starsWon = {};
        this.justWon = null;
        for (l = 0, len = easyPlayerBuildBar.length; l < len; l++) {
          spec = easyPlayerBuildBar[l];
          ref = fromShort(spec);
          for (m = 0, len1 = ref.length; m < len1; m++) {
            p = ref[m];
            this.unlockedParts[p.type] = true;
          }
        }
        this.starLossUp = null;
        this.starWinUp = null;
        this.galaxyWinUp = null;
        return this.save();
      };
  
      GalaxyMode.prototype.replaceBuildBar = function(index, spec) {
        commander.fleet.ais[0] = "Galaxy";
        commander.fleet.selection = {
          row: 0,
          tab: null
        };
        this.putSomePlaceEmpty(commander.fleet["0," + index]);
        commander.fleet["0," + index] = spec;
        return control.savePlayer();
      };
  
      GalaxyMode.prototype.putSomePlaceEmpty = function(spec) {
        var col, k, key, l, row;
        if (!spec) {
          return;
        }
        for (row = k = 2; k < 25; row = ++k) {
          for (col = l = 0; l < 10; col = ++l) {
            key = getFleetKey(row, col, null);
            if (!commander.fleet[key]) {
              commander.fleet[key] = spec;
              return;
            }
          }
        }
      };
  
      GalaxyMode.prototype.unlockParts = function(star) {
        var k, len, p, ref, results;
        ref = star.unlocks;
        results = [];
        for (k = 0, len = ref.length; k < len; k++) {
          p = ref[k];
          results.push(this.unlockedParts[p] = true);
        }
        return results;
      };
  
      GalaxyMode.prototype.canReach = function(star) {
        var k, len, path, ref;
        if (this.test) {
          return true;
        }
        if (star.replay === false && this.starsWon[star.id]) {
          return false;
        }
        if (star.type === "home") {
          return true;
        }
        ref = galaxyMap.paths;
        for (k = 0, len = ref.length; k < len; k++) {
          path = ref[k];
          if (path[0] === star.id || path[1] === star.id) {
            if (this.starsWon[path[0]] || this.starsWon[path[1]]) {
              return true;
            }
          }
        }
        return false;
      };
  
      GalaxyMode.prototype.onmousedown = function(e) {
        var k, len, ref, results, star;
        if (this.popupUp()) {
          return;
        }
        if (e.which === 2) {
          this.moving = true;
          e.preventDefault();
          return;
        }
        ref = galaxyMap.stars;
        results = [];
        for (k = 0, len = ref.length; k < len; k++) {
          star = ref[k];
          if (v2.distance(this.mouse, star.pos) < 32) {
            if (e.which === 3) {
              if (e.shiftKey) {
                results.push(this.connectStar = star);
              } else {
                results.push(this.dragStar = star);
              }
            } else {
              if (this.canReach(star)) {
                results.push(this.fightAt(star));
              } else {
                results.push(void 0);
              }
            }
          } else {
            results.push(void 0);
          }
        }
        return results;
      };
  
      GalaxyMode.prototype.onmouseup = function(e) {
        var j, k, l, len, len1, p, ref, ref1, removed, star;
        this.moving = false;
        if (this.test) {
          if (this.dragStar) {
            this.dragStar.pos = [Math.floor(this.mouse[0]), Math.floor(this.mouse[1])];
            galaxyMap.locations[this.dragStar.id] = this.dragStar.pos;
            this.dragStar = null;
          }
          if (this.connectStar) {
            ref = galaxyMap.stars;
            for (k = 0, len = ref.length; k < len; k++) {
              star = ref[k];
              if (v2.distance(this.mouse, star.pos) < 32) {
                removed = false;
                ref1 = galaxyMap.paths;
                for (j = l = 0, len1 = ref1.length; l < len1; j = ++l) {
                  p = ref1[j];
                  if (p[0] === this.connectStar.id && p[1] === star.id || p[1] === this.connectStar.id && p[0] === star.id) {
                    galaxyMap.paths.splice(j, 1);
                    removed = true;
                    break;
                  }
                }
                if (!removed) {
                  galaxyMap.paths.push([this.connectStar.id, star.id]);
                  console.log("connect!");
                }
              }
            }
            return this.connectStar = null;
          }
        }
      };
  
      GalaxyMode.prototype.toGameSpace = function(point) {
        point[0] = point[0] - window.innerWidth / 2;
        point[1] = (window.innerHeight - point[1]) - window.innerHeight / 2;
        v2.scale(point, this.zoom * 2);
        v2.sub(point, this.focus);
        return point;
      };
  
      GalaxyMode.prototype.popupUp = function() {
        return this.starLossUp || this.starWinUp || this.galaxyWinUp === "show";
      };
  
      GalaxyMode.prototype.onmousemove = function(e) {
        var found, k, len, ref, star;
        if (this.popupUp()) {
          return;
        }
        this.screenMouse = [e.clientX, e.clientY];
        this.mouse = this.toGameSpace([this.screenMouse[0], this.screenMouse[1]]);
        if (this.moving) {
          this.focus[0] += e.movementX * this.zoom * 2;
          this.focus[1] -= e.movementY * this.zoom * 2;
        }
        found = false;
        ref = galaxyMap.stars;
        for (k = 0, len = ref.length; k < len; k++) {
          star = ref[k];
          if (v2.distance(this.mouse, star.pos) < 32) {
            found = true;
            if (star !== this.hoverStar) {
              this.hoverStar = star;
              if (star.type === "boss" || this.canReach(star) || this.test) {
                bubbles.tip = {
                  thing: star,
                  html: bubble_html
                };
              } else {
                bubbles.tip = false;
              }
            }
          }
        }
        if (!found) {
          this.hoverStar = null;
          bubbles.tip = null;
        }
        return onecup.refresh();
      };
  
      GalaxyMode.prototype.restart = function() {
        var k, len, ref, star;
        this.regenerate();
        ref = galaxyMap.stars;
        for (k = 0, len = ref.length; k < len; k++) {
          star = ref[k];
          if (star.type === "home") {
            ui.mode = "battle";
            this.justWon = star;
            this.fightAt(star);
            return;
          }
        }
      };
  
      GalaxyMode.prototype.tick = function() {
        return this.controls();
      };
  
      GalaxyMode.prototype.draw = function() {
        var bg_zoom, cls, color, diff, i, icon, k, l, len, len1, len2, len3, len4, len5, m, name2Star, o, part_name, path, q, r, ref, ref1, ref2, ref3, ref4, s, size, star, to, toPos, userId, x, z;
        battleMode.selection.style.display = "none";
        baseAtlas.beginSprites(this.focus, this.zoom);
        bg_zoom = Math.max(window.innerWidth, window.innerHeight) / 128;
        z = bg_zoom * this.zoom;
        baseAtlas.drawSprite("img/newbg/fill.png", [-this.focus[0], -this.focus[1]], [z, z], 0, galaxyBg);
        baseAtlas.drawSprite("img/bg/galaxy.png", [0, 0], [2, 2], 0);
        if (this.hoverStar) {
          ref = galaxyMap.paths;
          for (k = 0, len = ref.length; k < len; k++) {
            path = ref[k];
            if (path[0] === this.hoverStar.id || path[1] === this.hoverStar.id) {
              if (this.starsWon[path[0]] || this.starsWon[path[1]]) {
                color = green;
              } else {
                color = white;
              }
              drawRay(this.findStar(path[0]).pos, this.findStar(path[1]).pos, color);
            }
          }
        }
        ref1 = galaxyMap.stars;
        for (l = 0, len1 = ref1.length; l < len1; l++) {
          star = ref1[l];
          s = .5 + star.difficulty * .5;
          color = white;
          icon = "img/galaxy/star.png";
          if (star.type === "2v2") {
            icon = "img/galaxy/2v2.png";
          }
          if (star.type === "3v3") {
            icon = "img/galaxy/3v3.png";
          }
          if (star.type === "home") {
            s = 2;
          }
          if (star.type === "boss") {
            s = 2;
            color = red;
            icon = "img/galaxy/boss.png";
          }
          if (this.starsWon[star.id]) {
            color = green;
            diff = this.starsWon[star.id];
            icon = "img/galaxy/" + diff + ".png";
          }
          if (star === this.justWon) {
            s = s + Math.sin(Date.now() / 100) * .2;
          }
          baseAtlas.drawSprite(icon, star.pos, [s, -s], 0, color);
          if (star.type === "fort" || star.type === "home") {
            baseAtlas.drawSprite("img/galaxy/fort.png", star.pos, [s, -s], 0, color);
          }
          if (this.test) {
            x = 50;
            ref2 = star.unlocks;
            for (m = 0, len2 = ref2.length; m < len2; m++) {
              part_name = ref2[m];
              cls = parts[part_name];
              if (cls) {
                baseAtlas.drawSprite("parts/" + cls.prototype.image, [star.pos[0] + x, star.pos[1]], [1, -1], 0);
                x += 40;
              }
            }
          }
        }
        if (this.test) {
          name2Star = {};
          ref3 = galaxyMap.stars;
          for (o = 0, len3 = ref3.length; o < len3; o++) {
            s = ref3[o];
            name2Star[s.name] = s;
            s.visit = 0;
          }
          toPos = v2.create();
          for (userId in users) {
            path = users[userId];
            for (i = q = 0, len4 = path.length; q < len4; i = ++q) {
              star = path[i];
              if (star[1] === "won") {
                color = [0, 255, 0, 150];
              } else if (star[1] === "loss") {
                color = [255, 0, 0, 150];
              } else {
                color = [255, 255, 0, 150];
              }
              to = name2Star[star[2]];
              if (!to) {
                console.log("start", star[2]);
                continue;
              }
              v2.set(to.pos, toPos);
              toPos[0] += 8 * Math.floor(to.visit % 10);
              toPos[1] -= 30 + 8 * Math.floor(to.visit / 10);
              to.visit += 1;
              if (i !== path.length - 1) {
                size = [.5, .5];
              } else {
                size = [1, 1];
              }
              size = [.25, .25];
              baseAtlas.drawSprite("img/pip1.png", toPos, size, 0, color);
            }
          }
        }
        if (this.test) {
          ref4 = galaxyMap.paths;
          for (r = 0, len5 = ref4.length; r < len5; r++) {
            path = ref4[r];
            drawRay(this.findStar(path[0]).pos, this.findStar(path[1]).pos, [255, 255, 255, 50]);
          }
        }
        return baseAtlas.finishSprites();
      };
  
      GalaxyMode.prototype.fightAt = function(star, softRestart) {
        var _, addAI, aiName, k, l, len, len1, len2, m, p, player, ref, ref1, ref2, ref3, sp, u;
        if (softRestart == null) {
          softRestart = false;
        }
        if (!designMode.showAiTools) {
          localStorage.useAi = "false";
        }
        intp.doMapFocus = true;
        onecup.refresh();
        track("start_galaxy_battle", {
          starName: star.name,
          ai: star.ai || (star.alpha + " vs " + star.beta),
          aiMoney: star.aiMoney || 2000,
          starNumber: galaxyMode.starNumber
        });
        bubbles.tip = null;
        battleMode.startNewLocal();
        sim.galaxyStar = star;
        sim.makeRocks = !star.mapNoThings;
        console.log("fight at", star.mapSize, star.mapNumCPs, star.mapSeed);
        sim.generateMap(star.mapSize, star.mapNumCPs, star.mapSeed);
        if (star.type === "fort") {
          mapping.genTower();
        }
        if (typeof star.mapLayout === "function") {
          star.mapLayout();
        }
        network.sendPlayer();
        player = sim.players[0];
        console.log(player);
        switch (commander.galaxyDifficulty) {
          case "lieutenant":
            player.money *= 1.5;
            player.moneyRatio = 1.5;
            break;
          case "commander":
            player.money *= 1.1;
            player.moneyRatio = 1.1;
            break;
          case "captain":
            player.money *= .90;
            player.moneyRatio = .90;
            break;
          case "admiral":
            player.money *= .75;
            player.moneyRatio = .75;
        }
        addAI = function(aiName, side) {
          player = ais.useAi(aiName, side);
          if (side === "beta") {
            player.color = [255, 0, 0, 255];
          }
          if (side === "alpha") {
            player.color = [0, 255, 0, 255];
          }
          if (star.aiMoney) {
            player.money = star.aiMoney;
          } else {
            if (star.size === 1) {
              player.money = 1000;
            }
            if (star.size === 2) {
              player.money = 2000;
            }
            if (star.size === 3) {
              player.money = 3000;
            }
          }
          return player;
        };
        if (star.alpha) {
          ref = star.alpha;
          for (k = 0, len = ref.length; k < len; k++) {
            aiName = ref[k];
            if (aiName !== "Player") {
              addAI(aiName, "alpha");
            }
          }
        }
        if (star.beta) {
          ref1 = star.beta;
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            aiName = ref1[l];
            addAI(aiName, "beta");
          }
        }
        if (star.ai) {
          player = addAI(star.ai, "beta");
        }
        if (star.type === "boss") {
          player.color = [255, 0, 0, 255];
          u = new types.Unit(player.buildBar[0]);
          ref2 = sim.things;
          for (_ in ref2) {
            sp = ref2[_];
            if (sp.spawn && sp.side === player.side) {
              u.pos = v2.create(sp.pos);
            }
          }
          u.side = "beta";
          u.rot = v2.angle(u.pos) + Math.PI;
          u.owner = player.number;
          u.number = 0;
          sim.things[u.id] = u;
          sim.winSoon = false;
          sim.victoryConditions = function() {
            var capped, cp, ref3;
            if (this.state !== "running") {
              return;
            }
            if (u.dead && !this.winSoon) {
              this.winSoon = this.step + 16 * 5;
            }
            if (this.winSoon && this.winSoon < this.step) {
              this.winningSide = "alpha";
            }
            capped = true;
            ref3 = sim.things;
            for (_ in ref3) {
              cp = ref3[_];
              if (cp.commandPoint && cp.side === "alpha") {
                capped = false;
              }
            }
            if (capped) {
              this.winningSide = "beta";
            }
            if (this.winningSide) {
              return this.endOfGame();
            }
          };
        }
        if (typeof star.addAIUnits === "function") {
          star.addAIUnits();
        }
        if (!softRestart && star.giveDesign) {
          console.log("give design", star.giveDesignSlot, star.giveDesign);
          buildBar.selected = star.giveDesignSlot;
          galaxyMode.replaceBuildBar(star.giveDesignSlot, star.giveDesign);
          designMode.select(buildBar.selected);
          ref3 = fromShort(star.giveDesign).parts;
          for (m = 0, len2 = ref3.length; m < len2; m++) {
            p = ref3[m];
            galaxyMode.unlockedParts[p.type] = true;
          }
          designMode.fresh = false;
        }
        intp.gameEnded = function() {
          var numbering, prev;
          actionMixer.reset();
          if (intp.winningSide === "alpha") {
            track("won_galaxy_battle", {
              starName: star.name,
              time: sim.step / 16,
              ai: star.ai || (star.alpha + " vs " + star.beta),
              aiMoney: star.aiMoney || 2000,
              starNumber: galaxyMode.starNumber
            });
            galaxyMode.justWon = star;
            numbering = {
              "lieutenant": 1,
              "commander": 2,
              "captain": 3,
              "admiral": 4
            };
            prev = galaxyMode.starsWon[star.id];
            if (!prev || numbering[prev] < numbering[commander.galaxyDifficulty]) {
              galaxyMode.starsWon[star.id] = commander.galaxyDifficulty;
            }
            galaxyMode.unlockParts(galaxyMode.justWon);
            galaxyMode.starNumber += 1;
            galaxyMode.save();
            galaxyMode.starWinUp = true;
          } else {
            track("lost_galaxy_battle", {
              starName: star.name,
              time: sim.step / 16,
              ai: star.ai || (star.alpha + " vs " + star.beta),
              aiMoney: star.aiMoney || 2000,
              starNumber: galaxyMode.starNumber
            });
            star.randomLossTip = choose(LOOSE_TIPS);
            galaxyMode.starLossUp = star;
          }
          ui.mode = "galaxy";
          control.savePlayer();
          return onecup.refresh();
        };
        if (star.startWithDesigner === false) {
          ui.go("battle");
        } else {
          ui.go("design");
        }
      };
  
      GalaxyMode.prototype.bossCheck = function() {
        var bossesLeft, k, len, ref, star;
        bossesLeft = 0;
        ref = galaxyMap.stars;
        for (k = 0, len = ref.length; k < len; k++) {
          star = ref[k];
          if (star.type === "boss" && !this.starsWon[star.id]) {
            bossesLeft += 1;
          }
        }
        if (bossesLeft === 0 && this.galaxyWinUp !== "closed") {
          this.galaxyWinUp = "show";
          return true;
        }
      };
  
      return GalaxyMode;
  
    })(window.ControlsMode);
  
    _offset = v2.create();
  
    drawRay = function(a, b, color) {
      var d, image, rot;
      image = "img/laser01.png";
      v2.sub(b, a, _offset);
      rot = v2.angle(_offset);
      d = v2.mag(_offset) / 437;
      v2.scale(_offset, .5);
      v2.add(_offset, a);
      return baseAtlas.drawSprite(image, _offset, [.2, d], rot, color);
    };
  
    onplacement = function() {
      var pos;
      if (true && e.which === 1) {
        pos = this.toGameSpace([e.x, e.y]);
        return stars.push({
          size: Math.floor(Math.random() * 3) + 1,
          x: pos[0],
          y: pos[1]
        });
      }
    };
  
    bubble_html = function() {
      var star;
      star = galaxyMode.hoverStar;
      div(function() {
        opacity(".5");
        text_align("right");
        return text(star.name);
      });
      div(function() {
        var ai, k, l, len, len1, ref, ref1;
        margin_bottom(10);
        font_size(20);
        if (star.ai) {
          text("Fight vs " + star.ai);
        }
        if (star.type === "2v2" || star.type === "3v3") {
          text(star.type + " vs ");
          ref = star.alpha;
          for (k = 0, len = ref.length; k < len; k++) {
            ai = ref[k];
            text(" " + ai);
          }
          text(" vs ");
          ref1 = star.beta;
          for (l = 0, len1 = ref1.length; l < len1; l++) {
            ai = ref1[l];
            text(" " + ai);
          }
        }
        if (galaxyMode.test) {
          shipsFromAI(star);
        }
        if (star.size === 1) {
          return text(" (hard)");
        } else if (star.size === 2) {
          return text(" (medium)");
        } else if (star.size === 3) {
          return text(" (easy)");
        }
      });
      if (star.about) {
        div(function() {
          padding("10px 0px");
          return text(star.about);
        });
      }
      if (!star.noDesignTools) {
        return div(function() {
          var k, len, part_name, ref, results;
          ref = star.unlocks;
          results = [];
          for (k = 0, len = ref.length; k < len; k++) {
            part_name = ref[k];
            results.push(draw_part(part_name));
          }
          return results;
        });
      }
    };
  
    shipsFromAI = function(star) {
      return div(function() {
        var ai, aiName, aiNames, k, len, results, spec, unitThumb, x, y;
        if (star.ai) {
          aiNames = [star.ai];
        } else if (star.beta) {
          aiNames = star.beta;
        } else {
          aiNames = [];
        }
        y = 50;
        x = 50;
        results = [];
        for (k = 0, len = aiNames.length; k < len; k++) {
          aiName = aiNames[k];
          ai = ais.all[aiName];
          results.push((function() {
            var l, len1, results1;
            results1 = [];
            for (l = 0, len1 = ai.length; l < len1; l++) {
              spec = ai[l];
              if (spec) {
                unitThumb = buildBar.specToThumb(JSON.stringify(spec));
                results1.push(img({
                  src: unitThumb,
                  width: 64,
                  height: 64
                }));
              } else {
                results1.push(void 0);
              }
            }
            return results1;
          })());
        }
        return results;
      });
    };
  
    draw_part = function(part_name) {
      return div(function() {
        overflow("hidden");
        div(function() {
          float("left");
          display("inline-block");
          background_image("url('parts/" + parts[part_name].prototype.image + "')");
          background_size("auto");
          background_position("center");
          background_repeat("no-repeat");
          width(52);
          return height(52);
        });
        return div(function() {
          width(180);
          float("left");
          font_size(14);
          margin(5);
          span(function() {
            font_weight("bold");
            return text(parts[part_name].prototype.name);
          });
          text(" ");
          return span(function() {
            color("#888");
            return text(parts[part_name].prototype.desc);
          });
        });
      });
    };
  
    ui.galaxyDifficultyPicker = false;
  
    window.galaxyView = function() {
      div(function() {
        position("absolute");
        top(0);
        left(0);
        color("white");
        return ui.topButton("menu");
      });
      div(function() {
        var diff, k, len, pickModes, results;
        position("absolute");
        top(0);
        right(0);
        width(64);
        color("white");
        pickModes = ["lieutenant", "commander", "captain", "admiral"];
        if (pickModes.indexOf(commander.galaxyDifficulty) === -1) {
          commander.galaxyDifficulty = "commander";
        }
        ui.topButton(commander.galaxyDifficulty, function() {
          if (ui.galaxyDifficultyPicker) {
            opacity(".2");
          }
          return onclick(function() {
            return ui.galaxyDifficultyPicker = !ui.galaxyDifficultyPicker;
          });
        });
        if (ui.galaxyDifficultyPicker) {
          div(function() {
            padding("20px 0px");
            return text("difficulty");
          });
          results = [];
          for (k = 0, len = pickModes.length; k < len; k++) {
            diff = pickModes[k];
            results.push((function(diff) {
              return ui.topButton(diff, function() {
                return onclick(function() {
                  commander.galaxyDifficulty = diff;
                  ui.galaxyDifficultyPicker = false;
                  return control.savePlayer();
                });
              });
            })(diff));
          }
          return results;
        }
      });
      galaxyMode.bossCheck();
      if (galaxyMode.galaxyWinUp === "show") {
        return galaxyWinPopup();
      } else if (galaxyMode.starLossUp) {
        return starLossPopup();
      } else if (galaxyMode.starWinUp) {
        return starWinPopup();
      }
    };
  
    window.starLossPopup = function() {
      if (!galaxyMode.starLossUp) {
        return;
      }
      return div(function() {
        position("absolute");
        top(0);
        bottom(0);
        left(0);
        right(0);
        background_color("rgba(0, 0, 0, .2)");
        return div(function() {
          margin("100px auto");
          width(340);
          padding_bottom(30);
          background("rgba(0, 0, 0, .7)");
          color("white");
          div(function() {
            font_size(40);
            padding(20);
            text_align("center");
            return text("DEFEAT");
          });
          div(function() {
            padding(10);
            color("white");
            text_align("center");
            if (galaxyMode.starLossUp.lossTip) {
              return text(galaxyMode.starLossUp.lossTip);
            } else {
              return text(galaxyMode.starLossUp.randomLossTip);
            }
          });
          return div(".hover-white", function() {
            color("white");
            text_align("center");
            padding(20);
            text("CONTINUE");
            return onclick(function() {
              return galaxyMode.starLossUp = null;
            });
          });
        });
      });
    };
  
    window.starWinPopup = function() {
      if (!galaxyMode.starWinUp) {
        return;
      }
      if (!galaxyMode.justWon) {
        designMode.starWinUp = false;
      }
      bubbles.tip = false;
      return div(function() {
        position("absolute");
        top(0);
        bottom(0);
        left(0);
        right(0);
        background_color("rgba(0, 0, 0, .2)");
        return div(function() {
          margin("100px auto");
          width(340);
          padding_bottom(30);
          background("rgba(0, 0, 0, .7)");
          color("white");
          div(function() {
            font_size(40);
            padding(20);
            text_align("center");
            return text("VICTORY");
          });
          if (galaxyMode.justWon.unlocks.length > 0) {
            div(function() {
              color("rgba(236, 240, 241, 1.0)");
              text_align("center");
              padding(10);
              return text("You have unlocked:");
            });
          }
          div(function() {
            var k, len, part_name, ref;
            padding(30);
            text_align("left");
            if (galaxyMode.justWon) {
              ref = galaxyMode.justWon.unlocks;
              for (k = 0, len = ref.length; k < len; k++) {
                part_name = ref[k];
                draw_part(part_name);
              }
              if (galaxyMode.justWon.type === "boss") {
                return div(function() {
                  color("white");
                  return text("You have defeated one of the bosses. Kill all of the bosses to win the game!");
                });
              }
            }
          });
          return div(".hover-white", function() {
            color("white");
            text_align("center");
            padding(20);
            text("CONTINUE");
            return onclick(function() {
              return galaxyMode.starWinUp = false;
            });
          });
        });
      });
    };
  
    window.galaxyWinPopup = function() {
      return div(function() {
        position("absolute");
        top(0);
        bottom(0);
        left(0);
        right(0);
        background_color("rgba(100, 0, 0, .5)");
        return div(function() {
          margin("0px auto");
          width(500);
          padding_bottom(30);
          background("rgba(0, 0, 0, .5)");
          color("white");
          height(window.innerHeight);
          overflow_y("auto");
          div(function() {
            padding_top(40);
            font_size(20);
            color("white");
            text_align("center");
            color("#DDD");
            return text("You have achieved total galactic");
          });
          div(function() {
            font_size(80);
            padding_bottom(20);
            text_align("center");
            return text("VICTORY");
          });
          div(function() {
            text_align("center");
            padding("30px 60px");
            color("white");
            color("#BBB");
            line_height(26);
            text("The galaxy will be forever free and grateful for your contribution. ");
            text("Its citizens will forever know your name. ");
            text("No one can erase what you have accomplished. ");
            br();
            br();
            return text("You are the Istro Commander.");
          });
          div(function() {
            text_align("center");
            padding(10);
            line_height(26);
            color("#BBB");
            div(function() {
              font_size(20);
              text("Credits");
              color("white");
              return br();
            });
            div(function() {
              return text("Code & Art by Andre 'Treeform' von Houck");
            });
            div(function() {
              return text("Design by Oscar 'Saktoth' Evans");
            });
            div(function() {
              return text("Co-Design by Kevin 'RyMarq' Piala");
            });
            div(function() {
              color("white");
              font_size(20);
              br();
              text("Special thanks for testing, AI writing and playing");
              return br();
            });
            return div(function() {
              return text("Godde, Nepthali Celles, Tully Elliston, Nicholas Wylder");
            });
          });
          return div(".hover-white", function() {
            color("white");
            text_align("center");
            padding(20);
            text("Return to Galaxy");
            return onclick(function() {
              ui.mode = "galaxy";
              return galaxyMode.galaxyWinUp = "closed";
            });
          });
        });
      });
    };
  
    users = {};
  
    if (onecup.params.test) {
      doPaths = function(type) {
        var req;
        req = new XMLHttpRequest();
        req.open("GET", "/stats/" + type + ".json");
        req.onload = function() {
          var data, k, len, path, starName, stat, ts, userId;
          data = JSON.parse(req.response).table;
          for (k = 0, len = data.length; k < len; k++) {
            stat = data[k];
            userId = stat[0];
            starName = stat[1];
            ts = stat[2];
            path = users[userId];
            if (!path) {
              path = [];
              users[userId] = path;
            }
            path.push([ts, type, starName]);
          }
          for (userId in users) {
            path = users[userId];
            path.sort(function(a, b) {
              return a[0] - b[0];
            });
          }
          return console.log(type, "loded", users);
        };
        return req.send();
      };
      doPaths("start");
      doPaths("won");
      doPaths("loss");
      console.log("users", users);
    }
  
  }).call(this);
  ;
  
  
  //from src/galaxydata.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var _pos, designSwapper, drawIncome, j, l, len, len1, mkTip, mkUnit, partName, paths, ref, ring, star, stars, tickIncome, unlocks;
  
    eval(onecup["import"]());
  
    window.galaxyMap = {};
  
    stars = galaxyMap.stars = [];
  
    paths = galaxyMap.paths = [];
  
    _pos = new v2.create();
  
    drawIncome = function() {
      var m;
      return galaxyMap.moneyRain = (function() {
        var j, len, ref, results;
        ref = galaxyMap.moneyRain;
        results = [];
        for (j = 0, len = ref.length; j < len; j++) {
          m = ref[j];
          baseAtlas.drawSprite("img/tips/money" + m.amount + ".png", m.pos, [1, -1], 0, m.color);
          m.pos[1] += 4;
          m.color[3] *= .98;
          if (m.color[3] < 10) {
            continue;
          }
          results.push(m);
        }
        return results;
      })();
    };
  
    tickIncome = function() {
      var _, m, ref, results, t;
      if (sim.step % 16 === 0) {
        ref = sim.things;
        results = [];
        for (_ in ref) {
          t = ref[_];
          if (t.commandPoint) {
            if (t.beforeSide === "beta" && t.side === "alpha") {
              m = {
                amount: 100,
                pos: v3.create(),
                color: [255, 255, 255, 255]
              };
              v2.add(m.pos, t.pos);
              galaxyMap.moneyRain.push(m);
            } else if (t.side === "alpha") {
              m = {
                amount: 1,
                pos: v3.create(),
                color: [255, 255, 255, 255]
              };
              v2.add(m.pos, t.pos);
              galaxyMap.moneyRain.push(m);
            }
            t.beforeSide = t.side;
          }
          if (t.spawn && t.side === "alpha") {
            m = {
              amount: 10,
              pos: v3.create(),
              color: [255, 255, 255, 255]
            };
            v2.add(m.pos, t.pos);
            results.push(galaxyMap.moneyRain.push(m));
          } else {
            results.push(void 0);
          }
        }
        return results;
      }
    };
  
    mkTip = function(img, x, y) {
      var tip;
      tip = new types.Rock();
      tip.z = 0;
      tip.rot = 0;
      tip.scale = [1, 1];
      tip.color = [255, 255, 255, 255];
      tip.image = img;
      tip.pos = [x, y];
      sim.things[tip.id] = tip;
      return tip;
    };
  
    mkUnit = function(spec, pos, side, number) {
      var u;
      if (number == null) {
        number = 0;
      }
      console.log("spec", spec);
      u = new types.Unit(spec);
      u.pos = v2.create(pos);
      u.side = side;
      u.rot = -Math.PI / 2;
      u.number = number;
      sim.things[u.id] = u;
      return u;
    };
  
    ring = (function(_this) {
      return function(spec, n, radius, ox, oy, offset, side) {
        var i, j, ref, results, x, y;
        if (ox == null) {
          ox = 0;
        }
        if (oy == null) {
          oy = 0;
        }
        if (offset == null) {
          offset = 0;
        }
        if (side == null) {
          side = "beta";
        }
        results = [];
        for (i = j = 0, ref = n; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
          x = Math.sin((offset + i) / n * 2 * Math.PI) * radius;
          y = Math.cos((offset + i) / n * 2 * Math.PI) * radius;
          results.push(mkUnit(spec, [x + ox, y + oy], side));
        }
        return results;
      };
    })(this);
  
    designSwapper = function() {
      var name, what;
      onecup.preload("img/ui/tips/basicDrag.png");
      onecup.preload("img/ui/tips/basicEngine.png");
      onecup.preload("img/ui/tips/basicReactor.png");
      onecup.preload("img/ui/tips/basicWeapon.png");
      onecup.preload("img/ui/tips/basicReactor.png");
      onecup.preload("img/ui/tips/basicMount.png");
      onecup.preload("img/ui/tips/basicArmor.png");
      onecup.preload("img/ui/tips/basicWing.png");
      onecup.preload("img/ui/tips/basicBattery.png");
      if (ui.mode === "design") {
        img({
          src: "img/ui/tips/designArrow.png",
          draggable: false,
          width: 100,
          height: 100
        }, function() {
          position("absolute");
          top(window.innerHeight / 2 - 110);
          return left(window.innerWidth / 2 + 150);
        });
        what = "Drag";
        if (designMode.draggingPart) {
          name = designMode.draggingPart.constructor.name;
          console.log("dragging part?", name);
          switch (name) {
            case "Engine04":
              what = "Engine";
              break;
            case "Reactor2x1":
              what = "Reactor";
              break;
            case "LightBeamTurret":
              what = "Weapon";
              break;
            case "Reactor2x1":
              what = "Reactor";
              break;
            case "Mount90":
              what = "Mount";
              break;
            case "HArmor1x2":
              what = "Armor";
              break;
            case "Wing1x1Round":
              what = "Wing";
              break;
            case "Battery1x1":
              what = "Battery";
          }
        }
        img({
          src: "img/ui/tips/basic" + what + ".png",
          draggable: false,
          width: 200,
          height: 200
        }, function() {
          position("absolute");
          top(window.innerHeight / 2 - 110 + 50);
          return left(window.innerWidth / 2 + 150 + 50);
        });
        return false;
      }
    };
  
    stars.push({
      id: 'kiusd6o',
      name: "Homeworld",
      type: "home",
      about: "This is your planet. Your origin.",
      ai: "StaticAI",
      difficulty: 1,
      noDesignTools: true,
      mapSize: 0.8576046077068895,
      mapNumCPs: 4,
      barTips: true,
      noDesignTools: true,
      unlocks: ["LightBeamTurret", "Mount90", "Engine04", "Reactor2x1"],
      giveDesignSlot: 0,
      giveDesign: "FBQEFA8SFwodEQodFBQ2",
      mapSeed: 2344,
      replay: false,
      mapLayout: function() {
        var a, cp, r;
        buildBar.show = false;
        sim.things = {};
        intp.things = {};
        sim.theme = {
          rockColor: [63, 85, 96, 255],
          spotColor: [115, 193, 226, 255],
          fillColor: [123, 63, 68, 255]
        };
        r = 1000;
        a = new types.SpawnPoint();
        a.side = "alpha";
        a.spawn = "alpha";
        a.pos = [-3000, 0];
        sim.things[a.id] = a;
        mkTip("img/tips/dragBig@2x.png", -3000, 0);
        mkTip("img/tips/move@2x.png", -2200, 0);
        mkTip("img/tips/pan@2x.png", -1500, 0);
        mkTip("img/tips/zoom@2x.png", -500, 0);
        cp = new types.CommandPoint();
        cp.side = "alpha";
        cp.pos = [0, -1e100];
        sim.things[cp.id] = cp;
        cp = new types.CommandPoint();
        cp.side = "beta";
        cp.pos = [-1000, 600];
        sim.things[cp.id] = cp;
        mkTip("img/tips/capping@2x.png", -1000, 600).cappingTip = true;
        cp = new types.CommandPoint();
        cp.side = "beta";
        cp.pos = [100, -600];
        sim.things[cp.id] = cp;
        mkTip("img/tips/attack@2x.png", 100, -600).cappingTip = true;
        mkUnit('GBhIEBBJGBBJEBhIERQHFxQHFBQ8FBcSExAdFRAd', [100, -600], "beta");
        cp = new types.CommandPoint();
        cp.side = "beta";
        cp.pos = [1600, 0];
        sim.things[cp.id] = cp;
        mkTip("img/tips/win@2x.png", 1600, 0).cappingTip = true;
        return mkUnit('FxQHFRAdGBhIERQHEBBJEBhIExAdFBcSGBBJFBQDFBQ1', [1600, 0], "beta");
      },
      tick: function() {
        var j, n, results;
        if (sim.step === 1) {
          results = [];
          for (n = j = 0; j < 6; n = ++j) {
            results.push(sim.players[0].rqUnit(0));
          }
          return results;
        }
      },
      draw: function() {
        var _, cp, enemyUnits, myCP, myUnits, p, playerUnits, ref, ref1, ref2, ref3, ref4, results, t, u;
        playerUnits = 0;
        ref = sim.things;
        for (_ in ref) {
          t = ref[_];
          if (t.unit && t.side === commander.side) {
            playerUnits += 1;
          }
        }
        if (playerUnits === 0) {
          battleMode.focus[0] = battleMode.focus[0] * .95 + 3000 * .05;
          battleMode.focus[1] = battleMode.focus[1] * .95 + 0 * .05;
          battleMode.zoom = battleMode.zoom * .95 + 1.4 * .05;
        }
        if (!buildBar.show && sim.step > 16 * 15) {
          if (playerUnits === 0) {
            ref1 = sim.player;
            for (_ in ref1) {
              p = ref1[_];
              if (p.id === commander.id) {
                p.money = 1000;
              }
            }
            buildBar.show = true;
            onecup.refresh();
          }
        }
        ref2 = sim.things;
        results = [];
        for (_ in ref2) {
          t = ref2[_];
          if (t.cappingTip) {
            enemyUnits = false;
            myUnits = false;
            ref3 = sim.things;
            for (_ in ref3) {
              u = ref3[_];
              if (u.unit && v2.distance(t.pos, u.pos) < 250) {
                if (u.side === "beta") {
                  enemyUnits = true;
                }
                if (u.side === "alpha") {
                  myUnits = true;
                }
              }
            }
            myCP = null;
            ref4 = sim.things;
            for (_ in ref4) {
              cp = ref4[_];
              if (cp.commandPoint && v2.distance(t.pos, cp.pos) < 500) {
                myCP = cp;
              }
            }
            if (enemyUnits) {
              results.push(t.image = "img/tips/attack@2x.png");
            } else if (myUnits && (myCP != null ? myCP.capping : void 0) > 0) {
              results.push(t.image = "img/tips/waitcap@2x.png");
            } else if ((myCP != null ? myCP.side : void 0) === "alpha") {
              results.push(t.image = "img/tips/win@2x.png");
            } else {
              results.push(t.image = "img/tips/capping@2x.png");
            }
          } else {
            results.push(void 0);
          }
        }
        return results;
      },
      ui: function() {
        var imgSrc;
        designSwapper();
        if (ui.mode === "battle") {
          control.mode = battleMode;
          buildBar.draw(!buildBar.show);
          if (!buildBar.show) {
            div(function() {
              position("absolute");
              top(0);
              right(0);
              color("white");
              return ui.topButton("controls", function() {
                if (ui.contorlHelpToggle) {
                  background_color("rgba(255,255,255,.6)");
                }
                return onclick(function() {
                  return ui.contorlHelpToggle = !ui.contorlHelpToggle;
                });
              });
            });
            div(function() {
              position("absolute");
              top(0);
              left(0);
              color("white");
              return ui.topButton("menu");
            });
          }
          if (buildBar.show) {
            if (commander.buildQ.length > 0 && commander.money < 600) {
              imgSrc = "img/ui/tips/qued.png";
            } else {
              imgSrc = "img/ui/tips/buildbar.png";
            }
            img({
              src: imgSrc,
              width: 300,
              height: 100
            }, function() {
              position("absolute");
              bottom(84);
              return left(window.innerWidth / 2 - 84 * 5 - 60);
            });
          }
          return true;
        }
        return false;
      }
    });
  
    galaxyMap.moneyRain = [];
  
    stars.push({
      id: 'ocef3t',
      name: "Shi",
      about: "Mobile Targets",
      lossTip: "Don't let the enemy capture all the command points.",
      ai: "Targets",
      aiMoney: 150,
      difficulty: 1,
      mapSize: 0.7,
      mapNumCPs: 4,
      mapNoThings: true,
      barTips: true,
      noDesignTools: true,
      unlocks: ["Wing1x1Round", "HArmor1x2"],
      giveDesignSlot: 0,
      giveDesign: "GRQHDxcuFQ4dEw4dDxIHFBESFBQEGRkuFBQ2",
      mapSeed: 1233,
      guard: 'GBBJGBhIDBZIEBBJEBhIHBZIDBJJHBJJDxQQGRQQFxQHERQHFBQDFRAdExAdFBQ1',
      mapLayout: function() {
        var a, cp;
        sim.things = {};
        intp.things = {};
        sim.theme = {
          rockColor: [63, 85, 96, 255],
          spotColor: [115, 193, 226, 255],
          fillColor: [123, 63, 68, 255]
        };
        a = new types.SpawnPoint();
        a.side = "alpha";
        a.spawn = "alpha";
        a.pos = [-2000, 0];
        sim.things[a.id] = a;
        a = new types.SpawnPoint();
        a.side = "beta";
        a.spawn = "beta";
        a.pos = [2000, 0];
        sim.things[a.id] = a;
        cp = new types.CommandPoint();
        cp.side = "alpha";
        cp.pos = [-1000, -1000];
        sim.things[cp.id] = cp;
        cp = new types.CommandPoint();
        cp.side = "alpha";
        cp.pos = [-1000, 1000];
        sim.things[cp.id] = cp;
        cp = new types.CommandPoint();
        cp.side = "beta";
        cp.pos = [1000, -1000];
        sim.things[cp.id] = cp;
        mkUnit(this.guard, [1000, -1000], "beta", 2);
        cp = new types.CommandPoint();
        cp.side = "beta";
        cp.pos = [1000, 1000];
        sim.things[cp.id] = cp;
        return mkUnit(this.guard, [1000, 1000], "beta", 2);
      },
      draw: function() {
        var _, ref, u;
        drawIncome();
        ref = intp.things;
        for (_ in ref) {
          u = ref[_];
          if (u.unit && u.side === "beta" && u.spec !== this.guard) {
            baseAtlas.drawSprite("img/tips/fire@2x.png", [u.pos[0], u.pos[1] - 200], [1, -1], 0);
          }
          if (u.unit && u.side === "beta" && u.spec === this.guard) {
            baseAtlas.drawSprite("img/tips/stop@2x.png", [u.pos[0] - 400, u.pos[1]], [1, -1], 0);
          }
        }
      },
      tick: function() {
        return tickIncome();
      },
      ui: function() {
        var imgSrc;
        designSwapper();
        if (ui.mode === "battle") {
          if (commander.buildQ.length > 0 && commander.money < 600) {
            imgSrc = "img/ui/tips/qued.png";
            img({
              src: imgSrc,
              width: 300,
              height: 100
            }, function() {
              position("absolute");
              bottom(84);
              return left(window.innerWidth / 2 - 84 * 5 - 60);
            });
          }
        }
        return false;
      }
    });
  
    _pos = new v2.create();
  
    stars.push({
      id: 'j2ui0n8',
      name: "Eioneus",
      about: "Long range, forward-facing Plasma.",
      lossTip: "Dodgey is weak from the rear.",
      ai: "Dodgey",
      aiMoney: 1000,
      difficulty: 1,
      mapSize: 0.73,
      mapNumCPs: 4,
      mapNoThings: true,
      barTips: true,
      noDesignTools: true,
      unlocks: [],
      giveDesignSlot: 0,
      giveDesign: "FBESERcuFBQEEw4dFxQHFQ4dERQHFxcuDwwdGQwdFBsSCBo2",
      mapSeed: 9934,
      draw: function() {
        return drawIncome();
      },
      tick: function() {
        return tickIncome();
      },
      ui: function() {
        designSwapper();
        return false;
      }
    });
  
    stars.push({
      id: 'amqfcv',
      name: "Punar",
      about: "Light, mobile fighters.",
      lossTip: "Don't let fighters take the map, push them off and hold the control points to win.",
      ai: "Fighter",
      aiMoney: 1200,
      difficulty: 1,
      mapSize: 0.8,
      mapNumCPs: 4,
      noDesignTools: true,
      unlocks: ["Battery1x1"],
      giveDesignSlot: 1,
      giveDesign: "FBQEEw4dERUuFxUXDxEXFw4dGxcuFBQ2",
      mapSeed: 5564,
      ui: function() {
        designSwapper();
        return false;
      }
    });
  
    stars.push({
      id: 'kvfgni1',
      name: "Lymax",
      about: "High firepower basic cruisers.",
      lossTip: "Ensure you spend all your income on fielding ships.",
      ai: "Novice",
      aiMoney: 1000,
      difficulty: 1,
      mapSize: 0.7,
      mapNumCPs: 4,
      mapNoThings: true,
      unlocks: ["HArmor2x2Angle", "HArmor2x2AngleBack"],
      giveDesignSlot: 2,
      giveDesign: "GQwHDRAHFxgHFBcSEhQEFhQEDxQHEBAEGRQHERgHFBoEGBAEDwwHGxAHEg0SFAsSFg0SExAHFRAH",
      mapSeed: 8876,
      draw: function() {
        return drawIncome();
      },
      tick: function() {
        return tickIncome();
      },
      ui: function() {
        if (ui.mode === "design") {
          img({
            src: "img/ui/tips/designDragOff.png",
            draggable: false,
            width: 173,
            height: 195
          }, function() {
            position("absolute");
            top(window.innerHeight / 2 + 0);
            return left(window.innerWidth / 2 - 350);
          });
          img({
            src: "img/ui/tips/designParts.png",
            draggable: false,
            width: 173,
            height: 138
          }, function() {
            position("absolute");
            top(400);
            left(20);
            return z_index("10");
          });
          return false;
        }
        return false;
      }
    });
  
    _pos = new v2.create();
  
    stars.push({
      id: '89m4glg',
      name: "Nero",
      about: "High HP, slower battleships.",
      lossTip: "Ensure you spend all your income on fielding ships.",
      ai: "Tank",
      aiMoney: 1200,
      difficulty: 1,
      mapSize: 0.7,
      mapNumCPs: 4,
      mapNoThings: true,
      unlocks: ["PlasmaTurret"],
      giveDesignSlot: 3,
      giveDesign: "DRAHEBAEGhRIEBhIGBhIChJIFxQHHhJIFBYEExoHERQHDhRIGBAEGxAHFRoHFBMSFQ4HFBESEw4HDgxJCg5JGgxJHg5J",
      mapSeed: 2231,
      draw: function() {
        return drawIncome();
      },
      tick: function() {
        return tickIncome();
      },
      ui: function() {
        if (ui.mode === "design") {
          img({
            src: "img/ui/tips/designDragOff.png",
            draggable: false,
            width: 173,
            height: 195
          }, function() {
            position("absolute");
            bottom(window.innerHeight / 2 + 0);
            return left(window.innerWidth / 2 - 350);
          });
          img({
            src: "img/ui/tips/designParts.png",
            draggable: false,
            width: 173,
            height: 138
          }, function() {
            position("absolute");
            bottom(140);
            left(20);
            return z_index("10");
          });
          return false;
        }
        return false;
      }
    });
  
    _pos = new v2.create();
  
    stars.push({
      id: 'lq82oro',
      name: "Soyulos",
      about: "Torpedo Cruisers.",
      lossTip: "Torpman has ranged torpedoes, avoid them.",
      ai: "TorpMan",
      aiMoney: 1000,
      difficulty: 1,
      mapSize: 0.8,
      mapNumCPs: 4,
      mapNoThings: true,
      unlocks: ["Mount270"],
      mapSeed: 5666
    });
  
    stars.push({
      id: 'o2fash',
      name: "Antin",
      about: "",
      ai: "Yarki",
      aiMoney: 1400,
      difficulty: 1,
      mapSize: 0.7212449601385742,
      mapNumCPs: 4,
      unlocks: ["VArmor1x2IBeam", "VArmor1x2Corner4", "VArmor1x1Corner2"],
      mapSeed: 9876
    });
  
    stars.push({
      id: 'rg75pdo',
      name: "Chronos",
      about: "Anti-fighter Flak ships",
      lossTip: "BatteryRam runs on batteries, and has no staying power to chew through armour.",
      ai: "BatteryRam",
      aiMoney: 1000,
      difficulty: 1,
      mapSize: 0.8,
      mapNumCPs: 4,
      unlocks: ["FlackTurret"],
      mapSeed: 4554
    });
  
    stars.push({
      id: 'iifg0h',
      name: "Noptri",
      about: "Fighter Swarm",
      lossTip: "Holding your home point with a large amount of firepower is important vs an aggressive swarm.",
      ai: "AlphaSwarm",
      aiMoney: 2000,
      difficulty: 1,
      mapSize: 0.7797135706990956,
      mapNumCPs: 4,
      unlocks: ["UArmor1x1Angle", "UArmor1x1AngleBack"],
      mapSeed: 2345
    });
  
    stars.push({
      id: 'j56hbdo',
      name: "Amurru",
      about: "Armoured Fighter Swarm",
      lossTip: "Batteries eventually run down, while reactors provide continuous power to weapons and engines.",
      ai: "BetaSwarm",
      aiMoney: 1800,
      difficulty: 1,
      mapSize: 0.7170660080853849,
      mapNumCPs: 4,
      unlocks: ["Wing1x1Notch", "HArmor1x1Angle", "HArmor1x1AngleBack"],
      mapSeed: 9883
    });
  
    stars.push({
      id: 'klhsi6',
      name: "Angel Falls",
      about: "AutoCannon Fighters",
      ai: "BladeRanger",
      aiMoney: 1800,
      difficulty: 1,
      mapSize: 1.1,
      mapNumCPs: 6,
      unlocks: ["AutoTurret"],
      mapSeed: 8754
    });
  
    stars.push({
      id: 'ifb162o',
      name: "Zephyr",
      about: "",
      ai: "Kornine",
      aiMoney: 1800,
      difficulty: 1,
      mapSize: 0.6678998027695343,
      mapNumCPs: 4,
      unlocks: ["EnergyTransfer", "Reactor2x2"],
      mapSeed: 2355
    });
  
    stars.push({
      id: 'lples3g',
      name: "Kini",
      about: "",
      ai: "TurtleFence",
      aiMoney: 2000,
      difficulty: 1,
      mapSize: 0.8099276877008378,
      mapNumCPs: 4,
      unlocks: ["ShieldGen1x1"],
      mapSeed: 4532
    });
  
    stars.push({
      id: 'kb83bsg',
      name: "Serpi",
      about: "",
      ai: "FighterBomber",
      difficulty: 1,
      mapSize: 0.8482277991715819,
      mapNumCPs: 4,
      unlocks: ["Engine03"],
      mapSeed: 9938
    });
  
    stars.push({
      id: 'nhq4sdg',
      name: "Minnus",
      about: "Powerful but sluggish battleships.",
      lossTip: "SlowPoke can only shoot forward.",
      ai: "Slowpoke",
      difficulty: 2,
      mapSize: 0.7,
      mapNumCPs: 6,
      mapNoThings: true,
      unlocks: ["HArmor2x1", "Engine02"],
      mapSeed: 8855,
      draw: function() {
        var k, ref, results, unit;
        ref = intp.things;
        results = [];
        for (k in ref) {
          unit = ref[k];
          if (unit.unit && unit.side !== commander.side) {
            results.push(drawAllArcs(unit));
          } else {
            results.push(void 0);
          }
        }
        return results;
      },
      ui: function() {
        if (ui.mode === "design") {
          img({
            src: "img/ui/tips/designChange.png",
            width: 400,
            height: 100
          }, function() {
            position("absolute");
            bottom(84);
            return left(window.innerWidth / 2 - 84 * 5 + 10);
          });
        }
        return false;
      }
    });
  
    stars.push({
      id: 'i1ocdqo',
      name: "Orion",
      about: "Point Defense to shoot down projectiles.",
      lossTip: "Point Defense only works against Torpedoes, Missiles and Artillery.",
      ai: "PointDefender",
      difficulty: 2,
      mapSize: 1,
      mapNumCPs: 5,
      unlocks: ["PDTurret"],
      mapSeed: 2334,
      mapLayout: function() {
        var _, cp, ref, results, u;
        ref = sim.things;
        results = [];
        for (_ in ref) {
          cp = ref[_];
          if (cp.commandPoint) {
            if (cp.side === "alpha") {
              u = mkUnit('FBQBFBEYGBBJEBBJEBhIGBhIERQWFxQWFBcYFBQv', [cp.pos[0], cp.pos[1] + 170], cp.side);
              u.rot += Math.PI;
              u.color = [20, 200, 20, 255];
              u = mkUnit('FBQBFBEYGBBJEBBJEBhIGBhIERQWFxQWFBcYFBQv', [cp.pos[0], cp.pos[1] - 170], cp.side);
              u.rot += Math.PI;
              u.color = [20, 200, 20, 255];
              u = mkUnit('FBQBFBEYGBBJEBBJEBhIGBhIERQWFxQWFBcYFBQv', [cp.pos[0] + 170, cp.pos[1]], cp.side);
              u.rot += Math.PI;
              u.color = [20, 200, 20, 255];
              u = mkUnit('FBQBFBEYGBBJEBBJEBhIGBhIERQWFxQWFBcYFBQv', [cp.pos[0] - 170, cp.pos[1]], cp.side);
              u.rot += Math.PI;
              results.push(u.color = [20, 200, 20, 255]);
            } else {
              results.push(u = mkUnit('GBoEFx0XDx0KGR0KGxsKDRsKEBoEFB8SFBwEFx8KFBkSER0XER8KDRlGDxdGGRdGGxlGFBUYERVGFxVGEhcJFhcJEBoyGBoyFBwy', cp.pos, cp.side));
            }
          } else {
            results.push(void 0);
          }
        }
        return results;
      }
    });
  
    stars.push({
      id: '0rn9hbo',
      name: "Calius",
      about: "Hit and Run torpedo destroyers",
      ai: "RocketMan",
      difficulty: 2,
      mapSize: 0.8087868114933371,
      mapNumCPs: 5,
      unlocks: ["TorpTurret"],
      mapSeed: 1436
    });
  
    stars.push({
      id: '7dcrjg',
      name: "Boliz",
      about: "Battery powered fighters.",
      ai: "Cython",
      difficulty: 2,
      mapSize: 0.8,
      mapNumCPs: 4,
      unlocks: ["Wing1x2", "Battery2x1"],
      mapSeed: 7865
    });
  
    stars.push({
      id: 'pj6hlio',
      name: "Orome",
      about: "",
      ai: "Waxon",
      difficulty: 2,
      mapSize: 1.1186667210422456,
      mapNumCPs: 6,
      unlocks: ["ShieldGen2x1"],
      mapSeed: 8764
    });
  
    stars.push({
      id: 'fkjv44',
      name: "Delphini",
      about: "Important stellar library guarded by two generals.",
      ai: "BaitandMissile",
      difficulty: 2,
      mapSize: 1.288371010031551,
      mapNumCPs: 6,
      unlocks: ["MissileTurret"],
      mapSeed: 9865
    });
  
    stars.push({
      id: 'hj440sg',
      name: "Vortu",
      about: "",
      ai: "CubeCollective",
      difficulty: 2,
      mapSize: 1.0952299905009568,
      mapNumCPs: 6,
      unlocks: ["Engine01"],
      mapSeed: 5564
    });
  
    stars.push({
      id: '45k6uko',
      name: "Jenai",
      about: "",
      ai: "Ficon",
      aiMoney: 1500,
      difficulty: 2,
      mapSize: 1.0045061607845127,
      mapNumCPs: 6,
      unlocks: ["VArmor1x2SideBar", "VArmor1x2SideBarFilled"],
      mapSeed: 6754
    });
  
    stars.push({
      id: '3dmjdro',
      name: "Bani",
      about: "",
      ai: "Rearguard",
      aiMoney: 1800,
      difficulty: 2,
      mapSize: 1.3513613959774375,
      mapNumCPs: 6,
      unlocks: ["Mount360Micro"],
      mapSeed: 8753
    });
  
    stars.push({
      id: 'tnad808',
      name: "Mali",
      about: "",
      ai: "SuperBelfry",
      difficulty: 2,
      mapSize: 0.6735611163312569,
      mapNumCPs: 4,
      unlocks: ["ShieldGen2x2"],
      mapSeed: 6543
    });
  
    stars.push({
      id: 'gdgnd2o',
      name: "Lyra Acallaris",
      about: "Naturally occurring gravity waves in this system caused the inhabitants to harness their power and to develop gravity weapons.",
      ai: "WaveMotion",
      difficulty: 2,
      mapSize: 1.1048907704651356,
      mapNumCPs: 6,
      unlocks: ["WavePullTurret", "WavePushTurret"],
      mapSeed: 8732
    });
  
    stars.push({
      id: 'avrm6p',
      name: "Angith",
      about: "",
      ai: "DarkStar",
      difficulty: 3,
      mapSize: 1.2582162277773024,
      mapNumCPs: 6,
      unlocks: ["HArmor1x1", "CloakGenerator"],
      mapSeed: 9045
    });
  
    stars.push({
      id: 'fd08nfg',
      name: "Tabiz",
      about: "",
      ai: "FireFly",
      aiMoney: 2600,
      difficulty: 3,
      mapSize: 1.2976905869320035,
      mapNumCPs: 6,
      unlocks: ["Engine07"],
      mapSeed: 7234
    });
  
    stars.push({
      id: '6kn69oo',
      name: "Chani",
      about: "",
      ai: "Sidewinder",
      aiMoney: 2800,
      difficulty: 3,
      mapSize: 1.2164454489946366,
      mapNumCPs: 6,
      unlocks: ["HArmor1x2Front2", "HArmor1x2Back2", "SidewinderTurret"],
      mapSeed: 1256
    });
  
    stars.push({
      id: 's3255c',
      name: "Aker",
      about: "",
      type: "fort",
      ai: "FlamethrowerArmadillo",
      difficulty: 2,
      mapSize: 0.7285537156043573,
      mapNumCPs: 4,
      unlocks: ["HArmor1x2Font1", "HArmor2x2Front1", "FlameTurret"],
      mapSeed: 9883
    });
  
    stars.push({
      id: 'cjph01g',
      name: "Kaylis",
      about: "",
      ai: "Orbiter",
      difficulty: 2,
      mapSize: 0.6785172562580556,
      mapNumCPs: 12,
      aiMoney: 2200,
      unlocks: ["Wing2x1", "Solar1x1", "Solar2x2", "Solar3x3"],
      mapSeed: 1342
    });
  
    stars.push({
      id: 'gru669o',
      name: "Apep",
      about: "",
      ai: "BladeRanger",
      aiMoney: 2100,
      difficulty: 2,
      mapSize: 0.8578058236045762,
      mapNumCPs: 6,
      unlocks: ["VArmor1x1Corner1", "VArmor1x1Corner3", "VArmor1x1Hook"],
      mapSeed: 3444
    });
  
    stars.push({
      id: 'ockunt8',
      name: "Irmo",
      about: "",
      ai: "BattleStar",
      difficulty: 3,
      mapSize: 1.6373389302752912,
      mapNumCPs: 6,
      unlocks: ["HArmor2x2Front2", "HArmor2x2Back2"],
      mapSeed: 3455
    });
  
    stars.push({
      id: '45ucun8',
      name: "Antaris",
      about: "",
      ai: "Electro",
      difficulty: 2,
      mapSize: 0.8022207571892067,
      mapNumCPs: 4,
      unlocks: ["EMPGun"],
      mapSeed: 3345
    });
  
    stars.push({
      id: 'lbrgh6',
      name: "Massgib",
      about: "",
      ai: "BullDogs",
      difficulty: 2,
      type: "fort",
      mapSize: 0.863845500536263,
      mapNumCPs: 4,
      unlocks: ["Mount30"],
      mapSeed: 4555,
      aiMoney: 1400
    });
  
    stars.push({
      id: '63t1isg',
      name: "Korak Labs",
      about: "Some of the largest detonations happend here.",
      ai: "NukeSwarm",
      aiMoney: 5000,
      difficulty: 2,
      mapSize: 1,
      mapNumCPs: 6,
      unlocks: ["AOEWarhead"],
      mapSeed: 4333
    });
  
    stars.push({
      id: '637tk68',
      name: "Kono Testing Grounds",
      about: "Many nuclear tests have left the space irradiated.",
      ai: "NukeSwarm",
      aiMoney: 15000,
      difficulty: 2,
      mapSize: 1.2,
      mapNumCPs: 8,
      unlocks: ["ShapedWarhead"],
      mapSeed: 9022
    });
  
    stars.push({
      id: 'k4nnvl8',
      name: "Librae",
      about: "",
      ai: "Furia",
      difficulty: 2,
      mapSize: 1.2664555584080517,
      aiMoney: 2500,
      mapNumCPs: 6,
      unlocks: ["Mount360"],
      mapSeed: 9111
    });
  
    stars.push({
      id: 'rqvuj08',
      name: "Alki",
      about: "",
      ai: "Belfry",
      difficulty: 2,
      mapSize: 1.0320802667178213,
      mapNumCPs: 6,
      unlocks: ["RingTurret"],
      mapSeed: 3422
    });
  
    stars.push({
      id: '9kq7oug',
      name: "Tannis",
      about: "",
      ai: "LazerBlade",
      aiMoney: 2800,
      difficulty: 3,
      mapSize: 1.1704251921735704,
      mapNumCPs: 6,
      unlocks: ["Reactor1x2"],
      mapSeed: 9877
    });
  
    stars.push({
      id: '31t2obg',
      name: "Pegasi",
      about: "",
      ai: "ThePounder",
      difficulty: 3,
      mapSize: 1.0324680821038783,
      mapNumCPs: 6,
      unlocks: ["BombGun"],
      mapSeed: 7666
    });
  
    stars.push({
      id: 'g710q5',
      name: "Eridu",
      about: "",
      ai: "CreepingHoard",
      difficulty: 3,
      mapSize: 1.4514648726675659,
      mapNumCPs: 8,
      unlocks: ["Wing1x1Angle", "Mount10Range"],
      mapSeed: 7123
    });
  
    stars.push({
      id: 'rdlm558',
      name: "Dou",
      about: "",
      ai: "Yarki",
      aiMoney: 2600,
      difficulty: 2,
      mapSize: 0.6138879344332963,
      mapNumCPs: 4,
      unlocks: ["Wing2x2"],
      mapSeed: 3422
    });
  
    stars.push({
      id: '0v1jtk8',
      name: "Prani",
      about: "",
      type: "fort",
      ai: "Razorback",
      difficulty: 2,
      mapSize: 0.8728945788927376,
      mapNumCPs: 4,
      unlocks: ["UArmor1x2", "UArmor2x1"],
      mapSeed: 3422
    });
  
    stars.push({
      id: '90i41rg',
      name: "Galli",
      about: "",
      type: "fort",
      ai: "Liberty",
      difficulty: 2,
      mapSize: 1.301776747405529,
      mapNumCPs: 6,
      unlocks: ["HArmor2x2"],
      mapSeed: 7722
    });
  
    stars.push({
      id: 'cucp8o',
      name: "Cerberi",
      about: "",
      type: "2v2",
      alpha: ["Player", "CreepingHoard"],
      beta: ["BullDogs", "Orblin"],
      difficulty: 2,
      mapSize: 1.1530530820600688,
      mapNumCPs: 6,
      unlocks: ["Battery1x2", "HeavyPDTurret"],
      mapSeed: 3322
    });
  
    stars.push({
      id: '4acnhu8',
      name: "Boyar Denz",
      about: "",
      ai: "Anubis",
      difficulty: 2,
      mapSize: 1.2120997282676398,
      mapNumCPs: 6,
      unlocks: ["ReloaderMod"],
      mapSeed: 9003
    });
  
    stars.push({
      id: '0kgoj8',
      name: "Octantis",
      about: "",
      ai: "AlphaStriker",
      difficulty: 2,
      mapSize: 0.7085130656138062,
      mapNumCPs: 4,
      unlocks: ["DamageMod"],
      mapSeed: 8933
    });
  
    stars.push({
      id: 'esjo00o',
      name: "Aethaldus",
      about: "",
      ai: "RushDown",
      difficulty: 2,
      mapSize: 0.606543418765068,
      mapNumCPs: 4,
      unlocks: ["Reactor1x1"],
      mapSeed: 221
    });
  
    stars.push({
      id: '4ofptho',
      name: "Polystratus",
      about: "",
      ai: "Micor",
      difficulty: 2,
      mapSize: 1.2934446890838445,
      mapNumCPs: 6,
      unlocks: ["Mount180"],
      mapSeed: 5433
    });
  
    stars.push({
      id: 'rnro1eo',
      name: "Hemithea",
      about: "",
      ai: "SiegeCore",
      aiMoney: 2000,
      difficulty: 3,
      mapSize: 1.328067924361676,
      mapNumCPs: 6,
      unlocks: ["ArtilleryTurret"],
      mapSeed: 5223
    });
  
    stars.push({
      id: 'r85ucl',
      name: "Pavo",
      about: "",
      ai: "AssaultandBattery",
      difficulty: 3,
      mapSize: 1.587393354368396,
      mapNumCPs: 8,
      unlocks: ["Battery2x2"],
      mapSeed: 4555
    });
  
    stars.push({
      id: 'no4s0bo',
      name: "Aldebaran",
      about: "The armies are gathering. This will be a battle to remmber.",
      alpha: ["Player", "CreepingHoard", "MBT"],
      beta: ["Furia", "CreepingHoard", "BullDogs"],
      type: "3v3",
      difficulty: 3,
      mapSize: 1.7243340934859588,
      mapNumCPs: 8,
      unlocks: ["UArmor1x1"],
      mapSeed: 2344
    });
  
    stars.push({
      id: 'bd1s1jo',
      name: "Cronark",
      about: "",
      ai: "LongPoint",
      difficulty: 2,
      mapSize: 0.7398028523661195,
      mapNumCPs: 4,
      unlocks: ["BulletSpeedMod"],
      mapSeed: 9002
    });
  
    stars.push({
      id: 'o6n3l68',
      name: "Augria",
      about: "",
      ai: "Dreadnaught",
      difficulty: 2,
      mapSize: 1.3617570428177714,
      mapNumCPs: 6,
      unlocks: ["VArmor1x2End", "VArmor1x1CornerBack"],
      mapSeed: 6677
    });
  
    stars.push({
      id: 'tn19i28',
      name: "Orithyia",
      about: "",
      ai: "DoomTrain",
      difficulty: 2,
      mapSize: 1.0143948028795422,
      mapNumCPs: 6,
      unlocks: ["HArmor2x2Back1", "HArmor1x2Back1"],
      mapSeed: 6377
    });
  
    stars.push({
      id: 'u72hl0o',
      name: "Porphyrion",
      about: "",
      ai: "SparkShower",
      difficulty: 2,
      mapSize: 1.219316438306123,
      mapNumCPs: 6,
      unlocks: ["TeslaTurret"],
      mapSeed: 3555
    });
  
    stars.push({
      id: 'e0100v8',
      name: "Omega",
      about: "",
      ai: "LightShower",
      difficulty: 2,
      mapSize: 1.3014241704717278,
      mapNumCPs: 6,
      unlocks: ["TargetingMod"],
      mapSeed: 1788
    });
  
    stars.push({
      id: 'obh98f',
      name: "Sagitta",
      about: "",
      ai: "BeamMan",
      difficulty: 2,
      mapSize: 1.2050061562098562,
      mapNumCPs: 6,
      unlocks: ["HeavyBeamTurret"],
      mapSeed: 5673
    });
  
    stars.push({
      id: 'tb74kro',
      name: "Drakon",
      about: "",
      alpha: ["Player", "CreepingHoard"],
      beta: ["Razorback", "FighterBomber"],
      type: "2v2",
      difficulty: 2,
      mapSize: 1.2595503549091518,
      mapNumCPs: 6,
      unlocks: ["OverKillAi"],
      mapSeed: 9873
    });
  
    stars.push({
      id: 'qki9tjg',
      name: "Tarandi",
      about: "Here sits of one the bosses.",
      ai: "Tempest",
      type: "boss",
      difficulty: 3,
      mapSize: 1,
      mapNumCPs: 6,
      unlocks: [],
      mapSeed: 3773
    });
  
    stars.push({
      id: '161kekg',
      name: "Perkunas",
      about: "Here is one of the bosses. You must kill all of them to win the game.",
      ai: "MasterMind",
      type: "boss",
      difficulty: 1.5,
      mapSize: 2,
      mapNumCPs: 8,
      unlocks: [],
      mapSeed: 3441,
      addAIUnits: function() {
        var _, cp, ref, results, u;
        ref = sim.things;
        results = [];
        for (_ in ref) {
          cp = ref[_];
          if (cp.commandPoint) {
            if (cp.side === "beta") {
              u = mkUnit(sim.players[1].buildBar[9], [cp.pos[0], cp.pos[1]], cp.side);
              u.owner = 1;
              results.push(u.rot = Math.PI / 4);
            } else {
              results.push(void 0);
            }
          } else {
            results.push(void 0);
          }
        }
        return results;
      }
    });
  
    stars.push({
      id: 'er44698',
      name: "Leporis",
      about: "Here is one of the bosses. You must kill all of them to win the game.",
      ai: "DeathStrike",
      type: "boss",
      difficulty: 2,
      mapSize: 1.1906210828572512,
      mapNumCPs: 6,
      unlocks: [],
      mapSeed: 345,
      addAIUnits: function() {
        var _, cp, ref, results, u;
        ref = sim.things;
        results = [];
        for (_ in ref) {
          cp = ref[_];
          if (cp.commandPoint) {
            if (cp.side === "beta") {
              u = mkUnit(sim.players[1].buildBar[9], [cp.pos[0], cp.pos[1]], cp.side);
              u.owner = 1;
              results.push(u.rot = Math.PI / 4);
            } else {
              results.push(void 0);
            }
          } else {
            results.push(void 0);
          }
        }
        return results;
      }
    });
  
    stars.push({
      id: '3nkf8s8',
      name: "Lachesis",
      about: "Here is one of the bosses. You must kill all of them to win the game.",
      ai: "SwarmLord",
      type: "boss",
      difficulty: 3,
      mapSize: 1.2775459574535488,
      mapNumCPs: 6,
      unlocks: [],
      mapSeed: 1455
    });
  
    stars.push({
      id: 'b9hhch8',
      name: "Sceptri",
      about: "Here is one of the bosses. You must kill all of them to win the game.",
      ai: "Zeus",
      type: "boss",
      difficulty: 3,
      mapSize: 1.365885538328439,
      mapNumCPs: 6,
      unlocks: [],
      mapSeed: 8677
    });
  
    galaxyMap["export"] = function() {
      return console.log("galaxyMap.locations = " + (JSON.stringify(galaxyMap.locations)) + "\ngalaxyMap.paths = " + (JSON.stringify(galaxyMap.paths)));
    };
  
    galaxyMap.locations = {
      "kiusd6o": [1223, -1494],
      "ocef3t": [1300, -1340],
      "j2ui0n8": [1450, -1190],
      "amqfcv": [1509, -983],
      "kvfgni1": [1684, -760],
      "89m4glg": [1532, -729],
      "lq82oro": [1508, -519],
      "rg75pdo": [1623, -322],
      "nhq4sdg": [1049, -602],
      "i1ocdqo": [970, -339],
      "0rn9hbo": [792, -374],
      "iifg0h": [1649, -138],
      "j56hbdo": [1517, -126],
      "7dcrjg": [1113, -178],
      "klhsi6": [1733, -36],
      "lples3g": [551, 169],
      "o2fash": [1773, -390],
      "ifb162o": [1407, 338],
      "pj6hlio": [356, -282],
      "fkjv44": [-235, 382],
      "hj440sg": [-205, -312],
      "45k6uko": [663, -285],
      "3dmjdro": [943, 213],
      "tnad808": [366, -916],
      "gdgnd2o": [593, -88],
      "avrm6p": [-841, 440],
      "fd08nfg": [-64, 727],
      "6kn69oo": [419, 1191],
      "s3255c": [415, 46],
      "cjph01g": [25, 585],
      "gru669o": [-8, 39],
      "ockunt8": [-1127, -654],
      "45ucun8": [536, -736],
      "lbrgh6": [661, -454],
      "63t1isg": [-523, -1208],
      "637tk68": [-749, -1136],
      "k4nnvl8": [95, 1110],
      "rqvuj08": [283, 619],
      "9kq7oug": [-1543, 34],
      "31t2obg": [-1627, 386],
      "g710q5": [-1476, 1032],
      "rdlm558": [63, -596],
      "0v1jtk8": [-365, -664],
      "90i41rg": [-925, 31],
      "cucp8o": [-568, 716],
      "4acnhu8": [23, 445],
      "0kgoj8": [794, 172],
      "esjo00o": [-430, 217],
      "4ofptho": [767, 401],
      "kb83bsg": [1274, 494],
      "rnro1eo": [182, -1115],
      "r85ucl": [674, 593],
      "no4s0bo": [-1622, 694],
      "bd1s1jo": [-143, -1212],
      "o6n3l68": [-784, -334],
      "tn19i28": [-525, -150],
      "u72hl0o": [109, -406],
      "e0100v8": [336, 223],
      "obh98f": [293, 425],
      "tb74kro": [-258, 1012],
      "qki9tjg": [-1269, 1360],
      "161kekg": [-1394, -581],
      "er44698": [-319, 1258],
      "3nkf8s8": [-1739, 118],
      "b9hhch8": [696, 1172]
    };
  
    galaxyMap.paths = [["kiusd6o", "ocef3t"], ["ocef3t", "j2ui0n8"], ["j2ui0n8", "amqfcv"], ["amqfcv", "89m4glg"], ["amqfcv", "kvfgni1"], ["lq82oro", "rg75pdo"], ["0v1jtk8", "ockunt8"], ["161kekg", "ockunt8"], ["31t2obg", "no4s0bo"], ["31t2obg", "9kq7oug"], ["3nkf8s8", "9kq7oug"], ["637tk68", "63t1isg"], ["6kn69oo", "b9hhch8"], ["6kn69oo", "k4nnvl8"], ["avrm6p", "no4s0bo"], ["avrm6p", "cucp8o"], ["g710q5", "qki9tjg"], ["g710q5", "no4s0bo"], ["iifg0h", "rg75pdo"], ["iifg0h", "klhsi6"], ["iifg0h", "j56hbdo"], ["j56hbdo", "rg75pdo"], ["nhq4sdg", "nhq4sdg"], ["i1ocdqo", "i1ocdqo"], ["lq82oro", "7dcrjg"], ["7dcrjg", "j56hbdo"], ["o2fash", "klhsi6"], ["bd1s1jo", "rnro1eo"], ["7dcrjg", "i1ocdqo"], ["i1ocdqo", "0rn9hbo"], ["j56hbdo", "ifb162o"], ["45ucun8", "rdlm558"], ["o6n3l68", "0v1jtk8"], ["kvfgni1", "lq82oro"], ["89m4glg", "lq82oro"], ["89m4glg", "nhq4sdg"], ["kvfgni1", "o2fash"], ["kvfgni1", "rg75pdo"], ["nhq4sdg", "i1ocdqo"], ["lbrgh6", "0rn9hbo"], ["lbrgh6", "45ucun8"], ["45ucun8", "tnad808"], ["rnro1eo", "tnad808"], ["bd1s1jo", "63t1isg"], ["obh98f", "4acnhu8"], ["4acnhu8", "fkjv44"], ["fkjv44", "esjo00o"], ["ifb162o", "3dmjdro"], ["3dmjdro", "0kgoj8"], ["klhsi6", "ifb162o"], ["0kgoj8", "lples3g"], ["lples3g", "e0100v8"], ["e0100v8", "obh98f"], ["3dmjdro", "4ofptho"], ["4ofptho", "obh98f"], ["s3255c", "e0100v8"], ["s3255c", "gdgnd2o"], ["gdgnd2o", "45k6uko"], ["45k6uko", "lbrgh6"], ["u72hl0o", "hj440sg"], ["gdgnd2o", "pj6hlio"], ["pj6hlio", "u72hl0o"], ["hj440sg", "tn19i28"], ["rdlm558", "0v1jtk8"], ["4acnhu8", "gru669o"], ["gru669o", "hj440sg"], ["rdlm558", "bd1s1jo"], ["rdlm558", "hj440sg"], ["ifb162o", "kb83bsg"], ["kb83bsg", "3dmjdro"], ["o6n3l68", "ockunt8"], ["o6n3l68", "tn19i28"], ["rqvuj08", "fd08nfg"], ["o6n3l68", "90i41rg"], ["90i41rg", "avrm6p"], ["90i41rg", "9kq7oug"], ["fd08nfg", "tb74kro"], ["obh98f", "r85ucl"], ["r85ucl", "rqvuj08"], ["tb74kro", "er44698"], ["tb74kro", "k4nnvl8"], ["tb74kro", "cucp8o"], ["esjo00o", "cucp8o"], ["4ofptho", "r85ucl"], ["4acnhu8", "cjph01g"], ["cjph01g", "fd08nfg"], ["esjo00o", "tn19i28"]];
  
    unlocks = {};
  
    for (j = 0, len = stars.length; j < len; j++) {
      star = stars[j];
  
      /*
      if star.alpha
          for aiName in star.alpha
              if aiName != "Player" and not ais.all[aiName]?.name
                  console.error "Ai not found", star.name, aiName
      if star.beta
          for aiName in star.beta
              if not ais.all[aiName]?.name
                  console.error "Ai not found", star.name, aiName
      
      if star.ai
          if not ais.all[star.ai]?.name
              console.error star.name, star.ai
       */
      star.pos = galaxyMap.locations[star.id];
      if (!star.pos) {
        console.log("star without position", star.name);
      }
      if (!star.mapSeed) {
        console.log("star without mapSeed", star.name);
      }
      ref = star.unlocks;
      for (l = 0, len1 = ref.length; l < len1; l++) {
        partName = ref[l];
        if (!parts[partName]) {
          console.error("Part is not valid " + partName + " at " + star.name);
        }
        if (unlocks[partName] != null) {
          console.error("Part already unlocked " + partName + " at " + star.name);
        } else {
          unlocks[partName] = true;
        }
      }
    }
  
  }).call(this);
  ;
  
  
  //from src/galaxygen.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var BOSS, FREE_AI, MINI_BOSSES;
  
    BOSS = "HgIgIyYpFBQPCiIBChoBChIBHhIBHhoBHiIBHA4%2FCA4%2FDA4%2FIA4%2FCBY%2BDBY%2BCB48DB48HB48IB48IBY%2BHBY%2BIhI8BhI8GhI%2BBho9DhI%2BBiI9IiI9Iho9CCY9GiI%2BDiI%2BDCY%2BHCY%2BDho8ICY9Gho8FxIHCAoZERIHIAoZHgYZCgYZCgIgBSYpIx4pBR4pBRYpIxYpBQ4HBQoHIw4HIwoHDyYHEB4BGSYHEBYBGBYBGB4BBQYHGQYHIwYHBwUbDQUbGwUbIQUbERoHFxoHFBgPFAgPFBAPEA4PGA4PEAoPGAoPDAoPHAoPFAwPEB4vGB4vCiI3HiI3EBYwGBYwCho1Hho1ChI0HhI0";
  
    MINI_BOSSES = [BOSS, BOSS, BOSS];
  
    FREE_AI = ["AlphaSwarm", "CreepingHoard", "BullDogs"];
  
    galaxyMap.generateStub = function() {
      var _r, a, aa, ab, ac, ad, ae, allStars, b, bossStar, d, data, dist, emptyStar, hasPart, i, interct, j, justWon, k, l, len, len1, len10, len11, len12, len2, len3, len4, len5, len6, len7, len8, len9, m, myStar, n, o, other, p, p1, p2, part, path, paths, pos, q, r, ref, s, spec, star, starNames, starPosList, stars, u, unlockedParts, v, w, x, y, z;
      interct = function(p0, p1, p2, p3) {
        var i, s, s1, s2, t;
        s1 = v2.create();
        s2 = v2.create();
        s1[0] = p1[0] - p0[0];
        s1[1] = p1[1] - p0[1];
        s2[0] = p3[0] - p2[0];
        s2[1] = p3[1] - p2[1];
        s = (-s1[1] * (p0[0] - p2[0]) + s1[0] * (p0[1] - p2[1])) / (-s2[0] * s1[1] + s1[0] * s2[1]);
        t = (s2[0] * (p0[1] - p2[1]) - s2[1] * (p0[0] - p2[0])) / (-s2[0] * s1[1] + s1[0] * s2[1]);
        if (s > 0 && s < 1 && t > 0 && t < 1) {
          i = v2.create();
          i[0] = p0[0] + (t * s1[0]);
          i[1] = p0[1] + (t * s1[1]);
          return 1;
        }
        return null;
      };
      starPosList = [[-1267.6885009765626, 1380.2528076171875], [1315.9303466796875, -1374.8926025390626], [-254.60974121093753, -259.96994628906253], [-329.6526123046875, -24.1209228515625], [-206.3678955078125, 179.5668701171875], [-40.2015380859375, 222.44851074218752], [83.0831787109375, 174.2066650390625], [184.9270751953125, 18.760717773437502], [174.2066650390625, -142.04543457031252], [-24.1209228515625, -335.0128173828125], [-544.0608154296875, -152.7658447265625], [-753.1088134765625, 217.08830566406252], [-704.8669677734375, 581.5822509765626], [-527.9802001953126, 806.7108642578125], [-158.1260498046875, 1005.0384521484376], [329.6526123046875, 1122.9629638671877], [672.7057373046875, 1074.7211181640625], [1080.0813232421876, 785.2700439453125], [1396.3334228515625, 286.77097167968753], [1492.8171142578126, -147.4056396484375], [479.7383544921875, 115.24440917968751], [694.1465576171876, -109.8842041015625], [635.1843017578126, -710.2271728515625], [318.9322021484375, -1069.3609130859377], [-506.5393798828125, -1267.6885009765626], [-988.9578369140626, -929.9955810546876], [-1412.4140380859376, -586.9424560546876], [-1583.9406005859375, -125.9648193359375], [-1696.5049072265626, 318.9322021484375], [-1562.4997802734376, 956.7966064453126], [-1096.1619384765627, -640.5445068359376], [-833.5118896484375, -790.6302490234375], [34.8413330078125, -790.6302490234375], [388.6148681640625, -463.6577392578125], [-308.2117919921875, -887.1139404296875], [1128.3231689453125, -769.1894287109376], [1133.6833740234376, -88.44338378906251], [988.9578369140626, 292.1311767578125], [629.8240966796875, 619.1036865234375], [195.64748535156252, 763.8292236328125], [-356.4536376953125, 619.1036865234375], [-924.6353759765626, -174.2066650390625], [-1289.1293212890625, 142.04543457031252], [-1171.2048095703126, 399.3352783203125], [-1122.9629638671877, 1047.9200927734375], [-115.24440917968751, -549.4210205078125], [-447.57712402343753, -544.0608154296875], [-753.1088134765625, -335.0128173828125], [-565.5016357421875, 50.921948242187504], [-404.69548339843755, 361.8138427734375], [13.4005126953125, 436.8567138671875], [597.6628662109375, 436.8567138671875], [-56.2821533203125, -29.481127929687503], [147.4056396484375, -506.5393798828125], [388.6148681640625, -211.7281005859375], [249.24953613281252, 388.6148681640625], [656.6251220703125, -361.8138427734375], [731.6679931640625, 88.44338378906251], [972.8772216796875, -522.6199951171875], [903.1945556640626, -1064.0007080078126], [1417.7742431640627, -544.0608154296875], [704.8669677734375, 822.7914794921876], [903.1945556640626, 597.6628662109375], [125.9648193359375, 1058.6405029296875], [-88.44338378906251, 1267.6885009765626], [-565.5016357421875, 978.2374267578126], [-999.6782470703125, 704.8669677734375], [-1412.4140380859376, 549.4210205078125], [-104.52399902343751, -1026.4792724609376], [-211.7281005859375, -753.1088134765625], [-527.9802001953126, -710.2271728515625], [-1219.4466552734375, -222.44851074218752], [-833.5118896484375, 2.6801025390625], [-431.49650878906255, -324.29240722656255], [-426.1363037109375, 184.9270751953125], [-179.5668701171875, 410.0556884765625], [313.57199707031253, 168.84645996093752], [-67.0025634765625, -201.0076904296875], [-206.3678955078125, -61.6423583984375], [254.60974121093753, -292.1311767578125], [377.89445800781255, 356.4536376953125], [-50.921948242187504, 624.4638916015625], [838.8720947265625, -324.29240722656255]];
      starNames = "Sigma\nAsteropaios\nCassiopeia\nOrion\nDioscuri\nMosaic\nTiger\nIris\nHyperion\nProxima Dioscuri\nPeleus\nAstraeus\nCymopoleia\nSerpent\nEubuleus\nAra Alatheia\nProxima Ilioneus\nDioscuri\nHyperbius\nBanana\nArrowhead\nVortex\nEpsilon Eubuleus\nIchnaea\nCrux Draconis\nNemesis\nPhoroneus\nFishscale\nBlueberry\nBellflare\nOmega Orithyia\nUpsilon Proioxis\nUrsa\nAstraeus\nSolymus\nAquila Porphyrion\nZephyrus\nBeta\nIcarius\nEioneus\nSawblade\nDragontooth\nBowl\nOmega\nSagitta Porphyrion\nLyra Acallaris\nOrithyia\nAurigae\nCrown\nSpiderleg\nEioneus\nCanis Aldebaran\nPavo Calesius\nLeporis\nHemithea\nSerpent\nChronos\nNemo\nZephyrus\nCalesius\nPolystratus\nAethalides\nOctantis\nSextantis\nAntini\nBestla\nCerberi\nGalli\nPunarvasu\nPrani\nDou\nEridu\nPegasi\nSextantis\nPushya\nLibrae\nKini\nAmurru\nMaenali\nShravishtha\nAntliae\nIrmo\nLachesis\nMaenali\nPerkunas\nPascia\nApep\nOrionis\nAuseklis\nAker\nNoptri\nNiu\nSceptri\nChani\nShatabhisha\nAngith\nShi\nGoll\nKrily\nMali\nBani\nJenaii\nVortu\nDelphini\nOrome\nAo-Jun\nTarandi".split("\n");
      stars = [];
      paths = [];
      _r = v2.create();
      for (l = 0, len = starPosList.length; l < len; l++) {
        pos = starPosList[l];
        if (Math.random() > .8) {
          continue;
        }
        s = {};
        s.id = rid();
        s.pos = pos;
        s.name = starNames.pop();
        v2.random(_r);
        v2.scale(_r, 20);
        v2.add(s.pos, _r);
        s.good = false;
        s.unlocksParts = [];
        stars.push(s);
      }
      dist = 0;
      for (m = 0, len1 = stars.length; m < len1; m++) {
        star = stars[m];
        if (v2.mag(star.pos) > dist) {
          dist = v2.mag(star.pos);
          myStar = star;
        }
      }
      myStar.side = "alpha";
      myStar.type = "home";
      myStar.size = 1;
      justWon = myStar;
      for (i = n = 1; n < 7; i = ++n) {
        for (a = o = 0, len2 = stars.length; o < len2; a = ++o) {
          star = stars[a];
          if (star.good > 4) {
            continue;
          }
          for (b = q = 0, len3 = stars.length; q < len3; b = ++q) {
            other = stars[b];
            if (a === b) {
              continue;
            }
            d = v2.distance(star.pos, other.pos);
            if (((i - 1) * 200 < d && d < i * 200)) {
              paths.push([d, star, other]);
              star.good += 1;
              other.good += 1;
            }
          }
        }
      }
      for (j = r = 0, len4 = paths.length; r < len4; j = ++r) {
        p1 = paths[j];
        for (k = u = 0, len5 = paths.length; u < len5; k = ++u) {
          p2 = paths[k];
          if (j !== k && p2[0] !== null && p1[0] !== null && interct(p1[1].pos, p1[2].pos, p2[1].pos, p2[2].pos)) {
            if (p2[0] > p1[0]) {
              p2[0] = null;
            } else {
              p1[0] = null;
            }
          }
        }
      }
      paths = (function() {
        var len6, results, v;
        results = [];
        for (v = 0, len6 = paths.length; v < len6; v++) {
          p = paths[v];
          if (p[0] !== null) {
            results.push(p);
          }
        }
        return results;
      })();
      myStar.fill = true;
      for (i = v = 0; v < 100; i = ++v) {
        for (w = 0, len6 = paths.length; w < len6; w++) {
          path = paths[w];
          if (path[1].fill || path[2].fill) {
            path[1].fill = true;
            path[2].fill = true;
          }
        }
      }
      stars = (function() {
        var len7, results, x;
        results = [];
        for (x = 0, len7 = stars.length; x < len7; x++) {
          s = stars[x];
          if (s.fill) {
            results.push(s);
          }
        }
        return results;
      })();
      paths = (function() {
        var len7, results, x;
        results = [];
        for (x = 0, len7 = paths.length; x < len7; x++) {
          p = paths[x];
          if (p[1].fill) {
            results.push(p);
          }
        }
        return results;
      })();
      dist = 0;
      for (x = 0, len7 = stars.length; x < len7; x++) {
        star = stars[x];
        d = v2.distance(star.pos, myStar.pos);
        if (d > dist) {
          dist = d;
          bossStar = star;
        }
      }
      bossStar.size = 1;
      bossStar.type = "boss";
      bossStar.ai = "Boss";
      bossStar.boss = BOSS;
      for (y = 0, len8 = stars.length; y < len8; y++) {
        star = stars[y];
        d = v2.distance(star.pos, bossStar.pos);
        if (d < 900) {
          star.size = 3;
        } else if (d < 2000) {
          star.size = 2;
        } else {
          star.size = 1;
        }
        if (!star.ai) {
          if (star.size === 3) {
            star.ai = choose(ais.hard);
            star.mapSize = 1.4 + Math.random() * .5;
            star.spots = 8;
          } else if (star.size === 2) {
            star.ai = choose(ais.med);
            star.mapSize = 1 + Math.random() * .4;
            star.spots = 6;
          } else if (star.size === 1) {
            star.ai = choose(ais.easy);
            star.mapSize = .6 + Math.random() * .3;
            star.spots = 4;
          }
        }
      }
      unlockedParts = {};
      for (z = 0, len9 = easyPlayerBuildBar.length; z < len9; z++) {
        spec = easyPlayerBuildBar[z];
        ref = fromShort(spec);
        for (aa = 0, len10 = ref.length; aa < len10; aa++) {
          p = ref[aa];
          unlockedParts[p.type] = true;
        }
      }
      allStars = (function() {
        var ab, len11, results;
        results = [];
        for (ab = 0, len11 = stars.length; ab < len11; ab++) {
          s = stars[ab];
          if (s.id !== bossStar.id && s.id !== myStar.id) {
            results.push(s);
          }
        }
        return results;
      })();
      allStars.sort(function() {
        return Math.random();
      });
      for (k in parts) {
        part = parts[k];
        if (!part.prototype.hide && !unlockedParts[k] && part.prototype.tab === "weapons") {
          for (i = ab = 0; ab < 100; i = ++ab) {
            star = choose(stars);
            if (star.type === "home" || star.type === "boss") {
              continue;
            }
            if (star.unlocksParts.length > 0) {
              continue;
            }
            star.unlocksParts.push(k);
            break;
          }
        }
      }
      emptyStar = (function(_this) {
        return function() {
          var ac, len11;
          for (ac = 0, len11 = stars.length; ac < len11; ac++) {
            star = stars[ac];
            if (star.type === "home" || star.type === "boss") {
              continue;
            }
            if (star.unlocksParts.length === 0) {
              return star;
            }
          }
          return null;
        };
      })(this);
      for (k in parts) {
        part = parts[k];
        if (!part.prototype.hide && !unlockedParts[k] && part.prototype.tab !== "weapons") {
          for (i = ac = 0; ac < 100; i = ++ac) {
            star = emptyStar() || choose(stars);
            if (star.type === "home" || star.type === "boss") {
              continue;
            }
            if (star.unlocksParts.length > 0) {
              hasPart = parts[star.unlocksParts[0]];
              if (hasPart.prototype.tab === "weapons") {
                continue;
              }
              if (part.prototype.tab === "armor" && hasPart.prototype.tab !== "armor") {
                continue;
              }
            }
            if (star.unlocksParts.length > 2) {
              continue;
            }
            star.unlocksParts.push(k);
            break;
          }
        }
      }
      data = [];
      for (ad = 0, len11 = stars.length; ad < len11; ad++) {
        star = stars[ad];
        data += "\n\nstars.push\n    id: '" + star.id + "'\n    name: \"" + star.name + "\"\n    about: \"\"\n    ai: \"" + star.ai + "\"\n    difficulty: " + star.size + "\n    mapSize: " + star.mapSize + "\n    mapNumCPs: " + star.spots + "\n    unlocks: " + (JSON.stringify(star.unlocksParts)) + "\n    pos: [" + (Math.floor(star.pos[0])) + ", " + (Math.floor(star.pos[1])) + "]";
      }
      data += "\n\n";
      for (ae = 0, len12 = paths.length; ae < len12; ae++) {
        p = paths[ae];
        data += "\npaths.push(['" + p[1].id + "', '" + p[2].id + "'])";
      }
      return console.log(data);
    };
  
  }).call(this);
  ;
  
  
  //from src/bubbles.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var drawBubble, fixBubblePos;
  
    eval(onecup["import"]());
  
    window.bubbles = {};
  
    bubbles.list = [];
  
    bubbles.tip = null;
  
    bubbles.add = function(bubble) {
      bubbles.list.push(bubble);
      return onecup.refresh();
    };
  
    bubbles.clear = function() {
      bubbles.list = [];
      return onecup.refresh();
    };
  
    bubbles.draw = function() {
      var i, len, ref, results, thing;
      if (bubbles.list.length > 0) {
        drawBubble(bubbles.list[0]);
      }
      if (bubbles.tip) {
        drawBubble(bubbles.tip);
      }
      if (tutor.bubble) {
        drawBubble(tutor.bubble);
      }
      if (commander.selection && localStorage.useAi === "true" && localStorage.aiGrid === "true") {
        ref = commander.selection;
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          thing = ref[i];
          if (thing.message) {
            results.push(drawBubble({
              thing: thing,
              message: thing.message,
              modeOnly: "battle"
            }));
          } else {
            results.push(void 0);
          }
        }
        return results;
      }
    };
  
    bubbles.tick = function() {
      var bubble, id, ref, results, thing;
      if (control.mode.fromGameSpace == null) {
        return;
      }
      if (bubbles.list.length > 0) {
        bubble = bubbles.list[0];
        if (bubble.thing) {
          fixBubblePos(bubble.thing);
        }
        if (typeof bubble.close === "function" ? bubble.close() : void 0) {
          onecup.refresh();
        }
      }
      if (intp) {
        ref = intp.things;
        results = [];
        for (id in ref) {
          thing = ref[id];
          if (thing.message != null) {
            results.push(fixBubblePos(thing));
          } else {
            results.push(void 0);
          }
        }
        return results;
      }
    };
  
    fixBubblePos = function(thing) {
      var dom, pos;
      dom = document.getElementById("bubble-" + thing.id);
      if (dom) {
        pos = control.mode.fromGameSpace(thing.pos);
        dom.style.left = pos[0] + "px";
        return dom.style.top = pos[1] + "px";
      }
    };
  
    drawBubble = function(bubble) {
      var pos, ref;
      if (bubble.findThing != null) {
        bubble.thing = bubble.findThing();
        if (!bubble.thing) {
          return;
        }
      }
      if (bubble.thing) {
        if (control.mode.fromGameSpace == null) {
          return;
        }
        pos = control.mode.fromGameSpace(bubble.thing.pos);
        bubble.x = Math.floor(pos[0]);
        bubble.y = Math.floor(pos[1]);
      }
      if (typeof bubble.close === "function" ? bubble.close() : void 0) {
        if (typeof bubble.onclose === "function") {
          bubble.onclose();
        }
        bubbles.list.shift();
        return;
      }
      if (bubble.onshow) {
        bubble.onshow();
        bubble.onshow = false;
      }
      if (bubble.delay != null) {
        bubble.delay -= 1 / 16;
        if (bubble.delay <= 0) {
          bubbles.list.shift();
        }
      }
      if ((bubble.modeOnly != null) && bubble.modeOnly !== ui.mode) {
        return;
        console.log("mode only");
      }
      return div("#bubble-" + ((ref = bubble.thing) != null ? ref.id : void 0), function() {
        var h, ref1, src, w;
        position("absolute");
        if (bubble.bottom) {
          bottom(bubble.bottom);
        } else {
          top(bubble.y);
        }
        left(bubble.x);
        overflow("visible");
        z_index("10");
        if (bubble.image) {
          ref1 = bubble.image, src = ref1[0], w = ref1[1], h = ref1[2];
          img({
            src: src + "?_1",
            width: w,
            height: h
          });
          transform("translate(" + (-w / 2) + "px, " + (-h / 2) + "px)");
          return;
        }
        div(function() {
          onclick(function() {
            if (bubble.notclosable) {
              return;
            }
            if (typeof bubble.onclose === "function") {
              bubble.onclose();
            }
            return bubbles.list.shift();
          });
          if (bubble.stem !== "top") {
            position("absolute");
            display("inline-block");
            left(-30);
            bottom(20);
          }
          width(bubble.width || 300);
          padding(10);
          border_radius(5);
          background_color("rgba(0,0,0,.5)");
          color("white");
          font_size(14);
          if (!bubble.notclosable) {
            div(function() {
              position("absolute");
              top(7);
              right(7);
              width(10);
              height(10);
              return background_color("rgba(0,0,0,.2)");
            });
          }
          if (bubble.message) {
            text(bubble.message);
          }
          return typeof bubble.html === "function" ? bubble.html() : void 0;
        });
        return div(function() {
          position("absolute");
          width(0);
          height(0);
          if (bubble.stem === "top") {
            top(-20);
            left(20);
            border_left("20px solid rgba(0,0,0,.5)");
            border_top("20px solid transparent");
          }
          if (bubble.stem === "center") {
            bottom(0);
            left(bubble.width / 2 - 50);
            ({
              margin_left: -20
            });
            border_left("20px solid transparent");
            border_right("20px solid transparent");
            return border_top("20px solid rgba(0,0,0,.5)");
          } else {
            bottom(0);
            ({
              margin_left: -20
            });
            border_left("20px solid rgba(0,0,0,.5)");
            return border_bottom("20px solid transparent");
          }
        });
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/menus.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var menuButtons;
  
    eval(onecup["import"]());
  
    ui.menu = function() {
      ui.menuFrame("mainmenu", function() {
        menuButtons();
        return ui.dlcs();
      });
      return ui.quickOptions();
    };
  
    ui.quickOptions = function() {
      div(function() {
        position("absolute");
        top(0);
        left(0);
        return img(".hover-black", {
          src: "img/ui/back.png",
          width: 64,
          height: 64
        }, function() {
          position("absolute");
          top(0);
          left(0);
          return onclick(function() {
            return ui.go("battle");
          });
        });
      });
      div(function() {
        position("absolute");
        bottom(0);
        right(0);
        width(200);
        text_align("right");
        span(function() {
          var imgSrc;
          display("inline-block");
          padding(10);
          if (isFullScreen()) {
            imgSrc = "img/ui/fullscreen.png";
          } else {
            imgSrc = "img/ui/window.png";
          }
          return img({
            src: imgSrc,
            width: 40,
            height: 40
          }, function() {
            return onclick(function() {
              return toggleFullScreen();
            });
          });
        });
        return span(function() {
          var imgSrc;
          display("inline-block");
          padding(10);
          if (localStorage.mute !== "true") {
            imgSrc = "img/ui/mute.png";
          } else {
            imgSrc = "img/ui/unmute.png";
          }
          return img({
            src: imgSrc,
            width: 40,
            height: 40
          }, function() {
            return onclick(function() {
              if (localStorage.mute !== "true") {
                return localStorage.mute = "true";
              } else {
                return localStorage.mute = "false";
              }
            });
          });
        });
      });
      return div(function() {
        var siteLink;
        position("absolute");
        top(0);
        right(0);
        text_align("right");
        padding(10);
        width((window.innerWidth - 600) / 2);
        siteLink = function(name, url) {
          return span(".hover-text-glow", function() {
            color("white");
            display("inline-bock");
            font_size(20);
            margin(10);
            text(name);
            return onclick(function() {
              return onecup.newTab(url);
            });
          });
        };
        siteLink("blog", "https://medium.com/@treeform");
        siteLink("reddit", "http://reddit.com/r/istrolid/");
        siteLink("discord", "https://discord.gg/stX3pmF");
        return siteLink("twitter", "https://twitter.com/treeform");
      });
    };
  
    css(".hover-text-glow:hover", function() {
      return text_shadow("0 0 3px white");
    });
  
    ui.div_hover_blur = function(cb) {
      return div(".hover-blur", function() {
        div(".blur", function() {
          return cb();
        });
        return div(".top", function() {
          return cb();
        });
      });
    };
  
    ui.menuFrame = function(name, fn) {
      return div("#" + name, function() {
        var m;
        position("relative");
        margin("0px auto");
        height(window.innerHeight);
        width(600);
        background_color("rgba(0,0,0,.6)");
        color("white");
        overflow_y("scroll");
        m = 600 / 2;
        img({
          src: "img/ui/menu_logo.png",
          width: 330,
          height: 145
        }, function() {
          position("absolute");
          top(40);
          return left(m - 330 / 2);
        });
        div(function() {
          position("absolute");
          top(0);
          width("100%");
          height(200);
          overflow("hidden");
          return div(function() {
            position("absolute");
            top(30);
            right(-50);
            padding("6px 0px");
            font_size(18);
            font_weight("bold");
            text_align("center");
            text("BETA 0." + VERSION + "." + MINOR_VERSION);
            color("white");
            background("black");
            width(200);
            return transform("rotate(45deg)");
          });
        });
        return fn();
      });
    };
  
    menuButtons = function() {
      var bottomRow, m, s;
      m = 600 / 2;
      s = 50;
      div("#galaxybuttons", function() {
        position("absolute");
        top(220);
        width("100%");
        height(221);
        background_color("rgba(0,0,0,.6)");
        ui.div_hover_blur(function() {
          position("absolute");
          padding(5);
          width(120);
          top(26);
          left(s);
          text_align("center");
          img({
            src: "img/ui/menu_multiplayer.png",
            width: 80,
            height: 80
          });
          text("Multiplayer");
          return onclick(function() {
            return ui.go("multiplayer");
          });
        });
        ui.div_hover_blur(function() {
          position("absolute");
          top(26);
          left(m - 150 / 2);
          padding(5);
          width(150);
          text_align("center");
          img({
            src: "img/ui/menu_campaign.png",
            width: 130,
            height: 130
          });
          text("Campaign");
          return onclick(function(e) {
            console.log("galaxy on click", e);
            return ui.go("galaxy");
          });
        });
        return ui.div_hover_blur(function() {
          position("absolute");
          padding(5);
          width(120);
          top(26);
          right(s);
          text_align("center");
          img({
            src: "img/ui/challenges.png",
            width: 80,
            height: 80
          });
          text("Challenges");
          return onclick(function() {
            return ui.go("challenges");
          });
        });
      });
      bottomRow = window.innerHeight - 120;
      if (bottomRow < 370 + 240) {
        bottomRow = 370 + 240;
      }
      ui.div_hover_blur(function() {
        position("absolute");
        padding(5);
        width(120);
        top(bottomRow);
        left(s * 2);
        text_align("center");
        div(function() {
          return img({
            src: "img/ui/design.png",
            width: 64,
            height: 64
          });
        });
        text("Design");
        return onclick(function() {
          battleMode.joinLocal();
          return ui.go("design");
        });
      });
      ui.div_hover_blur(function() {
        position("absolute");
        padding(5);
        width(120);
        top(bottomRow);
        left(m - 120 / 2);
        text_align("center");
        div(function() {
          return img({
            src: "img/ui/fleet.png",
            width: 64,
            height: 64
          });
        });
        text("Fleet");
        return onclick(function() {
          return ui.go("fleet");
        });
      });
      ui.div_hover_blur(function() {
        position("absolute");
        padding(5);
        width(120);
        top(bottomRow);
        right(s * 2);
        text_align("center");
        div(function() {
          return img({
            src: "img/ui/settings.png",
            width: 64,
            height: 64
          });
        });
        text("Settings");
        return onclick(function() {
          return ui.go("settings");
        });
      });
      if (typeof electron !== "undefined" && electron !== null) {
        return ui.div_hover_blur(function() {
          position("absolute");
          padding(5);
          top(590);
          left(200);
          right(200);
          height(40);
          font_size(20);
          text_align("center");
          line_height(40);
          text("Quit Game");
          return onclick(function() {
            return account.closeAndSave();
          });
        });
      }
    };
  
    css(".hover-bright:hover", function() {
      return filter("saturate(160%)");
    });
  
    ui.dlcs = function() {
      var drawDlc;
      drawDlc = function(name, image, url, fn) {
        return div(function() {
          fn();
          overflow("hidden");
          img(".hover-bright", {
            src: image,
            width: 260,
            height: 100
          }, function() {
            return onclick(function() {
              return open(url, "_blank");
            });
          });
          if (account.DLCs[name]) {
            return div(function() {
              position("absolute");
              top(30);
              right(-48);
              padding(5);
              font_size(20);
              font_weight("bold");
              text_align("center");
              color("white");
              background("rgba(200,0,0,1)");
              width(200);
              transform("rotate(45deg)");
              return text("THANKS!");
            });
          }
        });
      };
      drawDlc("Paint Job", "img/ui/dlc/dlc1.png", "steam://store/472490", function() {
        position("absolute");
        top(465);
        left(25);
        width(260);
        return height(100);
      });
      return drawDlc("Curves and Shadows", "img/ui/dlc/dlc2.png", "steam://store/614180", function() {
        position("absolute");
        top(465);
        right(25);
        width(260);
        return height(100);
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/chat.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var canJoinServer, closeToStart, drawLocal, drawPlayers, drawPrivateServer, drawPrivateServerFoldOut, drawServer, drawServers, numRealPlayers, playerItem, quickJoin, sizeOf;
  
    eval(onecup["import"]());
  
    window.chat = {};
  
    chat.players = {};
  
    sizeOf = function(map) {
      var k, l;
      l = 0;
      for (k in map) {
        l += 1;
      }
      return l;
    };
  
    chat.room = function() {
      var sideWidth;
      sideWidth = window.innerWidth / 4;
      div(function() {
        color("white");
        position("absolute");
        top(64);
        bottom(84);
        left(0);
        width(sideWidth);
        overflow_y("auto");
        background_color("rgba(0,0,0,.1)");
        return drawServers();
      });
      return div(function() {
        color("white");
        position("absolute");
        top(64);
        bottom(84);
        right(0);
        width(sideWidth);
        overflow_y("auto");
        background_color("rgba(0,0,0,.3)");
        return drawPlayers();
      });
    };
  
    ui.serverSearch = null;
  
    drawServers = function(m) {
      var _, j, len, results, server, servers, str;
      drawLocal();
      div(function() {
        position("relative");
        padding(10);
        height(40);
        background_color("rgba(255,255,255,.1)");
        padding_left(20);
        return text("Servers List");
      });
      input("#serversearch", {
        type: "text",
        value: ui.serverSearch,
        placeholder: "search servers"
      }, function() {
        padding(10);
        font_size(16);
        color("white");
        display("block");
        border("none");
        width("100%");
        background_color("rgba(0,0,0,.5)");
        return oninput(function(e) {
          return ui.serverSearch = e.target.value;
        });
      });
      servers = (function() {
        var ref, results;
        ref = rootNet.servers;
        results = [];
        for (_ in ref) {
          server = ref[_];
          results.push(server);
        }
        return results;
      })();
      servers.sort(function(a, b) {
        var avalue, bvalue;
        avalue = closeToStart(a) * 100 + numRealPlayers(a);
        bvalue = closeToStart(b) * 100 + numRealPlayers(b);
        if (a.state !== "waiting") {
          avalue = -a.observers;
        }
        if (b.state !== "waiting") {
          bvalue = -b.observers;
        }
        if (avalue === bvalue) {
          return a.name.localeCompare(b.name);
        }
        return bvalue - avalue;
      });
      results = [];
      for (j = 0, len = servers.length; j < len; j++) {
        server = servers[j];
        if (server.hidden) {
          continue;
        }
        if (ui.serverSearch) {
          str = server.name + " " + server.type;
          if (str.toLowerCase().indexOf(ui.serverSearch.toLowerCase()) === -1) {
            continue;
          }
        }
        results.push(drawServer(server));
      }
      return results;
    };
  
    drawLocal = function() {
      return div(".hover-black", function() {
        position("relative");
        height(40);
        padding_top(10);
        if (sim.local) {
          background_color("rgba(0,0,0,.4)");
        }
        div(function() {
          position("absolute");
          left(20);
          return text("Play vs AI");
        });
        return onclick(function() {
          battleMode.joinLocal();
          return ui.go("battleroom");
        });
      });
    };
  
    quickJoin = function(type) {
      return div(".hover-black", function() {
        position("relative");
        height(40);
        padding_top(10);
        div(function() {
          position("absolute");
          left(20);
          return text("Play " + type);
        });
        return onclick(function() {
          var _, goodNumPlayers, goodServer, j, len, numPlayers, p, ref, ref1, server;
          goodNumPlayers = 0;
          goodServer = null;
          ref = rootNet.servers;
          for (_ in ref) {
            server = ref[_];
            if (server.hidden || server.state !== "waiting") {
              continue;
            }
            if (server.type === type) {
              numPlayers = 0;
              ref1 = server.players;
              for (j = 0, len = ref1.length; j < len; j++) {
                p = ref1[j];
                if (!p.ai && p.side !== "spectators") {
                  numPlayers += 1;
                }
              }
              console.log("looking at", server.name, numPlayers);
              if (goodServer === null || numPlayers > goodNumPlayers && numPlayers !== ui.serverNeedNumPlayers(type)) {
                goodServer = server;
                goodNumPlayers = numPlayers;
              }
            }
          }
          if (goodServer !== null) {
            battleMode.joinServer(goodServer.name);
            return ui.go("battleroom");
          }
        });
      });
    };
  
    drawPrivateServerFoldOut = false;
  
    drawPrivateServer = function() {
      div(".hover-black", function() {
        position("relative");
        height(40);
        padding_top(10);
        if (sim.local) {
          background_color("rgba(0,0,0,.4)");
        }
        div(function() {
          position("absolute");
          left(20);
          return text("Host Private Server");
        });
        return onclick(function() {
          return drawPrivateServerFoldOut = !drawPrivateServerFoldOut;
        });
      });
      if (drawPrivateServerFoldOut) {
        return div(function() {
          return padding(10);
        });
      }
    };
  
    numRealPlayers = function(server) {
      var alpha, beta, j, len, p, ref;
      alpha = 0;
      beta = 0;
      ref = server.players;
      for (j = 0, len = ref.length; j < len; j++) {
        p = ref[j];
        if (p.side === "alpha") {
          alpha += 1;
        }
        if (p.side === "beta") {
          beta += 1;
        }
      }
      return alpha + beta;
    };
  
    closeToStart = function(server) {
      var alphas, betas, hasAis, j, len, num, p, ref;
      hasAis = false;
      alphas = 0;
      betas = 0;
      ref = server.players;
      for (j = 0, len = ref.length; j < len; j++) {
        p = ref[j];
        if (p.side === "alpha") {
          alphas += 1;
        }
        if (p.side === "beta") {
          betas += 1;
        }
      }
      num = ui.serverNeedNumPlayers(server);
      if (alphas + betas === num + num - 1) {
        return true;
      }
      return false;
    };
  
    canJoinServer = function(server) {
      if (server.players.length > 12) {
        return false;
      }
      if (server.version !== window.VERSION) {
        return false;
      }
      return true;
    };
  
    drawServer = function(server) {
      var avgRank, j, len, maxRank, nPlayers, player, rank, ref, totalRank;
      totalRank = 0;
      maxRank = 0;
      nPlayers = 0;
      ref = server.players;
      for (j = 0, len = ref.length; j < len; j++) {
        player = ref[j];
        if (player.side !== "spectators" && !player.ai) {
          rank = findRank(player.name);
          maxRank = Math.max(maxRank, rank);
          totalRank += rank;
          nPlayers += 1;
        }
      }
      avgRank = totalRank / nPlayers;
      return div(".hover-black", function() {
        var connected;
        position("relative");
        height(40);
        padding_top(10);
        if (canJoinServer(server)) {
          connected = server.address === network.address;
          if (connected) {
            background_color("rgba(0,0,0,.4)");
          }
          onclick(function() {
            ui.mode = "battleroom";
            return battleMode.joinServer(server.name);
          });
        } else {
          opacity(".5");
        }
        img({
          src: rankImage(maxRank),
          width: 20,
          height: 20
        }, function() {
          position("absolute");
          top(8);
          return left(4);
        });
        div(function() {
          position("absolute");
          left(28);
          text(server.type);
          text(" ");
          text(" ");
          return text(server.name);
        });
        if (window.innerWidth > 1000) {
          div(function() {
            position("absolute");
            right(80);
            if (server.version !== window.VERSION) {
              text("v" + server.version);
              if (server.version < window.VERSION) {
                return text("(older)");
              } else {
                return text("(newer)");
              }
            } else if (server.state !== "waiting") {
              return text(server.state);
            } else if (closeToStart(server)) {
              return text("+1 more");
            }
          });
          return div(function() {
            position("absolute");
            right(20);
            return text(server.observers);
          });
        }
      });
    };
  
    ui.playerSearch = "";
  
    drawPlayers = function() {
      var _, fullname, hasFriends, isFriend, j, len, len1, len2, n, name, o, offline, online, player, playerSearch, players, ref, ref1, results;
      players = [];
      playerSearch = ui.playerSearch.toLowerCase();
      ref = chat.players;
      for (_ in ref) {
        player = ref[_];
        if (playerSearch) {
          fullname = player.faction + player.name;
          if (fullname.toLowerCase().indexOf(playerSearch) !== -1) {
            players.unshift(player);
          }
        } else {
          players.unshift(player);
        }
      }
      players = players.sort(function(a, b) {
        return (b.rank || 0) - (a.rank || 0);
      });
      players = players.slice(0, 200);
      div(function() {
        position("relative");
        padding(10);
        height(40);
        background_color("rgba(255,255,255,.1)");
        padding_left(20);
        return text("Players (" + (sizeOf(chat.players)) + "):");
      });
      div(".hover-black", function() {
        padding(10);
        font_size(16);
        color("white");
        display("block");
        border("none");
        width("100%");
        text("Discord Voice Chat");
        return onclick(function() {
          return onecup.newTab("https://discord.gg/stX3pmF");
        });
      });
      input("#playersearch", {
        type: "text",
        value: ui.playerSearch,
        placeholder: "search players"
      }, function() {
        padding(10);
        font_size(16);
        color("white");
        display("block");
        border("none");
        width("100%");
        background_color("rgba(0,0,0,.5)");
        return oninput(function(e) {
          return ui.playerSearch = e.target.value;
        });
      });
      div(function() {
        return height(10);
      });
      hasFriends = false;
      online = [];
      offline = [];
      ref1 = commander.friends;
      for (name in ref1) {
        isFriend = ref1[name];
        if (isFriend && name.toLowerCase().indexOf(playerSearch) !== -1) {
          (name in chat.players ? online : offline).push(name);
          hasFriends = true;
        }
      }
      online.sort();
      offline.sort();
      for (j = 0, len = online.length; j < len; j++) {
        name = online[j];
        playerItem(chat.players[name]);
      }
      for (n = 0, len1 = offline.length; n < len1; n++) {
        name = offline[n];
        playerItem({
          name: name
        });
      }
      if (hasFriends) {
        div(function() {
          return height(20);
        });
      }
      results = [];
      for (o = 0, len2 = players.length; o < len2; o++) {
        player = players[o];
        results.push(playerItem(player));
      }
      return results;
    };
  
    playerItem = function(player) {
      return div(function() {
        var _, j, len, p, playerOnServer, ref, ref1, server;
        position("relative");
        padding("0px 10px");
        height(30);
        ui.playerChip(player);
        if (window.innerWidth > 1000) {
          playerOnServer = null;
          ref = rootNet.servers;
          for (_ in ref) {
            server = ref[_];
            if (server.players) {
              ref1 = server.players;
              for (j = 0, len = ref1.length; j < len; j++) {
                p = ref1[j];
                if (p.name === player.name) {
                  playerOnServer = server;
                  break;
                }
              }
            }
          }
          if (playerOnServer) {
            return div(".hover-black", function() {
              position("absolute");
              top(0);
              right(10);
              font_size(14);
              text(playerOnServer.name);
              padding(4);
              if (canJoinServer(playerOnServer)) {
                return onclick(function() {
                  return battleMode.joinServer(playerOnServer.name);
                });
              } else {
                return opacity(".5");
              }
            });
          } else {
            return div(function() {
              position("absolute");
              top(4);
              right(20);
              font_size(14);
              return text(player.mode);
            });
          }
        }
      });
    };
  
    chat.lines = [];
  
    chat.scrollLock = true;
  
    chat.lastMessage = null;
  
    chat.lastMode = null;
  
    chat.draw = function(fullLobby) {
      var chatLocation, m, messages, ref, ref1;
      if (ui.mode === "multiplayer") {
        chat.channel = void 0;
      } else if (typeof battleMode !== "undefined" && battleMode !== null ? (ref = battleMode.server) != null ? ref.name : void 0 : void 0) {
        chat.channel = battleMode.server.name;
      } else {
        chat.channel = "local";
      }
      messages = (function() {
        var j, len, ref1, results;
        ref1 = chat.lines;
        results = [];
        for (j = 0, len = ref1.length; j < len; j++) {
          m = ref1[j];
          if (m.channel === chat.channel) {
            results.push(m);
          }
        }
        return results;
      })();
      if ((ref1 = ui.mode) === "menu" || ref1 === "settings" || ref1 === "galaxy" || ref1 === "campaigns" || ref1 === "profile" || ref1 === "controls" || ref1 === "sound" || ref1 === "challenges" || ref1 === "fleet") {
        return;
      } else if (ui.mode === "multiplayer" || ui.mode === "battleroom") {
        chatLocation = "middle";
        messages = messages.slice(-200);
      } else if (ui.chatToggle) {
        chatLocation = "sidePanel";
        messages = messages.slice(-50);
      } else if (ui.chatting) {
        chatLocation = "sidePanel";
        messages = messages.slice(-50);
      } else if (localStorage.chatSilent === "true") {
        return;
      } else {
        messages = (function() {
          var j, len, results;
          results = [];
          for (j = 0, len = messages.length; j < len; j++) {
            m = messages[j];
            if (m.time + 10000 > Date.now()) {
              results.push(m);
            }
          }
          return results;
        })();
        if (messages) {
          chatLocation = "sliver";
        } else {
          return;
        }
      }
      if (chatLocation === "sidePanel") {
        div("#chat-x", function() {
          position("absolute");
          top(64);
          right(0);
          padding(10);
          color("white");
          z_index('2');
          text("X");
          return onclick(function() {
            return ui.chatToggle = false;
          });
        });
      }
      div("#chat-messages", function() {
        var quarterWidth;
        position("absolute");
        overflow_x("hidden");
        overflow_y("auto");
        background_color("rgba(0,0,0,.8)");
        z_index("1");
        quarterWidth = window.innerWidth / 4;
        switch (chatLocation) {
          case "sidePanel":
            top(64);
            bottom(84 + 30);
            right(0);
            width(quarterWidth);
            break;
          case "middle":
            top(64);
            bottom(84 + 30);
            left(quarterWidth);
            right(quarterWidth);
            break;
          case "sliver":
            bottom(84);
            right(0);
            width(quarterWidth);
        }
        onecup.post_render(function() {
          var j, len, line, newHeight, oldHeight, oldScrollTop, ref2, top, wrapper, wrapperGrew;
          top = 0;
          messages = onecup.lookup("#chat-messages");
          wrapper = onecup.lookup("#chat-wrapper");
          oldScrollTop = messages.scrollTop;
          oldHeight = wrapper.clientHeight;
          ref2 = onecup.lookup(".chat-message");
          for (j = 0, len = ref2.length; j < len; j++) {
            line = ref2[j];
            line.style.top = top + "px";
            top += line.clientHeight;
          }
          newHeight = top;
          wrapperGrew = newHeight - oldHeight;
          wrapper.style.height = top + "px";
          if (wrapperGrew > 0) {
            return messages.scrollTop += wrapperGrew;
          }
        });
        return div("#chat-wrapper", function() {
          var j, len, msg, results;
          position("relative");
          height("0px");
          results = [];
          for (j = 0, len = messages.length; j < len; j++) {
            msg = messages[j];
            if (commander.mutes[msg.name]) {
              continue;
            }
            results.push(p(".chat-message", function() {
              position("absolute");
              top(0);
              left(0);
              padding(2);
              font_size(16);
              if (msg.name === commander.name) {
                color("white");
              } else {
                color("#AAA");
              }
              ui.playerChip(msg, 20, "#AAA");
              padding(3);
              text(": ");
              return raw(linky.linkfy(msg.text));
            }));
          }
          return results;
        });
      });
      return input("#chat", {
        autocomplete: "off"
      }, function() {
        var quarterWidth;
        position("absolute");
        height(30);
        font_size(16);
        border("none");
        color("white");
        background_color("rgba(25,00,00,.8)");
        z_index("2");
        quarterWidth = window.innerWidth / 4;
        switch (chatLocation) {
          case "sidePanel":
            bottom(84);
            right(0);
            width(quarterWidth);
            break;
          case "middle":
            bottom(84);
            left(quarterWidth);
            width(quarterWidth * 2);
            break;
          case "sliver":
            display("none");
        }
        onblur(function() {
          return ui.chatting = false;
        });
        return onkeydown(function(e) {
          var _, commandArray, i, j, len, message, p, players, ref2, text, word, words;
          if (e.which === 27) {
            ui.chatting = false;
            e.target.blur();
          }
          if (e.which === 9) {
            words = e.target.value.split(/[\s\"]+/);
            word = words[words.length - 1];
            players = [];
            ref2 = chat.players;
            for (_ in ref2) {
              p = ref2[_];
              if (p.name.startsWith(word)) {
                players.push(p.name);
              }
            }
            console.log("tab", word, players);
            if (players.length === 1) {
              e.target.value += players[0].slice(word.length);
            }
            e.preventDefault();
          }
          if (e.which === 13) {
            if (e.target.value === "") {
              e.target.blur();
              ui.chatting = false;
              return;
            }
            text = e.target.value.trim();
            if (text[0] === "/") {
              commandArray = text.slice(1).match(/('.*?'|".*?"|\S+)/g);
              if (!commandArray) {
                return;
              }
              for (i = j = 0, len = commandArray.length; j < len; i = ++j) {
                word = commandArray[i];
                if (word[0] === '"') {
                  commandArray[i] = word.slice(1, word.length - 1);
                }
              }
              console.log("command", commandArray);
              rootNet.send("command", commandArray);
              return e.target.value = "";
            } else if (chat.channel === "local") {
              chat.lines.push({
                text: text,
                name: commander.name,
                color: commander.color,
                channel: chat.channel,
                time: Date.now()
              });
              return e.target.value = "";
            } else {
              message = {
                text: text,
                channel: chat.channel
              };
              rootNet.send("message", message);
              return e.target.value = "";
            }
          }
        });
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/battleroom.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var canAddAI, drawAI, drawAis, drawPlayerChip, drawServerSettings, drawSpecs, drawStart, drawTeam, drawTeams, findChatPlayer, needNumPlayers, quickScorePlayer,
      slice = [].slice;
  
    eval(onecup["import"]());
  
    window.battleroom = {};
  
    findChatPlayer = function(name) {
      var player;
      if (chat.players) {
        player = chat.players[name];
        if (player) {
          return player;
        }
      }
      return {
        rank: 0
      };
    };
  
    window.findRank = function(name) {
      var chatPlayer;
      chatPlayer = findChatPlayer(name);
      if (!chatPlayer) {
        return "?";
      }
      return Math.round(chatPlayer.rank || 0);
    };
  
    window.rankImage = function(rank) {
      if (rank < 25) {
        return "img/ui/rank/rank0.png";
      } else if (rank < 75) {
        return "img/ui/rank/rank1.png";
      } else if (rank < 150) {
        return "img/ui/rank/rank2.png";
      } else if (rank < 225) {
        return "img/ui/rank/rank3.png";
      } else if (rank < 300) {
        return "img/ui/rank/rank4.png";
      } else if (rank < 400) {
        return "img/ui/rank/rank5.png";
      } else if (rank < 500) {
        return "img/ui/rank/rank6.png";
      } else if (rank < 600) {
        return "img/ui/rank/rank7.png";
      } else if (rank < 700) {
        return "img/ui/rank/rank8.png";
      } else if (rank < 800) {
        return "img/ui/rank/rank9.png";
      } else if (rank < 1000) {
        return "img/ui/rank/rank10.png";
      } else if (rank < 1250) {
        return "img/ui/rank/rank11.png";
      } else if (rank < 1500) {
        return "img/ui/rank/rank12.png";
      } else if (rank < 2000) {
        return "img/ui/rank/rank13.png";
      } else if (rank >= 2000) {
        return "img/ui/rank/rank14.png";
      }
    };
  
    ui.playerChip = function(player, cut, defaultColor) {
      var chatPlayer;
      if (cut == null) {
        cut = 20;
      }
      if (defaultColor == null) {
        defaultColor = "white";
      }
      if (player.ai) {
        chatPlayer = {
          rank: 0
        };
      } else {
        chatPlayer = chat.players[player.name] || {
          rank: 0
        };
      }
      return div(".playerChip", function() {
        var x;
        position("relative");
        display("inline-block");
        height(24);
        line_height(24);
        oncontextmenu(function(e) {
          e.preventDefault();
          return ui.rmenu = {
            id: rid(),
            pos: [e.clientX, e.clientY],
            html: function() {
              div(function() {
                padding(5);
                return text(player.name);
              });
              if (player.name !== commander.name && player.name !== "Server") {
                div(".hover-red", function() {
                  padding(5);
                  if (!commander.mutes[player.name]) {
                    text("Mute player");
                  } else {
                    text("Unmute player");
                  }
                  return onclick(function() {
                    commander.mutes[player.name] = !commander.mutes[player.name];
                    account.rootSave();
                    return ui.rmenu = null;
                  });
                });
                return div(".hover-red", function() {
                  padding(5);
                  if (!commander.friends[player.name]) {
                    text("Add to friends");
                  } else {
                    text("Remove from friends");
                  }
                  return onclick(function() {
                    commander.friends[player.name] = !commander.friends[player.name];
                    account.rootSave();
                    return ui.rmenu = null;
                  });
                });
              }
            }
          };
        });
        x = 0;
        div(function() {
          var c, rank;
          left(x);
          position("absolute");
          box_shadow("inset 0 0 3px 2px rgba(255,255,255,.2)");
          border_radius(5);
          height(20);
          width(20);
          margin(2);
          if (player.connected === void 0 || player.connected === true) {
            c = player.color;
            if (c) {
              background_color("rgba(" + c[0] + "," + c[1] + "," + c[2] + ",1)");
            }
          }
          if (player.ai && !sim.galaxyStar) {
            img({
              src: "img/ui/player/ai.png",
              width: 20,
              height: 20
            });
          } else {
            rank = chatPlayer.rank;
            if (rank !== 0 && !isNaN(rank)) {
              img({
                src: rankImage(rank),
                width: 20,
                height: 20
              });
            }
          }
          return x += 24;
        });
        if (player.host && !sim.galaxyStar) {
          x += 2;
          img({
            src: "img/ui/player/host.png",
            width: 20,
            heigth: 20
          }, function() {
            left(x);
            top(2);
            position("absolute");
            return x += 22;
          });
        }
        if (commander.mutes[player.name]) {
          img({
            src: "img/ui/player/mute.png",
            width: 20,
            heigth: 20
          }, function() {
            left(x);
            top(2);
            position("absolute");
            return x += 18;
          });
        }
        if (commander.friends[player.name]) {
          img({
            src: "img/ui/player/friend.png",
            width: 20,
            heigth: 20
          }, function() {
            left(x);
            top(2);
            position("absolute");
            return x += 18;
          });
        }
        x += 2;
        return span(function() {
          padding_left(x);
          if (player.afk) {
            color("rgba(255,255,255,.6)");
          }
          if (chatPlayer.faction) {
            span(function() {
              font_size(20);
              color("rgba(255,255,255,.3)");
              return text("[");
            });
            text(chatPlayer.faction);
            span(function() {
              font_size(20);
              color("rgba(255,255,255,.3)");
              return text("]");
            });
            cut -= chatPlayer.faction.length;
            if (cut < 0) {
              cut = 0;
            }
          }
          if (!player.name) {
            return text(" ???");
          } else {
            return text(player.name.slice(0, cut));
          }
        });
      });
    };
  
    battleroom.countDownSound = null;
  
    battleroom.room = function() {
      var sideWidth;
      if (intp.countDown === 5 * 16 && !sim.local) {
        onecup.refresh();
      }
      sideWidth = window.innerWidth / 4;
      div(function() {
        color("white");
        position("absolute");
        top(64);
        bottom(84);
        left(0);
        width(sideWidth);
        background_color("rgba(0,0,0,.1)");
        overflow_y("scroll");
        if ((network.websocket != null) && network.websocket.readyState === WebSocket.CONNECTING) {
          div(function() {
            opacity(".4");
            padding("100px 20px");
            text_align("center");
            return text("Connecting...");
          });
        } else if (intp.players.length === 0) {
          div(function() {
            opacity(".4");
            padding("100px 20px");
            text_align("center");
            return text("Waiting...");
          });
        } else {
          drawServerSettings();
          drawStart();
          drawTeams();
        }
        if (!sim.local) {
          return div(".hover-white", function() {
            padding(20);
            text_align("center");
            text("leave game");
            return onclick(function() {
              battleMode.startNewLocal();
              return ui.go("multiplayer");
            });
          });
        }
      });
      return div(function() {
        color("white");
        position("absolute");
        top(64);
        bottom(84);
        right(0);
        width(sideWidth);
        background_color("rgba(0,0,0,.3)");
        overflow_y("scroll");
        if (ui.pickingLobbyAiSide) {
          return drawAis();
        }
      });
    };
  
    needNumPlayers = function() {
      if (sim.local) {
        return 3;
      }
      if (intp.serverType.slice(0, 3) === "1v1") {
        return 1;
      }
      if (intp.serverType === "2v2") {
        return 2;
      }
      if (intp.serverType === "3v3") {
        return 3;
      }
      return 3;
    };
  
    ui.serverNeedNumPlayers = function(server) {
      var ref;
      if (!server.type) {
        return 3;
      }
      if (((ref = server.type) != null ? ref.slice(0, 3) : void 0) === "1v1") {
        return 1;
      }
      if (server.type === "2v2") {
        return 2;
      }
      if (server.type === "3v3") {
        return 3;
      }
    };
  
    canAddAI = function() {
      if (sim.local) {
        return true;
      }
      if (intp.serverType.slice(0, 3) === "1v1") {
        return false;
      }
      return commander.side !== "spectators";
    };
  
    drawServerSettings = function() {
      var modeButton;
      modeButton = function(name, mode) {
        if (mode == null) {
          mode = name;
        }
        return span(".hover-black", function() {
          display("inline-block");
          margin(5);
          padding("10px 10px");
          text_align("center");
          color("white");
          if (intp.serverType === mode) {
            background_color("rgba(0,0,0,.2)");
          }
          text(name);
          return onclick(function() {
            var config;
            if (commander.host && intp.state === "waiting") {
              config = {};
              config['type'] = mode;
              console.log("send", "configGame", config);
              network.send("configGame", config);
              if (mode === "survival") {
                return network.send("switchSide", "alpha");
              }
            }
          });
        });
      };
      return div(function() {
        background_color("rgba(0,0,0,.1)");
        if (!sim.local) {
          modeButton("1v1");
          modeButton("1v1r");
          modeButton("1v1t");
          modeButton("2v2");
          modeButton("3v3");
        } else {
          modeButton("Sandbox", "sandbox");
        }
        return modeButton("Survival", "survival");
      });
    };
  
    drawStart = function() {
      var alphas, betas, i, len, p, ready, ref;
      if (intp.state === "waiting") {
        if (intp.countDown > 15) {
          return div(function() {
            opacity(".4");
            padding(20);
            text_align("center");
            return text("Starting in " + Math.floor(intp.countDown / 16));
          });
        } else {
          alphas = 0;
          betas = 0;
          ref = intp.players;
          for (i = 0, len = ref.length; i < len; i++) {
            p = ref[i];
            if (p.side === "alpha") {
              alphas += 1;
            }
            if (p.side === "beta") {
              betas += 1;
            }
          }
          ready = alphas >= needNumPlayers() && betas >= needNumPlayers();
          if (intp.serverType === "survival" && alphas >= 1 && betas >= 1) {
            ready = true;
          }
          if (sim.local) {
            return div(".hover-white", function() {
              padding(20);
              text_align("center");
              text("Start");
              return onclick(function() {
                ui.go("battle");
                return network.send("startGame");
              });
            });
          } else if (ready) {
            if (commander.host) {
              return div(".hover-white", function() {
                padding(20);
                text_align("center");
                text("Start");
                return onclick(function() {
                  return network.send("startGame");
                });
              });
            } else {
              return div(function() {
                opacity(".4");
                padding(20);
                text_align("center");
                return text("Waiting for host to start");
              });
            }
          } else {
            return div(function() {
              opacity(".4");
              padding(20);
              text_align("center");
              return text("Waiting for players");
            });
          }
        }
      } else {
        return div(".hover-white", function() {
          padding(20);
          text_align("center");
          text("In Progress");
          return onclick(function() {
            return ui.go("battle");
          });
        });
      }
    };
  
    drawTeams = function() {
      drawTeam("alpha", "Alpha Team");
      drawTeam("beta", "Beta Team");
      return drawSpecs("spectators", "Spectators");
    };
  
    drawAis = function() {
      var fleetAis, i, j, k, key, l, len, len1, len2, len3, len4, m, n, name, ref, ref1, ref2, ref3, results, row, tab, yourAis;
      color("white");
      ref = slice.call(commander.fleet.tabs);
      for (i = 0, len = ref.length; i < len; i++) {
        tab = ref[i];
        yourAis = [];
        fleetAis = commander.fleet.ais || {};
        for (row = j = 0; j < 1000; row = ++j) {
          key = getAIKey(row, tab);
          if (fleetAis[key]) {
            yourAis.push(fleetAis[key]);
          }
        }
        if (yourAis.length > 0) {
          div(function() {
            background_color("rgba(0,0,0,.1)");
            text(tab);
            return padding(10);
          });
          for (k = 0, len1 = yourAis.length; k < len1; k++) {
            name = yourAis[k];
            drawAI(name);
          }
        }
      }
      div(function() {
        background_color("rgba(0,0,0,.1)");
        text("Easy AIs");
        return padding(10);
      });
      ref1 = ais.easy;
      for (l = 0, len2 = ref1.length; l < len2; l++) {
        name = ref1[l];
        drawAI(name);
      }
      div(function() {
        background_color("rgba(0,0,0,.1)");
        text("Medium AIs");
        return padding(10);
      });
      ref2 = ais.med;
      for (m = 0, len3 = ref2.length; m < len3; m++) {
        name = ref2[m];
        drawAI(name);
      }
      div(function() {
        background_color("rgba(0,0,0,.1)");
        text("Hard AIs");
        return padding(10);
      });
      ref3 = ais.hard;
      results = [];
      for (n = 0, len4 = ref3.length; n < len4; n++) {
        name = ref3[n];
        results.push(drawAI(name));
      }
      return results;
    };
  
    drawAI = function(name) {
      return div(".hover-white", function() {
        var w;
        display("inline-block");
        w = ((window.innerWidth / 4) - 25) / 2;
        width(w);
        padding(5);
        margin(3);
        text(name);
        return onclick(function() {
          var aiBuildBar, aiName, col, fleetAis, i, key, ref, row, tab;
          aiBuildBar = false;
          fleetAis = commander.fleet.ais || {};
          for (key in fleetAis) {
            aiName = fleetAis[key];
            ref = fromAIKey(key), row = ref[0], tab = ref[1];
            if (name === aiName) {
              aiBuildBar = [];
              for (col = i = 0; i < 10; col = ++i) {
                aiBuildBar.push(commander.fleet[getFleetKey(row, col, tab)]);
              }
              console.log("ai player from name", aiName, aiBuildBar);
            }
          }
          if (!aiBuildBar) {
            aiBuildBar = ais.all[name];
          }
          if (aiBuildBar) {
            network.send("addAi", name, ui.pickingLobbyAiSide, aiBuildBar);
          }
          return ui.pickingLobbyAiSide = false;
        });
      });
    };
  
    drawTeam = function(side, name) {
      var _, num, p, ref;
      num = 0;
      ref = intp.players;
      for (_ in ref) {
        p = ref[_];
        if (p.side === side) {
          num += 1;
        }
      }
      div(function() {
        position("relative");
        text(name);
        padding(10);
        background_color("rgba(255, 255, 255, .1)");
        if (num < needNumPlayers() && canAddAI()) {
          return div(".hover-black", function() {
            position("absolute");
            right(0);
            top(0);
            padding(10);
            text("+ AI");
            return onclick(function() {
              return ui.pickingLobbyAiSide = side;
            });
          });
        }
      });
      return div(function() {
        var ref1;
        min_height(100);
        overflow_y("auto");
        ref1 = intp.players;
        for (_ in ref1) {
          p = ref1[_];
          if (p.side === side) {
            drawPlayerChip(p);
          }
        }
        if (intp.serverType === "survival" && side === "beta") {
          return;
        }
        if (commander.side !== side && num < needNumPlayers()) {
          return div(".hover-black", function() {
            padding(10);
            text_align("center");
            color("#DDD");
            text("join this team");
            return onclick(function() {
              network.send("switchSide", side);
              if (side !== "spectators") {
                return network.sendPlayer();
              }
            });
          });
        }
      });
    };
  
    drawSpecs = function(side, name) {
      div(function() {
        position("relative");
        padding(10);
        background_color("rgba(255, 255, 255, .1)");
        return text(name);
      });
      return div(function() {
        var _, p, ref;
        min_height(100);
        overflow_y("auto");
        ref = intp.players;
        for (_ in ref) {
          p = ref[_];
          if (p.side === side && p.connected && !p.ai) {
            drawPlayerChip(p);
          }
        }
        if (commander.side !== side) {
          return div(".hover-black", function() {
            padding(10);
            text_align("center");
            color("#DDD");
            text("spectate");
            return onclick(function() {
              return network.send("switchSide", side);
            });
          });
        }
      });
    };
  
    drawPlayerChip = function(player) {
      return div(function() {
        height(24);
        line_height(24);
        margin(4);
        if (player.afk) {
          color("rgba(255,255,255,.3)");
        } else {
          color("white");
        }
        ui.playerChip(player);
        padding_left(5);
        height(24);
        text_overflow("ellipsis");
        overflow("hidden");
        white_space("nowrap");
        if (intp.serverType === "1v1r" || intp.serverType === "1v1t") {
          text("[" + (findRank(player.name)) + "]");
        }
        if (player.side !== "spectators" && sim.state === "waiting" && commander.host) {
          return div(".button", function() {
            height(24);
            padding("0px 5px");
            float("right");
            if (player.id === commander.id) {
              text("leave");
            } else {
              text("kick");
            }
            return onclick(function() {
              console.log("kick", player.number);
              return network.send("kickPlayer", player.number);
            });
          });
        }
      });
    };
  
    battleroom.quickscore = function() {
      return div(function() {
        var quarterWidth;
        quarterWidth = window.innerWidth / 4;
        position("absolute");
        left(quarterWidth);
        width(quarterWidth * 2);
        top(64);
        bottom(84);
        overflow_y("scroll");
        background_color("rgba(0, 0, 0, .1)");
        color("white");
        if (battleMode.server) {
          div(function() {
            background_color("rgba(0,0,0,.25)");
            padding(20);
            text_align("center");
            font_size(18);
            text(battleMode.server.name);
            text(" ");
            return text(intp.serverType);
          });
        }
        div(function() {
          var teamTable;
          padding(20);
          teamTable = function(team) {
            return table(function() {
              var _, player, ref, results;
              padding_top(50);
              tr(function() {
                height(30);
                th(function() {
                  width(400);
                  text_align("left");
                  text_align("left");
                  text(team);
                  if (intp.winningSide === team) {
                    return text("(won)");
                  }
                });
                th(function() {
                  width(100);
                  return text("Rank");
                });
                th(function() {
                  width(100);
                  return text("APM");
                });
                th(function() {
                  width(100);
                  return text("Caps");
                });
                th(function() {
                  width(100);
                  return text("Units");
                });
                return th(function() {
                  width(100);
                  return text("Money");
                });
              });
              ref = intp.players;
              results = [];
              for (_ in ref) {
                player = ref[_];
                if (player.side === team) {
                  results.push(quickScorePlayer(player));
                } else {
                  results.push(void 0);
                }
              }
              return results;
            });
          };
          teamTable("alpha");
          return teamTable("beta");
        });
        if (intp.winningSide) {
          bottom(84);
          div(function() {
            font_size(90);
            padding(10);
            text_align("center");
            text_shadow("0px 0px 5px #000");
            return text(intp.winningSide + " victory!");
          });
        }
        if (intp.state === "running" && commander.side !== "spectators") {
          return div(".hover-red", function() {
            padding(10);
            width(200);
            margin("0px auto");
            text("Surrender");
            text_align("center");
            return onclick(function() {
              return network.send("surrender");
            });
          });
        } else {
          return div(".hover-black-dark", function() {
            padding(10);
            width(200);
            margin("0px auto");
            text("Battleroom");
            text_align("center");
            return onclick(function() {
              return ui.mode = "battleroom";
            });
          });
        }
      });
    };
  
    quickScorePlayer = function(player) {
      if (player.side === "dead") {
        return;
      }
      return tr(function() {
        td(function() {
          text_align("left");
          return ui.playerChip(player);
        });
        td(function() {
          return text(findRank(player.name));
        });
        td(function() {
          var ref;
          return text((ref = player.apm) != null ? ref.toFixed(2) : void 0);
        });
        td(function() {
          return text(player.capps);
        });
        td(function() {
          return text(player.unitsBuilt);
        });
        return td(function() {
          return text(player.money);
        });
      });
    };
  
    ui.topPlayers = function() {
      var maybeChars, quarterWidth, s, team;
      quarterWidth = window.innerWidth / 4;
      maybeChars = quarterWidth / 16;
      team = function(side) {
        var _, cut, i, j, len, len1, p, player, players, results, totalChars;
        players = (function() {
          var ref, results;
          ref = intp.players;
          results = [];
          for (_ in ref) {
            p = ref[_];
            if ((p != null ? p.side : void 0) === side) {
              results.push(p);
            }
          }
          return results;
        })();
        if (players.length === 0) {
          return span(function() {
            color("rgba(255,255,255,.6)");
            return text("no one");
          });
        } else {
          cut = 18;
          while (cut > 1) {
            totalChars = 0;
            for (i = 0, len = players.length; i < len; i++) {
              p = players[i];
              totalChars += 4;
              if (p.faction) {
                totalChars += p.faction.length;
              }
              totalChars += p.name.slice(0, cut).length;
            }
            if (totalChars > maybeChars) {
              cut -= 1;
            } else {
              break;
            }
          }
          results = [];
          for (j = 0, len1 = players.length; j < len1; j++) {
            player = players[j];
            ui.playerChip(player, cut);
            results.push(text(" "));
          }
          return results;
        }
      };
      s = 20;
      div(function() {
        position("absolute");
        top(0);
        left(quarterWidth - s);
        width(s * 2);
        return text("vs");
      });
      div(function() {
        position("absolute");
        top(0);
        right(quarterWidth + s);
        return team("alpha");
      });
      return div(function() {
        position("absolute");
        top(0);
        left(quarterWidth + s);
        return team("beta");
      });
    };
  
    ui.restartDialog = function() {
      return div(function() {
        var bigRestartButton;
        position("absolute");
        top((window.innerHeight - 500) / 2);
        left(0);
        right(0);
        height(500);
        background_color("rgba(0,0,0,.6)");
        color("white");
        line_height(64);
        font_size(18);
        img(".hover-black", {
          src: "img/ui/back.png",
          width: 64,
          height: 64
        }, function() {
          position("absolute");
          top(0);
          left(0);
          return onclick(function() {
            return ui.go("battle");
          });
        });
        div(function() {
          position("absolute");
          top(0);
          left(60);
          text("back to battle");
          return onclick(function() {
            return ui.mode = "battle";
          });
        });
        h1(function() {
          margin_top(80);
          text_align("center");
          return text("Restart");
        });
        bigRestartButton = function(label, mode) {
          return div(function() {
            var w;
            w = 160;
            position("relative");
            width(w);
            height(136);
            display("inline-block");
            return ui.div_hover_blur(function() {
              position("absolute");
              width(w);
              height(136);
              img({
                src: "img/ui/restart/" + mode + ".png",
                width: 80,
                height: 80
              }, function() {
                position("absolute");
                top(0);
                return left((w - 80) / 2);
              });
              div(function() {
                position("absolute");
                bottom(0);
                width(w);
                text_align("center");
                return text(label);
              });
              return onclick(function() {
                var ref;
                track("galaxy_restart", {
                  mode: mode,
                  starName: (ref = sim.galaxyStar) != null ? ref.name : void 0
                });
                if (ui.mode !== "galaxy" && sim.galaxyStar) {
                  galaxyMode.fightAt(sim.galaxyStar, true);
                }
                return ui.mode = mode;
              });
            });
          });
        };
        div(function() {
          margin_top(30);
          text_align("center");
          bigRestartButton("Back to Galaxy", "galaxy");
          bigRestartButton("Back to Design", "design");
          return bigRestartButton("Restart Battle", "battle");
        });
        return div(function() {
          var ref;
          width(600);
          margin("20px auto");
          text_align("center");
          font_size(16);
          opacity(".5");
          if ((ref = sim.galaxyStar) != null ? ref.lossTip : void 0) {
            return text("tip: " + sim.galaxyStar.lossTip);
          }
        });
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/tournaments.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    eval(onecup["import"]());
  
    window.tournaments = {};
  
    ui.tournamentsPage = function() {
      return div(function() {
        var a, aKey, ai, aiList, ais, b, bKey, draws, game, j, len, losses, page, ref, size, tgames, times, twins, winRatio, wins;
        position("absolute");
        top(0);
        left(0);
        width(window.innerWidth);
        min_height(window.innerHeight);
        overflow("auto");
        background_color("rgba(0,0,0,.5)");
        color("white");
        h1(function() {
          padding(5);
          return text("AI vs AI #1");
        });
        page = onecup.get("games.json");
        if (!page.loaded) {
          text("loading...");
          return;
        }
        tournaments.ais = ais = {};
        tournaments.wins = wins = {};
        tournaments.times = times = {};
        tournaments.losses = losses = {};
        tournaments.draws = draws = {};
        tournaments.twins = twins = {};
        tournaments.tgames = tgames = {};
        ref = page.json;
        for (j = 0, len = ref.length; j < len; j++) {
          game = ref[j];
          a = game.alpha;
          b = game.beta;
          aKey = a + 'vs' + b;
          bKey = b + 'vs' + a;
          ais[a] = true;
          ais[b] = true;
          tgames[a] = (tgames[a] || 0) + 1;
          tgames[b] = (tgames[b] || 0) + 1;
          times[aKey] = (times[aKey] || 0) + (game.time / 60 / 60);
          times[bKey] = (times[bKey] || 0) + (game.time / 60 / 60);
          if (game.winningSide === "alpha") {
            wins[aKey] = (wins[aKey] || 0) + 1;
            losses[bKey] = (losses[bKey] || 0) + 1;
            twins[a] = (twins[a] || 0) + 1;
          }
          if (game.winningSide === "beta") {
            wins[bKey] = (wins[bKey] || 0) + 1;
            losses[aKey] = (losses[aKey] || 0) + 1;
            twins[b] = (twins[b] || 0) + 1;
          }
          if (!game.winningSide) {
            draws[bKey] = (draws[bKey] || 0) + 1;
            draws[aKey] = (draws[aKey] || 0) + 1;
          }
        }
        aiList = (function() {
          var results;
          results = [];
          for (ai in ais) {
            results.push(ai);
          }
          return results;
        })();
        winRatio = function(ai) {
          return (twins[ai] / tgames[ai]) || 0;
        };
        aiList = aiList.sort(function(a, b) {
          return winRatio(b) - winRatio(a);
        });
        size = 20;
        return div(function() {
          var i, k, len1, len2, m, results, x, y;
          position("relative");
          font_size(10);
          for (i = k = 0, len1 = aiList.length; k < len1; i = ++k) {
            ai = aiList[i];
            div(function() {
              position("absolute");
              top(i * size + 103);
              width(130);
              text_align("right");
              return text(ai);
            });
            div(function() {
              position("absolute");
              top(i * size + 103);
              left(140);
              width(20);
              text_align("right");
              if (!tgames[ai] || !twins[ai]) {
                return text("0");
              } else {
                return text(Math.floor(twins[ai] / tgames[ai] * 100));
              }
            });
            div(function() {
              position("absolute");
              left(i * size + 172);
              width(130);
              top(39);
              transform("rotate(-45deg)");
              return text(ai);
            });
          }
          div(function() {
            position("absolute");
            left(136);
            width(130);
            top(39);
            transform("rotate(-45deg)");
            return text("win %");
          });
          results = [];
          for (y = m = 0, len2 = aiList.length; m < len2; y = ++m) {
            a = aiList[y];
            results.push((function() {
              var len3, o, results1;
              results1 = [];
              for (x = o = 0, len3 = aiList.length; o < len3; x = ++o) {
                b = aiList[x];
                results1.push(div(function() {
                  var c, d, l, n, w;
                  position("absolute");
                  left(x * size + 180);
                  top(y * size + 100);
                  width(size - 2);
                  height(size - 2);
                  line_height(size - 2);
                  text_align("center");
                  if (a === b) {
                    return;
                  }
                  w = wins[a + 'vs' + b] || 0;
                  l = losses[a + 'vs' + b] || 0;
                  d = draws[a + 'vs' + b] || 0;
  
                  /*
                  if w > l
                      background_color "rgba(0,255,0,.6)"
                  else if w < l
                      background_color "rgba(255,0,0,.6)"
                  else if w == l
                      background_color "rgba(0,0,0,.4)"
                  #text w - l
                  #text w+":"+(l+d+w)
                  #text Math.floor(w / (w+l+d) * 100)
                   */
  
                  /*
                  n = w+l+d
                  c = n*10
                  background_color "rgba(#{c},#{c},#{c},.4)"
                  
                  text n
                   */
                  n = times[a + 'vs' + b] * 60;
                  c = times[a + 'vs' + b] / 2;
                  background_color("rgba(255,0,0," + c + ")");
                  return text(Math.floor(n));
                }));
              }
              return results1;
            })());
          }
          return results;
        });
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/mod.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var chatLine;
  
    eval(onecup["import"]());
  
    window.mod = {};
  
    mod.player = "";
  
    css(".hover-green", function() {
      background_color("rgba(0,255,0,.2)");
      return css(":hover", function() {
        return background_color("rgba(0,255,0,.5)");
      });
    });
  
    ui.modPage = function() {
      div(function() {
        position("absolute");
        top(0);
        left(0);
        width(300);
        bottom(200);
        background_color("rgba(0,0,0,.5)");
        color("white");
        overflow_y("scroll");
        overflow_x("hidden");
        div(".hover-black", function() {
          padding(15);
          text("Main");
          return onclick(function() {
            mod.info = null;
            mod.player = "";
            mod.chanFilter = "";
            return rootNet.send("command", ["modLog"]);
          });
        });
        input({
          type: "text",
          placeholder: "name",
          value: mod.player
        }, function() {
          width(300);
          font_size(20);
          padding(5);
          line_height(30);
          border("none");
          background_color("rgba(0,0,0,.5)");
          color("white");
          oninput(function(e) {
            return mod.player = e.target.value;
          });
          return onkeypress(function(e) {
            if (e.which === 13) {
              mod.info = null;
              return rootNet.send("command", ["modInfo", mod.player]);
            }
          });
        });
        if (mod.info) {
          if (mod.info.alts) {
            return div(function() {
              var alt, i, infoField, len, ref, results;
              user_select("text");
              padding(5);
              text("possible alts (not accureate)");
              ref = mod.info.alts;
              results = [];
              for (i = 0, len = ref.length; i < len; i++) {
                alt = ref[i];
                alt.afk = false;
                div(function() {
                  return ui.playerChip(alt);
                });
                infoField = function(f) {
                  return div(function() {
                    if (mod.info.player[f] === alt[f]) {
                      color("rgba(255,255,255,.6)");
                    } else {
                      color("rgba(255,255,255,.25)");
                    }
                    font_size(10);
                    return text(alt[f]);
                  });
                };
                infoField("ip");
                infoField("email");
                results.push(infoField("fingerprint"));
              }
              return results;
            });
          }
        }
      });
      div(function() {
        position("absolute");
        left(0);
        width(300);
        height(200);
        bottom(0);
        background_color("rgba(0,0,0,.5)");
        color("white");
        return;
        div(".hover-red", function() {
          padding(5);
          return text("mute 15min");
        });
        div(".hover-red", function() {
          padding(5);
          return text("mute 1h");
        });
        div(".hover-green", function() {
          padding(5);
          return text("unmute");
        });
        div(".hover-red", function() {
          padding(5);
          return text("ban 1h");
        });
        div(".hover-red", function() {
          padding(5);
          return text("ban 24h");
        });
        div(".hover-red", function() {
          padding(5);
          return text("ban 7d");
        });
        return div(".hover-green", function() {
          padding(5);
          return text("unban");
        });
      });
      div(function() {
        var i, j, len, len1, msg, ref, ref1, ref2, ref3, results, results1;
        position("absolute");
        top(0);
        left(300);
        right(0);
        bottom(30);
        padding(5);
        background_color("rgba(0,0,0,.6)");
        color("white");
        overflow("auto");
        user_select("text");
        if ((ref = mod.info) != null ? ref.chatLog : void 0) {
          ref1 = mod.info.chatLog;
          results = [];
          for (i = 0, len = ref1.length; i < len; i++) {
            msg = ref1[i];
            results.push(chatLine(msg));
          }
          return results;
        } else if ((ref2 = mod.log) != null ? ref2.chatLog : void 0) {
          ref3 = mod.log.chatLog.slice(mod.log.chatLog.length - 5000);
          results1 = [];
          for (j = 0, len1 = ref3.length; j < len1; j++) {
            msg = ref3[j];
            results1.push(chatLine(msg));
          }
          return results1;
        }
      });
      return input({
        type: "text"
      }, function() {
        border("none");
        position("absolute");
        left(300);
        width(window.innerWidth - 300);
        bottom(0);
        height(30);
        padding(5);
        background_color("rgba(0,0,0,.8)");
        return color("white");
      });
    };
  
    chatLine = function(msg) {
      if (mod.chanFilter && msg.channel !== mod.chanFilter) {
        return;
      }
      return div(function() {
        span(".hover-black", function() {
          display("ineline-block");
          text("F");
          padding("0px 5px");
          return onclick(function() {
            mod.player = msg.name;
            return rootNet.send("command", ["modInfo", mod.player]);
          });
        });
        span(".hover-black", function() {
          display("ineline-block");
          text("S");
          padding("0px 5px");
          return onclick(function() {
            return mod.chanFilter = msg.channel;
          });
        });
        ui.playerChip(msg, 20, "#AAA");
        padding(3);
        text(": ");
        return raw(linky.linkfy(msg.text));
      });
    };
  
  }).call(this);
  ;
  
  
  //from src/istrolid.js
  // Generated by CoffeeScript 1.10.0
  (function() {
    var dpr, globalErrors, isFirefox, keymap, updateQ,
      bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };
  
    window.baseAtlas = null;
  
    window.intp = null;
  
    window.sim = null;
  
    window.network = null;
  
    window.commander = null;
  
    if (typeof require !== "undefined" && require !== null) {
      window.electron = require("electron");
    }
  
    dpr = window.devicePixelRatio;
  
    isFirefox = typeof InstallTrigger !== 'undefined';
  
    keymap = {
      38: "up",
      40: "down",
      39: "left",
      37: "right",
      33: "pageUp",
      34: "pageDown",
      87: "up",
      83: "down",
      68: "left",
      65: "right",
      69: "pageUp",
      81: "pageDown"
    };
  
    updateQ = [];
  
    globalErrors = 0;
  
    window.onerror = function(msg, url, line, col, e) {
      globalErrors += 1;
      if (globalErrors < 10) {
        return track("error", {
          message: msg,
          url: url,
          line: line,
          col: col,
          stack: e != null ? e.stack : void 0
        });
      }
    };
  
    window.Control = (function() {
      Control.prototype.jitter = 0;
  
      Control.prototype.perf = false;
  
      Control.prototype.setCursor = function(type) {
        return document.body.style.cursor = "-webkit-image-set(url('img/ui/mouses/" + type + ".png') 1x, url('img/ui/mouses/" + type + "@2x.png') 2x) 2 2, auto";
      };
  
      function Control() {
        this.simInterval = bind(this.simInterval, this);
        this.clearMessage = bind(this.clearMessage, this);
        this.tick = bind(this.tick, this);
        var fn1, i, len, onevent, ref;
        this.setCursor("mouse");
        this.backgroundMode = menuMode;
        this.mode = menuMode;
        this.mouse = [0, 0];
        this.observer = {};
        this.keys = {};
        ref = ["onmousemove", "ondblclick", "onmousedown", "onmouseup", "onwheel"];
        fn1 = (function(_this) {
          return function(onevent) {
            return window[onevent] = function(e) {
              var base, bounds, d, idToHide, ref1, ref2, rmenuDiv, x, y;
              if (onevent === "onmousedown") {
                if (e.target.type === "text" || e.target.type === "password" || e.target.tagName === "P") {
                  return true;
                } else {
                  if ((ref1 = document.activeElement) != null) {
                    if (typeof ref1.blur === "function") {
                      ref1.blur();
                    }
                  }
                }
                if (ui.rmenu) {
                  idToHide = ui.rmenu.id;
                  after(100, function() {
                    var ref2;
                    if (idToHide === ((ref2 = ui.rmenu) != null ? ref2.id : void 0)) {
                      ui.rmenu = null;
                      return onecup.refresh();
                    }
                  });
                }
                _this.mouseDown = true;
              }
              if (onevent === "onmouseup") {
                _this.mouseDown = false;
              }
              if (onevent === "onmousemove") {
                _this.mouse[0] = e.clientX;
                _this.mouse[1] = e.clientY;
                if (typeof ui !== "undefined" && ui !== null ? ui.rmenu : void 0) {
                  rmenuDiv = onecup.lookup("#rmenu");
                  if (rmenuDiv) {
                    bounds = rmenuDiv.getBoundingClientRect();
                    ref2 = _this.mouse, x = ref2[0], y = ref2[1];
                    d = 100;
                    if (x < bounds.left - d || x > bounds.left + bounds.width + d || y > bounds.top + bounds.height + d || y < bounds.top - d) {
                      ui.rmenu = null;
                      onecup.refresh();
                    }
                  }
                }
              }
              return typeof (base = _this.mode)[onevent] === "function" ? base[onevent](e) : void 0;
            };
          };
        })(this);
        for (i = 0, len = ref.length; i < len; i++) {
          onevent = ref[i];
          fn1(onevent);
        }
        account.load();
        window.onwheel = (function(_this) {
          return function(e) {
            var base, delta;
            if (e.target.tagName === "P") {
              return;
            }
            if (isFirefox) {
              delta = e.deltaY;
            } else {
              delta = e.deltaY / 20;
            }
            return typeof (base = _this.mode).onzoom === "function" ? base.onzoom(delta, e) : void 0;
          };
        })(this);
        window.onkeydown = (function(_this) {
          return function(e) {
            var base, ref1;
            if (e.target.type === "text") {
              return;
            }
            if (e.target.type === "password") {
              return;
            }
            if (e.target.nodeName === "TEXTAREA") {
              return;
            }
            if (e.which === 8) {
              e.preventDefault();
            }
            _this.keys[e.which] = true;
            _this.keys[keymap[e.which]] = true;
            if (e.which === 13) {
              ui.chatting = true;
              setTimeout((function() {
                var ref1;
                return (ref1 = document.getElementById("chat")) != null ? ref1.focus() : void 0;
              }), 100);
              onecup.refresh();
            }
            if (settings.key(e, "Toggle UI")) {
              ui.show = !ui.show;
              onecup.refresh();
              console.log("ui hide");
            }
            if (e.which === 27) {
              control.armFullScreen = true;
            }
            if (e.shiftKey && e.which === 220) {
              control.perf = !control.perf;
              onecup.refresh();
            }
            if (settings.key(e, "Back")) {
              _this.escape();
            }
            if (e.which === 122) {
              enterFullScreen();
            }
            if (e.which === 121) {
              if (typeof electron !== "undefined" && electron !== null) {
                electron.remote.getCurrentWindow().toggleDevTools();
              }
            }
            if (e.which === 116) {
              location.reload();
            }
            if (e.which === 85) {
              if (((ref1 = window.location) != null ? ref1.href.indexOf("dev.istrolid.com") : void 0) !== -1) {
                window.testAction();
              }
            }
            return typeof (base = _this.mode).onkeydown === "function" ? base.onkeydown(e) : void 0;
          };
        })(this);
        window.onkeyup = (function(_this) {
          return function(e) {
            var base;
            if (e.which === 27 && control.armFullScreen) {
              if (typeof require === "undefined" || require === null) {
                enterFullScreen();
              }
              control.armFullScreen = false;
            }
            _this.keys[e.which] = false;
            _this.keys[keymap[e.which]] = false;
            return typeof (base = _this.mode).onkeyup === "function" ? base.onkeyup(e) : void 0;
          };
        })(this);
        window.oncontextmenu = (function(_this) {
          return function(e) {
            return false;
          };
        })(this);
      }
  
      Control.prototype.tick = function() {
        if (ui.mode !== ui.oldMode) {
          ui.oldMode = ui.mode;
          if (typeof rootNet !== "undefined" && rootNet !== null) {
            rootNet.sendMode();
          }
        }
        if (chat.channel !== chat.oldChannel) {
          chat.oldChannel = chat.channel;
          if (typeof rootNet !== "undefined" && rootNet !== null) {
            rootNet.sendMode();
          }
        }
        this.trySimInterval();
        actionMixer.tick();
        baseAtlas.startFrame();
        this.backgroundMode.draw();
        this.backgroundMode.tick();
        if (this.backgroundMode !== this.mode) {
          this.mode.draw();
        }
        baseAtlas.beginSprites([0, 0], 1);
        stats.fpsAdd();
        stats.draw();
        baseAtlas.finishSprites();
        this.mode.tick();
        bubbles.tick();
        tutor.tick();
        return requestAnimationFrame(this.tick);
      };
  
      Control.prototype.escape = function() {
        ui.mode = "battle";
        onecup.refresh();
      };
  
      Control.prototype.savePlayer = function() {
        account.save();
        return account.rootSave();
      };
  
      Control.prototype.clearMessage = function() {
        return this.message = "";
      };
  
      Control.prototype.lastSimInterval = 0;
  
      Control.prototype.cheatSimInterval = -12;
  
      Control.prototype.trySimInterval = function() {
        var rightNow;
        rightNow = now();
        if (this.lastSimInterval + 1000 / 16 + this.cheatSimInterval <= rightNow) {
          this.lastSimInterval = rightNow;
          return this.simInterval();
        }
      };
  
      Control.prototype.simInterval = function() {
  
        /* TODO, fix the replay system
        if intp?.playReplay
            frame = localStorage["one"].split("\n")[sim.step]
            frame = JSON.parse(frame)
            if frame?.step == 1
                sim.things = {}
                intp.things = {}
            intp.recv(frame)
            sim.step += 1
         */
        var fn, frame, galaxyAway, localAway, packet, popQ, step;
        if (typeof intp !== "undefined" && intp !== null ? intp.local : void 0) {
          packet = sim.send();
          step = sim.step;
          galaxyAway = sim.galaxyStar && ui.mode !== "battle";
          localAway = ui.mode !== "battle" && intp.state === "running";
          if (!galaxyAway && !localAway && !sim.paused) {
            sim.simulate();
          } else {
            sim.startingSim();
          }
          fn = function() {
            var data;
            stats.netAdd(packet.byteLength);
            data = intp.zJson.loadDv(packet);
            return intp.recv(data);
          };
          updateQ.unshift(fn);
          popQ = function() {
            fn = updateQ.pop();
            return fn();
          };
          setTimeout(popQ, Math.random() * control.jitter);
        }
        if ((typeof intp !== "undefined" && intp !== null ? intp.replay : void 0) === "playing") {
          frame = intp.replayFrames[intp.replayStep];
          if (frame) {
            intp.recv(frame);
            intp.replayStep += 1;
          }
        }
        if (intp) {
          return intp.think();
        }
      };
  
      return Control;
  
    })();
  
    window.startInitialSandbox = function() {
      var ai, aiPlayer, base, u;
      window.bubbles.clear();
      if (window.network != null) {
        if (typeof (base = window.network).close === "function") {
          base.close();
        }
      }
      window.intp = new Interpolator();
      window.sim = new Sim();
      sim.serverType = "sandbox";
      sim.local = true;
      intp.local = true;
      intp.theme = sim.theme;
      sim.start();
      window.network = new Local();
      if (onecup.params.map === "small") {
        sim.generateMap(.5, 1);
      }
      if (onecup.params.map === "medium") {
        sim.generateMap(.75, 4);
      }
      if (onecup.params.map === "super") {
        sim.generateMap(2, 8);
      }
      if (onecup.params.map === "weapontest") {
        mapping.generateWeaponTest();
        sim.victoryConditions = function() {};
      }
      if (onecup.params.speed === "fast") {
        sim.ticksPerSec = parseInt(onecup.params.speed);
        intp.ticksPerSec = sim.ticksPerSec;
        intp.fast = true;
      }
      if (onecup.params.watch === "true") {
        ais.useAi("Cython", "alpha");
        ais.useAi("AlphaSwarm", "beta");
        ais.useAi("NodeSwarm", "alpha");
        ais.useAi("Sidewinder", "beta");
        ais.useAi("CreepingHoard", "alpha");
        ais.useAi("BullDogs", "beta");
      } else if (onecup.params.evolve === "true") {
        window.evolve();
      } else if (!onecup.params.single === "true") {
        sim.ais.push(new AnarchAI("AnarchAI", "alpha"));
      } else if (onecup.params.ai != null) {
        if (ais.all[onecup.params.ai] != null) {
          ai = ais.all[onecup.params.ai];
          useAi(ai, "beta");
        } else {
          console.log("no valid ai found", onecup.params.ai);
        }
      } else if (onecup.params.boss != null) {
        aiPlayer = useAi(ais.all.BossAI, "beta");
        u = new types.Unit(fromShort(onecup.params.boss));
        u.pos = v2.create([0, 0]);
        u.side = "beta";
        u.rot = 0;
        u.owner = aiPlayer.id;
        u.number = 0;
        sim.things[u.id] = u;
      }
      window.observer = {};
      if (onecup.params.money != null) {
        sim.defaultMoney = parseInt(onecup.params.money);
      }
      actionMixer.reset();
      if (onecup.params.mapName) {
        return mapping.load(onecup.params.mapName);
      }
    };
  
    window.onload = function() {
      var nextMode, ref, rootAddress, ua;
      ua = detect.parse(navigator.userAgent);
      track("load", {
        electron: typeof electron !== "undefined" && electron !== null,
        path: location.pathname,
        referrer: document.referrer,
        referrer_domain: typeof document !== "undefined" && document !== null ? (ref = document.referrer.match(/https?:\/\/([^\/]*)/)) != null ? ref[1] : void 0 : void 0,
        platform: navigator.platform,
        language: navigator.language,
        browser: ua.browser.family,
        browser_version: ua.browser.version,
        device: ua.device.family,
        os: ua.os.name
      });
      if (!initGL()) {
        ui.mode = "error";
        ui.error = "webGL";
        return;
      }
      window.actionMixer = new ActionMixer();
      actionMixer.reset();
      window.battleMode = new BattleMode();
      window.galaxyMode = new GalaxyMode();
      window.designMode = new DesignMode();
      window.fleetMode = new FleetMode();
      window.menuMode = new MenuMode();
      window.control = new Control();
      window.sim = new Sim();
      window.intp = new Interpolator();
      window.baseAtlas = new Atlas();
      baseAtlas.loadAtlas(atlas);
      rootAddress = onecup.params.rootAddress || "ws://198.199.109.223:88";
      window.rootNet = new RootConnection(rootAddress);
      window.network = new Local();
      battleMode.serverToJoin = onecup.params.server;
      control.tick();
      startInitialSandbox();
      control.backgroundMode = battleMode;
      if (onecup.params.mode != null) {
        nextMode = onecup.params.mode;
        doAfter(2000, function() {
          ui.mode = nextMode;
          return onecup.refresh();
        });
      }
      return ui.loaded = true;
    };
  
    window.testAction = function() {
      var exp;
      console.log("here");
      exp = new types.FrameExplosion();
      exp.pos = battleMode.mouse;
      exp.rot = rand() * Math.PI * 2;
      return sim.things[exp.id] = exp;
    };
  
  }).call(this);
  ;
  
  
  //from atlases/atlas.js
  window.atlas={"size":4096,"src":"atlases/atlas.png?r=880r1l8","mappings":{"img/bg/galaxy.png":{"uv":[0,1,0.5,0.5]},"img/tips/dragBig@2x.png":{"uv":[0.50390625,1,0.748046875,0.755859375]},"img/tips/pan@2x.png":{"uv":[0.751953125,1,0.8984375,0.853515625]},"img/tips/attack@2x.png":{"uv":[0.751953125,0.849609375,0.8984375,0.703125]},"img/tips/move@2x.png":{"uv":[0.50390625,0.751953125,0.6162109375,0.60546875]},"img/point02.png":{"uv":[0.6201171875,0.751953125,0.7451171875,0.626953125]},"img/dodads/bigdodad05.png":{"uv":[0.751953125,0.69921875,0.876953125,0.57421875]},"img/dodads/bigdodad04.png":{"uv":[0.6201171875,0.623046875,0.7451171875,0.498046875]},"img/dodads/bigdodad03.png":{"uv":[0.751953125,0.5703125,0.876953125,0.4453125]},"img/dodads/bigdodad02.png":{"uv":[0,0.49609375,0.125,0.37109375]},"img/dodads/bigdodad01.png":{"uv":[0.12890625,0.49609375,0.25390625,0.37109375]},"img/tips/capping@2x.png":{"uv":[0.90234375,1,0.9765625,0.853515625]},"img/tips/waitcap@2x.png":{"uv":[0.90234375,0.849609375,0.974609375,0.751953125]},"img/tips/fire@2x.png":{"uv":[0.90234375,0.748046875,0.9765625,0.6845703125]},"img/tips/zoom@2x.png":{"uv":[0.90234375,0.6806640625,0.9765625,0.6171875]},"img/tips/stop@2x.png":{"uv":[0.90234375,0.61328125,0.9765625,0.5498046875]},"img/debree/vcloud04.png":{"uv":[0.50390625,0.6015625,0.56640625,0.5390625]},"img/newbg/fill.png":{"uv":[0.90234375,0.5458984375,0.96484375,0.4833984375]},"img/fire02.png":{"uv":[0.50390625,0.53515625,0.56640625,0.47265625]},"img/debree/acloud03.png":{"uv":[0.2578125,0.49609375,0.3203125,0.43359375]},"img/dodads/meddodad04.png":{"uv":[0.32421875,0.49609375,0.38671875,0.43359375]},"img/dodads/meddodad03.png":{"uv":[0.390625,0.49609375,0.453125,0.43359375]},"img/dodads/meddodad02.png":{"uv":[0.6201171875,0.494140625,0.6826171875,0.431640625]},"img/dodads/meddodad01.png":{"uv":[0.90234375,0.4794921875,0.96484375,0.4169921875]},"img/debree/acloud04.png":{"uv":[0.50390625,0.46875,0.56640625,0.40625]},"img/newbg/gradient.png":{"uv":[0.751953125,0.44140625,0.814453125,0.37890625]},"img/unitBar/fire02.png":{"uv":[0.818359375,0.44140625,0.880859375,0.37890625]},"img/debree/vcloud03.png":{"uv":[0.2578125,0.4296875,0.3203125,0.3671875]},"img/debree/vcloud02.png":{"uv":[0.32421875,0.4296875,0.38671875,0.3671875]},"img/debree/acloud01.png":{"uv":[0.390625,0.4296875,0.453125,0.3671875]},"img/debree/vcloud01.png":{"uv":[0.6201171875,0.427734375,0.6826171875,0.365234375]},"img/debree/scloud01.png":{"uv":[0.90234375,0.4130859375,0.96484375,0.3505859375]},"img/debree/acloud02.png":{"uv":[0.50390625,0.40234375,0.56640625,0.33984375]},"img/debree/scloud04.png":{"uv":[0.751953125,0.375,0.814453125,0.3125]},"img/debree/gcloud01.png":{"uv":[0.818359375,0.375,0.880859375,0.3125]},"img/debree/gcloud02.png":{"uv":[0,0.3671875,0.0625,0.3046875]},"img/debree/gcloud03.png":{"uv":[0.06640625,0.3671875,0.12890625,0.3046875]},"img/debree/gcloud04.png":{"uv":[0.1328125,0.3671875,0.1953125,0.3046875]},"img/debree/scloud02.png":{"uv":[0.2578125,0.36328125,0.3203125,0.30078125]},"img/debree/scloud03.png":{"uv":[0.32421875,0.36328125,0.38671875,0.30078125]},"img/debree/bigdebree07.png":{"uv":[0.6865234375,0.494140625,0.7353515625,0.4453125]},"img/debree/bigdebree08.png":{"uv":[0.6865234375,0.44140625,0.7353515625,0.392578125]},"img/debree/bigdebree09.png":{"uv":[0.6865234375,0.388671875,0.7353515625,0.33984375]},"parts/fireLongExp.png":{"uv":[0.19921875,0.3671875,0.248046875,0.318359375]},"img/debree/bigdebree10.png":{"uv":[0.390625,0.36328125,0.439453125,0.314453125]},"img/debree/bigdebree11.png":{"uv":[0.443359375,0.36328125,0.4921875,0.314453125]},"img/debree/bigdebree01.png":{"uv":[0.6201171875,0.361328125,0.6689453125,0.3125]},"img/debree/bigdebree02.png":{"uv":[0.90234375,0.3466796875,0.951171875,0.2978515625]},"img/debree/bigdebree03.png":{"uv":[0.50390625,0.3359375,0.552734375,0.287109375]},"img/debree/bigdebree04.png":{"uv":[0.556640625,0.3359375,0.60546875,0.287109375]},"img/unitBar/rallyPoint.png":{"uv":[0.6865234375,0.3359375,0.7353515625,0.287109375]},"img/debree/bigdebree06.png":{"uv":[0.19921875,0.314453125,0.248046875,0.265625]},"img/debree/bigdebree12.png":{"uv":[0.390625,0.310546875,0.439453125,0.26171875]},"img/debree/bigdebree05.png":{"uv":[0.443359375,0.310546875,0.4921875,0.26171875]},"img/rocks/lrock03.png":{"uv":[0.6201171875,0.30859375,0.67578125,0.26904296875]},"img/map/slice02.png":{"uv":[0.751953125,0.30859375,0.814453125,0.27734375]},"img/debree/civ03.png":{"uv":[0.955078125,0.3466796875,0.98974609375,0.293212890625]},"img/tips/win@2x.png":{"uv":[0.818359375,0.30859375,0.892578125,0.28515625]},"parts/zap3.png":{"uv":[0,0.30078125,0.0234375,0.2275390625]},"parts/fireMD.png":{"uv":[0.02734375,0.30078125,0.05078125,0.2275390625]},"parts/zap4.png":{"uv":[0.0546875,0.30078125,0.078125,0.2275390625]},"parts/zap1.png":{"uv":[0.08203125,0.30078125,0.10546875,0.2275390625]},"parts/zap2.png":{"uv":[0.109375,0.30078125,0.1328125,0.2275390625]},"img/laser01.png":{"uv":[0.13671875,0.30078125,0.15234375,0.194091796875]},"parts/fireBeamLarge.png":{"uv":[0.15625,0.30078125,0.171875,0.194091796875]},"img/rocks/lrock04.png":{"uv":[0.2578125,0.296875,0.300537109375,0.259033203125]},"img/debree/civ01.png":{"uv":[0.304443359375,0.296875,0.339111328125,0.255615234375]},"img/rocks/lrock01.png":{"uv":[0.343017578125,0.296875,0.376953125,0.257080078125]},"parts/fireEnergyBallExp.png":{"uv":[0.90234375,0.2939453125,0.93896484375,0.25732421875]},"img/tips/healthBar@2x.png":{"uv":[0.50390625,0.283203125,0.578125,0.267578125]},"img/tips/energyBar@2x.png":{"uv":[0.818359375,0.28125,0.892578125,0.265625]},"img/rocks/lrock05.png":{"uv":[0.955078125,0.289306640625,0.99462890625,0.2607421875]},"img/rocks/lrock02.png":{"uv":[0.58203125,0.283203125,0.61181640625,0.24755859375]},"img/select01.png":{"uv":[0.6865234375,0.283203125,0.718505859375,0.251220703125]},"img/unitBar/target.png":{"uv":[0.751953125,0.2734375,0.783203125,0.2421875]},"img/arrow01.png":{"uv":[0.6201171875,0.26513671875,0.6513671875,0.23388671875]},"img/arrow02.png":{"uv":[0.50390625,0.263671875,0.53515625,0.232421875]},"img/unitBar/circle.png":{"uv":[0.5390625,0.263671875,0.5703125,0.232421875]},"img/unitBar/energy1.png":{"uv":[0.19921875,0.26171875,0.23046875,0.23046875]},"img/fire03.png":{"uv":[0.818359375,0.26171875,0.849609375,0.23046875]},"parts/fireFlackExp1.png":{"uv":[0.853515625,0.26171875,0.884765625,0.23046875]},"img/unitBar/flame.png":{"uv":[0.390625,0.2578125,0.421875,0.2265625]},"img/arrow.png":{"uv":[0.42578125,0.2578125,0.45703125,0.2265625]},"img/rocks/mrock04.png":{"uv":[0.4609375,0.2578125,0.493896484375,0.228515625]},"img/rocks/mrock03.png":{"uv":[0.955078125,0.2568359375,0.9833984375,0.225830078125]},"img/rocks/mrock02.png":{"uv":[0.2578125,0.255126953125,0.292236328125,0.231201171875]},"parts/fireBeamSmall.png":{"uv":[0.17578125,0.30078125,0.19140625,0.249267578125]},"img/debree/civ05.png":{"uv":[0.722412109375,0.283203125,0.74462890625,0.250244140625]},"parts/fireWavePush.png":{"uv":[0.90234375,0.25341796875,0.9365234375,0.23388671875]},"parts/fireWavePull.png":{"uv":[0.343017578125,0.253173828125,0.377197265625,0.233642578125]},"img/debree/civ04.png":{"uv":[0.787109375,0.2734375,0.810791015625,0.24658203125]},"img/rocks/mrock01.png":{"uv":[0.6552734375,0.26513671875,0.681396484375,0.241455078125]},"parts/zaphit2.png":{"uv":[0.304443359375,0.251708984375,0.328857421875,0.227294921875]},"parts/zaphit3.png":{"uv":[0.6865234375,0.247314453125,0.7109375,0.222900390625]},"parts/zaphit1.png":{"uv":[0.722412109375,0.246337890625,0.746826171875,0.221923828125]},"img/rocks/mrock06.png":{"uv":[0.58203125,0.24365234375,0.603271484375,0.216064453125]},"parts/zapcharge3.png":{"uv":[0.787109375,0.24267578125,0.810546875,0.21923828125]},"parts/fireHex2.png":{"uv":[0.751953125,0.23828125,0.775390625,0.21484375]},"parts/fireLong1.png":{"uv":[0.6552734375,0.237548828125,0.6787109375,0.214111328125]},"parts/fireMis1.png":{"uv":[0.6201171875,0.22998046875,0.6435546875,0.20654296875]},"parts/fireShot1.png":{"uv":[0.90234375,0.22998046875,0.92578125,0.20654296875]},"parts/fireTorp1.png":{"uv":[0.343017578125,0.229736328125,0.366455078125,0.206298828125]},"parts/turAutoCannon.png":{"uv":[0.50390625,0.228515625,0.52734375,0.205078125]},"parts/turCutterReload.png":{"uv":[0.53125,0.228515625,0.5546875,0.205078125]},"parts/turAutoCannonReload.png":{"uv":[0.2578125,0.227294921875,0.28125,0.203857421875]},"parts/turBeam1.png":{"uv":[0.19921875,0.2265625,0.22265625,0.203125]},"parts/turBeam1Reload.png":{"uv":[0.2265625,0.2265625,0.25,0.203125]},"parts/turFlame.png":{"uv":[0.818359375,0.2265625,0.841796875,0.203125]},"parts/turBeam2.png":{"uv":[0.845703125,0.2265625,0.869140625,0.203125]},"parts/turBeam2Reload.png":{"uv":[0.873046875,0.2265625,0.896484375,0.203125]},"parts/turBomb.png":{"uv":[0.4609375,0.224609375,0.484375,0.201171875]},"parts/turBombReload.png":{"uv":[0,0.2236328125,0.0234375,0.2001953125]},"parts/turCutter.png":{"uv":[0.02734375,0.2236328125,0.05078125,0.2001953125]},"parts/turEMP.png":{"uv":[0.0546875,0.2236328125,0.078125,0.2001953125]},"parts/turEMPReload.png":{"uv":[0.08203125,0.2236328125,0.10546875,0.2001953125]},"parts/turFizzleGun.png":{"uv":[0.109375,0.2236328125,0.1328125,0.2001953125]},"parts/turFizzleGunReload.png":{"uv":[0.304443359375,0.223388671875,0.327880859375,0.199951171875]},"parts/turFlameReload.png":{"uv":[0.390625,0.22265625,0.4140625,0.19921875]},"parts/turHex1.png":{"uv":[0.41796875,0.22265625,0.44140625,0.19921875]},"parts/turHex1Reload.png":{"uv":[0.955078125,0.221923828125,0.978515625,0.198486328125]},"parts/turHex2.png":{"uv":[0.6865234375,0.218994140625,0.7099609375,0.195556640625]},"parts/turFlack.png":{"uv":[0.722412109375,0.218017578125,0.745849609375,0.194580078125]},"parts/fireHex1.png":{"uv":[0.787109375,0.21533203125,0.810546875,0.19189453125]},"parts/zapcharge2.png":{"uv":[0.58203125,0.212158203125,0.60546875,0.188720703125]},"parts/zapcharge1.png":{"uv":[0.751953125,0.2109375,0.775390625,0.1875]},"parts/turWavePushReload.png":{"uv":[0.6552734375,0.210205078125,0.6787109375,0.186767578125]},"parts/turWavePush.png":{"uv":[0.6201171875,0.20263671875,0.6435546875,0.17919921875]},"parts/turWavePullReload.png":{"uv":[0.90234375,0.20263671875,0.92578125,0.17919921875]},"parts/turWavePull.png":{"uv":[0.343017578125,0.202392578125,0.366455078125,0.178955078125]},"parts/turTorpReload.png":{"uv":[0.50390625,0.201171875,0.52734375,0.177734375]},"parts/turTorp.png":{"uv":[0.53125,0.201171875,0.5546875,0.177734375]},"parts/turTeslaReload.png":{"uv":[0.2578125,0.199951171875,0.28125,0.176513671875]},"parts/turTesla.png":{"uv":[0.19921875,0.19921875,0.22265625,0.17578125]},"parts/turRingReload.png":{"uv":[0.2265625,0.19921875,0.25,0.17578125]},"parts/turRing.png":{"uv":[0.818359375,0.19921875,0.841796875,0.17578125]},"parts/turPlasmaReload.png":{"uv":[0.845703125,0.19921875,0.869140625,0.17578125]},"parts/turPlasma.png":{"uv":[0.873046875,0.19921875,0.896484375,0.17578125]},"parts/turMissileReload.png":{"uv":[0.4609375,0.197265625,0.484375,0.173828125]},"parts/turMissile.png":{"uv":[0,0.1962890625,0.0234375,0.1728515625]},"parts/turMineReload.png":{"uv":[0.02734375,0.1962890625,0.05078125,0.1728515625]},"parts/turMine.png":{"uv":[0.0546875,0.1962890625,0.078125,0.1728515625]},"parts/turLong1Reload.png":{"uv":[0.08203125,0.1962890625,0.10546875,0.1728515625]},"parts/turLong1.png":{"uv":[0.109375,0.1962890625,0.1328125,0.1728515625]},"parts/turHex2Reload.png":{"uv":[0.304443359375,0.196044921875,0.327880859375,0.172607421875]},"parts/turFlackReload.png":{"uv":[0.390625,0.1953125,0.4140625,0.171875]},"img/debree/civ02.png":{"uv":[0.9296875,0.22998046875,0.949951171875,0.203125]},"img/rocks/srock04.png":{"uv":[0.41796875,0.1953125,0.440185546875,0.173095703125]},"img/tips/money100.png":{"uv":[0.955078125,0.194580078125,0.986572265625,0.178955078125]},"img/tips/money10.png":{"uv":[0.6865234375,0.191650390625,0.718017578125,0.176025390625]},"img/tips/money1.png":{"uv":[0.13671875,0.190185546875,0.168212890625,0.174560546875]},"img/place01.png":{"uv":[0.722412109375,0.190673828125,0.744384765625,0.168701171875]},"img/place03.png":{"uv":[0.172119140625,0.190185546875,0.194091796875,0.168212890625]},"img/place02.png":{"uv":[0.787109375,0.18798828125,0.80908203125,0.166015625]},"parts/firePlasmaExp.png":{"uv":[0.58203125,0.184814453125,0.6064453125,0.165283203125]},"img/rocks/mrock05.png":{"uv":[0.6201171875,0.17529296875,0.652099609375,0.1611328125]},"img/map/spawnSlice.png":{"uv":[0.55859375,0.228515625,0.5771484375,0.20654296875]},"parts/fireFlame3.png":{"uv":[0.55859375,0.20263671875,0.578125,0.18310546875]},"parts/crystal1.png":{"uv":[0.9296875,0.19921875,0.94921875,0.1796875]},"parts/fireFlame2.png":{"uv":[0.751953125,0.18359375,0.771484375,0.1640625]},"parts/pad4x4.png":{"uv":[0.656005859375,0.182861328125,0.675537109375,0.163330078125]},"parts/fireFlame1.png":{"uv":[0.55859375,0.17919921875,0.578125,0.15966796875]},"parts/crystal2.png":{"uv":[0.370361328125,0.229736328125,0.385009765625,0.205322265625]},"parts/fireRing.png":{"uv":[0.9296875,0.17578125,0.947509765625,0.157958984375]},"img/rocks/srock08.png":{"uv":[0.90234375,0.17529296875,0.919921875,0.1572265625]},"img/rocks/srock06.png":{"uv":[0.343017578125,0.175048828125,0.36083984375,0.158447265625]},"img/rocks/srock01.png":{"uv":[0.370361328125,0.201416015625,0.386474609375,0.18310546875]},"img/rocks/srock03.png":{"uv":[0.36474609375,0.175048828125,0.382568359375,0.160400390625]},"parts/crystal3.png":{"uv":[0.28515625,0.227294921875,0.2998046875,0.210205078125]},"parts/shadow9.png":{"uv":[0.28515625,0.206298828125,0.2998046875,0.189208984375]},"parts/fizzleMinePart.png":{"uv":[0.955078125,0.175048828125,0.970703125,0.1591796875]},"parts/bombDormant.png":{"uv":[0.974609375,0.175048828125,0.990234375,0.1591796875]},"parts/fireMine.png":{"uv":[0.50390625,0.173828125,0.51953125,0.157958984375]},"parts/fizzleMine.png":{"uv":[0.5234375,0.173828125,0.5390625,0.157958984375]},"parts/bombActive.png":{"uv":[0.2578125,0.172607421875,0.2734375,0.15673828125]},"img/pip1.png":{"uv":[0.27734375,0.172607421875,0.29296875,0.156982421875]},"img/galaxy/admiral.png":{"uv":[0.6865234375,0.172119140625,0.7021484375,0.156494140625]},"img/galaxy/boss.png":{"uv":[0.19921875,0.171875,0.21484375,0.15625]},"img/galaxy/star.png":{"uv":[0.21875,0.171875,0.234375,0.15625]},"img/galaxy/captain.png":{"uv":[0.23828125,0.171875,0.25390625,0.15625]},"img/galaxy/commander.png":{"uv":[0.818359375,0.171875,0.833984375,0.15625]},"img/unitBar/energyPip.png":{"uv":[0.837890625,0.171875,0.853515625,0.15625]},"img/galaxy/lieutenant.png":{"uv":[0.857421875,0.171875,0.873046875,0.15625]},"img/galaxy/fort.png":{"uv":[0.876953125,0.171875,0.892578125,0.15625]},"img/galaxy/3v3.png":{"uv":[0.13671875,0.170654296875,0.15234375,0.155029296875]},"img/pip2.png":{"uv":[0.4609375,0.169921875,0.4765625,0.154296875]},"img/galaxy/2v2.png":{"uv":[0.48046875,0.169921875,0.49609375,0.154296875]},"parts/shadow4.png":{"uv":[0.41796875,0.169189453125,0.4326171875,0.154541015625]},"parts/hit4.png":{"uv":[0.4365234375,0.169189453125,0.451171875,0.154541015625]},"parts/hit1.png":{"uv":[0,0.1689453125,0.0146484375,0.154296875]},"parts/solar3x3.png":{"uv":[0.0185546875,0.1689453125,0.033203125,0.154296875]},"parts/shadow8.png":{"uv":[0.037109375,0.1689453125,0.0517578125,0.154296875]},"parts/droneBody.png":{"uv":[0.0556640625,0.1689453125,0.0703125,0.154296875]},"parts/hit5.png":{"uv":[0.07421875,0.1689453125,0.0888671875,0.154296875]},"parts/shadow7.png":{"uv":[0.0927734375,0.1689453125,0.107421875,0.154296875]},"parts/shadow6.png":{"uv":[0.111328125,0.1689453125,0.1259765625,0.154296875]},"parts/shadow5.png":{"uv":[0.304443359375,0.168701171875,0.319091796875,0.154052734375]},"parts/hit2.png":{"uv":[0.322998046875,0.168701171875,0.337646484375,0.154052734375]},"parts/shadow3.png":{"uv":[0.390625,0.16796875,0.4052734375,0.1533203125]},"parts/shadow2.png":{"uv":[0.722412109375,0.164794921875,0.737060546875,0.150146484375]},"parts/shadow1.png":{"uv":[0.172119140625,0.164306640625,0.186767578125,0.149658203125]},"parts/hit3.png":{"uv":[0.787109375,0.162109375,0.8017578125,0.1474609375]},"img/rocks/srock07.png":{"uv":[0.58203125,0.161376953125,0.595947265625,0.147216796875]},"parts/red-mount10.png":{"uv":[0.54296875,0.173828125,0.552734375,0.154296875]},"parts/mount10wide.png":{"uv":[0.751953125,0.16015625,0.771484375,0.150390625]},"parts/red-mount10wide.png":{"uv":[0.656005859375,0.159423828125,0.675537109375,0.149658203125]},"parts/mount10range.png":{"uv":[0.7060546875,0.172119140625,0.7158203125,0.152587890625]},"parts/mount10.png":{"uv":[0.15625,0.170654296875,0.166015625,0.151123046875]},"parts/red-mount10range.png":{"uv":[0.599853515625,0.161376953125,0.609619140625,0.141845703125]},"parts/gray-mount10.png":{"uv":[0.6201171875,0.1572265625,0.6298828125,0.1376953125]},"parts/gray-mount10range.png":{"uv":[0.6337890625,0.1572265625,0.6435546875,0.1376953125]},"parts/gray-mount10wide.png":{"uv":[0.36474609375,0.156494140625,0.38427734375,0.146728515625]},"img/rocks/srock02.png":{"uv":[0.55859375,0.15576171875,0.572265625,0.141845703125]},"img/rocks/srock05.png":{"uv":[0.955078125,0.1552734375,0.971435546875,0.14404296875]},"parts/fireAuto.png":{"uv":[0.975341796875,0.1552734375,0.985107421875,0.140625]},"parts/darkbeem1.png":{"uv":[0.343017578125,0.154541015625,0.357666015625,0.144775390625]},"parts/darkbeem2.png":{"uv":[0.50390625,0.154052734375,0.5185546875,0.144287109375]},"parts/darkbeem3.png":{"uv":[0.5224609375,0.154052734375,0.537109375,0.144287109375]},"parts/darkbeem4.png":{"uv":[0.9296875,0.154052734375,0.9443359375,0.144287109375]},"parts/darkbeem5.png":{"uv":[0.90234375,0.1533203125,0.9169921875,0.1435546875]},"parts/fireSpinPart3.png":{"uv":[0.27734375,0.153076171875,0.290283203125,0.143310546875]},"parts/HArmor2x2Angle.d1.png":{"uv":[0.2578125,0.15283203125,0.267578125,0.14306640625]},"parts/HArmor2x2Angle.d2.png":{"uv":[0.6865234375,0.152587890625,0.6962890625,0.142822265625]},"parts/HArmor2x2Angle.d3.png":{"uv":[0.19921875,0.15234375,0.208984375,0.142578125]},"parts/HArmor2x2Angle.png":{"uv":[0.212890625,0.15234375,0.22265625,0.142578125]},"parts/HArmor2x2AngleBack.d1.png":{"uv":[0.2265625,0.15234375,0.236328125,0.142578125]},"parts/HArmor2x2AngleBack.d2.png":{"uv":[0.240234375,0.15234375,0.25,0.142578125]},"parts/HArmor2x2AngleBack.d3.png":{"uv":[0.818359375,0.15234375,0.828125,0.142578125]},"parts/HArmor2x2AngleBack.png":{"uv":[0.83203125,0.15234375,0.841796875,0.142578125]},"parts/HArmor2x2Back1.d1.png":{"uv":[0.845703125,0.15234375,0.85546875,0.142578125]},"parts/HArmor2x2Back1.d2.png":{"uv":[0.859375,0.15234375,0.869140625,0.142578125]},"parts/HArmor2x2Back1.d3.png":{"uv":[0.873046875,0.15234375,0.8828125,0.142578125]},"parts/HArmor2x2Back1.png":{"uv":[0.88671875,0.15234375,0.896484375,0.142578125]},"parts/HArmor2x2Back2.d1.png":{"uv":[0.13671875,0.151123046875,0.146484375,0.141357421875]},"parts/HArmor2x2Back2.d2.png":{"uv":[0.41796875,0.150634765625,0.427734375,0.140869140625]},"parts/HArmor2x2Back2.d3.png":{"uv":[0.431640625,0.150634765625,0.44140625,0.140869140625]},"parts/HArmor2x2Back2.png":{"uv":[0.4453125,0.150634765625,0.455078125,0.140869140625]},"parts/HArmor2x2Curved.d1.png":{"uv":[0,0.150390625,0.009765625,0.140625]},"parts/HArmor2x2Curved.d2.png":{"uv":[0.013671875,0.150390625,0.0234375,0.140625]},"parts/HArmor2x2Curved.d3.png":{"uv":[0.02734375,0.150390625,0.037109375,0.140625]},"parts/HArmor2x2Curved.png":{"uv":[0.041015625,0.150390625,0.05078125,0.140625]},"parts/HArmor2x2Front1 Copy.png":{"uv":[0.0546875,0.150390625,0.064453125,0.140625]},"parts/HArmor2x2Front1.d1.png":{"uv":[0.068359375,0.150390625,0.078125,0.140625]},"parts/HArmor2x2Front1.d2.png":{"uv":[0.08203125,0.150390625,0.091796875,0.140625]},"parts/HArmor2x2Front1.d3.png":{"uv":[0.095703125,0.150390625,0.10546875,0.140625]},"parts/HArmor2x2Front1.png":{"uv":[0.109375,0.150390625,0.119140625,0.140625]},"parts/HArmor2x2Front2.d1.png":{"uv":[0.123046875,0.150390625,0.1328125,0.140625]},"parts/HArmor2x2Front2.d2.png":{"uv":[0.4609375,0.150390625,0.470703125,0.140625]},"parts/HArmor2x2Front2.d3.png":{"uv":[0.474609375,0.150390625,0.484375,0.140625]},"parts/HArmor2x2Front2.png":{"uv":[0.48828125,0.150390625,0.498046875,0.140625]},"parts/red-mount180.png":{"uv":[0.54296875,0.150390625,0.552734375,0.140625]},"parts/CamoArmor2x2.png":{"uv":[0.304443359375,0.150146484375,0.314208984375,0.140380859375]},"parts/red-mount10short.png":{"uv":[0.318115234375,0.150146484375,0.327880859375,0.140380859375]},"parts/CamoArmor2x2Angle.png":{"uv":[0.390625,0.1494140625,0.400390625,0.1396484375]},"parts/Reactor2x2.png":{"uv":[0.404296875,0.1494140625,0.4140625,0.1396484375]},"parts/ReloaderMod.png":{"uv":[0.7060546875,0.148681640625,0.7158203125,0.138916015625]},"parts/CamoArmor2x2AngleBack.png":{"uv":[0.15625,0.147216796875,0.166015625,0.137451171875]},"parts/red-focus.png":{"uv":[0.751953125,0.146484375,0.76171875,0.13671875]},"parts/red-engine09alt.png":{"uv":[0.765625,0.146484375,0.775390625,0.13671875]},"parts/red-engine09.png":{"uv":[0.722412109375,0.146240234375,0.732177734375,0.136474609375]},"parts/red-engine07alt.png":{"uv":[0.736083984375,0.146240234375,0.745849609375,0.136474609375]},"parts/red-engine07.png":{"uv":[0.172119140625,0.145751953125,0.181884765625,0.135986328125]},"parts/red-empmod.png":{"uv":[0.656005859375,0.145751953125,0.665771484375,0.135986328125]},"parts/red-deenergy.png":{"uv":[0.669677734375,0.145751953125,0.679443359375,0.135986328125]},"parts/red-dampener.png":{"uv":[0.787109375,0.1435546875,0.796875,0.1337890625]},"parts/ShadowNArmor2x2.png":{"uv":[0.80078125,0.1435546875,0.810546875,0.1337890625]},"parts/ShadowNArmor2x2Angle.png":{"uv":[0.58203125,0.143310546875,0.591796875,0.133544921875]},"parts/ShadowNArmor2x2Curve.png":{"uv":[0.36474609375,0.142822265625,0.37451171875,0.133056640625]},"parts/ShadowNArmor2x2Straight.png":{"uv":[0.343017578125,0.140869140625,0.352783203125,0.131103515625]},"parts/red-Wing2x2.png":{"uv":[0.50390625,0.140380859375,0.513671875,0.130615234375]},"parts/red-Wing2x2.d3.png":{"uv":[0.517578125,0.140380859375,0.52734375,0.130615234375]},"parts/red-Wing2x2.d2.png":{"uv":[0.9296875,0.140380859375,0.939453125,0.130615234375]},"parts/red-Wing2x2.d1.png":{"uv":[0.955078125,0.14013671875,0.96484375,0.13037109375]},"parts/red-TargetingMod.png":{"uv":[0.90234375,0.1396484375,0.912109375,0.1298828125]},"parts/red-ReloaderMod.png":{"uv":[0.916015625,0.1396484375,0.92578125,0.1298828125]},"parts/red-DamageMod.png":{"uv":[0.27734375,0.139404296875,0.287109375,0.129638671875]},"parts/red-BulletSpeedMod.png":{"uv":[0.2578125,0.13916015625,0.267578125,0.12939453125]},"parts/CamoArmor2x2Curved.png":{"uv":[0.6865234375,0.138916015625,0.6962890625,0.129150390625]},"parts/ShadowWArmor2x2 Copy.png":{"uv":[0.19921875,0.138671875,0.208984375,0.12890625]},"parts/ShadowWArmor2x2.png":{"uv":[0.212890625,0.138671875,0.22265625,0.12890625]},"parts/ShadowWArmor2x2Angle.png":{"uv":[0.2265625,0.138671875,0.236328125,0.12890625]},"parts/ShadowWArmor2x2Curve.png":{"uv":[0.240234375,0.138671875,0.25,0.12890625]},"parts/ShadowWArmor2x2Straight.png":{"uv":[0.818359375,0.138671875,0.828125,0.12890625]},"parts/pad2x2.png":{"uv":[0.83203125,0.138671875,0.841796875,0.12890625]},"parts/mount90.png":{"uv":[0.845703125,0.138671875,0.85546875,0.12890625]},"parts/ShapedWarhead.png":{"uv":[0.859375,0.138671875,0.869140625,0.12890625]},"parts/mount360short.png":{"uv":[0.873046875,0.138671875,0.8828125,0.12890625]},"parts/mount360.png":{"uv":[0.88671875,0.138671875,0.896484375,0.12890625]},"parts/Shield2x2.png":{"uv":[0.55859375,0.137939453125,0.568359375,0.128173828125]},"parts/StasisField.png":{"uv":[0.599853515625,0.137939453125,0.609619140625,0.128173828125]},"parts/TargetingMod.png":{"uv":[0.13671875,0.137451171875,0.146484375,0.127685546875]},"parts/mount300.png":{"uv":[0.41796875,0.136962890625,0.427734375,0.127197265625]},"parts/mount30.png":{"uv":[0.431640625,0.136962890625,0.44140625,0.127197265625]},"parts/mount200.png":{"uv":[0.4453125,0.136962890625,0.455078125,0.127197265625]},"parts/mount180.png":{"uv":[0,0.13671875,0.009765625,0.126953125]},"parts/CloakGenerator.png":{"uv":[0.013671875,0.13671875,0.0234375,0.126953125]},"parts/mount10short.png":{"uv":[0.02734375,0.13671875,0.037109375,0.126953125]},"parts/DamageMod.png":{"uv":[0.041015625,0.13671875,0.05078125,0.126953125]},"parts/EnergyTransfer.png":{"uv":[0.0546875,0.13671875,0.064453125,0.126953125]},"parts/hitAuto3.png":{"uv":[0.068359375,0.13671875,0.078125,0.126953125]},"parts/hitAuto2.png":{"uv":[0.08203125,0.13671875,0.091796875,0.126953125]},"parts/UArmor2x2.png":{"uv":[0.095703125,0.13671875,0.10546875,0.126953125]},"parts/hitAuto1.png":{"uv":[0.109375,0.13671875,0.119140625,0.126953125]},"img/debree/debree22.png":{"uv":[0.123046875,0.13671875,0.1328125,0.126953125]},"img/debree/debree21.png":{"uv":[0.4609375,0.13671875,0.470703125,0.126953125]},"img/debree/debree20.png":{"uv":[0.474609375,0.13671875,0.484375,0.126953125]},"img/debree/debree19.png":{"uv":[0.48828125,0.13671875,0.498046875,0.126953125]},"parts/decals/StripeDouble2x2.png":{"uv":[0.54296875,0.13671875,0.552734375,0.126953125]},"parts/gray-spread.png":{"uv":[0.975341796875,0.13671875,0.985107421875,0.126953125]},"parts/gray-mount90.png":{"uv":[0.304443359375,0.136474609375,0.314208984375,0.126708984375]},"parts/gray-mount360short.png":{"uv":[0.318115234375,0.136474609375,0.327880859375,0.126708984375]},"parts/gray-mount360.png":{"uv":[0.390625,0.1357421875,0.400390625,0.1259765625]},"parts/gray-mount300.png":{"uv":[0.404296875,0.1357421875,0.4140625,0.1259765625]},"parts/gray-mount30.png":{"uv":[0.7060546875,0.135009765625,0.7158203125,0.125244140625]},"parts/gray-mount200.png":{"uv":[0.6201171875,0.1337890625,0.6298828125,0.1240234375]},"parts/gray-mount180.png":{"uv":[0.6337890625,0.1337890625,0.6435546875,0.1240234375]},"img/debree/debree18.png":{"uv":[0.15625,0.133544921875,0.166015625,0.123779296875]},"parts/gray-mount10short.png":{"uv":[0.751953125,0.1328125,0.76171875,0.123046875]},"img/debree/debree17.png":{"uv":[0.765625,0.1328125,0.775390625,0.123046875]},"img/debree/debree16.png":{"uv":[0.722412109375,0.132568359375,0.732177734375,0.122802734375]},"parts/gray-focus.png":{"uv":[0.736083984375,0.132568359375,0.745849609375,0.122802734375]},"parts/gray-engine09alt.png":{"uv":[0.172119140625,0.132080078125,0.181884765625,0.122314453125]},"parts/gray-engine09.png":{"uv":[0.656005859375,0.132080078125,0.665771484375,0.122314453125]},"parts/gray-engine07alt.png":{"uv":[0.669677734375,0.132080078125,0.679443359375,0.122314453125]},"parts/gray-engine07.png":{"uv":[0.787109375,0.1298828125,0.796875,0.1201171875]},"parts/gray-empmod.png":{"uv":[0.80078125,0.1298828125,0.810546875,0.1201171875]},"parts/gray-deenergy.png":{"uv":[0.58203125,0.129638671875,0.591796875,0.119873046875]},"parts/gray-dampener.png":{"uv":[0.36474609375,0.129150390625,0.37451171875,0.119384765625]},"parts/gray-Wing2x2.png":{"uv":[0.343017578125,0.127197265625,0.352783203125,0.117431640625]},"parts/gray-Wing2x2.d3.png":{"uv":[0.50390625,0.126708984375,0.513671875,0.116943359375]},"parts/gray-Wing2x2.d2.png":{"uv":[0.517578125,0.126708984375,0.52734375,0.116943359375]},"parts/gray-Wing2x2.d1.png":{"uv":[0.9296875,0.126708984375,0.939453125,0.116943359375]},"parts/gray-TargetingMod.png":{"uv":[0.955078125,0.12646484375,0.96484375,0.11669921875]},"parts/gray-ReloaderMod.png":{"uv":[0.90234375,0.1259765625,0.912109375,0.1162109375]},"parts/gray-DamageMod.png":{"uv":[0.916015625,0.1259765625,0.92578125,0.1162109375]},"parts/gray-BulletSpeedMod.png":{"uv":[0.27734375,0.125732421875,0.287109375,0.115966796875]},"parts/focus.png":{"uv":[0.2578125,0.12548828125,0.267578125,0.11572265625]},"img/debree/debree15.png":{"uv":[0.6865234375,0.125244140625,0.6962890625,0.115478515625]},"parts/fizzleMineEnergy.png":{"uv":[0.19921875,0.125,0.208984375,0.115234375]},"parts/AOEWarhead.png":{"uv":[0.212890625,0.125,0.22265625,0.115234375]},"img/debree/debree06.png":{"uv":[0.2265625,0.125,0.236328125,0.115234375]},"img/debree/debree07.png":{"uv":[0.240234375,0.125,0.25,0.115234375]},"img/debree/debree01.png":{"uv":[0.818359375,0.125,0.828125,0.115234375]},"parts/spread.png":{"uv":[0.83203125,0.125,0.841796875,0.115234375]},"parts/fireSpinPart1.png":{"uv":[0.845703125,0.125,0.85546875,0.115234375]},"img/debree/debree25.png":{"uv":[0.859375,0.125,0.869140625,0.115234375]},"parts/solar2x2.png":{"uv":[0.873046875,0.125,0.8828125,0.115234375]},"img/debree/debree24.png":{"uv":[0.88671875,0.125,0.896484375,0.115234375]},"parts/Battery2x2.png":{"uv":[0.55859375,0.124267578125,0.568359375,0.114501953125]},"parts/BulletSpeedMod.png":{"uv":[0.599853515625,0.124267578125,0.609619140625,0.114501953125]},"img/debree/debree08.png":{"uv":[0.13671875,0.123779296875,0.146484375,0.114013671875]},"img/debree/debree09.png":{"uv":[0.41796875,0.123291015625,0.427734375,0.113525390625]},"img/debree/debree02.png":{"uv":[0.431640625,0.123291015625,0.44140625,0.113525390625]},"img/debree/debree03.png":{"uv":[0.4453125,0.123291015625,0.455078125,0.113525390625]},"img/debree/debree04.png":{"uv":[0,0.123046875,0.009765625,0.11328125]},"img/debree/debree05.png":{"uv":[0.013671875,0.123046875,0.0234375,0.11328125]},"img/debree/debree23.png":{"uv":[0.02734375,0.123046875,0.037109375,0.11328125]},"parts/CamoArmor2x2 Copy.png":{"uv":[0.041015625,0.123046875,0.05078125,0.11328125]},"img/debree/debree10.png":{"uv":[0.0546875,0.123046875,0.064453125,0.11328125]},"img/debree/debree11.png":{"uv":[0.068359375,0.123046875,0.078125,0.11328125]},"parts/fireEnergyBall.png":{"uv":[0.08203125,0.123046875,0.091796875,0.11328125]},"img/debree/debree12.png":{"uv":[0.095703125,0.123046875,0.10546875,0.11328125]},"img/debree/debree13.png":{"uv":[0.109375,0.123046875,0.119140625,0.11328125]},"parts/sel2x2.png":{"uv":[0.123046875,0.123046875,0.1328125,0.11328125]},"parts/factions/TKKA.png":{"uv":[0.4609375,0.123046875,0.470703125,0.11328125]},"parts/factions/SIEG.png":{"uv":[0.474609375,0.123046875,0.484375,0.11328125]},"parts/VArmor2x2.d1.png":{"uv":[0.48828125,0.123046875,0.498046875,0.11328125]},"parts/VArmor2x2.d2.png":{"uv":[0.54296875,0.123046875,0.552734375,0.11328125]},"parts/VArmor2x2.d3.png":{"uv":[0.975341796875,0.123046875,0.985107421875,0.11328125]},"parts/VArmor2x2.png":{"uv":[0.304443359375,0.122802734375,0.314208984375,0.113037109375]},"parts/VArmor2x2Angle.d1.png":{"uv":[0.318115234375,0.122802734375,0.327880859375,0.113037109375]},"parts/VArmor2x2Angle.d2.png":{"uv":[0.390625,0.1220703125,0.400390625,0.1123046875]},"parts/VArmor2x2Angle.d3.png":{"uv":[0.404296875,0.1220703125,0.4140625,0.1123046875]},"parts/VArmor2x2Angle.png":{"uv":[0.7060546875,0.121337890625,0.7158203125,0.111572265625]},"parts/VArmor2x2Curve.d1.png":{"uv":[0.6201171875,0.1201171875,0.6298828125,0.1103515625]},"parts/VArmor2x2Curve.d2.png":{"uv":[0.6337890625,0.1201171875,0.6435546875,0.1103515625]},"parts/VArmor2x2Curve.d3.png":{"uv":[0.15625,0.119873046875,0.166015625,0.110107421875]},"parts/VArmor2x2Curve.png":{"uv":[0.751953125,0.119140625,0.76171875,0.109375]},"parts/VArmor2x2Curved.d1.png":{"uv":[0.765625,0.119140625,0.775390625,0.109375]},"parts/VArmor2x2Curved.d2.png":{"uv":[0.722412109375,0.118896484375,0.732177734375,0.109130859375]},"parts/VArmor2x2Curved.d3.png":{"uv":[0.736083984375,0.118896484375,0.745849609375,0.109130859375]},"parts/VArmor2x2Curved.png":{"uv":[0.172119140625,0.118408203125,0.181884765625,0.108642578125]},"parts/factions/MOD.png":{"uv":[0.656005859375,0.118408203125,0.665771484375,0.108642578125]},"parts/factions/KC.png":{"uv":[0.669677734375,0.118408203125,0.679443359375,0.108642578125]},"parts/factions/ISOI.png":{"uv":[0.787109375,0.1162109375,0.796875,0.1064453125]},"parts/factions/DEV.png":{"uv":[0.80078125,0.1162109375,0.810546875,0.1064453125]},"parts/factions/AUTO.png":{"uv":[0.58203125,0.115966796875,0.591796875,0.106201171875]},"parts/engine09alt.png":{"uv":[0.36474609375,0.115478515625,0.37451171875,0.105712890625]},"parts/VShadowNArmor2x2.png":{"uv":[0.343017578125,0.113525390625,0.352783203125,0.103759765625]},"parts/VShadowNArmor2x2Angle.png":{"uv":[0.50390625,0.113037109375,0.513671875,0.103271484375]},"parts/VShadowNArmor2x2Curve.png":{"uv":[0.517578125,0.113037109375,0.52734375,0.103271484375]},"parts/engine09.png":{"uv":[0.9296875,0.113037109375,0.939453125,0.103271484375]},"parts/engine07alt.png":{"uv":[0.955078125,0.11279296875,0.96484375,0.10302734375]},"parts/engine07.png":{"uv":[0.90234375,0.1123046875,0.912109375,0.1025390625]},"parts/empmod.png":{"uv":[0.916015625,0.1123046875,0.92578125,0.1025390625]},"parts/empField.png":{"uv":[0.27734375,0.112060546875,0.287109375,0.102294921875]},"parts/scanner.png":{"uv":[0.2578125,0.11181640625,0.267578125,0.10205078125]},"parts/VShadowWArmor2x2.png":{"uv":[0.6865234375,0.111572265625,0.6962890625,0.101806640625]},"parts/VShadowWArmor2x2Angle.png":{"uv":[0.19921875,0.111328125,0.208984375,0.1015625]},"parts/VShadowWArmor2x2Curve.png":{"uv":[0.212890625,0.111328125,0.22265625,0.1015625]},"parts/deenergy.png":{"uv":[0.2265625,0.111328125,0.236328125,0.1015625]},"parts/decals/letterZ.png":{"uv":[0.240234375,0.111328125,0.25,0.1015625]},"parts/decals/letterY.png":{"uv":[0.818359375,0.111328125,0.828125,0.1015625]},"parts/decals/letterX.png":{"uv":[0.83203125,0.111328125,0.841796875,0.1015625]},"parts/decals/letterW.png":{"uv":[0.845703125,0.111328125,0.85546875,0.1015625]},"parts/decals/letterV.png":{"uv":[0.859375,0.111328125,0.869140625,0.1015625]},"img/debree/debree14.png":{"uv":[0.873046875,0.111328125,0.8828125,0.1015625]},"parts/decals/letterU.png":{"uv":[0.88671875,0.111328125,0.896484375,0.1015625]},"parts/decals/letterT.png":{"uv":[0.55859375,0.110595703125,0.568359375,0.100830078125]},"parts/decals/letterS.png":{"uv":[0.599853515625,0.110595703125,0.609619140625,0.100830078125]},"parts/decals/letterR.png":{"uv":[0.13671875,0.110107421875,0.146484375,0.100341796875]},"parts/decals/letterQ.png":{"uv":[0.41796875,0.109619140625,0.427734375,0.099853515625]},"parts/decals/letterPound.png":{"uv":[0.431640625,0.109619140625,0.44140625,0.099853515625]},"parts/decals/letterP.png":{"uv":[0.4453125,0.109619140625,0.455078125,0.099853515625]},"parts/decals/letterO.png":{"uv":[0,0.109375,0.009765625,0.099609375]},"parts/decals/letterN.png":{"uv":[0.013671875,0.109375,0.0234375,0.099609375]},"parts/decals/letterM.png":{"uv":[0.02734375,0.109375,0.037109375,0.099609375]},"parts/decals/letterL.png":{"uv":[0.041015625,0.109375,0.05078125,0.099609375]},"parts/decals/letterK.png":{"uv":[0.0546875,0.109375,0.064453125,0.099609375]},"parts/decals/letterJ.png":{"uv":[0.068359375,0.109375,0.078125,0.099609375]},"parts/Wing2x2.d1.png":{"uv":[0.08203125,0.109375,0.091796875,0.099609375]},"parts/Wing2x2.d2.png":{"uv":[0.095703125,0.109375,0.10546875,0.099609375]},"parts/Wing2x2.d3.png":{"uv":[0.109375,0.109375,0.119140625,0.099609375]},"parts/Wing2x2.png":{"uv":[0.123046875,0.109375,0.1328125,0.099609375]},"parts/red-spread.png":{"uv":[0.4609375,0.109375,0.470703125,0.099609375]},"parts/red-mount90.png":{"uv":[0.474609375,0.109375,0.484375,0.099609375]},"parts/cloak_area.png":{"uv":[0.48828125,0.109375,0.498046875,0.099609375]},"parts/red-mount360short.png":{"uv":[0.54296875,0.109375,0.552734375,0.099609375]},"parts/red-mount360.png":{"uv":[0.975341796875,0.109375,0.985107421875,0.099609375]},"parts/red-mount300.png":{"uv":[0.304443359375,0.109130859375,0.314208984375,0.099365234375]},"parts/dampener.png":{"uv":[0.318115234375,0.109130859375,0.327880859375,0.099365234375]},"parts/red-mount30.png":{"uv":[0.390625,0.1083984375,0.400390625,0.0986328125]},"parts/red-mount200.png":{"uv":[0.404296875,0.1083984375,0.4140625,0.0986328125]},"parts/HArmor2x2.d1.png":{"uv":[0.7060546875,0.107666015625,0.7158203125,0.097900390625]},"parts/HArmor2x2.d2.png":{"uv":[0.6201171875,0.1064453125,0.6298828125,0.0966796875]},"parts/HArmor2x2.d3.png":{"uv":[0.6337890625,0.1064453125,0.6435546875,0.0966796875]},"parts/decals/letterI.png":{"uv":[0.15625,0.106201171875,0.166015625,0.096435546875]},"parts/decals/letterH.png":{"uv":[0.751953125,0.10546875,0.76171875,0.095703125]},"parts/decals/letterG.png":{"uv":[0.765625,0.10546875,0.775390625,0.095703125]},"parts/decals/letterF.png":{"uv":[0.722412109375,0.105224609375,0.732177734375,0.095458984375]},"parts/decals/letterE.png":{"uv":[0.736083984375,0.105224609375,0.745849609375,0.095458984375]},"parts/decals/letterDot.png":{"uv":[0.172119140625,0.104736328125,0.181884765625,0.094970703125]},"parts/decals/letterD.png":{"uv":[0.656005859375,0.104736328125,0.665771484375,0.094970703125]},"parts/decals/letterC.png":{"uv":[0.669677734375,0.104736328125,0.679443359375,0.094970703125]},"parts/decals/letterB.png":{"uv":[0.787109375,0.1025390625,0.796875,0.0927734375]},"parts/decals/letterA.png":{"uv":[0.80078125,0.1025390625,0.810546875,0.0927734375]},"parts/decals/letter9.png":{"uv":[0.58203125,0.102294921875,0.591796875,0.092529296875]},"parts/decals/letter8.png":{"uv":[0.36474609375,0.101806640625,0.37451171875,0.092041015625]},"parts/decals/Stripe2x2.png":{"uv":[0.343017578125,0.099853515625,0.352783203125,0.090087890625]},"parts/decals/Stripe2x2Corner.png":{"uv":[0.50390625,0.099365234375,0.513671875,0.089599609375]},"parts/decals/Stripe2x2End.png":{"uv":[0.517578125,0.099365234375,0.52734375,0.089599609375]},"parts/decals/Stripe2x2Round.png":{"uv":[0.9296875,0.099365234375,0.939453125,0.089599609375]},"parts/decals/Stripe2x2Slash.png":{"uv":[0.955078125,0.09912109375,0.96484375,0.08935546875]},"parts/decals/letter7.png":{"uv":[0.90234375,0.0986328125,0.912109375,0.0888671875]},"parts/HArmor2x2.png":{"uv":[0.916015625,0.0986328125,0.92578125,0.0888671875]},"parts/decals/Symbol1.png":{"uv":[0.27734375,0.098388671875,0.287109375,0.088623046875]},"parts/decals/Symbol10.png":{"uv":[0.2578125,0.09814453125,0.267578125,0.08837890625]},"parts/decals/Symbol11.png":{"uv":[0.6865234375,0.097900390625,0.6962890625,0.088134765625]},"parts/decals/Symbol12.png":{"uv":[0.19921875,0.09765625,0.208984375,0.087890625]},"parts/decals/Symbol13.png":{"uv":[0.212890625,0.09765625,0.22265625,0.087890625]},"parts/decals/Symbol14.png":{"uv":[0.2265625,0.09765625,0.236328125,0.087890625]},"parts/decals/Symbol15.png":{"uv":[0.240234375,0.09765625,0.25,0.087890625]},"parts/decals/Symbol16.png":{"uv":[0.818359375,0.09765625,0.828125,0.087890625]},"parts/decals/Symbol17.png":{"uv":[0.83203125,0.09765625,0.841796875,0.087890625]},"parts/decals/Symbol18.png":{"uv":[0.845703125,0.09765625,0.85546875,0.087890625]},"parts/decals/Symbol19.png":{"uv":[0.859375,0.09765625,0.869140625,0.087890625]},"parts/decals/Symbol2.png":{"uv":[0.873046875,0.09765625,0.8828125,0.087890625]},"parts/decals/Symbol20.png":{"uv":[0.88671875,0.09765625,0.896484375,0.087890625]},"parts/decals/Symbol21.png":{"uv":[0.55859375,0.096923828125,0.568359375,0.087158203125]},"parts/decals/Symbol22.png":{"uv":[0.599853515625,0.096923828125,0.609619140625,0.087158203125]},"parts/decals/Symbol23.png":{"uv":[0.13671875,0.096435546875,0.146484375,0.086669921875]},"parts/decals/Symbol24.png":{"uv":[0.41796875,0.095947265625,0.427734375,0.086181640625]},"parts/decals/Symbol25.png":{"uv":[0.431640625,0.095947265625,0.44140625,0.086181640625]},"parts/decals/Symbol26.png":{"uv":[0.4453125,0.095947265625,0.455078125,0.086181640625]},"parts/decals/Symbol27.png":{"uv":[0,0.095703125,0.009765625,0.0859375]},"parts/decals/Symbol28.png":{"uv":[0.013671875,0.095703125,0.0234375,0.0859375]},"parts/decals/Symbol29.png":{"uv":[0.02734375,0.095703125,0.037109375,0.0859375]},"parts/decals/Symbol3.png":{"uv":[0.041015625,0.095703125,0.05078125,0.0859375]},"parts/decals/Symbol30.png":{"uv":[0.0546875,0.095703125,0.064453125,0.0859375]},"parts/decals/Symbol31.png":{"uv":[0.068359375,0.095703125,0.078125,0.0859375]},"parts/decals/Symbol32.png":{"uv":[0.08203125,0.095703125,0.091796875,0.0859375]},"parts/decals/Symbol33.png":{"uv":[0.095703125,0.095703125,0.10546875,0.0859375]},"parts/decals/Symbol34.png":{"uv":[0.109375,0.095703125,0.119140625,0.0859375]},"parts/decals/Symbol35.png":{"uv":[0.123046875,0.095703125,0.1328125,0.0859375]},"parts/decals/Symbol36.png":{"uv":[0.4609375,0.095703125,0.470703125,0.0859375]},"parts/decals/Symbol37.png":{"uv":[0.474609375,0.095703125,0.484375,0.0859375]},"parts/decals/Symbol38.png":{"uv":[0.48828125,0.095703125,0.498046875,0.0859375]},"parts/decals/Symbol39.png":{"uv":[0.54296875,0.095703125,0.552734375,0.0859375]},"parts/decals/Symbol4.png":{"uv":[0.975341796875,0.095703125,0.985107421875,0.0859375]},"parts/decals/Symbol40.png":{"uv":[0.304443359375,0.095458984375,0.314208984375,0.085693359375]},"parts/decals/Symbol5.png":{"uv":[0.318115234375,0.095458984375,0.327880859375,0.085693359375]},"parts/decals/Symbol6.png":{"uv":[0.390625,0.0947265625,0.400390625,0.0849609375]},"parts/decals/Symbol7.png":{"uv":[0.404296875,0.0947265625,0.4140625,0.0849609375]},"parts/decals/Symbol8.png":{"uv":[0.7060546875,0.093994140625,0.7158203125,0.084228515625]},"parts/decals/Symbol9.png":{"uv":[0.6201171875,0.0927734375,0.6298828125,0.0830078125]},"parts/decals/letter0.png":{"uv":[0.6337890625,0.0927734375,0.6435546875,0.0830078125]},"parts/decals/letter1.png":{"uv":[0.15625,0.092529296875,0.166015625,0.082763671875]},"parts/decals/letter2.png":{"uv":[0.751953125,0.091796875,0.76171875,0.08203125]},"parts/decals/letter3.png":{"uv":[0.765625,0.091796875,0.775390625,0.08203125]},"parts/decals/letter4.png":{"uv":[0.722412109375,0.091552734375,0.732177734375,0.081787109375]},"parts/decals/letter5.png":{"uv":[0.736083984375,0.091552734375,0.745849609375,0.081787109375]},"parts/decals/letter6.png":{"uv":[0.172119140625,0.091064453125,0.181884765625,0.081298828125]},"parts/fireFlack1.png":{"uv":[0.185791015625,0.145751953125,0.19482421875,0.13525390625]},"parts/gray-engine01alt.png":{"uv":[0.989013671875,0.1552734375,0.993896484375,0.140625]},"parts/engine01alt.png":{"uv":[0.294189453125,0.153076171875,0.299072265625,0.138427734375]},"parts/engine02.png":{"uv":[0.331787109375,0.150146484375,0.336669921875,0.135498046875]},"parts/engine02alt.png":{"uv":[0.37841796875,0.142822265625,0.38330078125,0.128173828125]},"parts/red-engine02alt.png":{"uv":[0.53125,0.140380859375,0.5361328125,0.125732421875]},"parts/gray-engine01.png":{"uv":[0.943359375,0.140380859375,0.9482421875,0.125732421875]},"parts/engine01.png":{"uv":[0.572265625,0.137939453125,0.5771484375,0.123291015625]},"parts/gray-engine02.png":{"uv":[0.989013671875,0.13671875,0.993896484375,0.1220703125]},"parts/gray-engine02alt.png":{"uv":[0.294189453125,0.134521484375,0.299072265625,0.119873046875]},"parts/red-engine01.png":{"uv":[0.331787109375,0.131591796875,0.336669921875,0.116943359375]},"parts/red-engine01alt.png":{"uv":[0.185791015625,0.13134765625,0.190673828125,0.11669921875]},"parts/red-engine02.png":{"uv":[0.37841796875,0.124267578125,0.38330078125,0.109619140625]},"img/favicon.png":{"uv":[0.53125,0.121826171875,0.5390625,0.114013671875]},"parts/Wing2x1.d3.png":{"uv":[0.656005859375,0.091064453125,0.665771484375,0.086181640625]},"parts/Wing2x1.d2.png":{"uv":[0.669677734375,0.091064453125,0.679443359375,0.086181640625]},"parts/engine03 copy.png":{"uv":[0.787109375,0.0888671875,0.796875,0.083984375]},"parts/engine03.png":{"uv":[0.943359375,0.121826171875,0.9482421875,0.112060546875]},"parts/engine03alt.png":{"uv":[0.572265625,0.119384765625,0.5771484375,0.109619140625]},"parts/engine03long.png":{"uv":[0.80078125,0.0888671875,0.810546875,0.083984375]},"parts/engine04 copy.png":{"uv":[0.58203125,0.088623046875,0.591796875,0.083740234375]},"parts/engine04.png":{"uv":[0.989013671875,0.1181640625,0.993896484375,0.1083984375]},"parts/engine04alt.png":{"uv":[0.294189453125,0.115966796875,0.299072265625,0.106201171875]},"parts/engine04long.png":{"uv":[0.36474609375,0.088134765625,0.37451171875,0.083251953125]},"parts/engine08.png":{"uv":[0.343017578125,0.086181640625,0.352783203125,0.081298828125]},"parts/engine08alt.png":{"uv":[0.50390625,0.085693359375,0.513671875,0.080810546875]},"parts/VShadowNArmor2x1.png":{"uv":[0.517578125,0.085693359375,0.52734375,0.080810546875]},"parts/engineJump.png":{"uv":[0.9296875,0.085693359375,0.939453125,0.080810546875]},"parts/engineJumpPip.png":{"uv":[0.955078125,0.08544921875,0.96484375,0.08056640625]},"parts/VShadowNArmor1x2.png":{"uv":[0.331787109375,0.113037109375,0.336669921875,0.103271484375]},"parts/VArmor2x1Curved.png":{"uv":[0.90234375,0.0849609375,0.912109375,0.080078125]},"parts/VArmor2x1Curved.d3.png":{"uv":[0.916015625,0.0849609375,0.92578125,0.080078125]},"parts/VArmor2x1Curved.d2.png":{"uv":[0.27734375,0.084716796875,0.287109375,0.079833984375]},"parts/VArmor2x1Curved.d1.png":{"uv":[0.2578125,0.08447265625,0.267578125,0.07958984375]},"parts/VArmor1x2SideBarFilled.png":{"uv":[0.185791015625,0.11279296875,0.190673828125,0.10302734375]},"parts/VArmor1x2SideBarFilled.d3.png":{"uv":[0.53125,0.110107421875,0.5361328125,0.100341796875]},"parts/VArmor1x2SideBarFilled.d2.png":{"uv":[0.943359375,0.108154296875,0.9482421875,0.098388671875]},"parts/Wing2x1.d1.png":{"uv":[0.6865234375,0.084228515625,0.6962890625,0.079345703125]},"parts/VArmor1x2SideBarFilled.d1.png":{"uv":[0.37841796875,0.105712890625,0.38330078125,0.095947265625]},"parts/VArmor1x2SideBar.png":{"uv":[0.572265625,0.105712890625,0.5771484375,0.095947265625]},"parts/VArmor1x2SideBar.d3.png":{"uv":[0.989013671875,0.1044921875,0.993896484375,0.0947265625]},"parts/VArmor1x2SideBar.d2.png":{"uv":[0.294189453125,0.102294921875,0.299072265625,0.092529296875]},"parts/VArmor1x2SideBar.d1.png":{"uv":[0.331787109375,0.099365234375,0.336669921875,0.089599609375]},"parts/VArmor1x2IBeam.png":{"uv":[0.185791015625,0.09912109375,0.190673828125,0.08935546875]},"parts/VArmor1x2IBeam.d3.png":{"uv":[0.53125,0.096435546875,0.5361328125,0.086669921875]},"parts/VArmor1x2IBeam.d2.png":{"uv":[0.943359375,0.094482421875,0.9482421875,0.084716796875]},"parts/VArmor1x2IBeam.d1.png":{"uv":[0.37841796875,0.092041015625,0.38330078125,0.082275390625]},"parts/VArmor1x2End.png":{"uv":[0.572265625,0.092041015625,0.5771484375,0.082275390625]},"parts/VArmor1x2End.d3.png":{"uv":[0.989013671875,0.0908203125,0.993896484375,0.0810546875]},"parts/VArmor1x2End.d2.png":{"uv":[0.294189453125,0.088623046875,0.299072265625,0.078857421875]},"parts/VArmor1x2End.d1.png":{"uv":[0.331787109375,0.085693359375,0.336669921875,0.075927734375]},"parts/VArmor1x2Curved.png":{"uv":[0.185791015625,0.08544921875,0.190673828125,0.07568359375]},"parts/VArmor1x2Curved.d3.png":{"uv":[0.19921875,0.083984375,0.2041015625,0.07421875]},"parts/Battery1x2.png":{"uv":[0.2080078125,0.083984375,0.212890625,0.07421875]},"parts/VArmor1x2Curved.d2.png":{"uv":[0.216796875,0.083984375,0.2216796875,0.07421875]},"parts/Battery2x1.png":{"uv":[0.2255859375,0.083984375,0.2353515625,0.0791015625]},"parts/VArmor1x2Curved.d1.png":{"uv":[0.2392578125,0.083984375,0.244140625,0.07421875]},"parts/VArmor1x2Corner4.png":{"uv":[0.248046875,0.083984375,0.2529296875,0.07421875]},"parts/VArmor1x2Corner4.d3.png":{"uv":[0.818359375,0.083984375,0.8232421875,0.07421875]},"parts/VArmor1x2Corner4.d2.png":{"uv":[0.8271484375,0.083984375,0.83203125,0.07421875]},"parts/VArmor1x2Corner4.d1.png":{"uv":[0.8359375,0.083984375,0.8408203125,0.07421875]},"parts/VArmor1x2.png":{"uv":[0.8447265625,0.083984375,0.849609375,0.07421875]},"parts/VArmor1x2.d3.png":{"uv":[0.853515625,0.083984375,0.8583984375,0.07421875]},"parts/VArmor1x2.d2.png":{"uv":[0.8623046875,0.083984375,0.8671875,0.07421875]},"parts/VArmor1x2.d1.png":{"uv":[0.87109375,0.083984375,0.8759765625,0.07421875]},"parts/VArmor1x1Hook.png":{"uv":[0.8798828125,0.083984375,0.884765625,0.07421875]},"parts/VArmor1x1Hook.d3.png":{"uv":[0.888671875,0.083984375,0.8935546875,0.07421875]},"parts/gray-Wing1x2.d1.png":{"uv":[0.55859375,0.083251953125,0.5634765625,0.073486328125]},"parts/gray-Wing1x2.d2.png":{"uv":[0.599853515625,0.083251953125,0.604736328125,0.073486328125]},"parts/gray-Wing1x2.d3.png":{"uv":[0.608642578125,0.083251953125,0.613525390625,0.073486328125]},"parts/gray-Wing1x2.png":{"uv":[0.13671875,0.082763671875,0.1416015625,0.072998046875]},"parts/gray-Wing2x1.d1.png":{"uv":[0.41796875,0.082275390625,0.427734375,0.077392578125]},"parts/gray-Wing2x1.d2.png":{"uv":[0.431640625,0.082275390625,0.44140625,0.077392578125]},"parts/gray-Wing2x1.d3.png":{"uv":[0.4453125,0.082275390625,0.455078125,0.077392578125]},"parts/gray-Wing2x1.png":{"uv":[0.656005859375,0.082275390625,0.665771484375,0.077392578125]},"parts/VArmor1x1Hook.d2.png":{"uv":[0.1455078125,0.082763671875,0.150390625,0.072998046875]},"parts/VArmor1x1Hook.d1.png":{"uv":[0.53125,0.082763671875,0.5361328125,0.072998046875]},"parts/VArmor1x1CornerBack.png":{"uv":[0.669677734375,0.082275390625,0.674560546875,0.072509765625]},"parts/Wing1x2.png":{"uv":[0,0.08203125,0.0048828125,0.072265625]},"parts/Wing1x2.d3.png":{"uv":[0.0087890625,0.08203125,0.013671875,0.072265625]},"parts/Wing1x2.d2.png":{"uv":[0.017578125,0.08203125,0.0224609375,0.072265625]},"parts/Wing1x2.d1.png":{"uv":[0.0263671875,0.08203125,0.03125,0.072265625]},"parts/gray-engine03 copy.png":{"uv":[0.03515625,0.08203125,0.044921875,0.0771484375]},"parts/gray-engine03.png":{"uv":[0.048828125,0.08203125,0.0537109375,0.072265625]},"parts/gray-engine03alt.png":{"uv":[0.0576171875,0.08203125,0.0625,0.072265625]},"parts/gray-engine03long.png":{"uv":[0.06640625,0.08203125,0.076171875,0.0771484375]},"parts/gray-engine04 copy.png":{"uv":[0.080078125,0.08203125,0.08984375,0.0771484375]},"parts/gray-engine04.png":{"uv":[0.09375,0.08203125,0.0986328125,0.072265625]},"parts/gray-engine04alt.png":{"uv":[0.1025390625,0.08203125,0.107421875,0.072265625]},"parts/gray-engine04long.png":{"uv":[0.111328125,0.08203125,0.12109375,0.0771484375]},"parts/VArmor1x1CornerBack.d3.png":{"uv":[0.125,0.08203125,0.1298828125,0.072265625]},"parts/VArmor1x1CornerBack.d2.png":{"uv":[0.4609375,0.08203125,0.4658203125,0.072265625]},"parts/gray-engine08.png":{"uv":[0.4697265625,0.08203125,0.4794921875,0.0771484375]},"parts/gray-engine08alt.png":{"uv":[0.4833984375,0.08203125,0.4931640625,0.0771484375]},"parts/VArmor1x1CornerBack.d1.png":{"uv":[0.54296875,0.08203125,0.5478515625,0.072265625]},"parts/decals/Stripe1x2.png":{"uv":[0.975341796875,0.08203125,0.980224609375,0.072265625]},"parts/gray-engineJump.png":{"uv":[0.304443359375,0.081787109375,0.314208984375,0.076904296875]},"parts/VArmor1x1Corner3.d3.png":{"uv":[0.318115234375,0.081787109375,0.322998046875,0.072021484375]},"parts/VArmor1x1Corner3.d2.png":{"uv":[0.390625,0.0810546875,0.3955078125,0.0712890625]},"parts/VArmor1x1Corner3.d1.png":{"uv":[0.3994140625,0.0810546875,0.404296875,0.0712890625]},"parts/decals/Stripe2x1.png":{"uv":[0.7060546875,0.080322265625,0.7158203125,0.075439453125]},"parts/UArmor2x1.png":{"uv":[0.787109375,0.080078125,0.796875,0.0751953125]},"parts/UArmor1x2Notch2.png":{"uv":[0.408203125,0.0810546875,0.4130859375,0.0712890625]},"parts/UArmor1x2Notch1.png":{"uv":[0.943359375,0.080810546875,0.9482421875,0.071044921875]},"parts/UArmor1x2.png":{"uv":[0.80078125,0.080078125,0.8056640625,0.0703125]},"parts/Shield2x1.png":{"uv":[0.58203125,0.079833984375,0.591796875,0.074951171875]},"parts/ShaodwWArmor1x2Curved.png":{"uv":[0.8095703125,0.080078125,0.814453125,0.0703125]},"parts/ShaodwNArmor2x1Curved.png":{"uv":[0.36474609375,0.079345703125,0.37451171875,0.074462890625]},"parts/ShadowWArmor2x1Curved.png":{"uv":[0.6201171875,0.0791015625,0.6298828125,0.07421875]},"parts/ShadowWArmor2x1.png":{"uv":[0.6337890625,0.0791015625,0.6435546875,0.07421875]},"parts/ShadowWArmor1x2Font1.png":{"uv":[0.15625,0.078857421875,0.166015625,0.073974609375]},"parts/ShadowWArmor1x2Curved.png":{"uv":[0.37841796875,0.078369140625,0.38330078125,0.068603515625]},"parts/ShadowWArmor1x2.png":{"uv":[0.572265625,0.078369140625,0.5771484375,0.068603515625]},"parts/red-Wing1x2.d1.png":{"uv":[0.751953125,0.078125,0.7568359375,0.068359375]},"parts/red-Wing1x2.d2.png":{"uv":[0.7607421875,0.078125,0.765625,0.068359375]},"parts/red-Wing1x2.d3.png":{"uv":[0.76953125,0.078125,0.7744140625,0.068359375]},"parts/red-Wing1x2.png":{"uv":[0.7783203125,0.078125,0.783203125,0.068359375]},"parts/red-Wing2x1.d1.png":{"uv":[0.722412109375,0.077880859375,0.732177734375,0.072998046875]},"parts/red-Wing2x1.d2.png":{"uv":[0.736083984375,0.077880859375,0.745849609375,0.072998046875]},"parts/red-Wing2x1.d3.png":{"uv":[0.172119140625,0.077392578125,0.181884765625,0.072509765625]},"parts/red-Wing2x1.png":{"uv":[0.343017578125,0.077392578125,0.352783203125,0.072509765625]},"parts/ShadowNArmor2x1Curved.png":{"uv":[0.50390625,0.076904296875,0.513671875,0.072021484375]},"parts/ShadowNArmor2x1.png":{"uv":[0.517578125,0.076904296875,0.52734375,0.072021484375]},"parts/ShadowNArmor1x2Font1.png":{"uv":[0.9296875,0.076904296875,0.939453125,0.072021484375]},"parts/VShadowWArmor2x1.png":{"uv":[0.955078125,0.07666015625,0.96484375,0.07177734375]},"parts/VShadowWArmor1x2.png":{"uv":[0.989013671875,0.0771484375,0.993896484375,0.0673828125]},"parts/decals/StripeDouble2x1.png":{"uv":[0.90234375,0.076171875,0.912109375,0.0712890625]},"parts/Wing2x1.png":{"uv":[0.916015625,0.076171875,0.92578125,0.0712890625]},"parts/red-engine03 copy.png":{"uv":[0.27734375,0.075927734375,0.287109375,0.071044921875]},"parts/red-engine03.png":{"uv":[0.2578125,0.07568359375,0.2626953125,0.06591796875]},"parts/red-engine03alt.png":{"uv":[0.2666015625,0.07568359375,0.271484375,0.06591796875]},"parts/red-engine03long.png":{"uv":[0.6865234375,0.075439453125,0.6962890625,0.070556640625]},"parts/red-engine04 copy.png":{"uv":[0.2255859375,0.0751953125,0.2353515625,0.0703125]},"parts/red-engine04.png":{"uv":[0.294189453125,0.074951171875,0.299072265625,0.065185546875]},"parts/red-engine04alt.png":{"uv":[0.41796875,0.073486328125,0.4228515625,0.063720703125]},"parts/red-engine04long.png":{"uv":[0.4267578125,0.073486328125,0.4365234375,0.068603515625]},"parts/ShadowNArmor1x2Curved.png":{"uv":[0.4404296875,0.073486328125,0.4453125,0.063720703125]},"parts/ShadowNArmor1x2.png":{"uv":[0.44921875,0.073486328125,0.4541015625,0.063720703125]},"parts/red-engine08.png":{"uv":[0.656005859375,0.073486328125,0.665771484375,0.068603515625]},"parts/red-engine08alt.png":{"uv":[0.03515625,0.0732421875,0.044921875,0.068359375]},"parts/red-engineJump.png":{"uv":[0.06640625,0.0732421875,0.076171875,0.068359375]},"parts/Reactor2x1.png":{"uv":[0.080078125,0.0732421875,0.08984375,0.068359375]},"parts/Reactor1x2.png":{"uv":[0.111328125,0.0732421875,0.1162109375,0.0634765625]},"parts/HArmor2x1Decorative4.png":{"uv":[0.4697265625,0.0732421875,0.4794921875,0.068359375]},"parts/HArmor2x1Decorative3.png":{"uv":[0.4833984375,0.0732421875,0.4931640625,0.068359375]},"parts/HArmor2x1Decorative2.png":{"uv":[0.304443359375,0.072998046875,0.314208984375,0.068115234375]},"parts/HArmor2x1Decorative1.png":{"uv":[0.7060546875,0.071533203125,0.7158203125,0.066650390625]},"parts/HArmor2x1Curved.png":{"uv":[0.787109375,0.0712890625,0.796875,0.06640625]},"parts/HArmor2x1Curved.d3.png":{"uv":[0.58203125,0.071044921875,0.591796875,0.066162109375]},"parts/HArmor2x1Curved.d2.png":{"uv":[0.36474609375,0.070556640625,0.37451171875,0.065673828125]},"parts/HArmor2x1Curved.d1.png":{"uv":[0.19921875,0.0703125,0.208984375,0.0654296875]},"parts/sel1x2.png":{"uv":[0.331787109375,0.072021484375,0.336669921875,0.062255859375]},"parts/sel2x1.png":{"uv":[0.2392578125,0.0703125,0.2490234375,0.0654296875]},"parts/HArmor2x1.png":{"uv":[0.6201171875,0.0703125,0.6298828125,0.0654296875]},"parts/HArmor2x1.d3.png":{"uv":[0.6337890625,0.0703125,0.6435546875,0.0654296875]},"parts/HArmor2x1.d2.png":{"uv":[0.818359375,0.0703125,0.828125,0.0654296875]},"parts/HArmor2x1.d1.png":{"uv":[0.83203125,0.0703125,0.841796875,0.0654296875]},"parts/HArmor1x2Front2.png":{"uv":[0.845703125,0.0703125,0.85546875,0.0654296875]},"parts/HArmor1x2Front2.d3.png":{"uv":[0.859375,0.0703125,0.869140625,0.0654296875]},"parts/HArmor1x2Front2.d2.png":{"uv":[0.873046875,0.0703125,0.8828125,0.0654296875]},"parts/HArmor1x2Front2.d1.png":{"uv":[0.88671875,0.0703125,0.896484375,0.0654296875]},"parts/HArmor1x2Font1.png":{"uv":[0.15625,0.070068359375,0.166015625,0.065185546875]},"parts/HArmor1x2Font1.d3.png":{"uv":[0.55859375,0.069580078125,0.568359375,0.064697265625]},"parts/HArmor1x2Font1.d2.png":{"uv":[0.599853515625,0.069580078125,0.609619140625,0.064697265625]},"parts/HArmor1x2Font1.d1.png":{"uv":[0.13671875,0.069091796875,0.146484375,0.064208984375]},"parts/HArmor1x2Font1 Copy.png":{"uv":[0.722412109375,0.069091796875,0.732177734375,0.064208984375]},"parts/HArmor1x2Font1 Copy 2.png":{"uv":[0.736083984375,0.069091796875,0.745849609375,0.064208984375]},"parts/HArmor1x2Curved.png":{"uv":[0.185791015625,0.07177734375,0.190673828125,0.06201171875]},"parts/HArmor1x2Curved.d3.png":{"uv":[0.212890625,0.0703125,0.2177734375,0.060546875]},"parts/HArmor1x2Curved.d2.png":{"uv":[0.53125,0.069091796875,0.5361328125,0.059326171875]},"parts/HArmor1x2Curved.d1.png":{"uv":[0.172119140625,0.068603515625,0.177001953125,0.058837890625]},"parts/HArmor1x2Back2.png":{"uv":[0.343017578125,0.068603515625,0.352783203125,0.063720703125]},"parts/HArmor1x2Back2.d3.png":{"uv":[0.669677734375,0.068603515625,0.679443359375,0.063720703125]},"parts/HArmor1x2Back2.d2.png":{"uv":[0,0.068359375,0.009765625,0.0634765625]},"parts/HArmor1x2Back2.d1.png":{"uv":[0.013671875,0.068359375,0.0234375,0.0634765625]},"parts/HArmor1x2Back1.png":{"uv":[0.048828125,0.068359375,0.05859375,0.0634765625]},"parts/HArmor1x2Back1.d3.png":{"uv":[0.09375,0.068359375,0.103515625,0.0634765625]},"parts/HArmor1x2Back1.d2.png":{"uv":[0.54296875,0.068359375,0.552734375,0.0634765625]},"parts/HArmor1x2Back1.d1.png":{"uv":[0.975341796875,0.068359375,0.985107421875,0.0634765625]},"parts/HArmor1x2Back1 Copy.png":{"uv":[0.318115234375,0.068115234375,0.327880859375,0.063232421875]},"parts/HArmor1x2.png":{"uv":[0.125,0.068359375,0.1298828125,0.05859375]},"parts/HArmor1x2.d3.png":{"uv":[0.4609375,0.068359375,0.4658203125,0.05859375]},"parts/HArmor1x2.d2.png":{"uv":[0.50390625,0.068115234375,0.5087890625,0.058349609375]},"parts/HArmor1x2.d1.png":{"uv":[0.5126953125,0.068115234375,0.517578125,0.058349609375]},"parts/CamoArmor1x2Back1.png":{"uv":[0.9296875,0.068115234375,0.939453125,0.063232421875]},"parts/CamoArmor1x2.png":{"uv":[0.521484375,0.068115234375,0.5263671875,0.058349609375]},"parts/CamoAarmor1x2Curved.png":{"uv":[0.955078125,0.06787109375,0.96484375,0.06298828125]},"parts/VArmor1x1Corner3.png":{"uv":[0.390625,0.0673828125,0.3955078125,0.0576171875]},"parts/fireSpinPart4.png":{"uv":[0.3994140625,0.0673828125,0.406494140625,0.061279296875]},"parts/fireSpinPart2.png":{"uv":[0.90234375,0.0673828125,0.909423828125,0.061279296875]},"parts/red-Wing1x1Notch.png":{"uv":[0.913330078125,0.0673828125,0.918212890625,0.0625]},"parts/red-Wing1x1Round.d1.png":{"uv":[0.27734375,0.067138671875,0.2822265625,0.062255859375]},"parts/red-Wing1x1Round.d2.png":{"uv":[0.943359375,0.067138671875,0.9482421875,0.062255859375]},"parts/red-Wing1x1Round.d3.png":{"uv":[0.6865234375,0.066650390625,0.69140625,0.061767578125]},"parts/red-Wing1x1Round.png":{"uv":[0.6953125,0.066650390625,0.7001953125,0.061767578125]},"parts/decals/Stripe1x1Fill5.png":{"uv":[0.2255859375,0.06640625,0.23046875,0.0615234375]},"parts/decals/Stripe1x1Fill4.png":{"uv":[0.80078125,0.06640625,0.8056640625,0.0615234375]},"parts/decals/Stripe1x1Fill3.png":{"uv":[0.8095703125,0.06640625,0.814453125,0.0615234375]},"parts/decals/Stripe1x1Fill2.png":{"uv":[0.37841796875,0.064697265625,0.38330078125,0.059814453125]},"parts/Wing1x1Round.png":{"uv":[0.4267578125,0.064697265625,0.431640625,0.059814453125]},"parts/Wing1x1Round.d3.png":{"uv":[0.572265625,0.064697265625,0.5771484375,0.059814453125]},"parts/Wing1x1Round.d2.png":{"uv":[0.656005859375,0.064697265625,0.660888671875,0.059814453125]},"parts/VArmor1x1Curve.png":{"uv":[0.03515625,0.064453125,0.0400390625,0.0595703125]},"parts/ShadowWArmor1x1CornerInner.png":{"uv":[0.06640625,0.064453125,0.0712890625,0.0595703125]},"parts/ShadowWArmor1x1Corner.png":{"uv":[0.0751953125,0.064453125,0.080078125,0.0595703125]},"parts/ShadowWArmor1x1Angle.png":{"uv":[0.083984375,0.064453125,0.0888671875,0.0595703125]},"parts/ShadowWArmor1x1.png":{"uv":[0.4697265625,0.064453125,0.474609375,0.0595703125]},"parts/VArmor1x1Curve.d3.png":{"uv":[0.478515625,0.064453125,0.4833984375,0.0595703125]},"parts/VArmor1x1Curve.d2.png":{"uv":[0.4873046875,0.064453125,0.4921875,0.0595703125]},"parts/VArmor1x1Curve.d1.png":{"uv":[0.751953125,0.064453125,0.7568359375,0.0595703125]},"parts/VShadowWArmor1x1Corner.png":{"uv":[0.7607421875,0.064453125,0.765625,0.0595703125]},"parts/VShadowWArmor1x1Angle.png":{"uv":[0.76953125,0.064453125,0.7744140625,0.0595703125]},"parts/Wing1x1Round.d1.png":{"uv":[0.7783203125,0.064453125,0.783203125,0.0595703125]},"parts/Wing1x1Notch.png":{"uv":[0.304443359375,0.064208984375,0.309326171875,0.059326171875]},"parts/VShadowWArmor1x1.png":{"uv":[0.989013671875,0.0634765625,0.993896484375,0.05859375]},"parts/Wing1x1Notch.d2.png":{"uv":[0.7060546875,0.062744140625,0.7109375,0.057861328125]},"parts/Wing1x1Notch.d1.png":{"uv":[0.787109375,0.0625,0.7919921875,0.0576171875]},"parts/Wing1x1Angle.png":{"uv":[0.58203125,0.062255859375,0.5869140625,0.057373046875]},"parts/Wing1x1Angle.d3.png":{"uv":[0.5908203125,0.062255859375,0.595703125,0.057373046875]},"parts/VShadowNArmor1x1CornerInner.png":{"uv":[0.2578125,0.06201171875,0.2626953125,0.05712890625]},"parts/VShadowNArmor1x1Corner.png":{"uv":[0.2666015625,0.06201171875,0.271484375,0.05712890625]},"parts/VShadowNArmor1x1Angle.png":{"uv":[0.36474609375,0.061767578125,0.36962890625,0.056884765625]},"parts/VShadowNArmor1x1.png":{"uv":[0.19921875,0.0615234375,0.2041015625,0.056640625]},"parts/Wing1x1Angle.d2.png":{"uv":[0.2392578125,0.0615234375,0.244140625,0.056640625]},"parts/Wing1x1Angle.d1.png":{"uv":[0.248046875,0.0615234375,0.2529296875,0.056640625]},"parts/decals/Stripe1x1Fill1.png":{"uv":[0.6201171875,0.0615234375,0.625,0.056640625]},"parts/ShadowNArmor1x1CornerInner.png":{"uv":[0.62890625,0.0615234375,0.6337890625,0.056640625]},"parts/ShadowNArmor1x1Corner.png":{"uv":[0.6376953125,0.0615234375,0.642578125,0.056640625]},"parts/decals/Stripe1x1Corner.png":{"uv":[0.646484375,0.0615234375,0.6513671875,0.056640625]},"parts/ShadowNArmor1x1Angle.png":{"uv":[0.818359375,0.0615234375,0.8232421875,0.056640625]},"parts/ShadowNArmor1x1.png":{"uv":[0.8271484375,0.0615234375,0.83203125,0.056640625]},"parts/VShadowWArmor1x1CornerInner.png":{"uv":[0.8359375,0.0615234375,0.8408203125,0.056640625]},"parts/gray-OverKillAi.png":{"uv":[0.8447265625,0.0615234375,0.849609375,0.056640625]},"parts/Reactor1x1.png":{"uv":[0.853515625,0.0615234375,0.8583984375,0.056640625]},"parts/OverKillAi.png":{"uv":[0.8623046875,0.0615234375,0.8671875,0.056640625]},"parts/decals/Stripe1x1.png":{"uv":[0.87109375,0.0615234375,0.8759765625,0.056640625]},"parts/Wing1x1Notch.d3.png":{"uv":[0.8798828125,0.0615234375,0.884765625,0.056640625]},"parts/gray-Wing1x1Angle.d1.png":{"uv":[0.888671875,0.0615234375,0.8935546875,0.056640625]},"parts/gray-Wing1x1Angle.d2.png":{"uv":[0.15625,0.061279296875,0.1611328125,0.056396484375]},"parts/VArmor1x1Corner2.png":{"uv":[0.294189453125,0.061279296875,0.299072265625,0.056396484375]},"parts/VArmor1x1Corner2.d3.png":{"uv":[0.55859375,0.060791015625,0.5634765625,0.055908203125]},"parts/VArmor1x1Corner2.d2.png":{"uv":[0.599853515625,0.060791015625,0.604736328125,0.055908203125]},"parts/VArmor1x1Corner2.d1.png":{"uv":[0.608642578125,0.060791015625,0.613525390625,0.055908203125]},"parts/sel1x1.png":{"uv":[0.13671875,0.060302734375,0.1416015625,0.055419921875]},"parts/VArmor1x1Corner1.png":{"uv":[0.1455078125,0.060302734375,0.150390625,0.055419921875]},"parts/VArmor1x1Corner1.d3.png":{"uv":[0.722412109375,0.060302734375,0.727294921875,0.055419921875]},"parts/VArmor1x1Corner1.d2.png":{"uv":[0.731201171875,0.060302734375,0.736083984375,0.055419921875]},"parts/VArmor1x1Corner1.d1.png":{"uv":[0.739990234375,0.060302734375,0.744873046875,0.055419921875]},"parts/gray-Wing1x1Angle.d3.png":{"uv":[0.343017578125,0.059814453125,0.347900390625,0.054931640625]},"parts/VArmor1x1Angle.d3.png":{"uv":[0.351806640625,0.059814453125,0.356689453125,0.054931640625]},"parts/VArmor1x1Angle.d2.png":{"uv":[0.41796875,0.059814453125,0.4228515625,0.054931640625]},"parts/VArmor1x1Angle.d1.png":{"uv":[0.4404296875,0.059814453125,0.4453125,0.054931640625]},"parts/VArmor1x1.png":{"uv":[0.44921875,0.059814453125,0.4541015625,0.054931640625]},"parts/VArmor1x1.d3.png":{"uv":[0.669677734375,0.059814453125,0.674560546875,0.054931640625]},"parts/VArmor1x1.d2.png":{"uv":[0,0.0595703125,0.0048828125,0.0546875]},"parts/VArmor1x1.d1.png":{"uv":[0.0087890625,0.0595703125,0.013671875,0.0546875]},"parts/solar1x1.png":{"uv":[0.017578125,0.0595703125,0.0224609375,0.0546875]},"parts/gray-Wing1x1Angle.png":{"uv":[0.0263671875,0.0595703125,0.03125,0.0546875]},"parts/gray-Wing1x1Notch.d1.png":{"uv":[0.048828125,0.0595703125,0.0537109375,0.0546875]},"parts/gray-Wing1x1Notch.d2.png":{"uv":[0.0576171875,0.0595703125,0.0625,0.0546875]},"parts/gray-Wing1x1Notch.d3.png":{"uv":[0.09375,0.0595703125,0.0986328125,0.0546875]},"parts/UArmor1x1Spike.png":{"uv":[0.1025390625,0.0595703125,0.107421875,0.0546875]},"parts/UArmor1x1Notch2.png":{"uv":[0.111328125,0.0595703125,0.1162109375,0.0546875]},"parts/UArmor1x1Notch1.png":{"uv":[0.54296875,0.0595703125,0.5478515625,0.0546875]},"parts/UArmor1x1AngleBack.png":{"uv":[0.975341796875,0.0595703125,0.980224609375,0.0546875]},"parts/UArmor1x1Angle.png":{"uv":[0.318115234375,0.059326171875,0.322998046875,0.054443359375]},"parts/UArmor1x1.png":{"uv":[0.9296875,0.059326171875,0.9345703125,0.054443359375]},"parts/gray-Wing1x1Notch.png":{"uv":[0.955078125,0.05908203125,0.9599609375,0.05419921875]},"parts/Shield1x1.png":{"uv":[0.9638671875,0.05908203125,0.96875,0.05419921875]},"parts/gray-Wing1x1Round.d1.png":{"uv":[0.913330078125,0.05859375,0.918212890625,0.0537109375]},"parts/gray-Wing1x1Round.d2.png":{"uv":[0.27734375,0.058349609375,0.2822265625,0.053466796875]},"parts/gray-Wing1x1Round.d3.png":{"uv":[0.331787109375,0.058349609375,0.336669921875,0.053466796875]},"parts/gray-Wing1x1Round.png":{"uv":[0.943359375,0.058349609375,0.9482421875,0.053466796875]},"parts/decals/Stripe1x1SlashInside.png":{"uv":[0.185791015625,0.05810546875,0.190673828125,0.05322265625]},"parts/red-OverKillAi.png":{"uv":[0.6865234375,0.057861328125,0.69140625,0.052978515625]},"parts/decals/Stripe1x1Slash.png":{"uv":[0.6953125,0.057861328125,0.7001953125,0.052978515625]},"parts/decals/Stripe1x1Fill6.png":{"uv":[0.2255859375,0.0576171875,0.23046875,0.052734375]},"parts/red-Wing1x1Angle.d1.png":{"uv":[0.80078125,0.0576171875,0.8056640625,0.052734375]},"parts/HArmor1x1Decorative4.png":{"uv":[0.8095703125,0.0576171875,0.814453125,0.052734375]},"parts/HArmor1x1Decorative3.png":{"uv":[0.3994140625,0.057373046875,0.404296875,0.052490234375]},"parts/HArmor1x1Decorative2.png":{"uv":[0.408203125,0.057373046875,0.4130859375,0.052490234375]},"parts/HArmor1x1Decorative1.png":{"uv":[0.90234375,0.057373046875,0.9072265625,0.052490234375]},"parts/HArmor1x1Curved.png":{"uv":[0.212890625,0.056640625,0.2177734375,0.0517578125]},"parts/HArmor1x1Curved.d3.png":{"uv":[0.37841796875,0.055908203125,0.38330078125,0.051025390625]},"parts/HArmor1x1Curved.d2.png":{"uv":[0.4267578125,0.055908203125,0.431640625,0.051025390625]},"parts/HArmor1x1Curved.d1.png":{"uv":[0.572265625,0.055908203125,0.5771484375,0.051025390625]},"parts/HArmor1x1AngleBack.png":{"uv":[0.656005859375,0.055908203125,0.660888671875,0.051025390625]},"parts/HArmor1x1AngleBack.d3.png":{"uv":[0.03515625,0.0556640625,0.0400390625,0.05078125]},"parts/HArmor1x1AngleBack.d2.png":{"uv":[0.06640625,0.0556640625,0.0712890625,0.05078125]},"parts/HArmor1x1AngleBack.d1.png":{"uv":[0.0751953125,0.0556640625,0.080078125,0.05078125]},"parts/HArmor1x1Angle.png":{"uv":[0.083984375,0.0556640625,0.0888671875,0.05078125]},"parts/HArmor1x1Angle.d3.png":{"uv":[0.4697265625,0.0556640625,0.474609375,0.05078125]},"parts/HArmor1x1Angle.d2.png":{"uv":[0.478515625,0.0556640625,0.4833984375,0.05078125]},"parts/HArmor1x1Angle.d1.png":{"uv":[0.4873046875,0.0556640625,0.4921875,0.05078125]},"parts/HArmor1x1Angle Copy.png":{"uv":[0.751953125,0.0556640625,0.7568359375,0.05078125]},"parts/HArmor1x1.png":{"uv":[0.7607421875,0.0556640625,0.765625,0.05078125]},"parts/HArmor1x1.d3.png":{"uv":[0.76953125,0.0556640625,0.7744140625,0.05078125]},"parts/HArmor1x1.d2.png":{"uv":[0.7783203125,0.0556640625,0.783203125,0.05078125]},"parts/HArmor1x1.d1.png":{"uv":[0.304443359375,0.055419921875,0.309326171875,0.050537109375]},"parts/red-Wing1x1Angle.d2.png":{"uv":[0.53125,0.055419921875,0.5361328125,0.050537109375]},"parts/red-Wing1x1Angle.d3.png":{"uv":[0.172119140625,0.054931640625,0.177001953125,0.050048828125]},"parts/CamoArmor1x1Curved.png":{"uv":[0.125,0.0546875,0.1298828125,0.0498046875]},"parts/CamoArmor1x1.png":{"uv":[0.4609375,0.0546875,0.4658203125,0.0498046875]},"parts/red-Wing1x1Angle.png":{"uv":[0.989013671875,0.0546875,0.993896484375,0.0498046875]},"parts/red-Wing1x1Notch.d1.png":{"uv":[0.50390625,0.054443359375,0.5087890625,0.049560546875]},"parts/red-Wing1x1Notch.d2.png":{"uv":[0.5126953125,0.054443359375,0.517578125,0.049560546875]},"parts/Battery1x1.png":{"uv":[0.521484375,0.054443359375,0.5263671875,0.049560546875]},"parts/red-Wing1x1Notch.d3.png":{"uv":[0.7060546875,0.053955078125,0.7109375,0.049072265625]},"parts/VArmor1x1Angle.png":{"uv":[0.390625,0.0537109375,0.3955078125,0.048828125]},"img/empty.png":{"uv":[0.360595703125,0.140869140625,0.36083984375,0.140625]}}};